(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const $ of document.querySelectorAll('link[rel="modulepreload"]'))h($);new MutationObserver($=>{for(const d of $)if(d.type==="childList")for(const Y of d.addedNodes)Y.tagName==="LINK"&&Y.rel==="modulepreload"&&h(Y)}).observe(document,{childList:!0,subtree:!0});function o($){const d={};return $.integrity&&(d.integrity=$.integrity),$.referrerPolicy&&(d.referrerPolicy=$.referrerPolicy),$.crossOrigin==="use-credentials"?d.credentials="include":$.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function h($){if($.ep)return;$.ep=!0;const d=o($);fetch($.href,d)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function getAugmentedNamespace(a){if(a.__esModule)return a;var e=a.default;if(typeof e=="function"){var o=function h(){return this instanceof h?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};o.prototype=e.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(a).forEach(function(h){var $=Object.getOwnPropertyDescriptor(a,h);Object.defineProperty(o,h,$.get?$:{enumerable:!0,get:function(){return a[h]}})}),o}var reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$1=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z=Symbol.iterator;function A(a){return a===null||typeof a!="object"?null:(a=z&&a[z]||a["@@iterator"],typeof a=="function"?a:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,e,o){this.props=a,this.context=e,this.refs=D,this.updater=o||B}E.prototype.isReactComponent={};E.prototype.setState=function(a,e){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,e,"setState")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function F(){}F.prototype=E.prototype;function G$1(a,e,o){this.props=a,this.context=e,this.refs=D,this.updater=o||B}var H=G$1.prototype=new F;H.constructor=G$1;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K$5={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function M(a,e,o){var h,$={},d=null,Y=null;if(e!=null)for(h in e.ref!==void 0&&(Y=e.ref),e.key!==void 0&&(d=""+e.key),e)J.call(e,h)&&!L.hasOwnProperty(h)&&($[h]=e[h]);var ie=arguments.length-2;if(ie===1)$.children=o;else if(1<ie){for(var fe=Array(ie),he=0;he<ie;he++)fe[he]=arguments[he+2];$.children=fe}if(a&&a.defaultProps)for(h in ie=a.defaultProps,ie)$[h]===void 0&&($[h]=ie[h]);return{$$typeof:l$1,type:a,key:d,ref:Y,props:$,_owner:K$5.current}}function N(a,e){return{$$typeof:l$1,type:a.type,key:e,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return typeof a=="object"&&a!==null&&a.$$typeof===l$1}function escape$1(a){var e={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(o){return e[o]})}var P=/\/+/g;function Q(a,e){return typeof a=="object"&&a!==null&&a.key!=null?escape$1(""+a.key):e.toString(36)}function R$1(a,e,o,h,$){var d=typeof a;(d==="undefined"||d==="boolean")&&(a=null);var Y=!1;if(a===null)Y=!0;else switch(d){case"string":case"number":Y=!0;break;case"object":switch(a.$$typeof){case l$1:case n$1:Y=!0}}if(Y)return Y=a,$=$(Y),a=h===""?"."+Q(Y,0):h,I($)?(o="",a!=null&&(o=a.replace(P,"$&/")+"/"),R$1($,e,o,"",function(he){return he})):$!=null&&(O($)&&($=N($,o+(!$.key||Y&&Y.key===$.key?"":(""+$.key).replace(P,"$&/")+"/")+a)),e.push($)),1;if(Y=0,h=h===""?".":h+":",I(a))for(var ie=0;ie<a.length;ie++){d=a[ie];var fe=h+Q(d,ie);Y+=R$1(d,e,o,fe,$)}else if(fe=A(a),typeof fe=="function")for(a=fe.call(a),ie=0;!(d=a.next()).done;)d=d.value,fe=h+Q(d,ie++),Y+=R$1(d,e,o,fe,$);else if(d==="object")throw e=String(a),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return Y}function S(a,e,o){if(a==null)return a;var h=[],$=0;return R$1(a,h,"","",function(d){return e.call(o,d,$++)}),h}function T(a){if(a._status===-1){var e=a._result;e=e(),e.then(function(o){(a._status===0||a._status===-1)&&(a._status=1,a._result=o)},function(o){(a._status===0||a._status===-1)&&(a._status=2,a._result=o)}),a._status===-1&&(a._status=0,a._result=e)}if(a._status===1)return a._result.default;throw a._result}var U={current:null},V={transition:null},W$6={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K$5};function X(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S,forEach:function(a,e,o){S(a,function(){e.apply(this,arguments)},o)},count:function(a){var e=0;return S(a,function(){e++}),e},toArray:function(a){return S(a,function(e){return e})||[]},only:function(a){if(!O(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};react_production_min.Component=E;react_production_min.Fragment=p$1;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$6;react_production_min.act=X;react_production_min.cloneElement=function(a,e,o){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var h=C({},a.props),$=a.key,d=a.ref,Y=a._owner;if(e!=null){if(e.ref!==void 0&&(d=e.ref,Y=K$5.current),e.key!==void 0&&($=""+e.key),a.type&&a.type.defaultProps)var ie=a.type.defaultProps;for(fe in e)J.call(e,fe)&&!L.hasOwnProperty(fe)&&(h[fe]=e[fe]===void 0&&ie!==void 0?ie[fe]:e[fe])}var fe=arguments.length-2;if(fe===1)h.children=o;else if(1<fe){ie=Array(fe);for(var he=0;he<fe;he++)ie[he]=arguments[he+2];h.children=ie}return{$$typeof:l$1,type:a.type,key:$,ref:d,props:h,_owner:Y}};react_production_min.createContext=function(a){return a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:t,_context:a},a.Consumer=a};react_production_min.createElement=M;react_production_min.createFactory=function(a){var e=M.bind(null,a);return e.type=a,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(a){return{$$typeof:v,render:a}};react_production_min.isValidElement=O;react_production_min.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};react_production_min.memo=function(a,e){return{$$typeof:x,type:a,compare:e===void 0?null:e}};react_production_min.startTransition=function(a){var e=V.transition;V.transition={};try{a()}finally{V.transition=e}};react_production_min.unstable_act=X;react_production_min.useCallback=function(a,e){return U.current.useCallback(a,e)};react_production_min.useContext=function(a){return U.current.useContext(a)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(a){return U.current.useDeferredValue(a)};react_production_min.useEffect=function(a,e){return U.current.useEffect(a,e)};react_production_min.useId=function(){return U.current.useId()};react_production_min.useImperativeHandle=function(a,e,o){return U.current.useImperativeHandle(a,e,o)};react_production_min.useInsertionEffect=function(a,e){return U.current.useInsertionEffect(a,e)};react_production_min.useLayoutEffect=function(a,e){return U.current.useLayoutEffect(a,e)};react_production_min.useMemo=function(a,e){return U.current.useMemo(a,e)};react_production_min.useReducer=function(a,e,o){return U.current.useReducer(a,e,o)};react_production_min.useRef=function(a){return U.current.useRef(a)};react_production_min.useState=function(a){return U.current.useState(a)};react_production_min.useSyncExternalStore=function(a,e,o){return U.current.useSyncExternalStore(a,e,o)};react_production_min.useTransition=function(){return U.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(a,e,o){var h,$={},d=null,Y=null;o!==void 0&&(d=""+o),e.key!==void 0&&(d=""+e.key),e.ref!==void 0&&(Y=e.ref);for(h in e)m.call(e,h)&&!p.hasOwnProperty(h)&&($[h]=e[h]);if(a&&a.defaultProps)for(h in e=a.defaultProps,e)$[h]===void 0&&($[h]=e[h]);return{$$typeof:k,type:a,key:d,ref:Y,props:$,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;var buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup[45]=62;revLookup[95]=63;function getLens(a){var e=a.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=a.indexOf("=");o===-1&&(o=e);var h=o===e?0:4-o%4;return[o,h]}function byteLength(a){var e=getLens(a),o=e[0],h=e[1];return(o+h)*3/4-h}function _byteLength(a,e,o){return(e+o)*3/4-o}function toByteArray(a){var e,o=getLens(a),h=o[0],$=o[1],d=new Arr(_byteLength(a,h,$)),Y=0,ie=$>0?h-4:h,fe;for(fe=0;fe<ie;fe+=4)e=revLookup[a.charCodeAt(fe)]<<18|revLookup[a.charCodeAt(fe+1)]<<12|revLookup[a.charCodeAt(fe+2)]<<6|revLookup[a.charCodeAt(fe+3)],d[Y++]=e>>16&255,d[Y++]=e>>8&255,d[Y++]=e&255;return $===2&&(e=revLookup[a.charCodeAt(fe)]<<2|revLookup[a.charCodeAt(fe+1)]>>4,d[Y++]=e&255),$===1&&(e=revLookup[a.charCodeAt(fe)]<<10|revLookup[a.charCodeAt(fe+1)]<<4|revLookup[a.charCodeAt(fe+2)]>>2,d[Y++]=e>>8&255,d[Y++]=e&255),d}function tripletToBase64(a){return lookup[a>>18&63]+lookup[a>>12&63]+lookup[a>>6&63]+lookup[a&63]}function encodeChunk(a,e,o){for(var h,$=[],d=e;d<o;d+=3)h=(a[d]<<16&16711680)+(a[d+1]<<8&65280)+(a[d+2]&255),$.push(tripletToBase64(h));return $.join("")}function fromByteArray(a){for(var e,o=a.length,h=o%3,$=[],d=16383,Y=0,ie=o-h;Y<ie;Y+=d)$.push(encodeChunk(a,Y,Y+d>ie?ie:Y+d));return h===1?(e=a[o-1],$.push(lookup[e>>2]+lookup[e<<4&63]+"==")):h===2&&(e=(a[o-2]<<8)+a[o-1],$.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),$.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(a,e,o,h,$){var d,Y,ie=$*8-h-1,fe=(1<<ie)-1,he=fe>>1,ne=-7,le=o?$-1:0,de=o?-1:1,ce=a[e+le];for(le+=de,d=ce&(1<<-ne)-1,ce>>=-ne,ne+=ie;ne>0;d=d*256+a[e+le],le+=de,ne-=8);for(Y=d&(1<<-ne)-1,d>>=-ne,ne+=h;ne>0;Y=Y*256+a[e+le],le+=de,ne-=8);if(d===0)d=1-he;else{if(d===fe)return Y?NaN:(ce?-1:1)*(1/0);Y=Y+Math.pow(2,h),d=d-he}return(ce?-1:1)*Y*Math.pow(2,d-h)};ieee754.write=function(a,e,o,h,$,d){var Y,ie,fe,he=d*8-$-1,ne=(1<<he)-1,le=ne>>1,de=$===23?Math.pow(2,-24)-Math.pow(2,-77):0,ce=h?0:d-1,ge=h?1:-1,xe=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(ie=isNaN(e)?1:0,Y=ne):(Y=Math.floor(Math.log(e)/Math.LN2),e*(fe=Math.pow(2,-Y))<1&&(Y--,fe*=2),Y+le>=1?e+=de/fe:e+=de*Math.pow(2,1-le),e*fe>=2&&(Y++,fe/=2),Y+le>=ne?(ie=0,Y=ne):Y+le>=1?(ie=(e*fe-1)*Math.pow(2,$),Y=Y+le):(ie=e*Math.pow(2,le-1)*Math.pow(2,$),Y=0));$>=8;a[o+ce]=ie&255,ce+=ge,ie/=256,$-=8);for(Y=Y<<$|ie,he+=$;he>0;a[o+ce]=Y&255,ce+=ge,Y/=256,he-=8);a[o+ce-ge]|=xe*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(a){const e=base64Js,o=ieee754,h=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=ne,a.SlowBuffer=Te,a.INSPECT_MAX_BYTES=50;const $=2147483647;a.kMaxLength=$;const{Uint8Array:d,ArrayBuffer:Y,SharedArrayBuffer:ie}=globalThis;ne.TYPED_ARRAY_SUPPORT=fe(),!ne.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function fe(){try{const Be=new d(1),ye={foo:function(){return 42}};return Object.setPrototypeOf(ye,d.prototype),Object.setPrototypeOf(Be,ye),Be.foo()===42}catch{return!1}}Object.defineProperty(ne.prototype,"parent",{enumerable:!0,get:function(){if(ne.isBuffer(this))return this.buffer}}),Object.defineProperty(ne.prototype,"offset",{enumerable:!0,get:function(){if(ne.isBuffer(this))return this.byteOffset}});function he(Be){if(Be>$)throw new RangeError('The value "'+Be+'" is invalid for option "size"');const ye=new d(Be);return Object.setPrototypeOf(ye,ne.prototype),ye}function ne(Be,ye,$e){if(typeof Be=="number"){if(typeof ye=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ge(Be)}return le(Be,ye,$e)}ne.poolSize=8192;function le(Be,ye,$e){if(typeof Be=="string")return xe(Be,ye);if(Y.isView(Be))return Ee(Be);if(Be==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Be);if(je(Be,Y)||Be&&je(Be.buffer,Y)||typeof ie<"u"&&(je(Be,ie)||Be&&je(Be.buffer,ie)))return we(Be,ye,$e);if(typeof Be=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const De=Be.valueOf&&Be.valueOf();if(De!=null&&De!==Be)return ne.from(De,ye,$e);const Fe=pe(Be);if(Fe)return Fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Be[Symbol.toPrimitive]=="function")return ne.from(Be[Symbol.toPrimitive]("string"),ye,$e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Be)}ne.from=function(Be,ye,$e){return le(Be,ye,$e)},Object.setPrototypeOf(ne.prototype,d.prototype),Object.setPrototypeOf(ne,d);function de(Be){if(typeof Be!="number")throw new TypeError('"size" argument must be of type number');if(Be<0)throw new RangeError('The value "'+Be+'" is invalid for option "size"')}function ce(Be,ye,$e){return de(Be),Be<=0?he(Be):ye!==void 0?typeof $e=="string"?he(Be).fill(ye,$e):he(Be).fill(ye):he(Be)}ne.alloc=function(Be,ye,$e){return ce(Be,ye,$e)};function ge(Be){return de(Be),he(Be<0?0:me(Be)|0)}ne.allocUnsafe=function(Be){return ge(Be)},ne.allocUnsafeSlow=function(Be){return ge(Be)};function xe(Be,ye){if((typeof ye!="string"||ye==="")&&(ye="utf8"),!ne.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);const $e=Pe(Be,ye)|0;let De=he($e);const Fe=De.write(Be,ye);return Fe!==$e&&(De=De.slice(0,Fe)),De}function Ae(Be){const ye=Be.length<0?0:me(Be.length)|0,$e=he(ye);for(let De=0;De<ye;De+=1)$e[De]=Be[De]&255;return $e}function Ee(Be){if(je(Be,d)){const ye=new d(Be);return we(ye.buffer,ye.byteOffset,ye.byteLength)}return Ae(Be)}function we(Be,ye,$e){if(ye<0||Be.byteLength<ye)throw new RangeError('"offset" is outside of buffer bounds');if(Be.byteLength<ye+($e||0))throw new RangeError('"length" is outside of buffer bounds');let De;return ye===void 0&&$e===void 0?De=new d(Be):$e===void 0?De=new d(Be,ye):De=new d(Be,ye,$e),Object.setPrototypeOf(De,ne.prototype),De}function pe(Be){if(ne.isBuffer(Be)){const ye=me(Be.length)|0,$e=he(ye);return $e.length===0||Be.copy($e,0,0,ye),$e}if(Be.length!==void 0)return typeof Be.length!="number"||bt(Be.length)?he(0):Ae(Be);if(Be.type==="Buffer"&&Array.isArray(Be.data))return Ae(Be.data)}function me(Be){if(Be>=$)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$.toString(16)+" bytes");return Be|0}function Te(Be){return+Be!=Be&&(Be=0),ne.alloc(+Be)}ne.isBuffer=function(ye){return ye!=null&&ye._isBuffer===!0&&ye!==ne.prototype},ne.compare=function(ye,$e){if(je(ye,d)&&(ye=ne.from(ye,ye.offset,ye.byteLength)),je($e,d)&&($e=ne.from($e,$e.offset,$e.byteLength)),!ne.isBuffer(ye)||!ne.isBuffer($e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ye===$e)return 0;let De=ye.length,Fe=$e.length;for(let Xe=0,We=Math.min(De,Fe);Xe<We;++Xe)if(ye[Xe]!==$e[Xe]){De=ye[Xe],Fe=$e[Xe];break}return De<Fe?-1:Fe<De?1:0},ne.isEncoding=function(ye){switch(String(ye).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ne.concat=function(ye,$e){if(!Array.isArray(ye))throw new TypeError('"list" argument must be an Array of Buffers');if(ye.length===0)return ne.alloc(0);let De;if($e===void 0)for($e=0,De=0;De<ye.length;++De)$e+=ye[De].length;const Fe=ne.allocUnsafe($e);let Xe=0;for(De=0;De<ye.length;++De){let We=ye[De];if(je(We,d))Xe+We.length>Fe.length?(ne.isBuffer(We)||(We=ne.from(We)),We.copy(Fe,Xe)):d.prototype.set.call(Fe,We,Xe);else if(ne.isBuffer(We))We.copy(Fe,Xe);else throw new TypeError('"list" argument must be an Array of Buffers');Xe+=We.length}return Fe};function Pe(Be,ye){if(ne.isBuffer(Be))return Be.length;if(Y.isView(Be)||je(Be,Y))return Be.byteLength;if(typeof Be!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Be);const $e=Be.length,De=arguments.length>2&&arguments[2]===!0;if(!De&&$e===0)return 0;let Fe=!1;for(;;)switch(ye){case"ascii":case"latin1":case"binary":return $e;case"utf8":case"utf-8":return $t(Be).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $e*2;case"hex":return $e>>>1;case"base64":return St(Be).length;default:if(Fe)return De?-1:$t(Be).length;ye=(""+ye).toLowerCase(),Fe=!0}}ne.byteLength=Pe;function Le(Be,ye,$e){let De=!1;if((ye===void 0||ye<0)&&(ye=0),ye>this.length||(($e===void 0||$e>this.length)&&($e=this.length),$e<=0)||($e>>>=0,ye>>>=0,$e<=ye))return"";for(Be||(Be="utf8");;)switch(Be){case"hex":return ue(this,ye,$e);case"utf8":case"utf-8":return ae(this,ye,$e);case"ascii":return _(this,ye,$e);case"latin1":case"binary":return te(this,ye,$e);case"base64":return re(this,ye,$e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,ye,$e);default:if(De)throw new TypeError("Unknown encoding: "+Be);Be=(Be+"").toLowerCase(),De=!0}}ne.prototype._isBuffer=!0;function qe(Be,ye,$e){const De=Be[ye];Be[ye]=Be[$e],Be[$e]=De}ne.prototype.swap16=function(){const ye=this.length;if(ye%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let $e=0;$e<ye;$e+=2)qe(this,$e,$e+1);return this},ne.prototype.swap32=function(){const ye=this.length;if(ye%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let $e=0;$e<ye;$e+=4)qe(this,$e,$e+3),qe(this,$e+1,$e+2);return this},ne.prototype.swap64=function(){const ye=this.length;if(ye%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let $e=0;$e<ye;$e+=8)qe(this,$e,$e+7),qe(this,$e+1,$e+6),qe(this,$e+2,$e+5),qe(this,$e+3,$e+4);return this},ne.prototype.toString=function(){const ye=this.length;return ye===0?"":arguments.length===0?ae(this,0,ye):Le.apply(this,arguments)},ne.prototype.toLocaleString=ne.prototype.toString,ne.prototype.equals=function(ye){if(!ne.isBuffer(ye))throw new TypeError("Argument must be a Buffer");return this===ye?!0:ne.compare(this,ye)===0},ne.prototype.inspect=function(){let ye="";const $e=a.INSPECT_MAX_BYTES;return ye=this.toString("hex",0,$e).replace(/(.{2})/g,"$1 ").trim(),this.length>$e&&(ye+=" ... "),"<Buffer "+ye+">"},h&&(ne.prototype[h]=ne.prototype.inspect),ne.prototype.compare=function(ye,$e,De,Fe,Xe){if(je(ye,d)&&(ye=ne.from(ye,ye.offset,ye.byteLength)),!ne.isBuffer(ye))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ye);if($e===void 0&&($e=0),De===void 0&&(De=ye?ye.length:0),Fe===void 0&&(Fe=0),Xe===void 0&&(Xe=this.length),$e<0||De>ye.length||Fe<0||Xe>this.length)throw new RangeError("out of range index");if(Fe>=Xe&&$e>=De)return 0;if(Fe>=Xe)return-1;if($e>=De)return 1;if($e>>>=0,De>>>=0,Fe>>>=0,Xe>>>=0,this===ye)return 0;let We=Xe-Fe,et=De-$e;const xt=Math.min(We,et),Je=this.slice(Fe,Xe),rt=ye.slice($e,De);for(let Mt=0;Mt<xt;++Mt)if(Je[Mt]!==rt[Mt]){We=Je[Mt],et=rt[Mt];break}return We<et?-1:et<We?1:0};function Ce(Be,ye,$e,De,Fe){if(Be.length===0)return-1;if(typeof $e=="string"?(De=$e,$e=0):$e>2147483647?$e=2147483647:$e<-2147483648&&($e=-2147483648),$e=+$e,bt($e)&&($e=Fe?0:Be.length-1),$e<0&&($e=Be.length+$e),$e>=Be.length){if(Fe)return-1;$e=Be.length-1}else if($e<0)if(Fe)$e=0;else return-1;if(typeof ye=="string"&&(ye=ne.from(ye,De)),ne.isBuffer(ye))return ye.length===0?-1:ze(Be,ye,$e,De,Fe);if(typeof ye=="number")return ye=ye&255,typeof d.prototype.indexOf=="function"?Fe?d.prototype.indexOf.call(Be,ye,$e):d.prototype.lastIndexOf.call(Be,ye,$e):ze(Be,[ye],$e,De,Fe);throw new TypeError("val must be string, number or Buffer")}function ze(Be,ye,$e,De,Fe){let Xe=1,We=Be.length,et=ye.length;if(De!==void 0&&(De=String(De).toLowerCase(),De==="ucs2"||De==="ucs-2"||De==="utf16le"||De==="utf-16le")){if(Be.length<2||ye.length<2)return-1;Xe=2,We/=2,et/=2,$e/=2}function xt(rt,Mt){return Xe===1?rt[Mt]:rt.readUInt16BE(Mt*Xe)}let Je;if(Fe){let rt=-1;for(Je=$e;Je<We;Je++)if(xt(Be,Je)===xt(ye,rt===-1?0:Je-rt)){if(rt===-1&&(rt=Je),Je-rt+1===et)return rt*Xe}else rt!==-1&&(Je-=Je-rt),rt=-1}else for($e+et>We&&($e=We-et),Je=$e;Je>=0;Je--){let rt=!0;for(let Mt=0;Mt<et;Mt++)if(xt(Be,Je+Mt)!==xt(ye,Mt)){rt=!1;break}if(rt)return Je}return-1}ne.prototype.includes=function(ye,$e,De){return this.indexOf(ye,$e,De)!==-1},ne.prototype.indexOf=function(ye,$e,De){return Ce(this,ye,$e,De,!0)},ne.prototype.lastIndexOf=function(ye,$e,De){return Ce(this,ye,$e,De,!1)};function oe(Be,ye,$e,De){$e=Number($e)||0;const Fe=Be.length-$e;De?(De=Number(De),De>Fe&&(De=Fe)):De=Fe;const Xe=ye.length;De>Xe/2&&(De=Xe/2);let We;for(We=0;We<De;++We){const et=parseInt(ye.substr(We*2,2),16);if(bt(et))return We;Be[$e+We]=et}return We}function c(Be,ye,$e,De){return Ue($t(ye,Be.length-$e),Be,$e,De)}function b(Be,ye,$e,De){return Ue(tt(ye),Be,$e,De)}function j(Be,ye,$e,De){return Ue(St(ye),Be,$e,De)}function Z(Be,ye,$e,De){return Ue(ut(ye,Be.length-$e),Be,$e,De)}ne.prototype.write=function(ye,$e,De,Fe){if($e===void 0)Fe="utf8",De=this.length,$e=0;else if(De===void 0&&typeof $e=="string")Fe=$e,De=this.length,$e=0;else if(isFinite($e))$e=$e>>>0,isFinite(De)?(De=De>>>0,Fe===void 0&&(Fe="utf8")):(Fe=De,De=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Xe=this.length-$e;if((De===void 0||De>Xe)&&(De=Xe),ye.length>0&&(De<0||$e<0)||$e>this.length)throw new RangeError("Attempt to write outside buffer bounds");Fe||(Fe="utf8");let We=!1;for(;;)switch(Fe){case"hex":return oe(this,ye,$e,De);case"utf8":case"utf-8":return c(this,ye,$e,De);case"ascii":case"latin1":case"binary":return b(this,ye,$e,De);case"base64":return j(this,ye,$e,De);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,ye,$e,De);default:if(We)throw new TypeError("Unknown encoding: "+Fe);Fe=(""+Fe).toLowerCase(),We=!0}},ne.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(Be,ye,$e){return ye===0&&$e===Be.length?e.fromByteArray(Be):e.fromByteArray(Be.slice(ye,$e))}function ae(Be,ye,$e){$e=Math.min(Be.length,$e);const De=[];let Fe=ye;for(;Fe<$e;){const Xe=Be[Fe];let We=null,et=Xe>239?4:Xe>223?3:Xe>191?2:1;if(Fe+et<=$e){let xt,Je,rt,Mt;switch(et){case 1:Xe<128&&(We=Xe);break;case 2:xt=Be[Fe+1],(xt&192)===128&&(Mt=(Xe&31)<<6|xt&63,Mt>127&&(We=Mt));break;case 3:xt=Be[Fe+1],Je=Be[Fe+2],(xt&192)===128&&(Je&192)===128&&(Mt=(Xe&15)<<12|(xt&63)<<6|Je&63,Mt>2047&&(Mt<55296||Mt>57343)&&(We=Mt));break;case 4:xt=Be[Fe+1],Je=Be[Fe+2],rt=Be[Fe+3],(xt&192)===128&&(Je&192)===128&&(rt&192)===128&&(Mt=(Xe&15)<<18|(xt&63)<<12|(Je&63)<<6|rt&63,Mt>65535&&Mt<1114112&&(We=Mt))}}We===null?(We=65533,et=1):We>65535&&(We-=65536,De.push(We>>>10&1023|55296),We=56320|We&1023),De.push(We),Fe+=et}return ee(De)}const se=4096;function ee(Be){const ye=Be.length;if(ye<=se)return String.fromCharCode.apply(String,Be);let $e="",De=0;for(;De<ye;)$e+=String.fromCharCode.apply(String,Be.slice(De,De+=se));return $e}function _(Be,ye,$e){let De="";$e=Math.min(Be.length,$e);for(let Fe=ye;Fe<$e;++Fe)De+=String.fromCharCode(Be[Fe]&127);return De}function te(Be,ye,$e){let De="";$e=Math.min(Be.length,$e);for(let Fe=ye;Fe<$e;++Fe)De+=String.fromCharCode(Be[Fe]);return De}function ue(Be,ye,$e){const De=Be.length;(!ye||ye<0)&&(ye=0),(!$e||$e<0||$e>De)&&($e=De);let Fe="";for(let Xe=ye;Xe<$e;++Xe)Fe+=Ke[Be[Xe]];return Fe}function ve(Be,ye,$e){const De=Be.slice(ye,$e);let Fe="";for(let Xe=0;Xe<De.length-1;Xe+=2)Fe+=String.fromCharCode(De[Xe]+De[Xe+1]*256);return Fe}ne.prototype.slice=function(ye,$e){const De=this.length;ye=~~ye,$e=$e===void 0?De:~~$e,ye<0?(ye+=De,ye<0&&(ye=0)):ye>De&&(ye=De),$e<0?($e+=De,$e<0&&($e=0)):$e>De&&($e=De),$e<ye&&($e=ye);const Fe=this.subarray(ye,$e);return Object.setPrototypeOf(Fe,ne.prototype),Fe};function be(Be,ye,$e){if(Be%1!==0||Be<0)throw new RangeError("offset is not uint");if(Be+ye>$e)throw new RangeError("Trying to access beyond buffer length")}ne.prototype.readUintLE=ne.prototype.readUIntLE=function(ye,$e,De){ye=ye>>>0,$e=$e>>>0,De||be(ye,$e,this.length);let Fe=this[ye],Xe=1,We=0;for(;++We<$e&&(Xe*=256);)Fe+=this[ye+We]*Xe;return Fe},ne.prototype.readUintBE=ne.prototype.readUIntBE=function(ye,$e,De){ye=ye>>>0,$e=$e>>>0,De||be(ye,$e,this.length);let Fe=this[ye+--$e],Xe=1;for(;$e>0&&(Xe*=256);)Fe+=this[ye+--$e]*Xe;return Fe},ne.prototype.readUint8=ne.prototype.readUInt8=function(ye,$e){return ye=ye>>>0,$e||be(ye,1,this.length),this[ye]},ne.prototype.readUint16LE=ne.prototype.readUInt16LE=function(ye,$e){return ye=ye>>>0,$e||be(ye,2,this.length),this[ye]|this[ye+1]<<8},ne.prototype.readUint16BE=ne.prototype.readUInt16BE=function(ye,$e){return ye=ye>>>0,$e||be(ye,2,this.length),this[ye]<<8|this[ye+1]},ne.prototype.readUint32LE=ne.prototype.readUInt32LE=function(ye,$e){return ye=ye>>>0,$e||be(ye,4,this.length),(this[ye]|this[ye+1]<<8|this[ye+2]<<16)+this[ye+3]*16777216},ne.prototype.readUint32BE=ne.prototype.readUInt32BE=function(ye,$e){return ye=ye>>>0,$e||be(ye,4,this.length),this[ye]*16777216+(this[ye+1]<<16|this[ye+2]<<8|this[ye+3])},ne.prototype.readBigUInt64LE=Ze(function(ye){ye=ye>>>0,Ye(ye,"offset");const $e=this[ye],De=this[ye+7];($e===void 0||De===void 0)&&wt(ye,this.length-8);const Fe=$e+this[++ye]*2**8+this[++ye]*2**16+this[++ye]*2**24,Xe=this[++ye]+this[++ye]*2**8+this[++ye]*2**16+De*2**24;return BigInt(Fe)+(BigInt(Xe)<<BigInt(32))}),ne.prototype.readBigUInt64BE=Ze(function(ye){ye=ye>>>0,Ye(ye,"offset");const $e=this[ye],De=this[ye+7];($e===void 0||De===void 0)&&wt(ye,this.length-8);const Fe=$e*2**24+this[++ye]*2**16+this[++ye]*2**8+this[++ye],Xe=this[++ye]*2**24+this[++ye]*2**16+this[++ye]*2**8+De;return(BigInt(Fe)<<BigInt(32))+BigInt(Xe)}),ne.prototype.readIntLE=function(ye,$e,De){ye=ye>>>0,$e=$e>>>0,De||be(ye,$e,this.length);let Fe=this[ye],Xe=1,We=0;for(;++We<$e&&(Xe*=256);)Fe+=this[ye+We]*Xe;return Xe*=128,Fe>=Xe&&(Fe-=Math.pow(2,8*$e)),Fe},ne.prototype.readIntBE=function(ye,$e,De){ye=ye>>>0,$e=$e>>>0,De||be(ye,$e,this.length);let Fe=$e,Xe=1,We=this[ye+--Fe];for(;Fe>0&&(Xe*=256);)We+=this[ye+--Fe]*Xe;return Xe*=128,We>=Xe&&(We-=Math.pow(2,8*$e)),We},ne.prototype.readInt8=function(ye,$e){return ye=ye>>>0,$e||be(ye,1,this.length),this[ye]&128?(255-this[ye]+1)*-1:this[ye]},ne.prototype.readInt16LE=function(ye,$e){ye=ye>>>0,$e||be(ye,2,this.length);const De=this[ye]|this[ye+1]<<8;return De&32768?De|4294901760:De},ne.prototype.readInt16BE=function(ye,$e){ye=ye>>>0,$e||be(ye,2,this.length);const De=this[ye+1]|this[ye]<<8;return De&32768?De|4294901760:De},ne.prototype.readInt32LE=function(ye,$e){return ye=ye>>>0,$e||be(ye,4,this.length),this[ye]|this[ye+1]<<8|this[ye+2]<<16|this[ye+3]<<24},ne.prototype.readInt32BE=function(ye,$e){return ye=ye>>>0,$e||be(ye,4,this.length),this[ye]<<24|this[ye+1]<<16|this[ye+2]<<8|this[ye+3]},ne.prototype.readBigInt64LE=Ze(function(ye){ye=ye>>>0,Ye(ye,"offset");const $e=this[ye],De=this[ye+7];($e===void 0||De===void 0)&&wt(ye,this.length-8);const Fe=this[ye+4]+this[ye+5]*2**8+this[ye+6]*2**16+(De<<24);return(BigInt(Fe)<<BigInt(32))+BigInt($e+this[++ye]*2**8+this[++ye]*2**16+this[++ye]*2**24)}),ne.prototype.readBigInt64BE=Ze(function(ye){ye=ye>>>0,Ye(ye,"offset");const $e=this[ye],De=this[ye+7];($e===void 0||De===void 0)&&wt(ye,this.length-8);const Fe=($e<<24)+this[++ye]*2**16+this[++ye]*2**8+this[++ye];return(BigInt(Fe)<<BigInt(32))+BigInt(this[++ye]*2**24+this[++ye]*2**16+this[++ye]*2**8+De)}),ne.prototype.readFloatLE=function(ye,$e){return ye=ye>>>0,$e||be(ye,4,this.length),o.read(this,ye,!0,23,4)},ne.prototype.readFloatBE=function(ye,$e){return ye=ye>>>0,$e||be(ye,4,this.length),o.read(this,ye,!1,23,4)},ne.prototype.readDoubleLE=function(ye,$e){return ye=ye>>>0,$e||be(ye,8,this.length),o.read(this,ye,!0,52,8)},ne.prototype.readDoubleBE=function(ye,$e){return ye=ye>>>0,$e||be(ye,8,this.length),o.read(this,ye,!1,52,8)};function Me(Be,ye,$e,De,Fe,Xe){if(!ne.isBuffer(Be))throw new TypeError('"buffer" argument must be a Buffer instance');if(ye>Fe||ye<Xe)throw new RangeError('"value" argument is out of bounds');if($e+De>Be.length)throw new RangeError("Index out of range")}ne.prototype.writeUintLE=ne.prototype.writeUIntLE=function(ye,$e,De,Fe){if(ye=+ye,$e=$e>>>0,De=De>>>0,!Fe){const et=Math.pow(2,8*De)-1;Me(this,ye,$e,De,et,0)}let Xe=1,We=0;for(this[$e]=ye&255;++We<De&&(Xe*=256);)this[$e+We]=ye/Xe&255;return $e+De},ne.prototype.writeUintBE=ne.prototype.writeUIntBE=function(ye,$e,De,Fe){if(ye=+ye,$e=$e>>>0,De=De>>>0,!Fe){const et=Math.pow(2,8*De)-1;Me(this,ye,$e,De,et,0)}let Xe=De-1,We=1;for(this[$e+Xe]=ye&255;--Xe>=0&&(We*=256);)this[$e+Xe]=ye/We&255;return $e+De},ne.prototype.writeUint8=ne.prototype.writeUInt8=function(ye,$e,De){return ye=+ye,$e=$e>>>0,De||Me(this,ye,$e,1,255,0),this[$e]=ye&255,$e+1},ne.prototype.writeUint16LE=ne.prototype.writeUInt16LE=function(ye,$e,De){return ye=+ye,$e=$e>>>0,De||Me(this,ye,$e,2,65535,0),this[$e]=ye&255,this[$e+1]=ye>>>8,$e+2},ne.prototype.writeUint16BE=ne.prototype.writeUInt16BE=function(ye,$e,De){return ye=+ye,$e=$e>>>0,De||Me(this,ye,$e,2,65535,0),this[$e]=ye>>>8,this[$e+1]=ye&255,$e+2},ne.prototype.writeUint32LE=ne.prototype.writeUInt32LE=function(ye,$e,De){return ye=+ye,$e=$e>>>0,De||Me(this,ye,$e,4,4294967295,0),this[$e+3]=ye>>>24,this[$e+2]=ye>>>16,this[$e+1]=ye>>>8,this[$e]=ye&255,$e+4},ne.prototype.writeUint32BE=ne.prototype.writeUInt32BE=function(ye,$e,De){return ye=+ye,$e=$e>>>0,De||Me(this,ye,$e,4,4294967295,0),this[$e]=ye>>>24,this[$e+1]=ye>>>16,this[$e+2]=ye>>>8,this[$e+3]=ye&255,$e+4};function Se(Be,ye,$e,De,Fe){Ve(ye,De,Fe,Be,$e,7);let Xe=Number(ye&BigInt(4294967295));Be[$e++]=Xe,Xe=Xe>>8,Be[$e++]=Xe,Xe=Xe>>8,Be[$e++]=Xe,Xe=Xe>>8,Be[$e++]=Xe;let We=Number(ye>>BigInt(32)&BigInt(4294967295));return Be[$e++]=We,We=We>>8,Be[$e++]=We,We=We>>8,Be[$e++]=We,We=We>>8,Be[$e++]=We,$e}function _e(Be,ye,$e,De,Fe){Ve(ye,De,Fe,Be,$e,7);let Xe=Number(ye&BigInt(4294967295));Be[$e+7]=Xe,Xe=Xe>>8,Be[$e+6]=Xe,Xe=Xe>>8,Be[$e+5]=Xe,Xe=Xe>>8,Be[$e+4]=Xe;let We=Number(ye>>BigInt(32)&BigInt(4294967295));return Be[$e+3]=We,We=We>>8,Be[$e+2]=We,We=We>>8,Be[$e+1]=We,We=We>>8,Be[$e]=We,$e+8}ne.prototype.writeBigUInt64LE=Ze(function(ye,$e=0){return Se(this,ye,$e,BigInt(0),BigInt("0xffffffffffffffff"))}),ne.prototype.writeBigUInt64BE=Ze(function(ye,$e=0){return _e(this,ye,$e,BigInt(0),BigInt("0xffffffffffffffff"))}),ne.prototype.writeIntLE=function(ye,$e,De,Fe){if(ye=+ye,$e=$e>>>0,!Fe){const xt=Math.pow(2,8*De-1);Me(this,ye,$e,De,xt-1,-xt)}let Xe=0,We=1,et=0;for(this[$e]=ye&255;++Xe<De&&(We*=256);)ye<0&&et===0&&this[$e+Xe-1]!==0&&(et=1),this[$e+Xe]=(ye/We>>0)-et&255;return $e+De},ne.prototype.writeIntBE=function(ye,$e,De,Fe){if(ye=+ye,$e=$e>>>0,!Fe){const xt=Math.pow(2,8*De-1);Me(this,ye,$e,De,xt-1,-xt)}let Xe=De-1,We=1,et=0;for(this[$e+Xe]=ye&255;--Xe>=0&&(We*=256);)ye<0&&et===0&&this[$e+Xe+1]!==0&&(et=1),this[$e+Xe]=(ye/We>>0)-et&255;return $e+De},ne.prototype.writeInt8=function(ye,$e,De){return ye=+ye,$e=$e>>>0,De||Me(this,ye,$e,1,127,-128),ye<0&&(ye=255+ye+1),this[$e]=ye&255,$e+1},ne.prototype.writeInt16LE=function(ye,$e,De){return ye=+ye,$e=$e>>>0,De||Me(this,ye,$e,2,32767,-32768),this[$e]=ye&255,this[$e+1]=ye>>>8,$e+2},ne.prototype.writeInt16BE=function(ye,$e,De){return ye=+ye,$e=$e>>>0,De||Me(this,ye,$e,2,32767,-32768),this[$e]=ye>>>8,this[$e+1]=ye&255,$e+2},ne.prototype.writeInt32LE=function(ye,$e,De){return ye=+ye,$e=$e>>>0,De||Me(this,ye,$e,4,2147483647,-2147483648),this[$e]=ye&255,this[$e+1]=ye>>>8,this[$e+2]=ye>>>16,this[$e+3]=ye>>>24,$e+4},ne.prototype.writeInt32BE=function(ye,$e,De){return ye=+ye,$e=$e>>>0,De||Me(this,ye,$e,4,2147483647,-2147483648),ye<0&&(ye=4294967295+ye+1),this[$e]=ye>>>24,this[$e+1]=ye>>>16,this[$e+2]=ye>>>8,this[$e+3]=ye&255,$e+4},ne.prototype.writeBigInt64LE=Ze(function(ye,$e=0){return Se(this,ye,$e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ne.prototype.writeBigInt64BE=Ze(function(ye,$e=0){return _e(this,ye,$e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Re(Be,ye,$e,De,Fe,Xe){if($e+De>Be.length)throw new RangeError("Index out of range");if($e<0)throw new RangeError("Index out of range")}function Ie(Be,ye,$e,De,Fe){return ye=+ye,$e=$e>>>0,Fe||Re(Be,ye,$e,4),o.write(Be,ye,$e,De,23,4),$e+4}ne.prototype.writeFloatLE=function(ye,$e,De){return Ie(this,ye,$e,!0,De)},ne.prototype.writeFloatBE=function(ye,$e,De){return Ie(this,ye,$e,!1,De)};function Ne(Be,ye,$e,De,Fe){return ye=+ye,$e=$e>>>0,Fe||Re(Be,ye,$e,8),o.write(Be,ye,$e,De,52,8),$e+8}ne.prototype.writeDoubleLE=function(ye,$e,De){return Ne(this,ye,$e,!0,De)},ne.prototype.writeDoubleBE=function(ye,$e,De){return Ne(this,ye,$e,!1,De)},ne.prototype.copy=function(ye,$e,De,Fe){if(!ne.isBuffer(ye))throw new TypeError("argument should be a Buffer");if(De||(De=0),!Fe&&Fe!==0&&(Fe=this.length),$e>=ye.length&&($e=ye.length),$e||($e=0),Fe>0&&Fe<De&&(Fe=De),Fe===De||ye.length===0||this.length===0)return 0;if($e<0)throw new RangeError("targetStart out of bounds");if(De<0||De>=this.length)throw new RangeError("Index out of range");if(Fe<0)throw new RangeError("sourceEnd out of bounds");Fe>this.length&&(Fe=this.length),ye.length-$e<Fe-De&&(Fe=ye.length-$e+De);const Xe=Fe-De;return this===ye&&typeof d.prototype.copyWithin=="function"?this.copyWithin($e,De,Fe):d.prototype.set.call(ye,this.subarray(De,Fe),$e),Xe},ne.prototype.fill=function(ye,$e,De,Fe){if(typeof ye=="string"){if(typeof $e=="string"?(Fe=$e,$e=0,De=this.length):typeof De=="string"&&(Fe=De,De=this.length),Fe!==void 0&&typeof Fe!="string")throw new TypeError("encoding must be a string");if(typeof Fe=="string"&&!ne.isEncoding(Fe))throw new TypeError("Unknown encoding: "+Fe);if(ye.length===1){const We=ye.charCodeAt(0);(Fe==="utf8"&&We<128||Fe==="latin1")&&(ye=We)}}else typeof ye=="number"?ye=ye&255:typeof ye=="boolean"&&(ye=Number(ye));if($e<0||this.length<$e||this.length<De)throw new RangeError("Out of range index");if(De<=$e)return this;$e=$e>>>0,De=De===void 0?this.length:De>>>0,ye||(ye=0);let Xe;if(typeof ye=="number")for(Xe=$e;Xe<De;++Xe)this[Xe]=ye;else{const We=ne.isBuffer(ye)?ye:ne.from(ye,Fe),et=We.length;if(et===0)throw new TypeError('The value "'+ye+'" is invalid for argument "value"');for(Xe=0;Xe<De-$e;++Xe)this[Xe+$e]=We[Xe%et]}return this};const Oe={};function ke(Be,ye,$e){Oe[Be]=class extends $e{constructor(){super(),Object.defineProperty(this,"message",{value:ye.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Be}]`,this.stack,delete this.name}get code(){return Be}set code(Fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Fe,writable:!0})}toString(){return`${this.name} [${Be}]: ${this.message}`}}}ke("ERR_BUFFER_OUT_OF_BOUNDS",function(Be){return Be?`${Be} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ke("ERR_INVALID_ARG_TYPE",function(Be,ye){return`The "${Be}" argument must be of type number. Received type ${typeof ye}`},TypeError),ke("ERR_OUT_OF_RANGE",function(Be,ye,$e){let De=`The value of "${Be}" is out of range.`,Fe=$e;return Number.isInteger($e)&&Math.abs($e)>2**32?Fe=He(String($e)):typeof $e=="bigint"&&(Fe=String($e),($e>BigInt(2)**BigInt(32)||$e<-(BigInt(2)**BigInt(32)))&&(Fe=He(Fe)),Fe+="n"),De+=` It must be ${ye}. Received ${Fe}`,De},RangeError);function He(Be){let ye="",$e=Be.length;const De=Be[0]==="-"?1:0;for(;$e>=De+4;$e-=3)ye=`_${Be.slice($e-3,$e)}${ye}`;return`${Be.slice(0,$e)}${ye}`}function ct(Be,ye,$e){Ye(ye,"offset"),(Be[ye]===void 0||Be[ye+$e]===void 0)&&wt(ye,Be.length-($e+1))}function Ve(Be,ye,$e,De,Fe,Xe){if(Be>$e||Be<ye){const We=typeof ye=="bigint"?"n":"";let et;throw ye===0||ye===BigInt(0)?et=`>= 0${We} and < 2${We} ** ${(Xe+1)*8}${We}`:et=`>= -(2${We} ** ${(Xe+1)*8-1}${We}) and < 2 ** ${(Xe+1)*8-1}${We}`,new Oe.ERR_OUT_OF_RANGE("value",et,Be)}ct(De,Fe,Xe)}function Ye(Be,ye){if(typeof Be!="number")throw new Oe.ERR_INVALID_ARG_TYPE(ye,"number",Be)}function wt(Be,ye,$e){throw Math.floor(Be)!==Be?(Ye(Be,$e),new Oe.ERR_OUT_OF_RANGE("offset","an integer",Be)):ye<0?new Oe.ERR_BUFFER_OUT_OF_BOUNDS:new Oe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${ye}`,Be)}const Qe=/[^+/0-9A-Za-z-_]/g;function Ge(Be){if(Be=Be.split("=")[0],Be=Be.trim().replace(Qe,""),Be.length<2)return"";for(;Be.length%4!==0;)Be=Be+"=";return Be}function $t(Be,ye){ye=ye||1/0;let $e;const De=Be.length;let Fe=null;const Xe=[];for(let We=0;We<De;++We){if($e=Be.charCodeAt(We),$e>55295&&$e<57344){if(!Fe){if($e>56319){(ye-=3)>-1&&Xe.push(239,191,189);continue}else if(We+1===De){(ye-=3)>-1&&Xe.push(239,191,189);continue}Fe=$e;continue}if($e<56320){(ye-=3)>-1&&Xe.push(239,191,189),Fe=$e;continue}$e=(Fe-55296<<10|$e-56320)+65536}else Fe&&(ye-=3)>-1&&Xe.push(239,191,189);if(Fe=null,$e<128){if((ye-=1)<0)break;Xe.push($e)}else if($e<2048){if((ye-=2)<0)break;Xe.push($e>>6|192,$e&63|128)}else if($e<65536){if((ye-=3)<0)break;Xe.push($e>>12|224,$e>>6&63|128,$e&63|128)}else if($e<1114112){if((ye-=4)<0)break;Xe.push($e>>18|240,$e>>12&63|128,$e>>6&63|128,$e&63|128)}else throw new Error("Invalid code point")}return Xe}function tt(Be){const ye=[];for(let $e=0;$e<Be.length;++$e)ye.push(Be.charCodeAt($e)&255);return ye}function ut(Be,ye){let $e,De,Fe;const Xe=[];for(let We=0;We<Be.length&&!((ye-=2)<0);++We)$e=Be.charCodeAt(We),De=$e>>8,Fe=$e%256,Xe.push(Fe),Xe.push(De);return Xe}function St(Be){return e.toByteArray(Ge(Be))}function Ue(Be,ye,$e,De){let Fe;for(Fe=0;Fe<De&&!(Fe+$e>=ye.length||Fe>=Be.length);++Fe)ye[Fe+$e]=Be[Fe];return Fe}function je(Be,ye){return Be instanceof ye||Be!=null&&Be.constructor!=null&&Be.constructor.name!=null&&Be.constructor.name===ye.name}function bt(Be){return Be!==Be}const Ke=function(){const Be="0123456789abcdef",ye=new Array(256);for(let $e=0;$e<16;++$e){const De=$e*16;for(let Fe=0;Fe<16;++Fe)ye[De+Fe]=Be[$e]+Be[Fe]}return ye}();function Ze(Be){return typeof BigInt>"u"?Et:Be}function Et(){throw new Error("BigInt not supported")}})(buffer$1);const Buffer$E=buffer$1.Buffer,Blob$1=buffer$1.Blob,BlobOptions=buffer$1.BlobOptions,Buffer$1$1=buffer$1.Buffer,File$2=buffer$1.File,FileOptions=buffer$1.FileOptions,INSPECT_MAX_BYTES=buffer$1.INSPECT_MAX_BYTES,SlowBuffer=buffer$1.SlowBuffer,TranscodeEncoding=buffer$1.TranscodeEncoding,atob=buffer$1.atob,btoa=buffer$1.btoa,constants$2=buffer$1.constants,isAscii$1=buffer$1.isAscii,isUtf8=buffer$1.isUtf8,kMaxLength=buffer$1.kMaxLength,kStringMaxLength=buffer$1.kStringMaxLength,resolveObjectURL=buffer$1.resolveObjectURL,transcode=buffer$1.transcode,dist=Object.freeze(Object.defineProperty({__proto__:null,Blob:Blob$1,BlobOptions,Buffer:Buffer$1$1,File:File$2,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob,btoa,constants:constants$2,default:Buffer$E,isAscii:isAscii$1,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode},Symbol.toStringTag,{value:"Module"}));var events$1={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function(e,o,h){return Function.prototype.apply.call(e,o,h)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ReflectOwnKeys=function(e){return Object.getOwnPropertyNames(e)};function ProcessEmitWarning(a){console&&console.warn&&console.warn(a)}var NumberIsNaN=Number.isNaN||function(e){return e!==e};function EventEmitter$b(){EventEmitter$b.init.call(this)}events$1.exports=EventEmitter$b;events$1.exports.once=once$9;EventEmitter$b.EventEmitter=EventEmitter$b;EventEmitter$b.prototype._events=void 0;EventEmitter$b.prototype._eventsCount=0;EventEmitter$b.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(a){if(typeof a!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}Object.defineProperty(EventEmitter$b,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(a){if(typeof a!="number"||a<0||NumberIsNaN(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");defaultMaxListeners=a}});EventEmitter$b.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$b.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||NumberIsNaN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function _getMaxListeners(a){return a._maxListeners===void 0?EventEmitter$b.defaultMaxListeners:a._maxListeners}EventEmitter$b.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter$b.prototype.emit=function(e){for(var o=[],h=1;h<arguments.length;h++)o.push(arguments[h]);var $=e==="error",d=this._events;if(d!==void 0)$=$&&d.error===void 0;else if(!$)return!1;if($){var Y;if(o.length>0&&(Y=o[0]),Y instanceof Error)throw Y;var ie=new Error("Unhandled error."+(Y?" ("+Y.message+")":""));throw ie.context=Y,ie}var fe=d[e];if(fe===void 0)return!1;if(typeof fe=="function")ReflectApply(fe,this,o);else for(var he=fe.length,ne=arrayClone(fe,he),h=0;h<he;++h)ReflectApply(ne[h],this,o);return!0};function _addListener(a,e,o,h){var $,d,Y;if(checkListener(o),d=a._events,d===void 0?(d=a._events=Object.create(null),a._eventsCount=0):(d.newListener!==void 0&&(a.emit("newListener",e,o.listener?o.listener:o),d=a._events),Y=d[e]),Y===void 0)Y=d[e]=o,++a._eventsCount;else if(typeof Y=="function"?Y=d[e]=h?[o,Y]:[Y,o]:h?Y.unshift(o):Y.push(o),$=_getMaxListeners(a),$>0&&Y.length>$&&!Y.warned){Y.warned=!0;var ie=new Error("Possible EventEmitter memory leak detected. "+Y.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");ie.name="MaxListenersExceededWarning",ie.emitter=a,ie.type=e,ie.count=Y.length,ProcessEmitWarning(ie)}return a}EventEmitter$b.prototype.addListener=function(e,o){return _addListener(this,e,o,!1)};EventEmitter$b.prototype.on=EventEmitter$b.prototype.addListener;EventEmitter$b.prototype.prependListener=function(e,o){return _addListener(this,e,o,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(a,e,o){var h={fired:!1,wrapFn:void 0,target:a,type:e,listener:o},$=onceWrapper.bind(h);return $.listener=o,h.wrapFn=$,$}EventEmitter$b.prototype.once=function(e,o){return checkListener(o),this.on(e,_onceWrap(this,e,o)),this};EventEmitter$b.prototype.prependOnceListener=function(e,o){return checkListener(o),this.prependListener(e,_onceWrap(this,e,o)),this};EventEmitter$b.prototype.removeListener=function(e,o){var h,$,d,Y,ie;if(checkListener(o),$=this._events,$===void 0)return this;if(h=$[e],h===void 0)return this;if(h===o||h.listener===o)--this._eventsCount===0?this._events=Object.create(null):(delete $[e],$.removeListener&&this.emit("removeListener",e,h.listener||o));else if(typeof h!="function"){for(d=-1,Y=h.length-1;Y>=0;Y--)if(h[Y]===o||h[Y].listener===o){ie=h[Y].listener,d=Y;break}if(d<0)return this;d===0?h.shift():spliceOne(h,d),h.length===1&&($[e]=h[0]),$.removeListener!==void 0&&this.emit("removeListener",e,ie||o)}return this};EventEmitter$b.prototype.off=EventEmitter$b.prototype.removeListener;EventEmitter$b.prototype.removeAllListeners=function(e){var o,h,$;if(h=this._events,h===void 0)return this;if(h.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):h[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete h[e]),this;if(arguments.length===0){var d=Object.keys(h),Y;for($=0;$<d.length;++$)Y=d[$],Y!=="removeListener"&&this.removeAllListeners(Y);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(o=h[e],typeof o=="function")this.removeListener(e,o);else if(o!==void 0)for($=o.length-1;$>=0;$--)this.removeListener(e,o[$]);return this};function _listeners(a,e,o){var h=a._events;if(h===void 0)return[];var $=h[e];return $===void 0?[]:typeof $=="function"?o?[$.listener||$]:[$]:o?unwrapListeners($):arrayClone($,$.length)}EventEmitter$b.prototype.listeners=function(e){return _listeners(this,e,!0)};EventEmitter$b.prototype.rawListeners=function(e){return _listeners(this,e,!1)};EventEmitter$b.listenerCount=function(a,e){return typeof a.listenerCount=="function"?a.listenerCount(e):listenerCount.call(a,e)};EventEmitter$b.prototype.listenerCount=listenerCount;function listenerCount(a){var e=this._events;if(e!==void 0){var o=e[a];if(typeof o=="function")return 1;if(o!==void 0)return o.length}return 0}EventEmitter$b.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(a,e){for(var o=new Array(e),h=0;h<e;++h)o[h]=a[h];return o}function spliceOne(a,e){for(;e+1<a.length;e++)a[e]=a[e+1];a.pop()}function unwrapListeners(a){for(var e=new Array(a.length),o=0;o<e.length;++o)e[o]=a[o].listener||a[o];return e}function once$9(a,e){return new Promise(function(o,h){function $(Y){a.removeListener(e,d),h(Y)}function d(){typeof a.removeListener=="function"&&a.removeListener("error",$),o([].slice.call(arguments))}eventTargetAgnosticAddListener(a,e,d,{once:!0}),e!=="error"&&addErrorHandlerIfEventEmitter(a,$,{once:!0})})}function addErrorHandlerIfEventEmitter(a,e,o){typeof a.on=="function"&&eventTargetAgnosticAddListener(a,"error",e,o)}function eventTargetAgnosticAddListener(a,e,o,h){if(typeof a.on=="function")h.once?a.once(e,o):a.on(e,o);else if(typeof a.addEventListener=="function")a.addEventListener(e,function $(d){h.once&&a.removeEventListener(e,$),o(d)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a)}var eventsExports=events$1.exports;function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var browser$h={exports:{}},process=browser$h.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(a){if(cachedSetTimeout===setTimeout)return setTimeout(a,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(a,0);try{return cachedSetTimeout(a,0)}catch{try{return cachedSetTimeout.call(null,a,0)}catch{return cachedSetTimeout.call(this,a,0)}}}function runClearTimeout(a){if(cachedClearTimeout===clearTimeout)return clearTimeout(a);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(a);try{return cachedClearTimeout(a)}catch{try{return cachedClearTimeout.call(null,a)}catch{return cachedClearTimeout.call(this,a)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var a=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue.length;e;){for(currentQueue=queue,queue=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue.length}currentQueue=null,draining=!1,runClearTimeout(a)}}process.nextTick=function(a){var e=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)e[o-1]=arguments[o];queue.push(new Item(a,e)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(a,e){this.fun=a,this.array=e}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$8(){}process.on=noop$8;process.addListener=noop$8;process.once=noop$8;process.off=noop$8;process.removeListener=noop$8;process.removeAllListeners=noop$8;process.emit=noop$8;process.prependListener=noop$8;process.prependOnceListener=noop$8;process.listeners=function(a){return[]};process.binding=function(a){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(a){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports$3=browser$h.exports;const process$1=getDefaultExportFromCjs(browserExports$3);function assertPath(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function normalizeStringPosix(a,e){for(var o="",h=0,$=-1,d=0,Y,ie=0;ie<=a.length;++ie){if(ie<a.length)Y=a.charCodeAt(ie);else{if(Y===47)break;Y=47}if(Y===47){if(!($===ie-1||d===1))if($!==ie-1&&d===2){if(o.length<2||h!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var fe=o.lastIndexOf("/");if(fe!==o.length-1){fe===-1?(o="",h=0):(o=o.slice(0,fe),h=o.length-1-o.lastIndexOf("/")),$=ie,d=0;continue}}else if(o.length===2||o.length===1){o="",h=0,$=ie,d=0;continue}}e&&(o.length>0?o+="/..":o="..",h=2)}else o.length>0?o+="/"+a.slice($+1,ie):o=a.slice($+1,ie),h=ie-$-1;$=ie,d=0}else Y===46&&d!==-1?++d:d=-1}return o}function _format(a,e){var o=e.dir||e.root,h=e.base||(e.name||"")+(e.ext||"");return o?o===e.root?o+h:o+a+h:h}var posix={resolve:function(){for(var e="",o=!1,h,$=arguments.length-1;$>=-1&&!o;$--){var d;$>=0?d=arguments[$]:(h===void 0&&(h=process$1.cwd()),d=h),assertPath(d),d.length!==0&&(e=d+"/"+e,o=d.charCodeAt(0)===47)}return e=normalizeStringPosix(e,!o),o?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(assertPath(e),e.length===0)return".";var o=e.charCodeAt(0)===47,h=e.charCodeAt(e.length-1)===47;return e=normalizeStringPosix(e,!o),e.length===0&&!o&&(e="."),e.length>0&&h&&(e+="/"),o?"/"+e:e},isAbsolute:function(e){return assertPath(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,o=0;o<arguments.length;++o){var h=arguments[o];assertPath(h),h.length>0&&(e===void 0?e=h:e+="/"+h)}return e===void 0?".":posix.normalize(e)},relative:function(e,o){if(assertPath(e),assertPath(o),e===o||(e=posix.resolve(e),o=posix.resolve(o),e===o))return"";for(var h=1;h<e.length&&e.charCodeAt(h)===47;++h);for(var $=e.length,d=$-h,Y=1;Y<o.length&&o.charCodeAt(Y)===47;++Y);for(var ie=o.length,fe=ie-Y,he=d<fe?d:fe,ne=-1,le=0;le<=he;++le){if(le===he){if(fe>he){if(o.charCodeAt(Y+le)===47)return o.slice(Y+le+1);if(le===0)return o.slice(Y+le)}else d>he&&(e.charCodeAt(h+le)===47?ne=le:le===0&&(ne=0));break}var de=e.charCodeAt(h+le),ce=o.charCodeAt(Y+le);if(de!==ce)break;de===47&&(ne=le)}var ge="";for(le=h+ne+1;le<=$;++le)(le===$||e.charCodeAt(le)===47)&&(ge.length===0?ge+="..":ge+="/..");return ge.length>0?ge+o.slice(Y+ne):(Y+=ne,o.charCodeAt(Y)===47&&++Y,o.slice(Y))},_makeLong:function(e){return e},dirname:function(e){if(assertPath(e),e.length===0)return".";for(var o=e.charCodeAt(0),h=o===47,$=-1,d=!0,Y=e.length-1;Y>=1;--Y)if(o=e.charCodeAt(Y),o===47){if(!d){$=Y;break}}else d=!1;return $===-1?h?"/":".":h&&$===1?"//":e.slice(0,$)},basename:function(e,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');assertPath(e);var h=0,$=-1,d=!0,Y;if(o!==void 0&&o.length>0&&o.length<=e.length){if(o.length===e.length&&o===e)return"";var ie=o.length-1,fe=-1;for(Y=e.length-1;Y>=0;--Y){var he=e.charCodeAt(Y);if(he===47){if(!d){h=Y+1;break}}else fe===-1&&(d=!1,fe=Y+1),ie>=0&&(he===o.charCodeAt(ie)?--ie===-1&&($=Y):(ie=-1,$=fe))}return h===$?$=fe:$===-1&&($=e.length),e.slice(h,$)}else{for(Y=e.length-1;Y>=0;--Y)if(e.charCodeAt(Y)===47){if(!d){h=Y+1;break}}else $===-1&&(d=!1,$=Y+1);return $===-1?"":e.slice(h,$)}},extname:function(e){assertPath(e);for(var o=-1,h=0,$=-1,d=!0,Y=0,ie=e.length-1;ie>=0;--ie){var fe=e.charCodeAt(ie);if(fe===47){if(!d){h=ie+1;break}continue}$===-1&&(d=!1,$=ie+1),fe===46?o===-1?o=ie:Y!==1&&(Y=1):o!==-1&&(Y=-1)}return o===-1||$===-1||Y===0||Y===1&&o===$-1&&o===h+1?"":e.slice(o,$)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return _format("/",e)},parse:function(e){assertPath(e);var o={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return o;var h=e.charCodeAt(0),$=h===47,d;$?(o.root="/",d=1):d=0;for(var Y=-1,ie=0,fe=-1,he=!0,ne=e.length-1,le=0;ne>=d;--ne){if(h=e.charCodeAt(ne),h===47){if(!he){ie=ne+1;break}continue}fe===-1&&(he=!1,fe=ne+1),h===46?Y===-1?Y=ne:le!==1&&(le=1):Y!==-1&&(le=-1)}return Y===-1||fe===-1||le===0||le===1&&Y===fe-1&&Y===ie+1?fe!==-1&&(ie===0&&$?o.base=o.name=e.slice(1,fe):o.base=o.name=e.slice(ie,fe)):(ie===0&&$?(o.name=e.slice(1,Y),o.base=e.slice(1,fe)):(o.name=e.slice(ie,Y),o.base=e.slice(ie,fe)),o.ext=e.slice(Y,fe)),ie>0?o.dir=e.slice(0,ie-1):$&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};posix.posix=posix;var pathBrowserify=posix,simpleConcat=function(a,e){var o=[];a.on("data",function(h){o.push(h)}),a.once("end",function(){e&&e(null,Buffer$E.concat(o)),e=null}),a.once("error",function(h){e&&e(h),e=null})},createTorrent$1={exports:{}},lib$4={exports:{}},util$4={exports:{}};(function(a){const e=a.exports;e.digitCount=function(h){const $=h<0?1:0;return h=Math.abs(Number(h||1)),Math.floor(Math.log10(h))+1+$},e.getType=function(h){return Buffer$E.isBuffer(h)?"buffer":ArrayBuffer.isView(h)?"arraybufferview":Array.isArray(h)?"array":h instanceof Number?"number":h instanceof Boolean?"boolean":h instanceof Set?"set":h instanceof Map?"map":h instanceof String?"string":h instanceof ArrayBuffer?"arraybuffer":typeof h}})(util$4);var utilExports=util$4.exports;const{getType:getType$1}=utilExports;function encode$4(a,e,o){const h=[];let $=null;return encode$4._encode(h,a),$=Buffer$E.concat(h),encode$4.bytes=$.length,Buffer$E.isBuffer(e)?($.copy(e,o),e):$}encode$4.bytes=-1;encode$4._floatConversionDetected=!1;encode$4._encode=function(a,e){if(e!=null)switch(getType$1(e)){case"buffer":encode$4.buffer(a,e);break;case"object":encode$4.dict(a,e);break;case"map":encode$4.dictMap(a,e);break;case"array":encode$4.list(a,e);break;case"set":encode$4.listSet(a,e);break;case"string":encode$4.string(a,e);break;case"number":encode$4.number(a,e);break;case"boolean":encode$4.number(a,e);break;case"arraybufferview":encode$4.buffer(a,Buffer$E.from(e.buffer,e.byteOffset,e.byteLength));break;case"arraybuffer":encode$4.buffer(a,Buffer$E.from(e));break}};const buffE=Buffer$E.from("e"),buffD=Buffer$E.from("d"),buffL=Buffer$E.from("l");encode$4.buffer=function(a,e){a.push(Buffer$E.from(e.length+":"),e)};encode$4.string=function(a,e){a.push(Buffer$E.from(Buffer$E.byteLength(e)+":"+e))};encode$4.number=function(a,e){const h=e/2147483648<<0,$=e%2147483648<<0,d=h*2147483648+$;a.push(Buffer$E.from("i"+d+"e")),d!==e&&!encode$4._floatConversionDetected&&(encode$4._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+e+'":','Bencoding only defines support for integers, value was converted to "'+d+'"'),console.trace())};encode$4.dict=function(a,e){a.push(buffD);let o=0,h;const $=Object.keys(e).sort(),d=$.length;for(;o<d;o++)h=$[o],e[h]!=null&&(encode$4.string(a,h),encode$4._encode(a,e[h]));a.push(buffE)};encode$4.dictMap=function(a,e){a.push(buffD);const o=Array.from(e.keys()).sort();for(const h of o)e.get(h)!=null&&(Buffer$E.isBuffer(h)?encode$4._encode(a,h):encode$4.string(a,String(h)),encode$4._encode(a,e.get(h)));a.push(buffE)};encode$4.list=function(a,e){let o=0;const h=e.length;for(a.push(buffL);o<h;o++)e[o]!=null&&encode$4._encode(a,e[o]);a.push(buffE)};encode$4.listSet=function(a,e){a.push(buffL);for(const o of e)o!=null&&encode$4._encode(a,o);a.push(buffE)};var encode_1=encode$4;const INTEGER_START=105,STRING_DELIM=58,DICTIONARY_START=100,LIST_START=108,END_OF_TYPE=101;function getIntFromBuffer(a,e,o){let h=0,$=1;for(let d=e;d<o;d++){const Y=a[d];if(Y<58&&Y>=48){h=h*10+(Y-48);continue}if(!(d===e&&Y===43)){if(d===e&&Y===45){$=-1;continue}if(Y===46)break;throw new Error("not a number: buffer["+d+"] = "+Y)}}return h*$}function decode$4(a,e,o,h){return a==null||a.length===0?null:(typeof e!="number"&&h==null&&(h=e,e=void 0),typeof o!="number"&&h==null&&(h=o,o=void 0),decode$4.position=0,decode$4.encoding=h||null,decode$4.data=Buffer$E.isBuffer(a)?a.slice(e,o):Buffer$E.from(a),decode$4.bytes=decode$4.data.length,decode$4.next())}decode$4.bytes=0;decode$4.position=0;decode$4.data=null;decode$4.encoding=null;decode$4.next=function(){switch(decode$4.data[decode$4.position]){case DICTIONARY_START:return decode$4.dictionary();case LIST_START:return decode$4.list();case INTEGER_START:return decode$4.integer();default:return decode$4.buffer()}};decode$4.find=function(a){let e=decode$4.position;const o=decode$4.data.length,h=decode$4.data;for(;e<o;){if(h[e]===a)return e;e++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(a)+'" [0x'+a.toString(16)+"]")};decode$4.dictionary=function(){decode$4.position++;const a={};for(;decode$4.data[decode$4.position]!==END_OF_TYPE;)a[decode$4.buffer()]=decode$4.next();return decode$4.position++,a};decode$4.list=function(){decode$4.position++;const a=[];for(;decode$4.data[decode$4.position]!==END_OF_TYPE;)a.push(decode$4.next());return decode$4.position++,a};decode$4.integer=function(){const a=decode$4.find(END_OF_TYPE),e=getIntFromBuffer(decode$4.data,decode$4.position+1,a);return decode$4.position+=a+1-decode$4.position,e};decode$4.buffer=function(){let a=decode$4.find(STRING_DELIM);const e=getIntFromBuffer(decode$4.data,decode$4.position,a),o=++a+e;return decode$4.position=o,decode$4.encoding?decode$4.data.toString(decode$4.encoding,a,o):decode$4.data.slice(a,o)};var decode_1=decode$4;const{digitCount,getType}=utilExports;function listLength(a){let e=2;for(const o of a)e+=encodingLength(o);return e}function mapLength(a){let e=2;for(const[o,h]of a){const $=Buffer$E.byteLength(o);e+=digitCount($)+1+$,e+=encodingLength(h)}return e}function objectLength(a){let e=2;const o=Object.keys(a);for(let h=0;h<o.length;h++){const $=Buffer$E.byteLength(o[h]);e+=digitCount($)+1+$,e+=encodingLength(a[o[h]])}return e}function stringLength(a){const e=Buffer$E.byteLength(a);return digitCount(e)+1+e}function arrayBufferLength(a){const e=a.byteLength-a.byteOffset;return digitCount(e)+1+e}function encodingLength(a){if(a==null)return 0;const o=getType(a);switch(o){case"buffer":return digitCount(a.length)+1+a.length;case"arraybufferview":return arrayBufferLength(a);case"string":return stringLength(a);case"array":case"set":return listLength(a);case"number":return 1+digitCount(Math.floor(a))+1;case"bigint":return 1+a.toString().length+1;case"object":return objectLength(a);case"map":return mapLength(a);default:throw new TypeError(`Unsupported value of type "${o}"`)}}var encodingLength_1=encodingLength;(function(a){const e=a.exports;e.encode=encode_1,e.decode=decode_1,e.byteLength=e.encodingLength=encodingLength_1})(lib$4);var libExports=lib$4.exports;function concat$2(a,e){if(typeof a[0]=="string")return a.join("");if(typeof a[0]=="number")return new Uint8Array(a);const o=new Uint8Array(e);let h=0;for(let $=0,d=a.length;$<d;$++){const Y=a[$];o.set(Y,h),h+=Y.byteLength||Y.length}return o}var blockIterator=async function*(a,e=512,o={}){typeof e=="object"&&(o=e,e=o.size);let{nopad:h,zeroPadding:$=!0}=o;h&&($=!1);let d=[],Y=0;for await(const ie of a)if(Y+=ie.byteLength||ie.length||1,d.push(ie),Y>=e){const fe=concat$2(d,Y);let he=0;for(;Y>=e;)yield fe.slice(he,he+e),Y-=e,he+=e;d=[fe.slice(he,fe.length)]}Y&&(yield concat$2(d,$?e:Y))},pieceLength=length;function length(a){return Math.max(16384,1<<Math.log2(a<1024?1:a/1024)+.5|0)}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$15=getAugmentedNamespace(__viteBrowserExternal$1);var junk={exports:{}};(function(a,e){const o=["^npm-debug\\.log$","^\\..*\\.swp$","^\\.DS_Store$","^\\.AppleDouble$","^\\.LSOverride$","^Icon\\r$","^\\._.*","^\\.Spotlight-V100(?:$|\\/)","\\.Trashes","^__MACOSX$","~$","^Thumbs\\.db$","^ehthumbs\\.db$","^Desktop\\.ini$","@eaDir$"];e.re=()=>{throw new Error("`junk.re` was renamed to `junk.regex`")},e.regex=new RegExp(o.join("|")),e.is=h=>e.regex.test(h),e.not=h=>!e.is(h),e.default=a.exports})(junk,junk.exports);var junkExports=junk.exports,joinAsyncIterator=async function*(a){for(let e of a)typeof e=="function"&&(e=e()),yield*e};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let promise;var queueMicrotask_1=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:commonjsGlobal):a=>(promise||(promise=Promise.resolve())).then(a).catch(e=>setTimeout(()=>{throw e},0));/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var runParallel_1=runParallel;const queueMicrotask$d=queueMicrotask_1;function runParallel(a,e){let o,h,$,d=!0;Array.isArray(a)?(o=[],h=a.length):($=Object.keys(a),o={},h=$.length);function Y(fe){function he(){e&&e(fe,o),e=null}d?queueMicrotask$d(he):he()}function ie(fe,he,ne){o[fe]=ne,(--h===0||he)&&Y(he)}h?$?$.forEach(function(fe){a[fe](function(he,ne){ie(fe,he,ne)})}):a.forEach(function(fe,he){fe(function(ne,le){ie(he,ne,le)})}):Y(null),d=!1}var browser$g={exports:{}},rusha$1={exports:{}};(function(a,e){(function(h,$){a.exports=$()})(typeof self<"u"?self:commonjsGlobal,function(){return function(o){var h={};function $(d){if(h[d])return h[d].exports;var Y=h[d]={i:d,l:!1,exports:{}};return o[d].call(Y.exports,Y,Y.exports,$),Y.l=!0,Y.exports}return $.m=o,$.c=h,$.d=function(d,Y,ie){$.o(d,Y)||Object.defineProperty(d,Y,{configurable:!1,enumerable:!0,get:ie})},$.n=function(d){var Y=d&&d.__esModule?function(){return d.default}:function(){return d};return $.d(Y,"a",Y),Y},$.o=function(d,Y){return Object.prototype.hasOwnProperty.call(d,Y)},$.p="",$($.s=3)}([function(o,h,$){function d(Ae,Ee){if(!(Ae instanceof Ee))throw new TypeError("Cannot call a class as a function")}var Y=$(5),ie=$(1),fe=ie.toHex,he=ie.ceilHeapSize,ne=$(6),le=function(Ae){for(Ae+=9;Ae%64>0;Ae+=1);return Ae},de=function(Ae,Ee){var we=new Uint8Array(Ae.buffer),pe=Ee%4,me=Ee-pe;switch(pe){case 0:we[me+3]=0;case 1:we[me+2]=0;case 2:we[me+1]=0;case 3:we[me+0]=0}for(var Te=(Ee>>2)+1;Te<Ae.length;Te++)Ae[Te]=0},ce=function(Ae,Ee,we){Ae[Ee>>2]|=128<<24-(Ee%4<<3),Ae[((Ee>>2)+2&-16)+14]=we/(1<<29)|0,Ae[((Ee>>2)+2&-16)+15]=we<<3},ge=function(Ae,Ee){var we=new Int32Array(Ae,Ee+320,5),pe=new Int32Array(5),me=new DataView(pe.buffer);return me.setInt32(0,we[0],!1),me.setInt32(4,we[1],!1),me.setInt32(8,we[2],!1),me.setInt32(12,we[3],!1),me.setInt32(16,we[4],!1),pe},xe=function(){function Ae(Ee){if(d(this,Ae),Ee=Ee||64*1024,Ee%64>0)throw new Error("Chunk size must be a multiple of 128 bit");this._offset=0,this._maxChunkLen=Ee,this._padMaxChunkLen=le(Ee),this._heap=new ArrayBuffer(he(this._padMaxChunkLen+320+20)),this._h32=new Int32Array(this._heap),this._h8=new Int8Array(this._heap),this._core=new Y({Int32Array},{},this._heap)}return Ae.prototype._initState=function(we,pe){this._offset=0;var me=new Int32Array(we,pe+320,5);me[0]=1732584193,me[1]=-271733879,me[2]=-1732584194,me[3]=271733878,me[4]=-1009589776},Ae.prototype._padChunk=function(we,pe){var me=le(we),Te=new Int32Array(this._heap,0,me>>2);return de(Te,we),ce(Te,we,pe),me},Ae.prototype._write=function(we,pe,me,Te){ne(we,this._h8,this._h32,pe,me,Te||0)},Ae.prototype._coreCall=function(we,pe,me,Te,Pe){var Le=me;this._write(we,pe,me),Pe&&(Le=this._padChunk(me,Te)),this._core.hash(Le,this._padMaxChunkLen)},Ae.prototype.rawDigest=function(we){var pe=we.byteLength||we.length||we.size||0;this._initState(this._heap,this._padMaxChunkLen);var me=0,Te=this._maxChunkLen;for(me=0;pe>me+Te;me+=Te)this._coreCall(we,me,Te,pe,!1);return this._coreCall(we,me,pe-me,pe,!0),ge(this._heap,this._padMaxChunkLen)},Ae.prototype.digest=function(we){return fe(this.rawDigest(we).buffer)},Ae.prototype.digestFromString=function(we){return this.digest(we)},Ae.prototype.digestFromBuffer=function(we){return this.digest(we)},Ae.prototype.digestFromArrayBuffer=function(we){return this.digest(we)},Ae.prototype.resetState=function(){return this._initState(this._heap,this._padMaxChunkLen),this},Ae.prototype.append=function(we){var pe=0,me=we.byteLength||we.length||we.size||0,Te=this._offset%this._maxChunkLen,Pe=void 0;for(this._offset+=me;pe<me;)Pe=Math.min(me-pe,this._maxChunkLen-Te),this._write(we,pe,Pe,Te),Te+=Pe,pe+=Pe,Te===this._maxChunkLen&&(this._core.hash(this._maxChunkLen,this._padMaxChunkLen),Te=0);return this},Ae.prototype.getState=function(){var we=this._offset%this._maxChunkLen,pe=void 0;if(we)pe=this._heap.slice(0);else{var me=new Int32Array(this._heap,this._padMaxChunkLen+320,5);pe=me.buffer.slice(me.byteOffset,me.byteOffset+me.byteLength)}return{offset:this._offset,heap:pe}},Ae.prototype.setState=function(we){if(this._offset=we.offset,we.heap.byteLength===20){var pe=new Int32Array(this._heap,this._padMaxChunkLen+320,5);pe.set(new Int32Array(we.heap))}else this._h32.set(new Int32Array(we.heap));return this},Ae.prototype.rawEnd=function(){var we=this._offset,pe=we%this._maxChunkLen,me=this._padChunk(pe,we);this._core.hash(me,this._padMaxChunkLen);var Te=ge(this._heap,this._padMaxChunkLen);return this._initState(this._heap,this._padMaxChunkLen),Te},Ae.prototype.end=function(){return fe(this.rawEnd().buffer)},Ae}();o.exports=xe,o.exports._core=Y},function(o,h){for(var $=new Array(256),d=0;d<256;d++)$[d]=(d<16?"0":"")+d.toString(16);o.exports.toHex=function(Y){for(var ie=new Uint8Array(Y),fe=new Array(Y.byteLength),he=0;he<fe.length;he++)fe[he]=$[ie[he]];return fe.join("")},o.exports.ceilHeapSize=function(Y){var ie=0;if(Y<=65536)return 65536;if(Y<16777216)for(ie=1;ie<Y;ie=ie<<1);else for(ie=16777216;ie<Y;ie+=16777216);return ie},o.exports.isDedicatedWorkerScope=function(Y){var ie="WorkerGlobalScope"in Y&&Y instanceof Y.WorkerGlobalScope,fe="SharedWorkerGlobalScope"in Y&&Y instanceof Y.SharedWorkerGlobalScope,he="ServiceWorkerGlobalScope"in Y&&Y instanceof Y.ServiceWorkerGlobalScope;return ie&&!fe&&!he}},function(o,h,$){o.exports=function(){var d=$(0),Y=function(he,ne,le){try{return le(null,he.digest(ne))}catch(de){return le(de)}},ie=function(he,ne,le,de,ce){var ge=new self.FileReader;ge.onloadend=function(){if(ge.error)return ce(ge.error);var Ae=ge.result;ne+=ge.result.byteLength;try{he.append(Ae)}catch(Ee){ce(Ee);return}ne<de.size?ie(he,ne,le,de,ce):ce(null,he.end())},ge.readAsArrayBuffer(de.slice(ne,ne+le))},fe=!0;return self.onmessage=function(he){if(fe){var ne=he.data.data,le=he.data.file,de=he.data.id;if(!(typeof de>"u")&&!(!le&&!ne)){var ce=he.data.blockSize||4*1024*1024,ge=new d(ce);ge.resetState();var xe=function(Ae,Ee){Ae?self.postMessage({id:de,error:Ae.name}):self.postMessage({id:de,hash:Ee})};ne&&Y(ge,ne,xe),le&&ie(ge,0,ce,le,xe)}}},function(){fe=!1}}},function(o,h,$){var d=$(4),Y=$(0),ie=$(7),fe=$(2),he=$(1),ne=he.isDedicatedWorkerScope,le=typeof self<"u"&&ne(self);Y.disableWorkerBehaviour=le?fe():function(){},Y.createWorker=function(){var de=d(2),ce=de.terminate;return de.terminate=function(){URL.revokeObjectURL(de.objectURL),ce.call(de)},de},Y.createHash=ie,o.exports=Y},function(o,h,$){function d(de){var ce={};function ge(Ae){if(ce[Ae])return ce[Ae].exports;var Ee=ce[Ae]={i:Ae,l:!1,exports:{}};return de[Ae].call(Ee.exports,Ee,Ee.exports,ge),Ee.l=!0,Ee.exports}ge.m=de,ge.c=ce,ge.i=function(Ae){return Ae},ge.d=function(Ae,Ee,we){ge.o(Ae,Ee)||Object.defineProperty(Ae,Ee,{configurable:!1,enumerable:!0,get:we})},ge.r=function(Ae){Object.defineProperty(Ae,"__esModule",{value:!0})},ge.n=function(Ae){var Ee=Ae&&Ae.__esModule?function(){return Ae.default}:function(){return Ae};return ge.d(Ee,"a",Ee),Ee},ge.o=function(Ae,Ee){return Object.prototype.hasOwnProperty.call(Ae,Ee)},ge.p="/",ge.oe=function(Ae){throw console.error(Ae),Ae};var xe=ge(ge.s=ENTRY_MODULE);return xe.default||xe}var Y="[\\.|\\-|\\+|\\w|/|@]+",ie="\\((/\\*.*?\\*/)?s?.*?("+Y+").*?\\)";function fe(de){return(de+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function he(de,ce,ge){var xe={};xe[ge]=[];var Ae=ce.toString(),Ee=Ae.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!Ee)return xe;for(var we=Ee[1],pe=new RegExp("(\\\\n|\\W)"+fe(we)+ie,"g"),me;me=pe.exec(Ae);)me[3]!=="dll-reference"&&xe[ge].push(me[3]);for(pe=new RegExp("\\("+fe(we)+'\\("(dll-reference\\s('+Y+'))"\\)\\)'+ie,"g");me=pe.exec(Ae);)de[me[2]]||(xe[ge].push(me[1]),de[me[2]]=$(me[1]).m),xe[me[2]]=xe[me[2]]||[],xe[me[2]].push(me[4]);return xe}function ne(de){var ce=Object.keys(de);return ce.reduce(function(ge,xe){return ge||de[xe].length>0},!1)}function le(de,ce){for(var ge={main:[ce]},xe={main:[]},Ae={main:{}};ne(ge);)for(var Ee=Object.keys(ge),we=0;we<Ee.length;we++){var pe=Ee[we],me=ge[pe],Te=me.pop();if(Ae[pe]=Ae[pe]||{},!(Ae[pe][Te]||!de[pe][Te])){Ae[pe][Te]=!0,xe[pe]=xe[pe]||[],xe[pe].push(Te);for(var Pe=he(de,de[pe][Te],pe),Le=Object.keys(Pe),qe=0;qe<Le.length;qe++)ge[Le[qe]]=ge[Le[qe]]||[],ge[Le[qe]]=ge[Le[qe]].concat(Pe[Le[qe]])}}return xe}o.exports=function(de,ce){ce=ce||{};var ge={main:$.m},xe=ce.all?{main:Object.keys(ge)}:le(ge,de),Ae="";Object.keys(xe).filter(function(Te){return Te!=="main"}).forEach(function(Te){for(var Pe=0;xe[Te][Pe];)Pe++;xe[Te].push(Pe),ge[Te][Pe]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",Ae=Ae+"var "+Te+" = ("+d.toString().replace("ENTRY_MODULE",JSON.stringify(Pe))+")({"+xe[Te].map(function(Le){return""+JSON.stringify(Le)+": "+ge[Te][Le].toString()}).join(",")+`});
`}),Ae=Ae+"("+d.toString().replace("ENTRY_MODULE",JSON.stringify(de))+")({"+xe.main.map(function(Te){return""+JSON.stringify(Te)+": "+ge.main[Te].toString()}).join(",")+"})(self);";var Ee=new window.Blob([Ae],{type:"text/javascript"});if(ce.bare)return Ee;var we=window.URL||window.webkitURL||window.mozURL||window.msURL,pe=we.createObjectURL(Ee),me=new window.Worker(pe);return me.objectURL=pe,me}},function(o,h){o.exports=function(d,Y,ie){var fe=new d.Int32Array(ie);function he(ne,le){ne=ne|0,le=le|0;var de=0,ce=0,ge=0,xe=0,Ae=0,Ee=0,we=0,pe=0,me=0,Te=0,Pe=0,Le=0,qe=0,Ce=0;for(ge=fe[le+320>>2]|0,Ae=fe[le+324>>2]|0,we=fe[le+328>>2]|0,me=fe[le+332>>2]|0,Pe=fe[le+336>>2]|0,de=0;(de|0)<(ne|0);de=de+64|0){for(xe=ge,Ee=Ae,pe=we,Te=me,Le=Pe,ce=0;(ce|0)<64;ce=ce+4|0)Ce=fe[de+ce>>2]|0,qe=((ge<<5|ge>>>27)+(Ae&we|~Ae&me)|0)+((Ce+Pe|0)+1518500249|0)|0,Pe=me,me=we,we=Ae<<30|Ae>>>2,Ae=ge,ge=qe,fe[ne+ce>>2]=Ce;for(ce=ne+64|0;(ce|0)<(ne+80|0);ce=ce+4|0)Ce=(fe[ce-12>>2]^fe[ce-32>>2]^fe[ce-56>>2]^fe[ce-64>>2])<<1|(fe[ce-12>>2]^fe[ce-32>>2]^fe[ce-56>>2]^fe[ce-64>>2])>>>31,qe=((ge<<5|ge>>>27)+(Ae&we|~Ae&me)|0)+((Ce+Pe|0)+1518500249|0)|0,Pe=me,me=we,we=Ae<<30|Ae>>>2,Ae=ge,ge=qe,fe[ce>>2]=Ce;for(ce=ne+80|0;(ce|0)<(ne+160|0);ce=ce+4|0)Ce=(fe[ce-12>>2]^fe[ce-32>>2]^fe[ce-56>>2]^fe[ce-64>>2])<<1|(fe[ce-12>>2]^fe[ce-32>>2]^fe[ce-56>>2]^fe[ce-64>>2])>>>31,qe=((ge<<5|ge>>>27)+(Ae^we^me)|0)+((Ce+Pe|0)+1859775393|0)|0,Pe=me,me=we,we=Ae<<30|Ae>>>2,Ae=ge,ge=qe,fe[ce>>2]=Ce;for(ce=ne+160|0;(ce|0)<(ne+240|0);ce=ce+4|0)Ce=(fe[ce-12>>2]^fe[ce-32>>2]^fe[ce-56>>2]^fe[ce-64>>2])<<1|(fe[ce-12>>2]^fe[ce-32>>2]^fe[ce-56>>2]^fe[ce-64>>2])>>>31,qe=((ge<<5|ge>>>27)+(Ae&we|Ae&me|we&me)|0)+((Ce+Pe|0)-1894007588|0)|0,Pe=me,me=we,we=Ae<<30|Ae>>>2,Ae=ge,ge=qe,fe[ce>>2]=Ce;for(ce=ne+240|0;(ce|0)<(ne+320|0);ce=ce+4|0)Ce=(fe[ce-12>>2]^fe[ce-32>>2]^fe[ce-56>>2]^fe[ce-64>>2])<<1|(fe[ce-12>>2]^fe[ce-32>>2]^fe[ce-56>>2]^fe[ce-64>>2])>>>31,qe=((ge<<5|ge>>>27)+(Ae^we^me)|0)+((Ce+Pe|0)-899497514|0)|0,Pe=me,me=we,we=Ae<<30|Ae>>>2,Ae=ge,ge=qe,fe[ce>>2]=Ce;ge=ge+xe|0,Ae=Ae+Ee|0,we=we+pe|0,me=me+Te|0,Pe=Pe+Le|0}fe[le+320>>2]=ge,fe[le+324>>2]=Ae,fe[le+328>>2]=we,fe[le+332>>2]=me,fe[le+336>>2]=Pe}return{hash:he}}},function(o,h){var $=this,d=void 0;typeof self<"u"&&typeof self.FileReaderSync<"u"&&(d=new self.FileReaderSync);var Y=function(he,ne,le,de,ce,ge){var xe=void 0,Ae=ge%4,Ee=(ce+Ae)%4,we=ce-Ee;switch(Ae){case 0:ne[ge]=he.charCodeAt(de+3);case 1:ne[ge+1-(Ae<<1)|0]=he.charCodeAt(de+2);case 2:ne[ge+2-(Ae<<1)|0]=he.charCodeAt(de+1);case 3:ne[ge+3-(Ae<<1)|0]=he.charCodeAt(de)}if(!(ce<Ee+(4-Ae))){for(xe=4-Ae;xe<we;xe=xe+4|0)le[ge+xe>>2]=he.charCodeAt(de+xe)<<24|he.charCodeAt(de+xe+1)<<16|he.charCodeAt(de+xe+2)<<8|he.charCodeAt(de+xe+3);switch(Ee){case 3:ne[ge+we+1|0]=he.charCodeAt(de+we+2);case 2:ne[ge+we+2|0]=he.charCodeAt(de+we+1);case 1:ne[ge+we+3|0]=he.charCodeAt(de+we)}}},ie=function(he,ne,le,de,ce,ge){var xe=void 0,Ae=ge%4,Ee=(ce+Ae)%4,we=ce-Ee;switch(Ae){case 0:ne[ge]=he[de+3];case 1:ne[ge+1-(Ae<<1)|0]=he[de+2];case 2:ne[ge+2-(Ae<<1)|0]=he[de+1];case 3:ne[ge+3-(Ae<<1)|0]=he[de]}if(!(ce<Ee+(4-Ae))){for(xe=4-Ae;xe<we;xe=xe+4|0)le[ge+xe>>2|0]=he[de+xe]<<24|he[de+xe+1]<<16|he[de+xe+2]<<8|he[de+xe+3];switch(Ee){case 3:ne[ge+we+1|0]=he[de+we+2];case 2:ne[ge+we+2|0]=he[de+we+1];case 1:ne[ge+we+3|0]=he[de+we]}}},fe=function(he,ne,le,de,ce,ge){var xe=void 0,Ae=ge%4,Ee=(ce+Ae)%4,we=ce-Ee,pe=new Uint8Array(d.readAsArrayBuffer(he.slice(de,de+ce)));switch(Ae){case 0:ne[ge]=pe[3];case 1:ne[ge+1-(Ae<<1)|0]=pe[2];case 2:ne[ge+2-(Ae<<1)|0]=pe[1];case 3:ne[ge+3-(Ae<<1)|0]=pe[0]}if(!(ce<Ee+(4-Ae))){for(xe=4-Ae;xe<we;xe=xe+4|0)le[ge+xe>>2|0]=pe[xe]<<24|pe[xe+1]<<16|pe[xe+2]<<8|pe[xe+3];switch(Ee){case 3:ne[ge+we+1|0]=pe[we+2];case 2:ne[ge+we+2|0]=pe[we+1];case 1:ne[ge+we+3|0]=pe[we]}}};o.exports=function(he,ne,le,de,ce,ge){if(typeof he=="string")return Y(he,ne,le,de,ce,ge);if(he instanceof Array||$&&$.Buffer&&$.Buffer.isBuffer(he))return ie(he,ne,le,de,ce,ge);if(he instanceof ArrayBuffer)return ie(new Uint8Array(he),ne,le,de,ce,ge);if(he.buffer instanceof ArrayBuffer)return ie(new Uint8Array(he.buffer,he.byteOffset,he.byteLength),ne,le,de,ce,ge);if(he instanceof Blob)return fe(he,ne,le,de,ce,ge);throw new Error("Unsupported data type.")}},function(o,h,$){var d=function(){function le(de,ce){for(var ge=0;ge<ce.length;ge++){var xe=ce[ge];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(de,xe.key,xe)}}return function(de,ce,ge){return ce&&le(de.prototype,ce),ge&&le(de,ge),de}}();function Y(le,de){if(!(le instanceof de))throw new TypeError("Cannot call a class as a function")}var ie=$(0),fe=$(1),he=fe.toHex,ne=function(){function le(){Y(this,le),this._rusha=new ie,this._rusha.resetState()}return le.prototype.update=function(ce){return this._rusha.append(ce),this},le.prototype.digest=function(ce){var ge=this._rusha.rawEnd().buffer;if(!ce)return ge;if(ce==="hex")return he(ge);throw new Error("unsupported digest encoding")},d(le,[{key:"state",get:function(){return this._rusha.getState()},set:function(de){this._rusha.setState(de)}}]),le}();o.exports=function(){return new ne}}])})})(rusha$1);var rushaExports=rusha$1.exports;const Rusha$1=rushaExports;let worker,nextTaskId,cbs;function init(){worker=Rusha$1.createWorker(),nextTaskId=1,cbs={},worker.onmessage=function(e){const o=e.data.id,h=cbs[o];delete cbs[o],e.data.error!=null?h(new Error("Rusha worker error: "+e.data.error)):h(null,e.data.hash)}}function sha1$8(a,e){worker||init(),cbs[nextTaskId]=e,worker.postMessage({id:nextTaskId,data:a}),nextTaskId+=1}var rushaWorkerSha1$1=sha1$8;const Rusha=rushaExports,rushaWorkerSha1=rushaWorkerSha1$1,rusha=new Rusha,scope=typeof window<"u"?window:self,crypto$3=scope.crypto||scope.msCrypto||{};let subtle$1=crypto$3.subtle||crypto$3.webkitSubtle;function sha1sync(a){return rusha.digest(a)}try{subtle$1.digest({name:"sha-1"},new Uint8Array).catch(function(){subtle$1=!1})}catch{subtle$1=!1}function sha1$7(a,e){if(!subtle$1){typeof window<"u"?rushaWorkerSha1(a,function(h,$){if(h){e(sha1sync(a));return}e($)}):queueMicrotask(()=>e(sha1sync(a)));return}typeof a=="string"&&(a=uint8array(a)),subtle$1.digest({name:"sha-1"},a).then(function(h){e(hex(new Uint8Array(h)))},function(){e(sha1sync(a))})}function uint8array(a){const e=a.length,o=new Uint8Array(e);for(let h=0;h<e;h++)o[h]=a.charCodeAt(h);return o}function hex(a){const e=a.length,o=[];for(let h=0;h<e;h++){const $=a[h];o.push(($>>>4).toString(16)),o.push(($&15).toString(16))}return o.join("")}browser$g.exports=sha1$7;browser$g.exports.sync=sha1sync;var browserExports$2=browser$g.exports;typeof ReadableStream<"u"&&!ReadableStream.prototype[Symbol.asyncIterator]&&(ReadableStream.prototype[Symbol.asyncIterator]=function(){const a=this.getReader();let e=a.read();return{next(){const o=e;return e=a.read(),o},async return(o){return await e,a.releaseLock(),{done:!0,value:o}},async throw(o){throw await this.return(),o},[Symbol.asyncIterator](){return this}}});(function(a){const e=libExports,o=blockIterator,h=pieceLength,$=pathBrowserify,d=require$$15,Y=junkExports,ie=joinAsyncIterator,fe=runParallel_1,he=queueMicrotask_1,ne=browserExports$2,le=require$$15,de=[["udp://tracker.leechers-paradise.org:6969"],["udp://tracker.coppersurfer.tk:6969"],["udp://tracker.opentrackr.org:1337"],["udp://explodie.org:6969"],["udp://tracker.empire-js.us:1337"],["wss://tracker.btorrent.xyz"],["wss://tracker.openwebtorrent.com"]];function ce(ze,oe,c){typeof oe=="function"&&([oe,c]=[c,oe]),oe=oe?Object.assign({},oe):{},Ae(ze,oe,(b,j,Z)=>{if(b)return c(b);oe.singleFileTorrent=Z,pe(j,oe,c)})}function ge(ze,oe,c){typeof oe=="function"&&([oe,c]=[c,oe]),oe=oe?Object.assign({},oe):{},Ae(ze,oe,c)}const xe=Symbol("itemPath");function Ae(ze,oe,c){if(Le(ze)&&(ze=Array.from(ze)),Array.isArray(ze)||(ze=[ze]),ze.length===0)throw new Error("invalid input type");ze.forEach(se=>{if(se==null)throw new Error(`invalid input type: ${se}`)}),ze=ze.map(se=>Pe(se)&&typeof se.path=="string"&&typeof le=="function"?se.path:se),ze.length===1&&typeof ze[0]!="string"&&!ze[0].name&&(ze[0].name=oe.name);let b=null;ze.forEach((se,ee)=>{if(typeof se=="string")return;let _=se.fullPath||se.name;_||(_=`Unknown File ${ee+1}`,se.unknownName=!0),se[xe]=_.split("/"),se[xe][0]||se[xe].shift(),se[xe].length<2?b=null:ee===0&&ze.length>1?b=se[xe][0]:se[xe][0]!==b&&(b=null)}),(oe.filterJunkFiles===void 0?!0:oe.filterJunkFiles)&&(ze=ze.filter(se=>typeof se=="string"?!0:!me(se[xe]))),b&&ze.forEach(se=>{const ee=(Buffer$E.isBuffer(se)||qe(se))&&!se[xe];typeof se=="string"||ee||se[xe].shift()}),!oe.name&&b&&(oe.name=b),oe.name||ze.some(se=>typeof se=="string"?(oe.name=$.basename(se),!0):se.unknownName?!1:(oe.name=se[xe][se[xe].length-1],!0)),oe.name||(oe.name=`Unnamed Torrent ${Date.now()}`);const Z=ze.reduce((se,ee)=>se+ +(typeof ee=="string"),0);let re=ze.length===1;if(ze.length===1&&typeof ze[0]=="string"){if(typeof le!="function")throw new Error("filesystem paths do not work in the browser");d(ze[0],(se,ee)=>{if(se)return c(se);re=ee,ae()})}else he(ae);function ae(){fe(ze.map(se=>ee=>{const _={};if(Pe(se))_.getStream=se.stream(),_.length=se.size;else if(Buffer$E.isBuffer(se))_.getStream=[se],_.length=se.length;else if(qe(se))_.getStream=Ce(se,_),_.length=0;else if(typeof se=="string"){if(typeof le!="function")throw new Error("filesystem paths do not work in the browser");const te=Z>1||re;le(se,te,ee);return}else throw new Error("invalid input type");_.path=se[xe],ee(null,_)}),(se,ee)=>{if(se)return c(se);ee=ee.flat(),c(null,ee,re)})}}const Ee=5;async function we(ze,oe,c,b,j){const Z=[];let re=0,ae=0;const se=ze.map(be=>be.getStream),ee=b.onProgress;let _=0,te=0,ue=!1;const ve=o(ie(se),oe,{zeroPadding:!1});try{for await(const be of ve)await new Promise(Me=>{re+=be.length;const Se=te;++te,++_<Ee&&Me(),ne(be,_e=>{Z[Se]=_e,--_,ae+=be.length,ee&&ee(ae,c),Me(),ue&&_===0&&j(null,Buffer$E.from(Z.join(""),"hex"),re)})});if(_===0)return j(null,Buffer$E.from(Z.join(""),"hex"),re);ue=!0}catch(be){j(be)}}function pe(ze,oe,c){let b=oe.announceList;b||(typeof oe.announce=="string"?b=[[oe.announce]]:Array.isArray(oe.announce)&&(b=oe.announce.map(ae=>[ae]))),b||(b=[]),globalThis.WEBTORRENT_ANNOUNCE&&(typeof globalThis.WEBTORRENT_ANNOUNCE=="string"?b.push([[globalThis.WEBTORRENT_ANNOUNCE]]):Array.isArray(globalThis.WEBTORRENT_ANNOUNCE)&&(b=b.concat(globalThis.WEBTORRENT_ANNOUNCE.map(ae=>[ae])))),oe.announce===void 0&&oe.announceList===void 0&&(b=b.concat(a.exports.announceList)),typeof oe.urlList=="string"&&(oe.urlList=[oe.urlList]);const j={info:{name:oe.name},"creation date":Math.ceil((Number(oe.creationDate)||Date.now())/1e3),encoding:"UTF-8"};b.length!==0&&(j.announce=b[0][0],j["announce-list"]=b),oe.comment!==void 0&&(j.comment=oe.comment),oe.createdBy!==void 0&&(j["created by"]=oe.createdBy),oe.private!==void 0&&(j.info.private=Number(oe.private)),oe.info!==void 0&&Object.assign(j.info,oe.info),oe.sslCert!==void 0&&(j.info["ssl-cert"]=oe.sslCert),oe.urlList!==void 0&&(j["url-list"]=oe.urlList);const Z=ze.reduce(Te,0),re=oe.pieceLength||h(Z);j.info["piece length"]=re,we(ze,re,Z,oe,(ae,se,ee)=>{if(ae)return c(ae);j.info.pieces=se,ze.forEach(_=>{delete _.getStream}),oe.singleFileTorrent?j.info.length=ee:j.info.files=ze,c(null,e.encode(j))})}function me(ze){const oe=ze[ze.length-1];return oe[0]==="."&&Y.is(oe)}function Te(ze,oe){return ze+oe.length}function Pe(ze){return typeof Blob<"u"&&ze instanceof Blob}function Le(ze){return typeof FileList<"u"&&ze instanceof FileList}function qe(ze){return typeof ze=="object"&&ze!=null&&typeof ze.pipe=="function"}async function*Ce(ze,oe){for await(const c of ze)oe.length+=c.length,yield c}a.exports=ce,a.exports.parseInput=ge,a.exports.announceList=de,a.exports.isJunkPath=me})(createTorrent$1);var createTorrentExports=createTorrent$1.exports,browser$f={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var a=1e3,e=a*60,o=e*60,h=o*24,$=h*7,d=h*365.25;ms=function(ne,le){le=le||{};var de=typeof ne;if(de==="string"&&ne.length>0)return Y(ne);if(de==="number"&&isFinite(ne))return le.long?fe(ne):ie(ne);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(ne))};function Y(ne){if(ne=String(ne),!(ne.length>100)){var le=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(ne);if(le){var de=parseFloat(le[1]),ce=(le[2]||"ms").toLowerCase();switch(ce){case"years":case"year":case"yrs":case"yr":case"y":return de*d;case"weeks":case"week":case"w":return de*$;case"days":case"day":case"d":return de*h;case"hours":case"hour":case"hrs":case"hr":case"h":return de*o;case"minutes":case"minute":case"mins":case"min":case"m":return de*e;case"seconds":case"second":case"secs":case"sec":case"s":return de*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return de;default:return}}}}function ie(ne){var le=Math.abs(ne);return le>=h?Math.round(ne/h)+"d":le>=o?Math.round(ne/o)+"h":le>=e?Math.round(ne/e)+"m":le>=a?Math.round(ne/a)+"s":ne+"ms"}function fe(ne){var le=Math.abs(ne);return le>=h?he(ne,le,h,"day"):le>=o?he(ne,le,o,"hour"):le>=e?he(ne,le,e,"minute"):le>=a?he(ne,le,a,"second"):ne+" ms"}function he(ne,le,de,ce){var ge=le>=de*1.5;return Math.round(ne/de)+" "+ce+(ge?"s":"")}return ms}function setup(a){o.debug=o,o.default=o,o.coerce=fe,o.disable=Y,o.enable=$,o.enabled=ie,o.humanize=requireMs(),o.destroy=he,Object.keys(a).forEach(ne=>{o[ne]=a[ne]}),o.names=[],o.skips=[],o.formatters={};function e(ne){let le=0;for(let de=0;de<ne.length;de++)le=(le<<5)-le+ne.charCodeAt(de),le|=0;return o.colors[Math.abs(le)%o.colors.length]}o.selectColor=e;function o(ne){let le,de=null,ce,ge;function xe(...Ae){if(!xe.enabled)return;const Ee=xe,we=Number(new Date),pe=we-(le||we);Ee.diff=pe,Ee.prev=le,Ee.curr=we,le=we,Ae[0]=o.coerce(Ae[0]),typeof Ae[0]!="string"&&Ae.unshift("%O");let me=0;Ae[0]=Ae[0].replace(/%([a-zA-Z%])/g,(Pe,Le)=>{if(Pe==="%%")return"%";me++;const qe=o.formatters[Le];if(typeof qe=="function"){const Ce=Ae[me];Pe=qe.call(Ee,Ce),Ae.splice(me,1),me--}return Pe}),o.formatArgs.call(Ee,Ae),(Ee.log||o.log).apply(Ee,Ae)}return xe.namespace=ne,xe.useColors=o.useColors(),xe.color=o.selectColor(ne),xe.extend=h,xe.destroy=o.destroy,Object.defineProperty(xe,"enabled",{enumerable:!0,configurable:!1,get:()=>de!==null?de:(ce!==o.namespaces&&(ce=o.namespaces,ge=o.enabled(ne)),ge),set:Ae=>{de=Ae}}),typeof o.init=="function"&&o.init(xe),xe}function h(ne,le){const de=o(this.namespace+(typeof le>"u"?":":le)+ne);return de.log=this.log,de}function $(ne){o.save(ne),o.namespaces=ne,o.names=[],o.skips=[];const le=(typeof ne=="string"?ne:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const de of le)de[0]==="-"?o.skips.push(de.slice(1)):o.names.push(de)}function d(ne,le){let de=0,ce=0,ge=-1,xe=0;for(;de<ne.length;)if(ce<le.length&&(le[ce]===ne[de]||le[ce]==="*"))le[ce]==="*"?(ge=ce,xe=de,ce++):(de++,ce++);else if(ge!==-1)ce=ge+1,xe++,de=xe;else return!1;for(;ce<le.length&&le[ce]==="*";)ce++;return ce===le.length}function Y(){const ne=[...o.names,...o.skips.map(le=>"-"+le)].join(",");return o.enable(""),ne}function ie(ne){for(const le of o.skips)if(d(ne,le))return!1;for(const le of o.names)if(d(ne,le))return!0;return!1}function fe(ne){return ne instanceof Error?ne.stack||ne.message:ne}function he(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}var common$a=setup;(function(a,e){var o={};e.formatArgs=$,e.save=d,e.load=Y,e.useColors=h,e.storage=ie(),e.destroy=(()=>{let he=!1;return()=>{he||(he=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function h(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let he;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(he=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(he[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function $(he){if(he[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+he[0]+(this.useColors?"%c ":" ")+"+"+a.exports.humanize(this.diff),!this.useColors)return;const ne="color: "+this.color;he.splice(1,0,ne,"color: inherit");let le=0,de=0;he[0].replace(/%[a-zA-Z%]/g,ce=>{ce!=="%%"&&(le++,ce==="%c"&&(de=le))}),he.splice(de,0,ne)}e.log=console.debug||console.log||(()=>{});function d(he){try{he?e.storage.setItem("debug",he):e.storage.removeItem("debug")}catch{}}function Y(){let he;try{he=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!he&&typeof process$1<"u"&&"env"in process$1&&(he=o.DEBUG),he}function ie(){try{return localStorage}catch{}}a.exports=common$a(e);const{formatters:fe}=a.exports;fe.j=function(he){try{return JSON.stringify(he)}catch(ne){return"[UnexpectedJSONParseError]: "+ne.message}}})(browser$f,browser$f.exports);var browserExports$1=browser$f.exports,parseTorrent$3={exports:{}},blobToBuffer$1=function(e,o){if(typeof Blob>"u"||!(e instanceof Blob))throw new Error("first argument must be a Blob");if(typeof o!="function")throw new Error("second argument must be a function");const h=new FileReader;function $(d){h.removeEventListener("loadend",$,!1),d.error?o(d.error):o(null,Buffer$E.from(h.result))}h.addEventListener("loadend",$,!1),h.readAsArrayBuffer(e)},empty$1=null;const empty$2=Object.freeze(Object.defineProperty({__proto__:null,default:empty$1},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(empty$2);var streamHttp={},request={exports:{}},capability$2={};(function(a){a.fetch=$(commonjsGlobal.fetch)&&$(commonjsGlobal.ReadableStream),a.writableStream=$(commonjsGlobal.WritableStream),a.abortController=$(commonjsGlobal.AbortController);var e;function o(){if(e!==void 0)return e;if(commonjsGlobal.XMLHttpRequest){e=new commonjsGlobal.XMLHttpRequest;try{e.open("GET",commonjsGlobal.XDomainRequest?"/":"https://example.com")}catch{e=null}}else e=null;return e}function h(d){var Y=o();if(!Y)return!1;try{return Y.responseType=d,Y.responseType===d}catch{}return!1}a.arraybuffer=a.fetch||h("arraybuffer"),a.msstream=!a.fetch&&h("ms-stream"),a.mozchunkedarraybuffer=!a.fetch&&h("moz-chunked-arraybuffer"),a.overrideMimeType=a.fetch||(o()?$(o().overrideMimeType):!1);function $(d){return typeof d=="function"}e=null})(capability$2);var inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(e,o){o&&(e.super_=o,e.prototype=Object.create(o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(e,o){if(o){e.super_=o;var h=function(){};h.prototype=o.prototype,e.prototype=new h,e.prototype.constructor=e}};var inherits_browserExports=inherits_browser.exports,response$1={},readableBrowser$1={exports:{}},streamBrowser$1=eventsExports.EventEmitter;const require$$0$3=getAugmentedNamespace(dist);var util$3={},types={},shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},o=Symbol("test"),h=Object(o);if(typeof o=="string"||Object.prototype.toString.call(o)!=="[object Symbol]"||Object.prototype.toString.call(h)!=="[object Symbol]")return!1;var $=42;e[o]=$;for(var d in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var Y=Object.getOwnPropertySymbols(e);if(Y.length!==1||Y[0]!==o||!Object.prototype.propertyIsEnumerable.call(e,o))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var ie=Object.getOwnPropertyDescriptor(e,o);if(ie.value!==$||ie.enumerable!==!0)return!1}return!0},hasSymbols$3=shams$1,shams=function(){return hasSymbols$3()&&!!Symbol.toStringTag},esObjectAtoms=Object,esErrors=Error,_eval=EvalError,range=RangeError,ref=ReferenceError,syntax=SyntaxError,type=TypeError,uri=URIError,abs$1=Math.abs,floor$1=Math.floor,max$1=Math.max,min$1=Math.min,pow$1=Math.pow,round$1=Math.round,_isNaN=Number.isNaN||function(e){return e!==e},$isNaN=_isNaN,sign$2=function(e){return $isNaN(e)||e===0?e:e<0?-1:1},gOPD$4=Object.getOwnPropertyDescriptor,$gOPD$1=gOPD$4;if($gOPD$1)try{$gOPD$1([],"length")}catch{$gOPD$1=null}var gopd$1=$gOPD$1,$defineProperty$3=Object.defineProperty||!1;if($defineProperty$3)try{$defineProperty$3({},"a",{value:1})}catch{$defineProperty$3=!1}var esDefineProperty=$defineProperty$3,hasSymbols$2,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols$2;hasRequiredHasSymbols=1;var a=typeof Symbol<"u"&&Symbol,e=shams$1;return hasSymbols$2=function(){return typeof a!="function"||typeof Symbol!="function"||typeof a("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},hasSymbols$2}var Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null,$Object$3=esObjectAtoms,Object_getPrototypeOf=$Object$3.getPrototypeOf||null,implementation$6,hasRequiredImplementation$2;function requireImplementation$2(){if(hasRequiredImplementation$2)return implementation$6;hasRequiredImplementation$2=1;var a="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,o=Math.max,h="[object Function]",$=function(fe,he){for(var ne=[],le=0;le<fe.length;le+=1)ne[le]=fe[le];for(var de=0;de<he.length;de+=1)ne[de+fe.length]=he[de];return ne},d=function(fe,he){for(var ne=[],le=he,de=0;le<fe.length;le+=1,de+=1)ne[de]=fe[le];return ne},Y=function(ie,fe){for(var he="",ne=0;ne<ie.length;ne+=1)he+=ie[ne],ne+1<ie.length&&(he+=fe);return he};return implementation$6=function(fe){var he=this;if(typeof he!="function"||e.apply(he)!==h)throw new TypeError(a+he);for(var ne=d(arguments,1),le,de=function(){if(this instanceof le){var Ee=he.apply(this,$(ne,arguments));return Object(Ee)===Ee?Ee:this}return he.apply(fe,$(ne,arguments))},ce=o(0,he.length-ne.length),ge=[],xe=0;xe<ce;xe++)ge[xe]="$"+xe;if(le=Function("binder","return function ("+Y(ge,",")+"){ return binder.apply(this,arguments); }")(de),he.prototype){var Ae=function(){};Ae.prototype=he.prototype,le.prototype=new Ae,Ae.prototype=null}return le},implementation$6}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var a=requireImplementation$2();return functionBind=Function.prototype.bind||a,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply$1=typeof Reflect<"u"&&Reflect&&Reflect.apply,bind$3=requireFunctionBind(),$apply$2=requireFunctionApply(),$call$2=requireFunctionCall(),$reflectApply=reflectApply$1,actualApply$1=$reflectApply||bind$3.call($call$2,$apply$2),bind$2=requireFunctionBind(),$TypeError$9=type,$call$1=requireFunctionCall(),$actualApply=actualApply$1,callBindApplyHelpers=function(e){if(e.length<1||typeof e[0]!="function")throw new $TypeError$9("a function is required");return $actualApply(bind$2,$call$1,e)},callBind$3=callBindApplyHelpers,gOPD$3=gopd$1,hasProtoAccessor;try{hasProtoAccessor=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var desc=!!hasProtoAccessor&&gOPD$3&&gOPD$3(Object.prototype,"__proto__"),$Object$2=Object,$getPrototypeOf=$Object$2.getPrototypeOf,get$3=desc&&typeof desc.get=="function"?callBind$3([desc.get]):typeof $getPrototypeOf=="function"?function(e){return $getPrototypeOf(e==null?e:$Object$2(e))}:!1,reflectGetProto=Reflect_getPrototypeOf,originalGetProto=Object_getPrototypeOf,getDunderProto=get$3,getProto$3=reflectGetProto?function(e){return reflectGetProto(e)}:originalGetProto?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return originalGetProto(e)}:getDunderProto?function(e){return getDunderProto(e)}:null,hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var a=Function.prototype.call,e=Object.prototype.hasOwnProperty,o=requireFunctionBind();return hasown=o.call(a,e),hasown}var undefined$1,$Object$1=esObjectAtoms,$Error=esErrors,$EvalError=_eval,$RangeError=range,$ReferenceError=ref,$SyntaxError$1=syntax,$TypeError$8=type,$URIError=uri,abs=abs$1,floor=floor$1,max=max$1,min=min$1,pow=pow$1,round=round$1,sign$1=sign$2,$Function=Function,getEvalledConstructor=function(a){try{return $Function('"use strict"; return ('+a+").constructor;")()}catch{}},$gOPD=gopd$1,$defineProperty$2=esDefineProperty,throwTypeError=function(){throw new $TypeError$8},ThrowTypeError=$gOPD?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols$1=requireHasSymbols()(),getProto$2=getProto$3,$ObjectGPO=Object_getPrototypeOf,$ReflectGPO=Reflect_getPrototypeOf,$apply$1=requireFunctionApply(),$call=requireFunctionCall(),needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto$2?undefined$1:getProto$2(Uint8Array),INTRINSICS={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$1&&getProto$2?getProto$2([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float16Array%":typeof Float16Array>"u"?undefined$1:Float16Array,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$1&&getProto$2?getProto$2(getProto$2([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols$1||!getProto$2?undefined$1:getProto$2(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":$Object$1,"%Object.getOwnPropertyDescriptor%":$gOPD,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols$1||!getProto$2?undefined$1:getProto$2(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$1&&getProto$2?getProto$2(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols$1?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$8,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":$URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet,"%Function.prototype.call%":$call,"%Function.prototype.apply%":$apply$1,"%Object.defineProperty%":$defineProperty$2,"%Object.getPrototypeOf%":$ObjectGPO,"%Math.abs%":abs,"%Math.floor%":floor,"%Math.max%":max,"%Math.min%":min,"%Math.pow%":pow,"%Math.round%":round,"%Math.sign%":sign$1,"%Reflect.getPrototypeOf%":$ReflectGPO};if(getProto$2)try{null.error}catch(a){var errorProto=getProto$2(getProto$2(a));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function a(e){var o;if(e==="%AsyncFunction%")o=getEvalledConstructor("async function () {}");else if(e==="%GeneratorFunction%")o=getEvalledConstructor("function* () {}");else if(e==="%AsyncGeneratorFunction%")o=getEvalledConstructor("async function* () {}");else if(e==="%AsyncGenerator%"){var h=a("%AsyncGeneratorFunction%");h&&(o=h.prototype)}else if(e==="%AsyncIteratorPrototype%"){var $=a("%AsyncGenerator%");$&&getProto$2&&(o=getProto$2($.prototype))}return INTRINSICS[e]=o,o},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$1=requireFunctionBind(),hasOwn$2=requireHasown(),$concat$1=bind$1.call($call,Array.prototype.concat),$spliceApply=bind$1.call($apply$1,Array.prototype.splice),$replace$1=bind$1.call($call,String.prototype.replace),$strSlice=bind$1.call($call,String.prototype.slice),$exec$2=bind$1.call($call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(e){var o=$strSlice(e,0,1),h=$strSlice(e,-1);if(o==="%"&&h!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(h==="%"&&o!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var $=[];return $replace$1(e,rePropName,function(d,Y,ie,fe){$[$.length]=ie?$replace$1(fe,reEscapeChar,"$1"):Y||d}),$},getBaseIntrinsic=function(e,o){var h=e,$;if(hasOwn$2(LEGACY_ALIASES,h)&&($=LEGACY_ALIASES[h],h="%"+$[0]+"%"),hasOwn$2(INTRINSICS,h)){var d=INTRINSICS[h];if(d===needsEval&&(d=doEval(h)),typeof d>"u"&&!o)throw new $TypeError$8("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:$,name:h,value:d}}throw new $SyntaxError$1("intrinsic "+e+" does not exist!")},getIntrinsic=function(e,o){if(typeof e!="string"||e.length===0)throw new $TypeError$8("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof o!="boolean")throw new $TypeError$8('"allowMissing" argument must be a boolean');if($exec$2(/^%?[^%]*%?$/,e)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var h=stringToPath(e),$=h.length>0?h[0]:"",d=getBaseIntrinsic("%"+$+"%",o),Y=d.name,ie=d.value,fe=!1,he=d.alias;he&&($=he[0],$spliceApply(h,$concat$1([0,1],he)));for(var ne=1,le=!0;ne<h.length;ne+=1){var de=h[ne],ce=$strSlice(de,0,1),ge=$strSlice(de,-1);if((ce==='"'||ce==="'"||ce==="`"||ge==='"'||ge==="'"||ge==="`")&&ce!==ge)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((de==="constructor"||!le)&&(fe=!0),$+="."+de,Y="%"+$+"%",hasOwn$2(INTRINSICS,Y))ie=INTRINSICS[Y];else if(ie!=null){if(!(de in ie)){if(!o)throw new $TypeError$8("base intrinsic for "+e+" exists, but the property is not available.");return}if($gOPD&&ne+1>=h.length){var xe=$gOPD(ie,de);le=!!xe,le&&"get"in xe&&!("originalValue"in xe.get)?ie=xe.get:ie=ie[de]}else le=hasOwn$2(ie,de),ie=ie[de];le&&!fe&&(INTRINSICS[Y]=ie)}}return ie},GetIntrinsic$4=getIntrinsic,callBindBasic=callBindApplyHelpers,$indexOf$2=callBindBasic([GetIntrinsic$4("%String.prototype.indexOf%")]),callBound$a=function(e,o){var h=GetIntrinsic$4(e,!!o);return typeof h=="function"&&$indexOf$2(e,".prototype.")>-1?callBindBasic([h]):h},hasToStringTag$4=shams(),callBound$9=callBound$a,$toString$2=callBound$9("Object.prototype.toString"),isStandardArguments=function(e){return hasToStringTag$4&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:$toString$2(e)==="[object Arguments]"},isLegacyArguments=function(e){return isStandardArguments(e)?!0:e!==null&&typeof e=="object"&&"length"in e&&typeof e.length=="number"&&e.length>=0&&$toString$2(e)!=="[object Array]"&&"callee"in e&&$toString$2(e.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments$1=supportsStandardArguments?isStandardArguments:isLegacyArguments,callBound$8=callBound$a,hasToStringTag$3=shams(),hasOwn$1=requireHasown(),gOPD$2=gopd$1,fn;if(hasToStringTag$3){var $exec$1=callBound$8("RegExp.prototype.exec"),isRegexMarker={},throwRegexMarker=function(){throw isRegexMarker},badStringifier={toString:throwRegexMarker,valueOf:throwRegexMarker};typeof Symbol.toPrimitive=="symbol"&&(badStringifier[Symbol.toPrimitive]=throwRegexMarker),fn=function(e){if(!e||typeof e!="object")return!1;var o=gOPD$2(e,"lastIndex"),h=o&&hasOwn$1(o,"value");if(!h)return!1;try{$exec$1(e,badStringifier)}catch($){return $===isRegexMarker}}}else{var $toString$1=callBound$8("Object.prototype.toString"),regexClass="[object RegExp]";fn=function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:$toString$1(e)===regexClass}}var isRegex$1=fn,callBound$7=callBound$a,isRegex=isRegex$1,$exec=callBound$7("RegExp.prototype.exec"),$TypeError$7=type,safeRegexTest$1=function(e){if(!isRegex(e))throw new $TypeError$7("`regex` must be a RegExp");return function(h){return $exec(e,h)!==null}},callBound$6=callBound$a,safeRegexTest=safeRegexTest$1,isFnRegex=safeRegexTest(/^\s*(?:function)?\*/),hasToStringTag$2=shams(),getProto$1=getProto$3,toStr$4=callBound$6("Object.prototype.toString"),fnToStr$1=callBound$6("Function.prototype.toString"),getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function(e){if(typeof e!="function")return!1;if(isFnRegex(fnToStr$1(e)))return!0;if(!hasToStringTag$2){var o=toStr$4(e);return o==="[object GeneratorFunction]"}if(!getProto$1)return!1;if(typeof GeneratorFunction>"u"){var h=getGeneratorFunc();GeneratorFunction=h?getProto$1(h):!1}return getProto$1(e)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(a){a!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function(e){try{var o=fnToStr.call(e);return constructorRegex.test(o)}catch{return!1}},tryFunctionObject=function(e){try{return isES6ClassFn(e)?!1:(fnToStr.call(e),!0)}catch{return!1}},toStr$3=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$1=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function(){return!1};if(typeof document=="object"){var all=document.all;toStr$3.call(all)===toStr$3.call(document.all)&&(isDDA=function(e){if((isIE68||!e)&&(typeof e>"u"||typeof e=="object"))try{var o=toStr$3.call(e);return(o===ddaClass||o===ddaClass2||o===ddaClass3||o===objectClass)&&e("")==null}catch{}return!1})}var isCallable$1=reflectApply?function(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{reflectApply(e,null,badArrayLike)}catch(o){if(o!==isCallableMarker)return!1}return!isES6ClassFn(e)&&tryFunctionObject(e)}:function(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(hasToStringTag$1)return tryFunctionObject(e);if(isES6ClassFn(e))return!1;var o=toStr$3.call(e);return o!==fnClass&&o!==genClass&&!/^\[object HTML/.test(o)?!1:tryFunctionObject(e)},isCallable=isCallable$1,toStr$2=Object.prototype.toString,hasOwnProperty$2=Object.prototype.hasOwnProperty,forEachArray=function(e,o,h){for(var $=0,d=e.length;$<d;$++)hasOwnProperty$2.call(e,$)&&(h==null?o(e[$],$,e):o.call(h,e[$],$,e))},forEachString=function(e,o,h){for(var $=0,d=e.length;$<d;$++)h==null?o(e.charAt($),$,e):o.call(h,e.charAt($),$,e)},forEachObject=function(e,o,h){for(var $ in e)hasOwnProperty$2.call(e,$)&&(h==null?o(e[$],$,e):o.call(h,e[$],$,e))};function isArray$8(a){return toStr$2.call(a)==="[object Array]"}var forEach$1=function(e,o,h){if(!isCallable(o))throw new TypeError("iterator must be a function");var $;arguments.length>=3&&($=h),isArray$8(e)?forEachArray(e,o,$):typeof e=="string"?forEachString(e,o,$):forEachObject(e,o,$)},possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],possibleNames=possibleTypedArrayNames,g$1=typeof globalThis>"u"?commonjsGlobal:globalThis,availableTypedArrays$1=function(){for(var e=[],o=0;o<possibleNames.length;o++)typeof g$1[possibleNames[o]]=="function"&&(e[e.length]=possibleNames[o]);return e},callBind$2={exports:{}},$defineProperty$1=esDefineProperty,$SyntaxError=syntax,$TypeError$6=type,gopd=gopd$1,defineDataProperty=function(e,o,h){if(!e||typeof e!="object"&&typeof e!="function")throw new $TypeError$6("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new $TypeError$6("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$6("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$6("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$6("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$6("`loose`, if provided, must be a boolean");var $=arguments.length>3?arguments[3]:null,d=arguments.length>4?arguments[4]:null,Y=arguments.length>5?arguments[5]:null,ie=arguments.length>6?arguments[6]:!1,fe=!!gopd&&gopd(e,o);if($defineProperty$1)$defineProperty$1(e,o,{configurable:Y===null&&fe?fe.configurable:!Y,enumerable:$===null&&fe?fe.enumerable:!$,value:h,writable:d===null&&fe?fe.writable:!d});else if(ie||!$&&!d&&!Y)e[o]=h;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$defineProperty=esDefineProperty,hasPropertyDescriptors=function(){return!!$defineProperty};hasPropertyDescriptors.hasArrayLengthDefineBug=function(){if(!$defineProperty)return null;try{return $defineProperty([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors,GetIntrinsic$3=getIntrinsic,define=defineDataProperty,hasDescriptors=hasPropertyDescriptors_1(),gOPD$1=gopd$1,$TypeError$5=type,$floor$1=GetIntrinsic$3("%Math.floor%"),setFunctionLength=function(e,o){if(typeof e!="function")throw new $TypeError$5("`fn` is not a function");if(typeof o!="number"||o<0||o>4294967295||$floor$1(o)!==o)throw new $TypeError$5("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],$=!0,d=!0;if("length"in e&&gOPD$1){var Y=gOPD$1(e,"length");Y&&!Y.configurable&&($=!1),Y&&!Y.writable&&(d=!1)}return($||d||!h)&&(hasDescriptors?define(e,"length",o,!0,!0):define(e,"length",o)),e},bind=requireFunctionBind(),$apply=requireFunctionApply(),actualApply=actualApply$1,applyBind=function(){return actualApply(bind,$apply,arguments)};(function(a){var e=setFunctionLength,o=esDefineProperty,h=callBindApplyHelpers,$=applyBind;a.exports=function(Y){var ie=h(arguments),fe=Y.length-(arguments.length-1);return e(ie,1+(fe>0?fe:0),!0)},o?o(a.exports,"apply",{value:$}):a.exports.apply=$})(callBind$2);var callBindExports=callBind$2.exports,forEach=forEach$1,availableTypedArrays=availableTypedArrays$1,callBind$1=callBindExports,callBound$5=callBound$a,gOPD=gopd$1,getProto=getProto$3,$toString=callBound$5("Object.prototype.toString"),hasToStringTag=shams(),g=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays=availableTypedArrays(),$slice$1=callBound$5("String.prototype.slice"),$indexOf$1=callBound$5("Array.prototype.indexOf",!0)||function(e,o){for(var h=0;h<e.length;h+=1)if(e[h]===o)return h;return-1},cache$1={__proto__:null};hasToStringTag&&gOPD&&getProto?forEach(typedArrays,function(a){var e=new g[a];if(Symbol.toStringTag in e&&getProto){var o=getProto(e),h=gOPD(o,Symbol.toStringTag);if(!h&&o){var $=getProto(o);h=gOPD($,Symbol.toStringTag)}cache$1["$"+a]=callBind$1(h.get)}}):forEach(typedArrays,function(a){var e=new g[a],o=e.slice||e.set;o&&(cache$1["$"+a]=callBind$1(o))});var tryTypedArrays=function(e){var o=!1;return forEach(cache$1,function(h,$){if(!o)try{"$"+h(e)===$&&(o=$slice$1($,1))}catch{}}),o},trySlices=function(e){var o=!1;return forEach(cache$1,function(h,$){if(!o)try{h(e),o=$slice$1($,1)}catch{}}),o},whichTypedArray$1=function(e){if(!e||typeof e!="object")return!1;if(!hasToStringTag){var o=$slice$1($toString(e),8,-1);return $indexOf$1(typedArrays,o)>-1?o:o!=="Object"?!1:trySlices(e)}return gOPD?tryTypedArrays(e):null},whichTypedArray=whichTypedArray$1,isTypedArray$2=function(e){return!!whichTypedArray(e)};(function(a){var e=isArguments$1,o=isGeneratorFunction,h=whichTypedArray$1,$=isTypedArray$2;function d(Ge){return Ge.call.bind(Ge)}var Y=typeof BigInt<"u",ie=typeof Symbol<"u",fe=d(Object.prototype.toString),he=d(Number.prototype.valueOf),ne=d(String.prototype.valueOf),le=d(Boolean.prototype.valueOf);if(Y)var de=d(BigInt.prototype.valueOf);if(ie)var ce=d(Symbol.prototype.valueOf);function ge(Ge,$t){if(typeof Ge!="object")return!1;try{return $t(Ge),!0}catch{return!1}}a.isArgumentsObject=e,a.isGeneratorFunction=o,a.isTypedArray=$;function xe(Ge){return typeof Promise<"u"&&Ge instanceof Promise||Ge!==null&&typeof Ge=="object"&&typeof Ge.then=="function"&&typeof Ge.catch=="function"}a.isPromise=xe;function Ae(Ge){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Ge):$(Ge)||ve(Ge)}a.isArrayBufferView=Ae;function Ee(Ge){return h(Ge)==="Uint8Array"}a.isUint8Array=Ee;function we(Ge){return h(Ge)==="Uint8ClampedArray"}a.isUint8ClampedArray=we;function pe(Ge){return h(Ge)==="Uint16Array"}a.isUint16Array=pe;function me(Ge){return h(Ge)==="Uint32Array"}a.isUint32Array=me;function Te(Ge){return h(Ge)==="Int8Array"}a.isInt8Array=Te;function Pe(Ge){return h(Ge)==="Int16Array"}a.isInt16Array=Pe;function Le(Ge){return h(Ge)==="Int32Array"}a.isInt32Array=Le;function qe(Ge){return h(Ge)==="Float32Array"}a.isFloat32Array=qe;function Ce(Ge){return h(Ge)==="Float64Array"}a.isFloat64Array=Ce;function ze(Ge){return h(Ge)==="BigInt64Array"}a.isBigInt64Array=ze;function oe(Ge){return h(Ge)==="BigUint64Array"}a.isBigUint64Array=oe;function c(Ge){return fe(Ge)==="[object Map]"}c.working=typeof Map<"u"&&c(new Map);function b(Ge){return typeof Map>"u"?!1:c.working?c(Ge):Ge instanceof Map}a.isMap=b;function j(Ge){return fe(Ge)==="[object Set]"}j.working=typeof Set<"u"&&j(new Set);function Z(Ge){return typeof Set>"u"?!1:j.working?j(Ge):Ge instanceof Set}a.isSet=Z;function re(Ge){return fe(Ge)==="[object WeakMap]"}re.working=typeof WeakMap<"u"&&re(new WeakMap);function ae(Ge){return typeof WeakMap>"u"?!1:re.working?re(Ge):Ge instanceof WeakMap}a.isWeakMap=ae;function se(Ge){return fe(Ge)==="[object WeakSet]"}se.working=typeof WeakSet<"u"&&se(new WeakSet);function ee(Ge){return se(Ge)}a.isWeakSet=ee;function _(Ge){return fe(Ge)==="[object ArrayBuffer]"}_.working=typeof ArrayBuffer<"u"&&_(new ArrayBuffer);function te(Ge){return typeof ArrayBuffer>"u"?!1:_.working?_(Ge):Ge instanceof ArrayBuffer}a.isArrayBuffer=te;function ue(Ge){return fe(Ge)==="[object DataView]"}ue.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&ue(new DataView(new ArrayBuffer(1),0,1));function ve(Ge){return typeof DataView>"u"?!1:ue.working?ue(Ge):Ge instanceof DataView}a.isDataView=ve;var be=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Me(Ge){return fe(Ge)==="[object SharedArrayBuffer]"}function Se(Ge){return typeof be>"u"?!1:(typeof Me.working>"u"&&(Me.working=Me(new be)),Me.working?Me(Ge):Ge instanceof be)}a.isSharedArrayBuffer=Se;function _e(Ge){return fe(Ge)==="[object AsyncFunction]"}a.isAsyncFunction=_e;function Re(Ge){return fe(Ge)==="[object Map Iterator]"}a.isMapIterator=Re;function Ie(Ge){return fe(Ge)==="[object Set Iterator]"}a.isSetIterator=Ie;function Ne(Ge){return fe(Ge)==="[object Generator]"}a.isGeneratorObject=Ne;function Oe(Ge){return fe(Ge)==="[object WebAssembly.Module]"}a.isWebAssemblyCompiledModule=Oe;function ke(Ge){return ge(Ge,he)}a.isNumberObject=ke;function He(Ge){return ge(Ge,ne)}a.isStringObject=He;function ct(Ge){return ge(Ge,le)}a.isBooleanObject=ct;function Ve(Ge){return Y&&ge(Ge,de)}a.isBigIntObject=Ve;function Ye(Ge){return ie&&ge(Ge,ce)}a.isSymbolObject=Ye;function wt(Ge){return ke(Ge)||He(Ge)||ct(Ge)||Ve(Ge)||Ye(Ge)}a.isBoxedPrimitive=wt;function Qe(Ge){return typeof Uint8Array<"u"&&(te(Ge)||Se(Ge))}a.isAnyArrayBuffer=Qe,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ge){Object.defineProperty(a,Ge,{enumerable:!1,value:function(){throw new Error(Ge+" is not supported in userland")}})})})(types);var isBufferBrowser=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(a){var e={},o=Object.getOwnPropertyDescriptors||function(be){for(var Me=Object.keys(be),Se={},_e=0;_e<Me.length;_e++)Se[Me[_e]]=Object.getOwnPropertyDescriptor(be,Me[_e]);return Se},h=/%[sdj%]/g;a.format=function(ve){if(!Pe(ve)){for(var be=[],Me=0;Me<arguments.length;Me++)be.push(ie(arguments[Me]));return be.join(" ")}for(var Me=1,Se=arguments,_e=Se.length,Re=String(ve).replace(h,function(Ne){if(Ne==="%%")return"%";if(Me>=_e)return Ne;switch(Ne){case"%s":return String(Se[Me++]);case"%d":return Number(Se[Me++]);case"%j":try{return JSON.stringify(Se[Me++])}catch{return"[Circular]"}default:return Ne}}),Ie=Se[Me];Me<_e;Ie=Se[++Me])pe(Ie)||!ze(Ie)?Re+=" "+Ie:Re+=" "+ie(Ie);return Re},a.deprecate=function(ve,be){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return ve;if(typeof process$1>"u")return function(){return a.deprecate(ve,be).apply(this,arguments)};var Me=!1;function Se(){if(!Me){if(process$1.throwDeprecation)throw new Error(be);process$1.traceDeprecation?console.trace(be):console.error(be),Me=!0}return ve.apply(this,arguments)}return Se};var $={},d=/^$/;if(e.NODE_DEBUG){var Y=e.NODE_DEBUG;Y=Y.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),d=new RegExp("^"+Y+"$","i")}a.debuglog=function(ve){if(ve=ve.toUpperCase(),!$[ve])if(d.test(ve)){var be=process$1.pid;$[ve]=function(){var Me=a.format.apply(a,arguments);console.error("%s %d: %s",ve,be,Me)}}else $[ve]=function(){};return $[ve]};function ie(ve,be){var Me={seen:[],stylize:he};return arguments.length>=3&&(Me.depth=arguments[2]),arguments.length>=4&&(Me.colors=arguments[3]),we(be)?Me.showHidden=be:be&&a._extend(Me,be),qe(Me.showHidden)&&(Me.showHidden=!1),qe(Me.depth)&&(Me.depth=2),qe(Me.colors)&&(Me.colors=!1),qe(Me.customInspect)&&(Me.customInspect=!0),Me.colors&&(Me.stylize=fe),le(Me,ve,Me.depth)}a.inspect=ie,ie.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ie.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function fe(ve,be){var Me=ie.styles[be];return Me?"\x1B["+ie.colors[Me][0]+"m"+ve+"\x1B["+ie.colors[Me][1]+"m":ve}function he(ve,be){return ve}function ne(ve){var be={};return ve.forEach(function(Me,Se){be[Me]=!0}),be}function le(ve,be,Me){if(ve.customInspect&&be&&b(be.inspect)&&be.inspect!==a.inspect&&!(be.constructor&&be.constructor.prototype===be)){var Se=be.inspect(Me,ve);return Pe(Se)||(Se=le(ve,Se,Me)),Se}var _e=de(ve,be);if(_e)return _e;var Re=Object.keys(be),Ie=ne(Re);if(ve.showHidden&&(Re=Object.getOwnPropertyNames(be)),c(be)&&(Re.indexOf("message")>=0||Re.indexOf("description")>=0))return ce(be);if(Re.length===0){if(b(be)){var Ne=be.name?": "+be.name:"";return ve.stylize("[Function"+Ne+"]","special")}if(Ce(be))return ve.stylize(RegExp.prototype.toString.call(be),"regexp");if(oe(be))return ve.stylize(Date.prototype.toString.call(be),"date");if(c(be))return ce(be)}var Oe="",ke=!1,He=["{","}"];if(Ee(be)&&(ke=!0,He=["[","]"]),b(be)){var ct=be.name?": "+be.name:"";Oe=" [Function"+ct+"]"}if(Ce(be)&&(Oe=" "+RegExp.prototype.toString.call(be)),oe(be)&&(Oe=" "+Date.prototype.toUTCString.call(be)),c(be)&&(Oe=" "+ce(be)),Re.length===0&&(!ke||be.length==0))return He[0]+Oe+He[1];if(Me<0)return Ce(be)?ve.stylize(RegExp.prototype.toString.call(be),"regexp"):ve.stylize("[Object]","special");ve.seen.push(be);var Ve;return ke?Ve=ge(ve,be,Me,Ie,Re):Ve=Re.map(function(Ye){return xe(ve,be,Me,Ie,Ye,ke)}),ve.seen.pop(),Ae(Ve,Oe,He)}function de(ve,be){if(qe(be))return ve.stylize("undefined","undefined");if(Pe(be)){var Me="'"+JSON.stringify(be).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ve.stylize(Me,"string")}if(Te(be))return ve.stylize(""+be,"number");if(we(be))return ve.stylize(""+be,"boolean");if(pe(be))return ve.stylize("null","null")}function ce(ve){return"["+Error.prototype.toString.call(ve)+"]"}function ge(ve,be,Me,Se,_e){for(var Re=[],Ie=0,Ne=be.length;Ie<Ne;++Ie)ee(be,String(Ie))?Re.push(xe(ve,be,Me,Se,String(Ie),!0)):Re.push("");return _e.forEach(function(Oe){Oe.match(/^\d+$/)||Re.push(xe(ve,be,Me,Se,Oe,!0))}),Re}function xe(ve,be,Me,Se,_e,Re){var Ie,Ne,Oe;if(Oe=Object.getOwnPropertyDescriptor(be,_e)||{value:be[_e]},Oe.get?Oe.set?Ne=ve.stylize("[Getter/Setter]","special"):Ne=ve.stylize("[Getter]","special"):Oe.set&&(Ne=ve.stylize("[Setter]","special")),ee(Se,_e)||(Ie="["+_e+"]"),Ne||(ve.seen.indexOf(Oe.value)<0?(pe(Me)?Ne=le(ve,Oe.value,null):Ne=le(ve,Oe.value,Me-1),Ne.indexOf(`
`)>-1&&(Re?Ne=Ne.split(`
`).map(function(ke){return"  "+ke}).join(`
`).slice(2):Ne=`
`+Ne.split(`
`).map(function(ke){return"   "+ke}).join(`
`))):Ne=ve.stylize("[Circular]","special")),qe(Ie)){if(Re&&_e.match(/^\d+$/))return Ne;Ie=JSON.stringify(""+_e),Ie.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Ie=Ie.slice(1,-1),Ie=ve.stylize(Ie,"name")):(Ie=Ie.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Ie=ve.stylize(Ie,"string"))}return Ie+": "+Ne}function Ae(ve,be,Me){var Se=ve.reduce(function(_e,Re){return Re.indexOf(`
`)>=0,_e+Re.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Se>60?Me[0]+(be===""?"":be+`
 `)+" "+ve.join(`,
  `)+" "+Me[1]:Me[0]+be+" "+ve.join(", ")+" "+Me[1]}a.types=types;function Ee(ve){return Array.isArray(ve)}a.isArray=Ee;function we(ve){return typeof ve=="boolean"}a.isBoolean=we;function pe(ve){return ve===null}a.isNull=pe;function me(ve){return ve==null}a.isNullOrUndefined=me;function Te(ve){return typeof ve=="number"}a.isNumber=Te;function Pe(ve){return typeof ve=="string"}a.isString=Pe;function Le(ve){return typeof ve=="symbol"}a.isSymbol=Le;function qe(ve){return ve===void 0}a.isUndefined=qe;function Ce(ve){return ze(ve)&&Z(ve)==="[object RegExp]"}a.isRegExp=Ce,a.types.isRegExp=Ce;function ze(ve){return typeof ve=="object"&&ve!==null}a.isObject=ze;function oe(ve){return ze(ve)&&Z(ve)==="[object Date]"}a.isDate=oe,a.types.isDate=oe;function c(ve){return ze(ve)&&(Z(ve)==="[object Error]"||ve instanceof Error)}a.isError=c,a.types.isNativeError=c;function b(ve){return typeof ve=="function"}a.isFunction=b;function j(ve){return ve===null||typeof ve=="boolean"||typeof ve=="number"||typeof ve=="string"||typeof ve=="symbol"||typeof ve>"u"}a.isPrimitive=j,a.isBuffer=isBufferBrowser;function Z(ve){return Object.prototype.toString.call(ve)}function re(ve){return ve<10?"0"+ve.toString(10):ve.toString(10)}var ae=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function se(){var ve=new Date,be=[re(ve.getHours()),re(ve.getMinutes()),re(ve.getSeconds())].join(":");return[ve.getDate(),ae[ve.getMonth()],be].join(" ")}a.log=function(){console.log("%s - %s",se(),a.format.apply(a,arguments))},a.inherits=inherits_browserExports,a._extend=function(ve,be){if(!be||!ze(be))return ve;for(var Me=Object.keys(be),Se=Me.length;Se--;)ve[Me[Se]]=be[Me[Se]];return ve};function ee(ve,be){return Object.prototype.hasOwnProperty.call(ve,be)}var _=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;a.promisify=function(be){if(typeof be!="function")throw new TypeError('The "original" argument must be of type Function');if(_&&be[_]){var Me=be[_];if(typeof Me!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Me,_,{value:Me,enumerable:!1,writable:!1,configurable:!0}),Me}function Me(){for(var Se,_e,Re=new Promise(function(Oe,ke){Se=Oe,_e=ke}),Ie=[],Ne=0;Ne<arguments.length;Ne++)Ie.push(arguments[Ne]);Ie.push(function(Oe,ke){Oe?_e(Oe):Se(ke)});try{be.apply(this,Ie)}catch(Oe){_e(Oe)}return Re}return Object.setPrototypeOf(Me,Object.getPrototypeOf(be)),_&&Object.defineProperty(Me,_,{value:Me,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Me,o(be))},a.promisify.custom=_;function te(ve,be){if(!ve){var Me=new Error("Promise was rejected with a falsy value");Me.reason=ve,ve=Me}return be(ve)}function ue(ve){if(typeof ve!="function")throw new TypeError('The "original" argument must be of type Function');function be(){for(var Me=[],Se=0;Se<arguments.length;Se++)Me.push(arguments[Se]);var _e=Me.pop();if(typeof _e!="function")throw new TypeError("The last argument must be of type Function");var Re=this,Ie=function(){return _e.apply(Re,arguments)};ve.apply(this,Me).then(function(Ne){process$1.nextTick(Ie.bind(null,null,Ne))},function(Ne){process$1.nextTick(te.bind(null,Ne,Ie))})}return Object.setPrototypeOf(be,Object.getPrototypeOf(ve)),Object.defineProperties(be,o(ve)),be}a.callbackify=ue})(util$3);var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function a(ge,xe){var Ae=Object.keys(ge);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(ge);xe&&(Ee=Ee.filter(function(we){return Object.getOwnPropertyDescriptor(ge,we).enumerable})),Ae.push.apply(Ae,Ee)}return Ae}function e(ge){for(var xe=1;xe<arguments.length;xe++){var Ae=arguments[xe]!=null?arguments[xe]:{};xe%2?a(Object(Ae),!0).forEach(function(Ee){o(ge,Ee,Ae[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(Ae)):a(Object(Ae)).forEach(function(Ee){Object.defineProperty(ge,Ee,Object.getOwnPropertyDescriptor(Ae,Ee))})}return ge}function o(ge,xe,Ae){return xe=Y(xe),xe in ge?Object.defineProperty(ge,xe,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):ge[xe]=Ae,ge}function h(ge,xe){if(!(ge instanceof xe))throw new TypeError("Cannot call a class as a function")}function $(ge,xe){for(var Ae=0;Ae<xe.length;Ae++){var Ee=xe[Ae];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(ge,Y(Ee.key),Ee)}}function d(ge,xe,Ae){return xe&&$(ge.prototype,xe),Object.defineProperty(ge,"prototype",{writable:!1}),ge}function Y(ge){var xe=ie(ge,"string");return typeof xe=="symbol"?xe:String(xe)}function ie(ge,xe){if(typeof ge!="object"||ge===null)return ge;var Ae=ge[Symbol.toPrimitive];if(Ae!==void 0){var Ee=Ae.call(ge,xe);if(typeof Ee!="object")return Ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ge)}var fe=require$$0$3,he=fe.Buffer,ne=util$3,le=ne.inspect,de=le&&le.custom||"inspect";function ce(ge,xe,Ae){he.prototype.copy.call(ge,xe,Ae)}return buffer_list=function(){function ge(){h(this,ge),this.head=null,this.tail=null,this.length=0}return d(ge,[{key:"push",value:function(Ae){var Ee={data:Ae,next:null};this.length>0?this.tail.next=Ee:this.head=Ee,this.tail=Ee,++this.length}},{key:"unshift",value:function(Ae){var Ee={data:Ae,next:this.head};this.length===0&&(this.tail=Ee),this.head=Ee,++this.length}},{key:"shift",value:function(){if(this.length!==0){var Ae=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Ae}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Ae){if(this.length===0)return"";for(var Ee=this.head,we=""+Ee.data;Ee=Ee.next;)we+=Ae+Ee.data;return we}},{key:"concat",value:function(Ae){if(this.length===0)return he.alloc(0);for(var Ee=he.allocUnsafe(Ae>>>0),we=this.head,pe=0;we;)ce(we.data,Ee,pe),pe+=we.data.length,we=we.next;return Ee}},{key:"consume",value:function(Ae,Ee){var we;return Ae<this.head.data.length?(we=this.head.data.slice(0,Ae),this.head.data=this.head.data.slice(Ae)):Ae===this.head.data.length?we=this.shift():we=Ee?this._getString(Ae):this._getBuffer(Ae),we}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Ae){var Ee=this.head,we=1,pe=Ee.data;for(Ae-=pe.length;Ee=Ee.next;){var me=Ee.data,Te=Ae>me.length?me.length:Ae;if(Te===me.length?pe+=me:pe+=me.slice(0,Ae),Ae-=Te,Ae===0){Te===me.length?(++we,Ee.next?this.head=Ee.next:this.head=this.tail=null):(this.head=Ee,Ee.data=me.slice(Te));break}++we}return this.length-=we,pe}},{key:"_getBuffer",value:function(Ae){var Ee=he.allocUnsafe(Ae),we=this.head,pe=1;for(we.data.copy(Ee),Ae-=we.data.length;we=we.next;){var me=we.data,Te=Ae>me.length?me.length:Ae;if(me.copy(Ee,Ee.length-Ae,0,Te),Ae-=Te,Ae===0){Te===me.length?(++pe,we.next?this.head=we.next:this.head=this.tail=null):(this.head=we,we.data=me.slice(Te));break}++pe}return this.length-=pe,Ee}},{key:de,value:function(Ae,Ee){return le(this,e(e({},Ee),{},{depth:0,customInspect:!1}))}}]),ge}(),buffer_list}function destroy$1(a,e){var o=this,h=this._readableState&&this._readableState.destroyed,$=this._writableState&&this._writableState.destroyed;return h||$?(e?e(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(emitErrorNT$1,this,a)):process$1.nextTick(emitErrorNT$1,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(d){!e&&d?o._writableState?o._writableState.errorEmitted?process$1.nextTick(emitCloseNT,o):(o._writableState.errorEmitted=!0,process$1.nextTick(emitErrorAndCloseNT,o,d)):process$1.nextTick(emitErrorAndCloseNT,o,d):e?(process$1.nextTick(emitCloseNT,o),e(d)):process$1.nextTick(emitCloseNT,o)}),this)}function emitErrorAndCloseNT(a,e){emitErrorNT$1(a,e),emitCloseNT(a)}function emitCloseNT(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function undestroy$1(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT$1(a,e){a.emit("error",e)}function errorOrDestroy(a,e){var o=a._readableState,h=a._writableState;o&&o.autoDestroy||h&&h.autoDestroy?a.destroy(e):a.emit("error",e)}var destroy_1$1={destroy:destroy$1,undestroy:undestroy$1,errorOrDestroy},errorsBrowser={};function _inheritsLoose(a,e){a.prototype=Object.create(e.prototype),a.prototype.constructor=a,a.__proto__=e}var codes={};function createErrorType(a,e,o){o||(o=Error);function h(d,Y,ie){return typeof e=="string"?e:e(d,Y,ie)}var $=function(d){_inheritsLoose(Y,d);function Y(ie,fe,he){return d.call(this,h(ie,fe,he))||this}return Y}(o);$.prototype.name=o.name,$.prototype.code=a,codes[a]=$}function oneOf(a,e){if(Array.isArray(a)){var o=a.length;return a=a.map(function(h){return String(h)}),o>2?"one of ".concat(e," ").concat(a.slice(0,o-1).join(", "),", or ")+a[o-1]:o===2?"one of ".concat(e," ").concat(a[0]," or ").concat(a[1]):"of ".concat(e," ").concat(a[0])}else return"of ".concat(e," ").concat(String(a))}function startsWith(a,e,o){return a.substr(0,e.length)===e}function endsWith(a,e,o){return(o===void 0||o>a.length)&&(o=a.length),a.substring(o-e.length,o)===e}function includes(a,e,o){return typeof o!="number"&&(o=0),o+e.length>a.length?!1:a.indexOf(e,o)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",function(a,e){return'The value "'+e+'" is invalid for option "'+a+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(a,e,o){var h;typeof e=="string"&&startsWith(e,"not ")?(h="must not be",e=e.replace(/^not /,"")):h="must be";var $;if(endsWith(a," argument"))$="The ".concat(a," ").concat(h," ").concat(oneOf(e,"type"));else{var d=includes(a,".")?"property":"argument";$='The "'.concat(a,'" ').concat(d," ").concat(h," ").concat(oneOf(e,"type"))}return $+=". Received type ".concat(typeof o),$},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");errorsBrowser.codes=codes;var ERR_INVALID_OPT_VALUE=errorsBrowser.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(a,e,o){return a.highWaterMark!=null?a.highWaterMark:e?a[o]:null}function getHighWaterMark(a,e,o,h){var $=highWaterMarkFrom(e,h,o);if($!=null){if(!(isFinite($)&&Math.floor($)===$)||$<0){var d=h?o:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(d,$)}return Math.floor($)}return a.objectMode?16:16*1024}var state={getHighWaterMark},browser$e=deprecate;function deprecate(a,e){if(config("noDeprecation"))return a;var o=!1;function h(){if(!o){if(config("throwDeprecation"))throw new Error(e);config("traceDeprecation")?console.trace(e):console.warn(e),o=!0}return a.apply(this,arguments)}return h}function config(a){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var e=commonjsGlobal.localStorage[a];return e==null?!1:String(e).toLowerCase()==="true"}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=qe;function a(Se){var _e=this;this.next=null,this.entry=null,this.finish=function(){Me(_e,Se)}}var e;qe.WritableState=Pe;var o={deprecate:browser$e},h=streamBrowser$1,$=require$$0$3.Buffer,d=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Y(Se){return $.from(Se)}function ie(Se){return $.isBuffer(Se)||Se instanceof d}var fe=destroy_1$1,he=state,ne=he.getHighWaterMark,le=errorsBrowser.codes,de=le.ERR_INVALID_ARG_TYPE,ce=le.ERR_METHOD_NOT_IMPLEMENTED,ge=le.ERR_MULTIPLE_CALLBACK,xe=le.ERR_STREAM_CANNOT_PIPE,Ae=le.ERR_STREAM_DESTROYED,Ee=le.ERR_STREAM_NULL_VALUES,we=le.ERR_STREAM_WRITE_AFTER_END,pe=le.ERR_UNKNOWN_ENCODING,me=fe.errorOrDestroy;inherits_browserExports(qe,h);function Te(){}function Pe(Se,_e,Re){e=e||require_stream_duplex$1(),Se=Se||{},typeof Re!="boolean"&&(Re=_e instanceof e),this.objectMode=!!Se.objectMode,Re&&(this.objectMode=this.objectMode||!!Se.writableObjectMode),this.highWaterMark=ne(this,Se,"writableHighWaterMark",Re),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ie=Se.decodeStrings===!1;this.decodeStrings=!Ie,this.defaultEncoding=Se.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ne){re(_e,Ne)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Se.emitClose!==!1,this.autoDestroy=!!Se.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}Pe.prototype.getBuffer=function(){for(var _e=this.bufferedRequest,Re=[];_e;)Re.push(_e),_e=_e.next;return Re},function(){try{Object.defineProperty(Pe.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Le;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Le=Function.prototype[Symbol.hasInstance],Object.defineProperty(qe,Symbol.hasInstance,{value:function(_e){return Le.call(this,_e)?!0:this!==qe?!1:_e&&_e._writableState instanceof Pe}})):Le=function(_e){return _e instanceof this};function qe(Se){e=e||require_stream_duplex$1();var _e=this instanceof e;if(!_e&&!Le.call(qe,this))return new qe(Se);this._writableState=new Pe(Se,this,_e),this.writable=!0,Se&&(typeof Se.write=="function"&&(this._write=Se.write),typeof Se.writev=="function"&&(this._writev=Se.writev),typeof Se.destroy=="function"&&(this._destroy=Se.destroy),typeof Se.final=="function"&&(this._final=Se.final)),h.call(this)}qe.prototype.pipe=function(){me(this,new xe)};function Ce(Se,_e){var Re=new we;me(Se,Re),process$1.nextTick(_e,Re)}function ze(Se,_e,Re,Ie){var Ne;return Re===null?Ne=new Ee:typeof Re!="string"&&!_e.objectMode&&(Ne=new de("chunk",["string","Buffer"],Re)),Ne?(me(Se,Ne),process$1.nextTick(Ie,Ne),!1):!0}qe.prototype.write=function(Se,_e,Re){var Ie=this._writableState,Ne=!1,Oe=!Ie.objectMode&&ie(Se);return Oe&&!$.isBuffer(Se)&&(Se=Y(Se)),typeof _e=="function"&&(Re=_e,_e=null),Oe?_e="buffer":_e||(_e=Ie.defaultEncoding),typeof Re!="function"&&(Re=Te),Ie.ending?Ce(this,Re):(Oe||ze(this,Ie,Se,Re))&&(Ie.pendingcb++,Ne=c(this,Ie,Oe,Se,_e,Re)),Ne},qe.prototype.cork=function(){this._writableState.corked++},qe.prototype.uncork=function(){var Se=this._writableState;Se.corked&&(Se.corked--,!Se.writing&&!Se.corked&&!Se.bufferProcessing&&Se.bufferedRequest&&ee(this,Se))},qe.prototype.setDefaultEncoding=function(_e){if(typeof _e=="string"&&(_e=_e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_e+"").toLowerCase())>-1))throw new pe(_e);return this._writableState.defaultEncoding=_e,this},Object.defineProperty(qe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function oe(Se,_e,Re){return!Se.objectMode&&Se.decodeStrings!==!1&&typeof _e=="string"&&(_e=$.from(_e,Re)),_e}Object.defineProperty(qe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function c(Se,_e,Re,Ie,Ne,Oe){if(!Re){var ke=oe(_e,Ie,Ne);Ie!==ke&&(Re=!0,Ne="buffer",Ie=ke)}var He=_e.objectMode?1:Ie.length;_e.length+=He;var ct=_e.length<_e.highWaterMark;if(ct||(_e.needDrain=!0),_e.writing||_e.corked){var Ve=_e.lastBufferedRequest;_e.lastBufferedRequest={chunk:Ie,encoding:Ne,isBuf:Re,callback:Oe,next:null},Ve?Ve.next=_e.lastBufferedRequest:_e.bufferedRequest=_e.lastBufferedRequest,_e.bufferedRequestCount+=1}else b(Se,_e,!1,He,Ie,Ne,Oe);return ct}function b(Se,_e,Re,Ie,Ne,Oe,ke){_e.writelen=Ie,_e.writecb=ke,_e.writing=!0,_e.sync=!0,_e.destroyed?_e.onwrite(new Ae("write")):Re?Se._writev(Ne,_e.onwrite):Se._write(Ne,Oe,_e.onwrite),_e.sync=!1}function j(Se,_e,Re,Ie,Ne){--_e.pendingcb,Re?(process$1.nextTick(Ne,Ie),process$1.nextTick(ve,Se,_e),Se._writableState.errorEmitted=!0,me(Se,Ie)):(Ne(Ie),Se._writableState.errorEmitted=!0,me(Se,Ie),ve(Se,_e))}function Z(Se){Se.writing=!1,Se.writecb=null,Se.length-=Se.writelen,Se.writelen=0}function re(Se,_e){var Re=Se._writableState,Ie=Re.sync,Ne=Re.writecb;if(typeof Ne!="function")throw new ge;if(Z(Re),_e)j(Se,Re,Ie,_e,Ne);else{var Oe=_(Re)||Se.destroyed;!Oe&&!Re.corked&&!Re.bufferProcessing&&Re.bufferedRequest&&ee(Se,Re),Ie?process$1.nextTick(ae,Se,Re,Oe,Ne):ae(Se,Re,Oe,Ne)}}function ae(Se,_e,Re,Ie){Re||se(Se,_e),_e.pendingcb--,Ie(),ve(Se,_e)}function se(Se,_e){_e.length===0&&_e.needDrain&&(_e.needDrain=!1,Se.emit("drain"))}function ee(Se,_e){_e.bufferProcessing=!0;var Re=_e.bufferedRequest;if(Se._writev&&Re&&Re.next){var Ie=_e.bufferedRequestCount,Ne=new Array(Ie),Oe=_e.corkedRequestsFree;Oe.entry=Re;for(var ke=0,He=!0;Re;)Ne[ke]=Re,Re.isBuf||(He=!1),Re=Re.next,ke+=1;Ne.allBuffers=He,b(Se,_e,!0,_e.length,Ne,"",Oe.finish),_e.pendingcb++,_e.lastBufferedRequest=null,Oe.next?(_e.corkedRequestsFree=Oe.next,Oe.next=null):_e.corkedRequestsFree=new a(_e),_e.bufferedRequestCount=0}else{for(;Re;){var ct=Re.chunk,Ve=Re.encoding,Ye=Re.callback,wt=_e.objectMode?1:ct.length;if(b(Se,_e,!1,wt,ct,Ve,Ye),Re=Re.next,_e.bufferedRequestCount--,_e.writing)break}Re===null&&(_e.lastBufferedRequest=null)}_e.bufferedRequest=Re,_e.bufferProcessing=!1}qe.prototype._write=function(Se,_e,Re){Re(new ce("_write()"))},qe.prototype._writev=null,qe.prototype.end=function(Se,_e,Re){var Ie=this._writableState;return typeof Se=="function"?(Re=Se,Se=null,_e=null):typeof _e=="function"&&(Re=_e,_e=null),Se!=null&&this.write(Se,_e),Ie.corked&&(Ie.corked=1,this.uncork()),Ie.ending||be(this,Ie,Re),this},Object.defineProperty(qe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(Se){return Se.ending&&Se.length===0&&Se.bufferedRequest===null&&!Se.finished&&!Se.writing}function te(Se,_e){Se._final(function(Re){_e.pendingcb--,Re&&me(Se,Re),_e.prefinished=!0,Se.emit("prefinish"),ve(Se,_e)})}function ue(Se,_e){!_e.prefinished&&!_e.finalCalled&&(typeof Se._final=="function"&&!_e.destroyed?(_e.pendingcb++,_e.finalCalled=!0,process$1.nextTick(te,Se,_e)):(_e.prefinished=!0,Se.emit("prefinish")))}function ve(Se,_e){var Re=_(_e);if(Re&&(ue(Se,_e),_e.pendingcb===0&&(_e.finished=!0,Se.emit("finish"),_e.autoDestroy))){var Ie=Se._readableState;(!Ie||Ie.autoDestroy&&Ie.endEmitted)&&Se.destroy()}return Re}function be(Se,_e,Re){_e.ending=!0,ve(Se,_e),Re&&(_e.finished?process$1.nextTick(Re):Se.once("finish",Re)),_e.ended=!0,Se.writable=!1}function Me(Se,_e,Re){var Ie=Se.entry;for(Se.entry=null;Ie;){var Ne=Ie.callback;_e.pendingcb--,Ne(Re),Ie=Ie.next}_e.corkedRequestsFree.next=Se}return Object.defineProperty(qe.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(_e){this._writableState&&(this._writableState.destroyed=_e)}}),qe.prototype.destroy=fe.destroy,qe.prototype._undestroy=fe.undestroy,qe.prototype._destroy=function(Se,_e){_e(Se)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var a=Object.keys||function(he){var ne=[];for(var le in he)ne.push(le);return ne};_stream_duplex$1=Y;var e=require_stream_readable$1(),o=require_stream_writable$1();inherits_browserExports(Y,e);for(var h=a(o.prototype),$=0;$<h.length;$++){var d=h[$];Y.prototype[d]||(Y.prototype[d]=o.prototype[d])}function Y(he){if(!(this instanceof Y))return new Y(he);e.call(this,he),o.call(this,he),this.allowHalfOpen=!0,he&&(he.readable===!1&&(this.readable=!1),he.writable===!1&&(this.writable=!1),he.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",ie)))}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ie(){this._writableState.ended||process$1.nextTick(fe,this)}function fe(he){he.end()}return Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(ne){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=ne,this._writableState.destroyed=ne)}}),_stream_duplex$1}var string_decoder={},safeBuffer$2={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(a,e){var o=require$$0$3,h=o.Buffer;function $(Y,ie){for(var fe in Y)ie[fe]=Y[fe]}h.from&&h.alloc&&h.allocUnsafe&&h.allocUnsafeSlow?a.exports=o:($(o,e),e.Buffer=d);function d(Y,ie,fe){return h(Y,ie,fe)}d.prototype=Object.create(h.prototype),$(h,d),d.from=function(Y,ie,fe){if(typeof Y=="number")throw new TypeError("Argument must not be a number");return h(Y,ie,fe)},d.alloc=function(Y,ie,fe){if(typeof Y!="number")throw new TypeError("Argument must be a number");var he=h(Y);return ie!==void 0?typeof fe=="string"?he.fill(ie,fe):he.fill(ie):he.fill(0),he},d.allocUnsafe=function(Y){if(typeof Y!="number")throw new TypeError("Argument must be a number");return h(Y)},d.allocUnsafeSlow=function(Y){if(typeof Y!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(Y)}})(safeBuffer$2,safeBuffer$2.exports);var safeBufferExports$1=safeBuffer$2.exports,hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var a=safeBufferExports$1.Buffer,e=a.isEncoding||function(Ee){switch(Ee=""+Ee,Ee&&Ee.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(Ee){if(!Ee)return"utf8";for(var we;;)switch(Ee){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Ee;default:if(we)return;Ee=(""+Ee).toLowerCase(),we=!0}}function h(Ee){var we=o(Ee);if(typeof we!="string"&&(a.isEncoding===e||!e(Ee)))throw new Error("Unknown encoding: "+Ee);return we||Ee}string_decoder.StringDecoder=$;function $(Ee){this.encoding=h(Ee);var we;switch(this.encoding){case"utf16le":this.text=le,this.end=de,we=4;break;case"utf8":this.fillLast=fe,we=4;break;case"base64":this.text=ce,this.end=ge,we=3;break;default:this.write=xe,this.end=Ae;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(we)}$.prototype.write=function(Ee){if(Ee.length===0)return"";var we,pe;if(this.lastNeed){if(we=this.fillLast(Ee),we===void 0)return"";pe=this.lastNeed,this.lastNeed=0}else pe=0;return pe<Ee.length?we?we+this.text(Ee,pe):this.text(Ee,pe):we||""},$.prototype.end=ne,$.prototype.text=he,$.prototype.fillLast=function(Ee){if(this.lastNeed<=Ee.length)return Ee.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Ee.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Ee.length),this.lastNeed-=Ee.length};function d(Ee){return Ee<=127?0:Ee>>5===6?2:Ee>>4===14?3:Ee>>3===30?4:Ee>>6===2?-1:-2}function Y(Ee,we,pe){var me=we.length-1;if(me<pe)return 0;var Te=d(we[me]);return Te>=0?(Te>0&&(Ee.lastNeed=Te-1),Te):--me<pe||Te===-2?0:(Te=d(we[me]),Te>=0?(Te>0&&(Ee.lastNeed=Te-2),Te):--me<pe||Te===-2?0:(Te=d(we[me]),Te>=0?(Te>0&&(Te===2?Te=0:Ee.lastNeed=Te-3),Te):0))}function ie(Ee,we,pe){if((we[0]&192)!==128)return Ee.lastNeed=0,"";if(Ee.lastNeed>1&&we.length>1){if((we[1]&192)!==128)return Ee.lastNeed=1,"";if(Ee.lastNeed>2&&we.length>2&&(we[2]&192)!==128)return Ee.lastNeed=2,""}}function fe(Ee){var we=this.lastTotal-this.lastNeed,pe=ie(this,Ee);if(pe!==void 0)return pe;if(this.lastNeed<=Ee.length)return Ee.copy(this.lastChar,we,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Ee.copy(this.lastChar,we,0,Ee.length),this.lastNeed-=Ee.length}function he(Ee,we){var pe=Y(this,Ee,we);if(!this.lastNeed)return Ee.toString("utf8",we);this.lastTotal=pe;var me=Ee.length-(pe-this.lastNeed);return Ee.copy(this.lastChar,0,me),Ee.toString("utf8",we,me)}function ne(Ee){var we=Ee&&Ee.length?this.write(Ee):"";return this.lastNeed?we+"":we}function le(Ee,we){if((Ee.length-we)%2===0){var pe=Ee.toString("utf16le",we);if(pe){var me=pe.charCodeAt(pe.length-1);if(me>=55296&&me<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Ee[Ee.length-2],this.lastChar[1]=Ee[Ee.length-1],pe.slice(0,-1)}return pe}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Ee[Ee.length-1],Ee.toString("utf16le",we,Ee.length-1)}function de(Ee){var we=Ee&&Ee.length?this.write(Ee):"";if(this.lastNeed){var pe=this.lastTotal-this.lastNeed;return we+this.lastChar.toString("utf16le",0,pe)}return we}function ce(Ee,we){var pe=(Ee.length-we)%3;return pe===0?Ee.toString("base64",we):(this.lastNeed=3-pe,this.lastTotal=3,pe===1?this.lastChar[0]=Ee[Ee.length-1]:(this.lastChar[0]=Ee[Ee.length-2],this.lastChar[1]=Ee[Ee.length-1]),Ee.toString("base64",we,Ee.length-pe))}function ge(Ee){var we=Ee&&Ee.length?this.write(Ee):"";return this.lastNeed?we+this.lastChar.toString("base64",0,3-this.lastNeed):we}function xe(Ee){return Ee.toString(this.encoding)}function Ae(Ee){return Ee&&Ee.length?this.write(Ee):""}return string_decoder}var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser.codes.ERR_STREAM_PREMATURE_CLOSE;function once$8(a){var e=!1;return function(){if(!e){e=!0;for(var o=arguments.length,h=new Array(o),$=0;$<o;$++)h[$]=arguments[$];a.apply(this,h)}}}function noop$7(){}function isRequest$3(a){return a.setHeader&&typeof a.abort=="function"}function eos$4(a,e,o){if(typeof e=="function")return eos$4(a,null,e);e||(e={}),o=once$8(o||noop$7);var h=e.readable||e.readable!==!1&&a.readable,$=e.writable||e.writable!==!1&&a.writable,d=function(){a.writable||ie()},Y=a._writableState&&a._writableState.finished,ie=function(){$=!1,Y=!0,h||o.call(a)},fe=a._readableState&&a._readableState.endEmitted,he=function(){h=!1,fe=!0,$||o.call(a)},ne=function(ge){o.call(a,ge)},le=function(){var ge;if(h&&!fe)return(!a._readableState||!a._readableState.ended)&&(ge=new ERR_STREAM_PREMATURE_CLOSE),o.call(a,ge);if($&&!Y)return(!a._writableState||!a._writableState.ended)&&(ge=new ERR_STREAM_PREMATURE_CLOSE),o.call(a,ge)},de=function(){a.req.on("finish",ie)};return isRequest$3(a)?(a.on("complete",ie),a.on("abort",le),a.req?de():a.on("request",de)):$&&!a._writableState&&(a.on("end",d),a.on("close",d)),a.on("end",he),a.on("finish",ie),e.error!==!1&&a.on("error",ne),a.on("close",le),function(){a.removeListener("complete",ie),a.removeListener("abort",le),a.removeListener("request",de),a.req&&a.req.removeListener("finish",ie),a.removeListener("end",d),a.removeListener("close",d),a.removeListener("finish",ie),a.removeListener("end",he),a.removeListener("error",ne),a.removeListener("close",le)}}var endOfStream$1=eos$4,async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var a;function e(pe,me,Te){return me=o(me),me in pe?Object.defineProperty(pe,me,{value:Te,enumerable:!0,configurable:!0,writable:!0}):pe[me]=Te,pe}function o(pe){var me=h(pe,"string");return typeof me=="symbol"?me:String(me)}function h(pe,me){if(typeof pe!="object"||pe===null)return pe;var Te=pe[Symbol.toPrimitive];if(Te!==void 0){var Pe=Te.call(pe,me);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(me==="string"?String:Number)(pe)}var $=endOfStream$1,d=Symbol("lastResolve"),Y=Symbol("lastReject"),ie=Symbol("error"),fe=Symbol("ended"),he=Symbol("lastPromise"),ne=Symbol("handlePromise"),le=Symbol("stream");function de(pe,me){return{value:pe,done:me}}function ce(pe){var me=pe[d];if(me!==null){var Te=pe[le].read();Te!==null&&(pe[he]=null,pe[d]=null,pe[Y]=null,me(de(Te,!1)))}}function ge(pe){process$1.nextTick(ce,pe)}function xe(pe,me){return function(Te,Pe){pe.then(function(){if(me[fe]){Te(de(void 0,!0));return}me[ne](Te,Pe)},Pe)}}var Ae=Object.getPrototypeOf(function(){}),Ee=Object.setPrototypeOf((a={get stream(){return this[le]},next:function(){var me=this,Te=this[ie];if(Te!==null)return Promise.reject(Te);if(this[fe])return Promise.resolve(de(void 0,!0));if(this[le].destroyed)return new Promise(function(Ce,ze){process$1.nextTick(function(){me[ie]?ze(me[ie]):Ce(de(void 0,!0))})});var Pe=this[he],Le;if(Pe)Le=new Promise(xe(Pe,this));else{var qe=this[le].read();if(qe!==null)return Promise.resolve(de(qe,!1));Le=new Promise(this[ne])}return this[he]=Le,Le}},e(a,Symbol.asyncIterator,function(){return this}),e(a,"return",function(){var me=this;return new Promise(function(Te,Pe){me[le].destroy(null,function(Le){if(Le){Pe(Le);return}Te(de(void 0,!0))})})}),a),Ae),we=function(me){var Te,Pe=Object.create(Ee,(Te={},e(Te,le,{value:me,writable:!0}),e(Te,d,{value:null,writable:!0}),e(Te,Y,{value:null,writable:!0}),e(Te,ie,{value:null,writable:!0}),e(Te,fe,{value:me._readableState.endEmitted,writable:!0}),e(Te,ne,{value:function(qe,Ce){var ze=Pe[le].read();ze?(Pe[he]=null,Pe[d]=null,Pe[Y]=null,qe(de(ze,!1))):(Pe[d]=qe,Pe[Y]=Ce)},writable:!0}),Te));return Pe[he]=null,$(me,function(Le){if(Le&&Le.code!=="ERR_STREAM_PREMATURE_CLOSE"){var qe=Pe[Y];qe!==null&&(Pe[he]=null,Pe[d]=null,Pe[Y]=null,qe(Le)),Pe[ie]=Le;return}var Ce=Pe[d];Ce!==null&&(Pe[he]=null,Pe[d]=null,Pe[Y]=null,Ce(de(void 0,!0))),Pe[fe]=!0}),me.on("readable",ge.bind(null,Pe)),Pe};return async_iterator=we,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=Ce;var a;Ce.ReadableState=qe,eventsExports.EventEmitter;var e=function(ke,He){return ke.listeners(He).length},o=streamBrowser$1,h=require$$0$3.Buffer,$=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function d(Oe){return h.from(Oe)}function Y(Oe){return h.isBuffer(Oe)||Oe instanceof $}var ie=util$3,fe;ie&&ie.debuglog?fe=ie.debuglog("stream"):fe=function(){};var he=requireBuffer_list(),ne=destroy_1$1,le=state,de=le.getHighWaterMark,ce=errorsBrowser.codes,ge=ce.ERR_INVALID_ARG_TYPE,xe=ce.ERR_STREAM_PUSH_AFTER_EOF,Ae=ce.ERR_METHOD_NOT_IMPLEMENTED,Ee=ce.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,we,pe,me;inherits_browserExports(Ce,o);var Te=ne.errorOrDestroy,Pe=["error","close","destroy","pause","resume"];function Le(Oe,ke,He){if(typeof Oe.prependListener=="function")return Oe.prependListener(ke,He);!Oe._events||!Oe._events[ke]?Oe.on(ke,He):Array.isArray(Oe._events[ke])?Oe._events[ke].unshift(He):Oe._events[ke]=[He,Oe._events[ke]]}function qe(Oe,ke,He){a=a||require_stream_duplex$1(),Oe=Oe||{},typeof He!="boolean"&&(He=ke instanceof a),this.objectMode=!!Oe.objectMode,He&&(this.objectMode=this.objectMode||!!Oe.readableObjectMode),this.highWaterMark=de(this,Oe,"readableHighWaterMark",He),this.buffer=new he,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Oe.emitClose!==!1,this.autoDestroy=!!Oe.autoDestroy,this.destroyed=!1,this.defaultEncoding=Oe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Oe.encoding&&(we||(we=requireString_decoder().StringDecoder),this.decoder=new we(Oe.encoding),this.encoding=Oe.encoding)}function Ce(Oe){if(a=a||require_stream_duplex$1(),!(this instanceof Ce))return new Ce(Oe);var ke=this instanceof a;this._readableState=new qe(Oe,this,ke),this.readable=!0,Oe&&(typeof Oe.read=="function"&&(this._read=Oe.read),typeof Oe.destroy=="function"&&(this._destroy=Oe.destroy)),o.call(this)}Object.defineProperty(Ce.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ke){this._readableState&&(this._readableState.destroyed=ke)}}),Ce.prototype.destroy=ne.destroy,Ce.prototype._undestroy=ne.undestroy,Ce.prototype._destroy=function(Oe,ke){ke(Oe)},Ce.prototype.push=function(Oe,ke){var He=this._readableState,ct;return He.objectMode?ct=!0:typeof Oe=="string"&&(ke=ke||He.defaultEncoding,ke!==He.encoding&&(Oe=h.from(Oe,ke),ke=""),ct=!0),ze(this,Oe,ke,!1,ct)},Ce.prototype.unshift=function(Oe){return ze(this,Oe,null,!0,!1)};function ze(Oe,ke,He,ct,Ve){fe("readableAddChunk",ke);var Ye=Oe._readableState;if(ke===null)Ye.reading=!1,re(Oe,Ye);else{var wt;if(Ve||(wt=c(Ye,ke)),wt)Te(Oe,wt);else if(Ye.objectMode||ke&&ke.length>0)if(typeof ke!="string"&&!Ye.objectMode&&Object.getPrototypeOf(ke)!==h.prototype&&(ke=d(ke)),ct)Ye.endEmitted?Te(Oe,new Ee):oe(Oe,Ye,ke,!0);else if(Ye.ended)Te(Oe,new xe);else{if(Ye.destroyed)return!1;Ye.reading=!1,Ye.decoder&&!He?(ke=Ye.decoder.write(ke),Ye.objectMode||ke.length!==0?oe(Oe,Ye,ke,!1):ee(Oe,Ye)):oe(Oe,Ye,ke,!1)}else ct||(Ye.reading=!1,ee(Oe,Ye))}return!Ye.ended&&(Ye.length<Ye.highWaterMark||Ye.length===0)}function oe(Oe,ke,He,ct){ke.flowing&&ke.length===0&&!ke.sync?(ke.awaitDrain=0,Oe.emit("data",He)):(ke.length+=ke.objectMode?1:He.length,ct?ke.buffer.unshift(He):ke.buffer.push(He),ke.needReadable&&ae(Oe)),ee(Oe,ke)}function c(Oe,ke){var He;return!Y(ke)&&typeof ke!="string"&&ke!==void 0&&!Oe.objectMode&&(He=new ge("chunk",["string","Buffer","Uint8Array"],ke)),He}Ce.prototype.isPaused=function(){return this._readableState.flowing===!1},Ce.prototype.setEncoding=function(Oe){we||(we=requireString_decoder().StringDecoder);var ke=new we(Oe);this._readableState.decoder=ke,this._readableState.encoding=this._readableState.decoder.encoding;for(var He=this._readableState.buffer.head,ct="";He!==null;)ct+=ke.write(He.data),He=He.next;return this._readableState.buffer.clear(),ct!==""&&this._readableState.buffer.push(ct),this._readableState.length=ct.length,this};var b=1073741824;function j(Oe){return Oe>=b?Oe=b:(Oe--,Oe|=Oe>>>1,Oe|=Oe>>>2,Oe|=Oe>>>4,Oe|=Oe>>>8,Oe|=Oe>>>16,Oe++),Oe}function Z(Oe,ke){return Oe<=0||ke.length===0&&ke.ended?0:ke.objectMode?1:Oe!==Oe?ke.flowing&&ke.length?ke.buffer.head.data.length:ke.length:(Oe>ke.highWaterMark&&(ke.highWaterMark=j(Oe)),Oe<=ke.length?Oe:ke.ended?ke.length:(ke.needReadable=!0,0))}Ce.prototype.read=function(Oe){fe("read",Oe),Oe=parseInt(Oe,10);var ke=this._readableState,He=Oe;if(Oe!==0&&(ke.emittedReadable=!1),Oe===0&&ke.needReadable&&((ke.highWaterMark!==0?ke.length>=ke.highWaterMark:ke.length>0)||ke.ended))return fe("read: emitReadable",ke.length,ke.ended),ke.length===0&&ke.ended?Re(this):ae(this),null;if(Oe=Z(Oe,ke),Oe===0&&ke.ended)return ke.length===0&&Re(this),null;var ct=ke.needReadable;fe("need readable",ct),(ke.length===0||ke.length-Oe<ke.highWaterMark)&&(ct=!0,fe("length less than watermark",ct)),ke.ended||ke.reading?(ct=!1,fe("reading or ended",ct)):ct&&(fe("do read"),ke.reading=!0,ke.sync=!0,ke.length===0&&(ke.needReadable=!0),this._read(ke.highWaterMark),ke.sync=!1,ke.reading||(Oe=Z(He,ke)));var Ve;return Oe>0?Ve=_e(Oe,ke):Ve=null,Ve===null?(ke.needReadable=ke.length<=ke.highWaterMark,Oe=0):(ke.length-=Oe,ke.awaitDrain=0),ke.length===0&&(ke.ended||(ke.needReadable=!0),He!==Oe&&ke.ended&&Re(this)),Ve!==null&&this.emit("data",Ve),Ve};function re(Oe,ke){if(fe("onEofChunk"),!ke.ended){if(ke.decoder){var He=ke.decoder.end();He&&He.length&&(ke.buffer.push(He),ke.length+=ke.objectMode?1:He.length)}ke.ended=!0,ke.sync?ae(Oe):(ke.needReadable=!1,ke.emittedReadable||(ke.emittedReadable=!0,se(Oe)))}}function ae(Oe){var ke=Oe._readableState;fe("emitReadable",ke.needReadable,ke.emittedReadable),ke.needReadable=!1,ke.emittedReadable||(fe("emitReadable",ke.flowing),ke.emittedReadable=!0,process$1.nextTick(se,Oe))}function se(Oe){var ke=Oe._readableState;fe("emitReadable_",ke.destroyed,ke.length,ke.ended),!ke.destroyed&&(ke.length||ke.ended)&&(Oe.emit("readable"),ke.emittedReadable=!1),ke.needReadable=!ke.flowing&&!ke.ended&&ke.length<=ke.highWaterMark,Se(Oe)}function ee(Oe,ke){ke.readingMore||(ke.readingMore=!0,process$1.nextTick(_,Oe,ke))}function _(Oe,ke){for(;!ke.reading&&!ke.ended&&(ke.length<ke.highWaterMark||ke.flowing&&ke.length===0);){var He=ke.length;if(fe("maybeReadMore read 0"),Oe.read(0),He===ke.length)break}ke.readingMore=!1}Ce.prototype._read=function(Oe){Te(this,new Ae("_read()"))},Ce.prototype.pipe=function(Oe,ke){var He=this,ct=this._readableState;switch(ct.pipesCount){case 0:ct.pipes=Oe;break;case 1:ct.pipes=[ct.pipes,Oe];break;default:ct.pipes.push(Oe);break}ct.pipesCount+=1,fe("pipe count=%d opts=%j",ct.pipesCount,ke);var Ve=(!ke||ke.end!==!1)&&Oe!==process$1.stdout&&Oe!==process$1.stderr,Ye=Ve?Qe:bt;ct.endEmitted?process$1.nextTick(Ye):He.once("end",Ye),Oe.on("unpipe",wt);function wt(Ke,Ze){fe("onunpipe"),Ke===He&&Ze&&Ze.hasUnpiped===!1&&(Ze.hasUnpiped=!0,tt())}function Qe(){fe("onend"),Oe.end()}var Ge=te(He);Oe.on("drain",Ge);var $t=!1;function tt(){fe("cleanup"),Oe.removeListener("close",Ue),Oe.removeListener("finish",je),Oe.removeListener("drain",Ge),Oe.removeListener("error",St),Oe.removeListener("unpipe",wt),He.removeListener("end",Qe),He.removeListener("end",bt),He.removeListener("data",ut),$t=!0,ct.awaitDrain&&(!Oe._writableState||Oe._writableState.needDrain)&&Ge()}He.on("data",ut);function ut(Ke){fe("ondata");var Ze=Oe.write(Ke);fe("dest.write",Ze),Ze===!1&&((ct.pipesCount===1&&ct.pipes===Oe||ct.pipesCount>1&&Ne(ct.pipes,Oe)!==-1)&&!$t&&(fe("false write response, pause",ct.awaitDrain),ct.awaitDrain++),He.pause())}function St(Ke){fe("onerror",Ke),bt(),Oe.removeListener("error",St),e(Oe,"error")===0&&Te(Oe,Ke)}Le(Oe,"error",St);function Ue(){Oe.removeListener("finish",je),bt()}Oe.once("close",Ue);function je(){fe("onfinish"),Oe.removeListener("close",Ue),bt()}Oe.once("finish",je);function bt(){fe("unpipe"),He.unpipe(Oe)}return Oe.emit("pipe",He),ct.flowing||(fe("pipe resume"),He.resume()),Oe};function te(Oe){return function(){var He=Oe._readableState;fe("pipeOnDrain",He.awaitDrain),He.awaitDrain&&He.awaitDrain--,He.awaitDrain===0&&e(Oe,"data")&&(He.flowing=!0,Se(Oe))}}Ce.prototype.unpipe=function(Oe){var ke=this._readableState,He={hasUnpiped:!1};if(ke.pipesCount===0)return this;if(ke.pipesCount===1)return Oe&&Oe!==ke.pipes?this:(Oe||(Oe=ke.pipes),ke.pipes=null,ke.pipesCount=0,ke.flowing=!1,Oe&&Oe.emit("unpipe",this,He),this);if(!Oe){var ct=ke.pipes,Ve=ke.pipesCount;ke.pipes=null,ke.pipesCount=0,ke.flowing=!1;for(var Ye=0;Ye<Ve;Ye++)ct[Ye].emit("unpipe",this,{hasUnpiped:!1});return this}var wt=Ne(ke.pipes,Oe);return wt===-1?this:(ke.pipes.splice(wt,1),ke.pipesCount-=1,ke.pipesCount===1&&(ke.pipes=ke.pipes[0]),Oe.emit("unpipe",this,He),this)},Ce.prototype.on=function(Oe,ke){var He=o.prototype.on.call(this,Oe,ke),ct=this._readableState;return Oe==="data"?(ct.readableListening=this.listenerCount("readable")>0,ct.flowing!==!1&&this.resume()):Oe==="readable"&&!ct.endEmitted&&!ct.readableListening&&(ct.readableListening=ct.needReadable=!0,ct.flowing=!1,ct.emittedReadable=!1,fe("on readable",ct.length,ct.reading),ct.length?ae(this):ct.reading||process$1.nextTick(ve,this)),He},Ce.prototype.addListener=Ce.prototype.on,Ce.prototype.removeListener=function(Oe,ke){var He=o.prototype.removeListener.call(this,Oe,ke);return Oe==="readable"&&process$1.nextTick(ue,this),He},Ce.prototype.removeAllListeners=function(Oe){var ke=o.prototype.removeAllListeners.apply(this,arguments);return(Oe==="readable"||Oe===void 0)&&process$1.nextTick(ue,this),ke};function ue(Oe){var ke=Oe._readableState;ke.readableListening=Oe.listenerCount("readable")>0,ke.resumeScheduled&&!ke.paused?ke.flowing=!0:Oe.listenerCount("data")>0&&Oe.resume()}function ve(Oe){fe("readable nexttick read 0"),Oe.read(0)}Ce.prototype.resume=function(){var Oe=this._readableState;return Oe.flowing||(fe("resume"),Oe.flowing=!Oe.readableListening,be(this,Oe)),Oe.paused=!1,this};function be(Oe,ke){ke.resumeScheduled||(ke.resumeScheduled=!0,process$1.nextTick(Me,Oe,ke))}function Me(Oe,ke){fe("resume",ke.reading),ke.reading||Oe.read(0),ke.resumeScheduled=!1,Oe.emit("resume"),Se(Oe),ke.flowing&&!ke.reading&&Oe.read(0)}Ce.prototype.pause=function(){return fe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(fe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Se(Oe){var ke=Oe._readableState;for(fe("flow",ke.flowing);ke.flowing&&Oe.read()!==null;);}Ce.prototype.wrap=function(Oe){var ke=this,He=this._readableState,ct=!1;Oe.on("end",function(){if(fe("wrapped end"),He.decoder&&!He.ended){var wt=He.decoder.end();wt&&wt.length&&ke.push(wt)}ke.push(null)}),Oe.on("data",function(wt){if(fe("wrapped data"),He.decoder&&(wt=He.decoder.write(wt)),!(He.objectMode&&wt==null)&&!(!He.objectMode&&(!wt||!wt.length))){var Qe=ke.push(wt);Qe||(ct=!0,Oe.pause())}});for(var Ve in Oe)this[Ve]===void 0&&typeof Oe[Ve]=="function"&&(this[Ve]=function(Qe){return function(){return Oe[Qe].apply(Oe,arguments)}}(Ve));for(var Ye=0;Ye<Pe.length;Ye++)Oe.on(Pe[Ye],this.emit.bind(this,Pe[Ye]));return this._read=function(wt){fe("wrapped _read",wt),ct&&(ct=!1,Oe.resume())},this},typeof Symbol=="function"&&(Ce.prototype[Symbol.asyncIterator]=function(){return pe===void 0&&(pe=requireAsync_iterator()),pe(this)}),Object.defineProperty(Ce.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Ce.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Ce.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ke){this._readableState&&(this._readableState.flowing=ke)}}),Ce._fromList=_e,Object.defineProperty(Ce.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function _e(Oe,ke){if(ke.length===0)return null;var He;return ke.objectMode?He=ke.buffer.shift():!Oe||Oe>=ke.length?(ke.decoder?He=ke.buffer.join(""):ke.buffer.length===1?He=ke.buffer.first():He=ke.buffer.concat(ke.length),ke.buffer.clear()):He=ke.buffer.consume(Oe,ke.decoder),He}function Re(Oe){var ke=Oe._readableState;fe("endReadable",ke.endEmitted),ke.endEmitted||(ke.ended=!0,process$1.nextTick(Ie,ke,Oe))}function Ie(Oe,ke){if(fe("endReadableNT",Oe.endEmitted,Oe.length),!Oe.endEmitted&&Oe.length===0&&(Oe.endEmitted=!0,ke.readable=!1,ke.emit("end"),Oe.autoDestroy)){var He=ke._writableState;(!He||He.autoDestroy&&He.finished)&&ke.destroy()}}typeof Symbol=="function"&&(Ce.from=function(Oe,ke){return me===void 0&&(me=requireFromBrowser()),me(Ce,Oe,ke)});function Ne(Oe,ke){for(var He=0,ct=Oe.length;He<ct;He++)if(Oe[He]===ke)return He;return-1}return _stream_readable$1}var _stream_transform$1=Transform$d,_require$codes$1=errorsBrowser.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex$2=require_stream_duplex$1();inherits_browserExports(Transform$d,Duplex$2);function afterTransform$2(a,e){var o=this._transformState;o.transforming=!1;var h=o.writecb;if(h===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK);o.writechunk=null,o.writecb=null,e!=null&&this.push(e),h(a);var $=this._readableState;$.reading=!1,($.needReadable||$.length<$.highWaterMark)&&this._read($.highWaterMark)}function Transform$d(a){if(!(this instanceof Transform$d))return new Transform$d(a);Duplex$2.call(this,a),this._transformState={afterTransform:afterTransform$2.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&(typeof a.transform=="function"&&(this._transform=a.transform),typeof a.flush=="function"&&(this._flush=a.flush)),this.on("prefinish",prefinish$1)}function prefinish$1(){var a=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,o){done$1(a,e,o)}):done$1(this,null,null)}Transform$d.prototype.push=function(a,e){return this._transformState.needTransform=!1,Duplex$2.prototype.push.call(this,a,e)};Transform$d.prototype._transform=function(a,e,o){o(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform$d.prototype._write=function(a,e,o){var h=this._transformState;if(h.writecb=o,h.writechunk=a,h.writeencoding=e,!h.transforming){var $=this._readableState;(h.needTransform||$.needReadable||$.length<$.highWaterMark)&&this._read($.highWaterMark)}};Transform$d.prototype._read=function(a){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Transform$d.prototype._destroy=function(a,e){Duplex$2.prototype._destroy.call(this,a,function(o){e(o)})};function done$1(a,e,o){if(e)return a.emit("error",e);if(o!=null&&a.push(o),a._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(a._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return a.push(null)}var _stream_passthrough$1=PassThrough$4,Transform$c=_stream_transform$1;inherits_browserExports(PassThrough$4,Transform$c);function PassThrough$4(a){if(!(this instanceof PassThrough$4))return new PassThrough$4(a);Transform$c.call(this,a)}PassThrough$4.prototype._transform=function(a,e,o){o(null,a)};var eos$3;function once$7(a){var e=!1;return function(){e||(e=!0,a.apply(void 0,arguments))}}var _require$codes=errorsBrowser.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop$6(a){if(a)throw a}function isRequest$2(a){return a.setHeader&&typeof a.abort=="function"}function destroyer$1(a,e,o,h){h=once$7(h);var $=!1;a.on("close",function(){$=!0}),eos$3===void 0&&(eos$3=endOfStream$1),eos$3(a,{readable:e,writable:o},function(Y){if(Y)return h(Y);$=!0,h()});var d=!1;return function(Y){if(!$&&!d){if(d=!0,isRequest$2(a))return a.abort();if(typeof a.destroy=="function")return a.destroy();h(Y||new ERR_STREAM_DESTROYED("pipe"))}}}function call$1(a){a()}function pipe$1(a,e){return a.pipe(e)}function popCallback(a){return!a.length||typeof a[a.length-1]!="function"?noop$6:a.pop()}function pipeline(){for(var a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];var h=popCallback(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new ERR_MISSING_ARGS("streams");var $,d=e.map(function(Y,ie){var fe=ie<e.length-1,he=ie>0;return destroyer$1(Y,fe,he,function(ne){$||($=ne),ne&&d.forEach(call$1),!fe&&(d.forEach(call$1),h($))})});return e.reduce(pipe$1)}var pipeline_1=pipeline;(function(a,e){e=a.exports=require_stream_readable$1(),e.Stream=e,e.Readable=e,e.Writable=require_stream_writable$1(),e.Duplex=require_stream_duplex$1(),e.Transform=_stream_transform$1,e.PassThrough=_stream_passthrough$1,e.finished=endOfStream$1,e.pipeline=pipeline_1})(readableBrowser$1,readableBrowser$1.exports);var readableBrowserExports$1=readableBrowser$1.exports,capability$1=capability$2,inherits$w=inherits_browserExports,stream$8=readableBrowserExports$1,rStates$1=response$1.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},IncomingMessage$1=response$1.IncomingMessage=function(a,e,o,h){var $=this;if(stream$8.Readable.call($),$._mode=o,$.headers={},$.rawHeaders=[],$.trailers={},$.rawTrailers=[],$.on("end",function(){process$1.nextTick(function(){$.emit("close")})}),o==="fetch"){let le=function(){Y.read().then(function(de){if(!$._destroyed){if(h(de.done),de.done){$.push(null);return}$.push(Buffer$E.from(de.value)),le()}}).catch(function(de){h(!0),$._destroyed||$.emit("error",de)})};var ne=le;if($._fetchResponse=e,$.url=e.url,$.statusCode=e.status,$.statusMessage=e.statusText,e.headers.forEach(function(de,ce){$.headers[ce.toLowerCase()]=de,$.rawHeaders.push(ce,de)}),capability$1.writableStream){var d=new WritableStream({write:function(de){return h(!1),new Promise(function(ce,ge){$._destroyed?ge():$.push(Buffer$E.from(de))?ce():$._resumeFetch=ce})},close:function(){h(!0),$._destroyed||$.push(null)},abort:function(de){h(!0),$._destroyed||$.emit("error",de)}});try{e.body.pipeTo(d).catch(function(de){h(!0),$._destroyed||$.emit("error",de)});return}catch{}}var Y=e.body.getReader();le()}else{$._xhr=a,$._pos=0,$.url=a.responseURL,$.statusCode=a.status,$.statusMessage=a.statusText;var ie=a.getAllResponseHeaders().split(/\r?\n/);if(ie.forEach(function(le){var de=le.match(/^([^:]+):\s*(.*)/);if(de){var ce=de[1].toLowerCase();ce==="set-cookie"?($.headers[ce]===void 0&&($.headers[ce]=[]),$.headers[ce].push(de[2])):$.headers[ce]!==void 0?$.headers[ce]+=", "+de[2]:$.headers[ce]=de[2],$.rawHeaders.push(de[1],de[2])}}),$._charset="x-user-defined",!capability$1.overrideMimeType){var fe=$.rawHeaders["mime-type"];if(fe){var he=fe.match(/;\s*charset=([^;])(;|$)/);he&&($._charset=he[1].toLowerCase())}$._charset||($._charset="utf-8")}}};inherits$w(IncomingMessage$1,stream$8.Readable);IncomingMessage$1.prototype._read=function(){var a=this,e=a._resumeFetch;e&&(a._resumeFetch=null,e())};IncomingMessage$1.prototype._onXHRProgress=function(a){var e=this,o=e._xhr,h=null;switch(e._mode){case"text":if(h=o.responseText,h.length>e._pos){var $=h.substr(e._pos);if(e._charset==="x-user-defined"){for(var d=Buffer$E.alloc($.length),Y=0;Y<$.length;Y++)d[Y]=$.charCodeAt(Y)&255;e.push(d)}else e.push($,e._charset);e._pos=h.length}break;case"arraybuffer":if(o.readyState!==rStates$1.DONE||!o.response)break;h=o.response,e.push(Buffer$E.from(new Uint8Array(h)));break;case"moz-chunked-arraybuffer":if(h=o.response,o.readyState!==rStates$1.LOADING||!h)break;e.push(Buffer$E.from(new Uint8Array(h)));break;case"ms-stream":if(h=o.response,o.readyState!==rStates$1.LOADING)break;var ie=new commonjsGlobal.MSStreamReader;ie.onprogress=function(){ie.result.byteLength>e._pos&&(e.push(Buffer$E.from(new Uint8Array(ie.result.slice(e._pos)))),e._pos=ie.result.byteLength)},ie.onload=function(){a(!0),e.push(null)},ie.readAsArrayBuffer(h);break}e._xhr.readyState===rStates$1.DONE&&e._mode!=="ms-stream"&&(a(!0),e.push(null))};var capability=capability$2,inherits$v=inherits_browserExports,response=response$1,stream$7=readableBrowserExports$1,IncomingMessage=response.IncomingMessage,rStates=response.readyStates;function decideMode(a,e){return capability.fetch&&e?"fetch":capability.mozchunkedarraybuffer?"moz-chunked-arraybuffer":capability.msstream?"ms-stream":capability.arraybuffer&&a?"arraybuffer":"text"}var ClientRequest=request.exports=function(a){var e=this;stream$7.Writable.call(e),e._opts=a,e._body=[],e._headers={},a.auth&&e.setHeader("Authorization","Basic "+Buffer$E.from(a.auth).toString("base64")),Object.keys(a.headers).forEach(function($){e.setHeader($,a.headers[$])});var o,h=!0;if(a.mode==="disable-fetch"||"requestTimeout"in a&&!capability.abortController)h=!1,o=!0;else if(a.mode==="prefer-streaming")o=!1;else if(a.mode==="allow-wrong-content-type")o=!capability.overrideMimeType;else if(!a.mode||a.mode==="default"||a.mode==="prefer-fast")o=!0;else throw new Error("Invalid value for opts.mode");e._mode=decideMode(o,h),e._fetchTimer=null,e._socketTimeout=null,e._socketTimer=null,e.on("finish",function(){e._onFinish()})};inherits$v(ClientRequest,stream$7.Writable);ClientRequest.prototype.setHeader=function(a,e){var o=this,h=a.toLowerCase();unsafeHeaders.indexOf(h)===-1&&(o._headers[h]={name:a,value:e})};ClientRequest.prototype.getHeader=function(a){var e=this._headers[a.toLowerCase()];return e?e.value:null};ClientRequest.prototype.removeHeader=function(a){var e=this;delete e._headers[a.toLowerCase()]};ClientRequest.prototype._onFinish=function(){var a=this;if(!a._destroyed){var e=a._opts;"timeout"in e&&e.timeout!==0&&a.setTimeout(e.timeout);var o=a._headers,h=null;e.method!=="GET"&&e.method!=="HEAD"&&(h=new Blob(a._body,{type:(o["content-type"]||{}).value||""}));var $=[];if(Object.keys(o).forEach(function(fe){var he=o[fe].name,ne=o[fe].value;Array.isArray(ne)?ne.forEach(function(le){$.push([he,le])}):$.push([he,ne])}),a._mode==="fetch"){var d=null;if(capability.abortController){var Y=new AbortController;d=Y.signal,a._fetchAbortController=Y,"requestTimeout"in e&&e.requestTimeout!==0&&(a._fetchTimer=commonjsGlobal.setTimeout(function(){a.emit("requestTimeout"),a._fetchAbortController&&a._fetchAbortController.abort()},e.requestTimeout))}commonjsGlobal.fetch(a._opts.url,{method:a._opts.method,headers:$,body:h||void 0,mode:"cors",credentials:e.withCredentials?"include":"same-origin",signal:d}).then(function(fe){a._fetchResponse=fe,a._resetTimers(!1),a._connect()},function(fe){a._resetTimers(!0),a._destroyed||a.emit("error",fe)})}else{var ie=a._xhr=new commonjsGlobal.XMLHttpRequest;try{ie.open(a._opts.method,a._opts.url,!0)}catch(fe){process$1.nextTick(function(){a.emit("error",fe)});return}"responseType"in ie&&(ie.responseType=a._mode),"withCredentials"in ie&&(ie.withCredentials=!!e.withCredentials),a._mode==="text"&&"overrideMimeType"in ie&&ie.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in e&&(ie.timeout=e.requestTimeout,ie.ontimeout=function(){a.emit("requestTimeout")}),$.forEach(function(fe){ie.setRequestHeader(fe[0],fe[1])}),a._response=null,ie.onreadystatechange=function(){switch(ie.readyState){case rStates.LOADING:case rStates.DONE:a._onXHRProgress();break}},a._mode==="moz-chunked-arraybuffer"&&(ie.onprogress=function(){a._onXHRProgress()}),ie.onerror=function(){a._destroyed||(a._resetTimers(!0),a.emit("error",new Error("XHR error")))};try{ie.send(h)}catch(fe){process$1.nextTick(function(){a.emit("error",fe)});return}}}};function statusValid(a){try{var e=a.status;return e!==null&&e!==0}catch{return!1}}ClientRequest.prototype._onXHRProgress=function(){var a=this;a._resetTimers(!1),!(!statusValid(a._xhr)||a._destroyed)&&(a._response||a._connect(),a._response._onXHRProgress(a._resetTimers.bind(a)))};ClientRequest.prototype._connect=function(){var a=this;a._destroyed||(a._response=new IncomingMessage(a._xhr,a._fetchResponse,a._mode,a._resetTimers.bind(a)),a._response.on("error",function(e){a.emit("error",e)}),a.emit("response",a._response))};ClientRequest.prototype._write=function(a,e,o){var h=this;h._body.push(a),o()};ClientRequest.prototype._resetTimers=function(a){var e=this;commonjsGlobal.clearTimeout(e._socketTimer),e._socketTimer=null,a?(commonjsGlobal.clearTimeout(e._fetchTimer),e._fetchTimer=null):e._socketTimeout&&(e._socketTimer=commonjsGlobal.setTimeout(function(){e.emit("timeout")},e._socketTimeout))};ClientRequest.prototype.abort=ClientRequest.prototype.destroy=function(a){var e=this;e._destroyed=!0,e._resetTimers(!0),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort(),a&&e.emit("error",a)};ClientRequest.prototype.end=function(a,e,o){var h=this;typeof a=="function"&&(o=a,a=void 0),stream$7.Writable.prototype.end.call(h,a,e,o)};ClientRequest.prototype.setTimeout=function(a,e){var o=this;e&&o.once("timeout",e),o._socketTimeout=a,o._resetTimers(!1)};ClientRequest.prototype.flushHeaders=function(){};ClientRequest.prototype.setNoDelay=function(){};ClientRequest.prototype.setSocketKeepAlive=function(){};var unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],requestExports=request.exports,immutable=extend,hasOwnProperty$1=Object.prototype.hasOwnProperty;function extend(){for(var a={},e=0;e<arguments.length;e++){var o=arguments[e];for(var h in o)hasOwnProperty$1.call(o,h)&&(a[h]=o[h])}return a}var browser$d={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},punycode$1={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */punycode$1.exports;(function(a,e){(function(o){var h=e&&!e.nodeType&&e,$=a&&!a.nodeType&&a,d=typeof commonjsGlobal=="object"&&commonjsGlobal;(d.global===d||d.window===d||d.self===d)&&(o=d);var Y,ie=2147483647,fe=36,he=1,ne=26,le=38,de=700,ce=72,ge=128,xe="-",Ae=/^xn--/,Ee=/[^\x20-\x7E]/,we=/[\x2E\u3002\uFF0E\uFF61]/g,pe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},me=fe-he,Te=Math.floor,Pe=String.fromCharCode,Le;function qe(_){throw new RangeError(pe[_])}function Ce(_,te){for(var ue=_.length,ve=[];ue--;)ve[ue]=te(_[ue]);return ve}function ze(_,te){var ue=_.split("@"),ve="";ue.length>1&&(ve=ue[0]+"@",_=ue[1]),_=_.replace(we,".");var be=_.split("."),Me=Ce(be,te).join(".");return ve+Me}function oe(_){for(var te=[],ue=0,ve=_.length,be,Me;ue<ve;)be=_.charCodeAt(ue++),be>=55296&&be<=56319&&ue<ve?(Me=_.charCodeAt(ue++),(Me&64512)==56320?te.push(((be&1023)<<10)+(Me&1023)+65536):(te.push(be),ue--)):te.push(be);return te}function c(_){return Ce(_,function(te){var ue="";return te>65535&&(te-=65536,ue+=Pe(te>>>10&1023|55296),te=56320|te&1023),ue+=Pe(te),ue}).join("")}function b(_){return _-48<10?_-22:_-65<26?_-65:_-97<26?_-97:fe}function j(_,te){return _+22+75*(_<26)-((te!=0)<<5)}function Z(_,te,ue){var ve=0;for(_=ue?Te(_/de):_>>1,_+=Te(_/te);_>me*ne>>1;ve+=fe)_=Te(_/me);return Te(ve+(me+1)*_/(_+le))}function re(_){var te=[],ue=_.length,ve,be=0,Me=ge,Se=ce,_e,Re,Ie,Ne,Oe,ke,He,ct,Ve;for(_e=_.lastIndexOf(xe),_e<0&&(_e=0),Re=0;Re<_e;++Re)_.charCodeAt(Re)>=128&&qe("not-basic"),te.push(_.charCodeAt(Re));for(Ie=_e>0?_e+1:0;Ie<ue;){for(Ne=be,Oe=1,ke=fe;Ie>=ue&&qe("invalid-input"),He=b(_.charCodeAt(Ie++)),(He>=fe||He>Te((ie-be)/Oe))&&qe("overflow"),be+=He*Oe,ct=ke<=Se?he:ke>=Se+ne?ne:ke-Se,!(He<ct);ke+=fe)Ve=fe-ct,Oe>Te(ie/Ve)&&qe("overflow"),Oe*=Ve;ve=te.length+1,Se=Z(be-Ne,ve,Ne==0),Te(be/ve)>ie-Me&&qe("overflow"),Me+=Te(be/ve),be%=ve,te.splice(be++,0,Me)}return c(te)}function ae(_){var te,ue,ve,be,Me,Se,_e,Re,Ie,Ne,Oe,ke=[],He,ct,Ve,Ye;for(_=oe(_),He=_.length,te=ge,ue=0,Me=ce,Se=0;Se<He;++Se)Oe=_[Se],Oe<128&&ke.push(Pe(Oe));for(ve=be=ke.length,be&&ke.push(xe);ve<He;){for(_e=ie,Se=0;Se<He;++Se)Oe=_[Se],Oe>=te&&Oe<_e&&(_e=Oe);for(ct=ve+1,_e-te>Te((ie-ue)/ct)&&qe("overflow"),ue+=(_e-te)*ct,te=_e,Se=0;Se<He;++Se)if(Oe=_[Se],Oe<te&&++ue>ie&&qe("overflow"),Oe==te){for(Re=ue,Ie=fe;Ne=Ie<=Me?he:Ie>=Me+ne?ne:Ie-Me,!(Re<Ne);Ie+=fe)Ye=Re-Ne,Ve=fe-Ne,ke.push(Pe(j(Ne+Ye%Ve,0))),Re=Te(Ye/Ve);ke.push(Pe(j(Re,0))),Me=Z(ue,ct,ve==be),ue=0,++ve}++ue,++te}return ke.join("")}function se(_){return ze(_,function(te){return Ae.test(te)?re(te.slice(4).toLowerCase()):te})}function ee(_){return ze(_,function(te){return Ee.test(te)?"xn--"+ae(te):te})}if(Y={version:"1.4.1",ucs2:{decode:oe,encode:c},decode:re,encode:ae,toASCII:ee,toUnicode:se},h&&$)if(a.exports==h)$.exports=Y;else for(Le in Y)Y.hasOwnProperty(Le)&&(h[Le]=Y[Le]);else o.punycode=Y})(commonjsGlobal)})(punycode$1,punycode$1.exports);var punycodeExports=punycode$1.exports;const require$$0$2=getDefaultExportFromCjs$1(punycodeExports);var hasMap=typeof Map=="function"&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&typeof mapSizeDescriptor.get=="function"?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet=typeof Set=="function"&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&typeof setSizeDescriptor.get=="function"?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,hasWeakMap=typeof WeakMap=="function"&&WeakMap.prototype,weakMapHas=hasWeakMap?WeakMap.prototype.has:null,hasWeakSet=typeof WeakSet=="function"&&WeakSet.prototype,weakSetHas=hasWeakSet?WeakSet.prototype.has:null,hasWeakRef=typeof WeakRef=="function"&&WeakRef.prototype,weakRefDeref=hasWeakRef?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString$1=Object.prototype.toString,functionToString=Function.prototype.toString,$match=String.prototype.match,$slice=String.prototype.slice,$replace=String.prototype.replace,$toUpperCase=String.prototype.toUpperCase,$toLowerCase=String.prototype.toLowerCase,$test=RegExp.prototype.test,$concat=Array.prototype.concat,$join=Array.prototype.join,$arrSlice=Array.prototype.slice,$floor=Math.floor,bigIntValueOf=typeof BigInt=="function"?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hasShammedSymbols=typeof Symbol=="function"&&typeof Symbol.iterator=="object",toStringTag=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hasShammedSymbols||!0)?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(a){return a.__proto__}:null);function addNumericSeparator(a,e){if(a===1/0||a===-1/0||a!==a||a&&a>-1e3&&a<1e3||$test.call(/e/,e))return e;var o=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof a=="number"){var h=a<0?-$floor(-a):$floor(a);if(h!==a){var $=String(h),d=$slice.call(e,$.length+1);return $replace.call($,o,"$&_")+"."+$replace.call($replace.call(d,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $replace.call(e,o,"$&_")}var utilInspect=require$$15,inspectCustom=utilInspect.custom,inspectSymbol=isSymbol$1(inspectCustom)?inspectCustom:null,quotes={__proto__:null,double:'"',single:"'"},quoteREs={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},objectInspect=function a(e,o,h,$){var d=o||{};if(has$3(d,"quoteStyle")&&!has$3(quotes,d.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has$3(d,"maxStringLength")&&(typeof d.maxStringLength=="number"?d.maxStringLength<0&&d.maxStringLength!==1/0:d.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Y=has$3(d,"customInspect")?d.customInspect:!0;if(typeof Y!="boolean"&&Y!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has$3(d,"indent")&&d.indent!==null&&d.indent!=="	"&&!(parseInt(d.indent,10)===d.indent&&d.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has$3(d,"numericSeparator")&&typeof d.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var ie=d.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return inspectString(e,d);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var fe=String(e);return ie?addNumericSeparator(e,fe):fe}if(typeof e=="bigint"){var he=String(e)+"n";return ie?addNumericSeparator(e,he):he}var ne=typeof d.depth>"u"?5:d.depth;if(typeof h>"u"&&(h=0),h>=ne&&ne>0&&typeof e=="object")return isArray$7(e)?"[Array]":"[Object]";var le=getIndent(d,h);if(typeof $>"u")$=[];else if(indexOf($,e)>=0)return"[Circular]";function de(b,j,Z){if(j&&($=$arrSlice.call($),$.push(j)),Z){var re={depth:d.depth};return has$3(d,"quoteStyle")&&(re.quoteStyle=d.quoteStyle),a(b,re,h+1,$)}return a(b,d,h+1,$)}if(typeof e=="function"&&!isRegExp$2(e)){var ce=nameOf(e),ge=arrObjKeys(e,de);return"[Function"+(ce?": "+ce:" (anonymous)")+"]"+(ge.length>0?" { "+$join.call(ge,", ")+" }":"")}if(isSymbol$1(e)){var xe=hasShammedSymbols?$replace.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(e);return typeof e=="object"&&!hasShammedSymbols?markBoxed(xe):xe}if(isElement(e)){for(var Ae="<"+$toLowerCase.call(String(e.nodeName)),Ee=e.attributes||[],we=0;we<Ee.length;we++)Ae+=" "+Ee[we].name+"="+wrapQuotes(quote(Ee[we].value),"double",d);return Ae+=">",e.childNodes&&e.childNodes.length&&(Ae+="..."),Ae+="</"+$toLowerCase.call(String(e.nodeName))+">",Ae}if(isArray$7(e)){if(e.length===0)return"[]";var pe=arrObjKeys(e,de);return le&&!singleLineValues(pe)?"["+indentedJoin(pe,le)+"]":"[ "+$join.call(pe,", ")+" ]"}if(isError$1(e)){var me=arrObjKeys(e,de);return!("cause"in Error.prototype)&&"cause"in e&&!isEnumerable.call(e,"cause")?"{ ["+String(e)+"] "+$join.call($concat.call("[cause]: "+de(e.cause),me),", ")+" }":me.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+$join.call(me,", ")+" }"}if(typeof e=="object"&&Y){if(inspectSymbol&&typeof e[inspectSymbol]=="function"&&utilInspect)return utilInspect(e,{depth:ne-h});if(Y!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(isMap(e)){var Te=[];return mapForEach&&mapForEach.call(e,function(b,j){Te.push(de(j,e,!0)+" => "+de(b,e))}),collectionOf("Map",mapSize.call(e),Te,le)}if(isSet(e)){var Pe=[];return setForEach&&setForEach.call(e,function(b){Pe.push(de(b,e))}),collectionOf("Set",setSize.call(e),Pe,le)}if(isWeakMap(e))return weakCollectionOf("WeakMap");if(isWeakSet(e))return weakCollectionOf("WeakSet");if(isWeakRef(e))return weakCollectionOf("WeakRef");if(isNumber$1(e))return markBoxed(de(Number(e)));if(isBigInt(e))return markBoxed(de(bigIntValueOf.call(e)));if(isBoolean$1(e))return markBoxed(booleanValueOf.call(e));if(isString$1(e))return markBoxed(de(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof commonjsGlobal<"u"&&e===commonjsGlobal)return"{ [object globalThis] }";if(!isDate$1(e)&&!isRegExp$2(e)){var Le=arrObjKeys(e,de),qe=gPO?gPO(e)===Object.prototype:e instanceof Object||e.constructor===Object,Ce=e instanceof Object?"":"null prototype",ze=!qe&&toStringTag&&Object(e)===e&&toStringTag in e?$slice.call(toStr$1(e),8,-1):Ce?"Object":"",oe=qe||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",c=oe+(ze||Ce?"["+$join.call($concat.call([],ze||[],Ce||[]),": ")+"] ":"");return Le.length===0?c+"{}":le?c+"{"+indentedJoin(Le,le)+"}":c+"{ "+$join.call(Le,", ")+" }"}return String(e)};function wrapQuotes(a,e,o){var h=o.quoteStyle||e,$=quotes[h];return $+a+$}function quote(a){return $replace.call(String(a),/"/g,"&quot;")}function canTrustToString(a){return!toStringTag||!(typeof a=="object"&&(toStringTag in a||typeof a[toStringTag]<"u"))}function isArray$7(a){return toStr$1(a)==="[object Array]"&&canTrustToString(a)}function isDate$1(a){return toStr$1(a)==="[object Date]"&&canTrustToString(a)}function isRegExp$2(a){return toStr$1(a)==="[object RegExp]"&&canTrustToString(a)}function isError$1(a){return toStr$1(a)==="[object Error]"&&canTrustToString(a)}function isString$1(a){return toStr$1(a)==="[object String]"&&canTrustToString(a)}function isNumber$1(a){return toStr$1(a)==="[object Number]"&&canTrustToString(a)}function isBoolean$1(a){return toStr$1(a)==="[object Boolean]"&&canTrustToString(a)}function isSymbol$1(a){if(hasShammedSymbols)return a&&typeof a=="object"&&a instanceof Symbol;if(typeof a=="symbol")return!0;if(!a||typeof a!="object"||!symToString)return!1;try{return symToString.call(a),!0}catch{}return!1}function isBigInt(a){if(!a||typeof a!="object"||!bigIntValueOf)return!1;try{return bigIntValueOf.call(a),!0}catch{}return!1}var hasOwn=Object.prototype.hasOwnProperty||function(a){return a in this};function has$3(a,e){return hasOwn.call(a,e)}function toStr$1(a){return objectToString$1.call(a)}function nameOf(a){if(a.name)return a.name;var e=$match.call(functionToString.call(a),/^function\s*([\w$]+)/);return e?e[1]:null}function indexOf(a,e){if(a.indexOf)return a.indexOf(e);for(var o=0,h=a.length;o<h;o++)if(a[o]===e)return o;return-1}function isMap(a){if(!mapSize||!a||typeof a!="object")return!1;try{mapSize.call(a);try{setSize.call(a)}catch{return!0}return a instanceof Map}catch{}return!1}function isWeakMap(a){if(!weakMapHas||!a||typeof a!="object")return!1;try{weakMapHas.call(a,weakMapHas);try{weakSetHas.call(a,weakSetHas)}catch{return!0}return a instanceof WeakMap}catch{}return!1}function isWeakRef(a){if(!weakRefDeref||!a||typeof a!="object")return!1;try{return weakRefDeref.call(a),!0}catch{}return!1}function isSet(a){if(!setSize||!a||typeof a!="object")return!1;try{setSize.call(a);try{mapSize.call(a)}catch{return!0}return a instanceof Set}catch{}return!1}function isWeakSet(a){if(!weakSetHas||!a||typeof a!="object")return!1;try{weakSetHas.call(a,weakSetHas);try{weakMapHas.call(a,weakMapHas)}catch{return!0}return a instanceof WeakSet}catch{}return!1}function isElement(a){return!a||typeof a!="object"?!1:typeof HTMLElement<"u"&&a instanceof HTMLElement?!0:typeof a.nodeName=="string"&&typeof a.getAttribute=="function"}function inspectString(a,e){if(a.length>e.maxStringLength){var o=a.length-e.maxStringLength,h="... "+o+" more character"+(o>1?"s":"");return inspectString($slice.call(a,0,e.maxStringLength),e)+h}var $=quoteREs[e.quoteStyle||"single"];$.lastIndex=0;var d=$replace.call($replace.call(a,$,"\\$1"),/[\x00-\x1f]/g,lowbyte);return wrapQuotes(d,"single",e)}function lowbyte(a){var e=a.charCodeAt(0),o={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return o?"\\"+o:"\\x"+(e<16?"0":"")+$toUpperCase.call(e.toString(16))}function markBoxed(a){return"Object("+a+")"}function weakCollectionOf(a){return a+" { ? }"}function collectionOf(a,e,o,h){var $=h?indentedJoin(o,h):$join.call(o,", ");return a+" ("+e+") {"+$+"}"}function singleLineValues(a){for(var e=0;e<a.length;e++)if(indexOf(a[e],`
`)>=0)return!1;return!0}function getIndent(a,e){var o;if(a.indent==="	")o="	";else if(typeof a.indent=="number"&&a.indent>0)o=$join.call(Array(a.indent+1)," ");else return null;return{base:o,prev:$join.call(Array(e+1),o)}}function indentedJoin(a,e){if(a.length===0)return"";var o=`
`+e.prev+e.base;return o+$join.call(a,","+o)+`
`+e.prev}function arrObjKeys(a,e){var o=isArray$7(a),h=[];if(o){h.length=a.length;for(var $=0;$<a.length;$++)h[$]=has$3(a,$)?e(a[$],a):""}var d=typeof gOPS=="function"?gOPS(a):[],Y;if(hasShammedSymbols){Y={};for(var ie=0;ie<d.length;ie++)Y["$"+d[ie]]=d[ie]}for(var fe in a)has$3(a,fe)&&(o&&String(Number(fe))===fe&&fe<a.length||hasShammedSymbols&&Y["$"+fe]instanceof Symbol||($test.call(/[^\w$]/,fe)?h.push(e(fe,a)+": "+e(a[fe],a)):h.push(fe+": "+e(a[fe],a))));if(typeof gOPS=="function")for(var he=0;he<d.length;he++)isEnumerable.call(a,d[he])&&h.push("["+e(d[he])+"]: "+e(a[d[he]],a));return h}var inspect$3=objectInspect,$TypeError$4=type,listGetNode=function(a,e,o){for(var h=a,$;($=h.next)!=null;h=$)if($.key===e)return h.next=$.next,o||($.next=a.next,a.next=$),$},listGet=function(a,e){if(a){var o=listGetNode(a,e);return o&&o.value}},listSet=function(a,e,o){var h=listGetNode(a,e);h?h.value=o:a.next={key:e,next:a.next,value:o}},listHas=function(a,e){return a?!!listGetNode(a,e):!1},listDelete=function(a,e){if(a)return listGetNode(a,e,!0)},sideChannelList=function(){var e,o={assert:function(h){if(!o.has(h))throw new $TypeError$4("Side channel does not contain "+inspect$3(h))},delete:function(h){var $=e&&e.next,d=listDelete(e,h);return d&&$&&$===d&&(e=void 0),!!d},get:function(h){return listGet(e,h)},has:function(h){return listHas(e,h)},set:function(h,$){e||(e={next:void 0}),listSet(e,h,$)}};return o},GetIntrinsic$2=getIntrinsic,callBound$4=callBound$a,inspect$2=objectInspect,$TypeError$3=type,$Map=GetIntrinsic$2("%Map%",!0),$mapGet=callBound$4("Map.prototype.get",!0),$mapSet=callBound$4("Map.prototype.set",!0),$mapHas=callBound$4("Map.prototype.has",!0),$mapDelete=callBound$4("Map.prototype.delete",!0),$mapSize=callBound$4("Map.prototype.size",!0),sideChannelMap=!!$Map&&function(){var e,o={assert:function(h){if(!o.has(h))throw new $TypeError$3("Side channel does not contain "+inspect$2(h))},delete:function(h){if(e){var $=$mapDelete(e,h);return $mapSize(e)===0&&(e=void 0),$}return!1},get:function(h){if(e)return $mapGet(e,h)},has:function(h){return e?$mapHas(e,h):!1},set:function(h,$){e||(e=new $Map),$mapSet(e,h,$)}};return o},GetIntrinsic$1=getIntrinsic,callBound$3=callBound$a,inspect$1=objectInspect,getSideChannelMap$1=sideChannelMap,$TypeError$2=type,$WeakMap=GetIntrinsic$1("%WeakMap%",!0),$weakMapGet=callBound$3("WeakMap.prototype.get",!0),$weakMapSet=callBound$3("WeakMap.prototype.set",!0),$weakMapHas=callBound$3("WeakMap.prototype.has",!0),$weakMapDelete=callBound$3("WeakMap.prototype.delete",!0),sideChannelWeakmap=$WeakMap?function(){var e,o,h={assert:function($){if(!h.has($))throw new $TypeError$2("Side channel does not contain "+inspect$1($))},delete:function($){if($WeakMap&&$&&(typeof $=="object"||typeof $=="function")){if(e)return $weakMapDelete(e,$)}else if(getSideChannelMap$1&&o)return o.delete($);return!1},get:function($){return $WeakMap&&$&&(typeof $=="object"||typeof $=="function")&&e?$weakMapGet(e,$):o&&o.get($)},has:function($){return $WeakMap&&$&&(typeof $=="object"||typeof $=="function")&&e?$weakMapHas(e,$):!!o&&o.has($)},set:function($,d){$WeakMap&&$&&(typeof $=="object"||typeof $=="function")?(e||(e=new $WeakMap),$weakMapSet(e,$,d)):getSideChannelMap$1&&(o||(o=getSideChannelMap$1()),o.set($,d))}};return h}:getSideChannelMap$1,$TypeError$1=type,inspect=objectInspect,getSideChannelList=sideChannelList,getSideChannelMap=sideChannelMap,getSideChannelWeakMap=sideChannelWeakmap,makeChannel=getSideChannelWeakMap||getSideChannelMap||getSideChannelList,sideChannel=function(){var e,o={assert:function(h){if(!o.has(h))throw new $TypeError$1("Side channel does not contain "+inspect(h))},delete:function(h){return!!e&&e.delete(h)},get:function(h){return e&&e.get(h)},has:function(h){return!!e&&e.has(h)},set:function(h,$){e||(e=makeChannel()),e.set(h,$)}};return o},replace=String.prototype.replace,percentTwenties=/%20/g,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats$3={default:Format.RFC3986,formatters:{RFC1738:function(a){return replace.call(a,percentTwenties,"+")},RFC3986:function(a){return String(a)}},RFC1738:Format.RFC1738,RFC3986:Format.RFC3986},formats$2=formats$3,has$2=Object.prototype.hasOwnProperty,isArray$6=Array.isArray,hexTable=function(){for(var a=[],e=0;e<256;++e)a.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return a}(),compactQueue=function(e){for(;e.length>1;){var o=e.pop(),h=o.obj[o.prop];if(isArray$6(h)){for(var $=[],d=0;d<h.length;++d)typeof h[d]<"u"&&$.push(h[d]);o.obj[o.prop]=$}}},arrayToObject=function(e,o){for(var h=o&&o.plainObjects?{__proto__:null}:{},$=0;$<e.length;++$)typeof e[$]<"u"&&(h[$]=e[$]);return h},merge=function a(e,o,h){if(!o)return e;if(typeof o!="object"&&typeof o!="function"){if(isArray$6(e))e.push(o);else if(e&&typeof e=="object")(h&&(h.plainObjects||h.allowPrototypes)||!has$2.call(Object.prototype,o))&&(e[o]=!0);else return[e,o];return e}if(!e||typeof e!="object")return[e].concat(o);var $=e;return isArray$6(e)&&!isArray$6(o)&&($=arrayToObject(e,h)),isArray$6(e)&&isArray$6(o)?(o.forEach(function(d,Y){if(has$2.call(e,Y)){var ie=e[Y];ie&&typeof ie=="object"&&d&&typeof d=="object"?e[Y]=a(ie,d,h):e.push(d)}else e[Y]=d}),e):Object.keys(o).reduce(function(d,Y){var ie=o[Y];return has$2.call(d,Y)?d[Y]=a(d[Y],ie,h):d[Y]=ie,d},$)},assign$1=function(e,o){return Object.keys(o).reduce(function(h,$){return h[$]=o[$],h},e)},decode$3=function(a,e,o){var h=a.replace(/\+/g," ");if(o==="iso-8859-1")return h.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(h)}catch{return h}},limit=1024,encode$3=function(e,o,h,$,d){if(e.length===0)return e;var Y=e;if(typeof e=="symbol"?Y=Symbol.prototype.toString.call(e):typeof e!="string"&&(Y=String(e)),h==="iso-8859-1")return escape(Y).replace(/%u[0-9a-f]{4}/gi,function(ce){return"%26%23"+parseInt(ce.slice(2),16)+"%3B"});for(var ie="",fe=0;fe<Y.length;fe+=limit){for(var he=Y.length>=limit?Y.slice(fe,fe+limit):Y,ne=[],le=0;le<he.length;++le){var de=he.charCodeAt(le);if(de===45||de===46||de===95||de===126||de>=48&&de<=57||de>=65&&de<=90||de>=97&&de<=122||d===formats$2.RFC1738&&(de===40||de===41)){ne[ne.length]=he.charAt(le);continue}if(de<128){ne[ne.length]=hexTable[de];continue}if(de<2048){ne[ne.length]=hexTable[192|de>>6]+hexTable[128|de&63];continue}if(de<55296||de>=57344){ne[ne.length]=hexTable[224|de>>12]+hexTable[128|de>>6&63]+hexTable[128|de&63];continue}le+=1,de=65536+((de&1023)<<10|he.charCodeAt(le)&1023),ne[ne.length]=hexTable[240|de>>18]+hexTable[128|de>>12&63]+hexTable[128|de>>6&63]+hexTable[128|de&63]}ie+=ne.join("")}return ie},compact=function(e){for(var o=[{obj:{o:e},prop:"o"}],h=[],$=0;$<o.length;++$)for(var d=o[$],Y=d.obj[d.prop],ie=Object.keys(Y),fe=0;fe<ie.length;++fe){var he=ie[fe],ne=Y[he];typeof ne=="object"&&ne!==null&&h.indexOf(ne)===-1&&(o.push({obj:Y,prop:he}),h.push(ne))}return compactQueue(o),e},isRegExp$1=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},isBuffer=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},combine=function(e,o){return[].concat(e,o)},maybeMap=function(e,o){if(isArray$6(e)){for(var h=[],$=0;$<e.length;$+=1)h.push(o(e[$]));return h}return o(e)},utils$v={arrayToObject,assign:assign$1,combine,compact,decode:decode$3,encode:encode$3,isBuffer,isRegExp:isRegExp$1,maybeMap,merge},getSideChannel=sideChannel,utils$u=utils$v,formats$1=formats$3,has$1=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,o){return e+"["+o+"]"},repeat:function(e){return e}},isArray$5=Array.isArray,push=Array.prototype.push,pushToArray=function(a,e){push.apply(a,isArray$5(e)?e:[e])},toISO=Date.prototype.toISOString,defaultFormat=formats$1.default,defaults$1={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:utils$u.encode,encodeValuesOnly:!1,filter:void 0,format:defaultFormat,formatter:formats$1.formatters[defaultFormat],indices:!1,serializeDate:function(e){return toISO.call(e)},skipNulls:!1,strictNullHandling:!1},isNonNullishPrimitive=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},sentinel={},stringify$2=function a(e,o,h,$,d,Y,ie,fe,he,ne,le,de,ce,ge,xe,Ae,Ee,we){for(var pe=e,me=we,Te=0,Pe=!1;(me=me.get(sentinel))!==void 0&&!Pe;){var Le=me.get(e);if(Te+=1,typeof Le<"u"){if(Le===Te)throw new RangeError("Cyclic object value");Pe=!0}typeof me.get(sentinel)>"u"&&(Te=0)}if(typeof ne=="function"?pe=ne(o,pe):pe instanceof Date?pe=ce(pe):h==="comma"&&isArray$5(pe)&&(pe=utils$u.maybeMap(pe,function(_){return _ instanceof Date?ce(_):_})),pe===null){if(Y)return he&&!Ae?he(o,defaults$1.encoder,Ee,"key",ge):o;pe=""}if(isNonNullishPrimitive(pe)||utils$u.isBuffer(pe)){if(he){var qe=Ae?o:he(o,defaults$1.encoder,Ee,"key",ge);return[xe(qe)+"="+xe(he(pe,defaults$1.encoder,Ee,"value",ge))]}return[xe(o)+"="+xe(String(pe))]}var Ce=[];if(typeof pe>"u")return Ce;var ze;if(h==="comma"&&isArray$5(pe))Ae&&he&&(pe=utils$u.maybeMap(pe,he)),ze=[{value:pe.length>0?pe.join(",")||null:void 0}];else if(isArray$5(ne))ze=ne;else{var oe=Object.keys(pe);ze=le?oe.sort(le):oe}var c=fe?String(o).replace(/\./g,"%2E"):String(o),b=$&&isArray$5(pe)&&pe.length===1?c+"[]":c;if(d&&isArray$5(pe)&&pe.length===0)return b+"[]";for(var j=0;j<ze.length;++j){var Z=ze[j],re=typeof Z=="object"&&Z&&typeof Z.value<"u"?Z.value:pe[Z];if(!(ie&&re===null)){var ae=de&&fe?String(Z).replace(/\./g,"%2E"):String(Z),se=isArray$5(pe)?typeof h=="function"?h(b,ae):b:b+(de?"."+ae:"["+ae+"]");we.set(e,Te);var ee=getSideChannel();ee.set(sentinel,we),pushToArray(Ce,a(re,se,h,$,d,Y,ie,fe,h==="comma"&&Ae&&isArray$5(pe)?null:he,ne,le,de,ce,ge,xe,Ae,Ee,ee))}}return Ce},normalizeStringifyOptions=function(e){if(!e)return defaults$1;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var o=e.charset||defaults$1.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var h=formats$1.default;if(typeof e.format<"u"){if(!has$1.call(formats$1.formatters,e.format))throw new TypeError("Unknown format option provided.");h=e.format}var $=formats$1.formatters[h],d=defaults$1.filter;(typeof e.filter=="function"||isArray$5(e.filter))&&(d=e.filter);var Y;if(e.arrayFormat in arrayPrefixGenerators?Y=e.arrayFormat:"indices"in e?Y=e.indices?"indices":"repeat":Y=defaults$1.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var ie=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:defaults$1.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:defaults$1.addQueryPrefix,allowDots:ie,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:defaults$1.allowEmptyArrays,arrayFormat:Y,charset:o,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:defaults$1.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?defaults$1.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:defaults$1.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:defaults$1.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:defaults$1.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:defaults$1.encodeValuesOnly,filter:d,format:h,formatter:$,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:defaults$1.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:defaults$1.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:defaults$1.strictNullHandling}},stringify_1=function(a,e){var o=a,h=normalizeStringifyOptions(e),$,d;typeof h.filter=="function"?(d=h.filter,o=d("",o)):isArray$5(h.filter)&&(d=h.filter,$=d);var Y=[];if(typeof o!="object"||o===null)return"";var ie=arrayPrefixGenerators[h.arrayFormat],fe=ie==="comma"&&h.commaRoundTrip;$||($=Object.keys(o)),h.sort&&$.sort(h.sort);for(var he=getSideChannel(),ne=0;ne<$.length;++ne){var le=$[ne],de=o[le];h.skipNulls&&de===null||pushToArray(Y,stringify$2(de,le,ie,fe,h.allowEmptyArrays,h.strictNullHandling,h.skipNulls,h.encodeDotInKeys,h.encode?h.encoder:null,h.filter,h.sort,h.allowDots,h.serializeDate,h.format,h.formatter,h.encodeValuesOnly,h.charset,he))}var ce=Y.join(h.delimiter),ge=h.addQueryPrefix===!0?"?":"";return h.charsetSentinel&&(h.charset==="iso-8859-1"?ge+="utf8=%26%2310003%3B&":ge+="utf8=%E2%9C%93&"),ce.length>0?ge+ce:""},utils$t=utils$v,has=Object.prototype.hasOwnProperty,isArray$4=Array.isArray,defaults={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:utils$t.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},interpretNumericEntities=function(a){return a.replace(/&#(\d+);/g,function(e,o){return String.fromCharCode(parseInt(o,10))})},parseArrayValue=function(a,e,o){if(a&&typeof a=="string"&&e.comma&&a.indexOf(",")>-1)return a.split(",");if(e.throwOnLimitExceeded&&o>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return a},isoSentinel="utf8=%26%2310003%3B",charsetSentinel="utf8=%E2%9C%93",parseValues=function(e,o){var h={__proto__:null},$=o.ignoreQueryPrefix?e.replace(/^\?/,""):e;$=$.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var d=o.parameterLimit===1/0?void 0:o.parameterLimit,Y=$.split(o.delimiter,o.throwOnLimitExceeded?d+1:d);if(o.throwOnLimitExceeded&&Y.length>d)throw new RangeError("Parameter limit exceeded. Only "+d+" parameter"+(d===1?"":"s")+" allowed.");var ie=-1,fe,he=o.charset;if(o.charsetSentinel)for(fe=0;fe<Y.length;++fe)Y[fe].indexOf("utf8=")===0&&(Y[fe]===charsetSentinel?he="utf-8":Y[fe]===isoSentinel&&(he="iso-8859-1"),ie=fe,fe=Y.length);for(fe=0;fe<Y.length;++fe)if(fe!==ie){var ne=Y[fe],le=ne.indexOf("]="),de=le===-1?ne.indexOf("="):le+1,ce,ge;de===-1?(ce=o.decoder(ne,defaults.decoder,he,"key"),ge=o.strictNullHandling?null:""):(ce=o.decoder(ne.slice(0,de),defaults.decoder,he,"key"),ge=utils$t.maybeMap(parseArrayValue(ne.slice(de+1),o,isArray$4(h[ce])?h[ce].length:0),function(Ae){return o.decoder(Ae,defaults.decoder,he,"value")})),ge&&o.interpretNumericEntities&&he==="iso-8859-1"&&(ge=interpretNumericEntities(String(ge))),ne.indexOf("[]=")>-1&&(ge=isArray$4(ge)?[ge]:ge);var xe=has.call(h,ce);xe&&o.duplicates==="combine"?h[ce]=utils$t.combine(h[ce],ge):(!xe||o.duplicates==="last")&&(h[ce]=ge)}return h},parseObject=function(a,e,o,h){var $=0;if(a.length>0&&a[a.length-1]==="[]"){var d=a.slice(0,-1).join("");$=Array.isArray(e)&&e[d]?e[d].length:0}for(var Y=h?e:parseArrayValue(e,o,$),ie=a.length-1;ie>=0;--ie){var fe,he=a[ie];if(he==="[]"&&o.parseArrays)fe=o.allowEmptyArrays&&(Y===""||o.strictNullHandling&&Y===null)?[]:utils$t.combine([],Y);else{fe=o.plainObjects?{__proto__:null}:{};var ne=he.charAt(0)==="["&&he.charAt(he.length-1)==="]"?he.slice(1,-1):he,le=o.decodeDotInKeys?ne.replace(/%2E/g,"."):ne,de=parseInt(le,10);!o.parseArrays&&le===""?fe={0:Y}:!isNaN(de)&&he!==le&&String(de)===le&&de>=0&&o.parseArrays&&de<=o.arrayLimit?(fe=[],fe[de]=Y):le!=="__proto__"&&(fe[le]=Y)}Y=fe}return Y},parseKeys$3=function(e,o,h,$){if(e){var d=h.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,Y=/(\[[^[\]]*])/,ie=/(\[[^[\]]*])/g,fe=h.depth>0&&Y.exec(d),he=fe?d.slice(0,fe.index):d,ne=[];if(he){if(!h.plainObjects&&has.call(Object.prototype,he)&&!h.allowPrototypes)return;ne.push(he)}for(var le=0;h.depth>0&&(fe=ie.exec(d))!==null&&le<h.depth;){if(le+=1,!h.plainObjects&&has.call(Object.prototype,fe[1].slice(1,-1))&&!h.allowPrototypes)return;ne.push(fe[1])}if(fe){if(h.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+h.depth+" and strictDepth is true");ne.push("["+d.slice(fe.index)+"]")}return parseObject(ne,o,h,$)}},normalizeParseOptions=function(e){if(!e)return defaults;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var o=typeof e.charset>"u"?defaults.charset:e.charset,h=typeof e.duplicates>"u"?defaults.duplicates:e.duplicates;if(h!=="combine"&&h!=="first"&&h!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var $=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:defaults.allowDots:!!e.allowDots;return{allowDots:$,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:defaults.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:defaults.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:defaults.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:defaults.arrayLimit,charset:o,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:defaults.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:defaults.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:defaults.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:defaults.decoder,delimiter:typeof e.delimiter=="string"||utils$t.isRegExp(e.delimiter)?e.delimiter:defaults.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:defaults.depth,duplicates:h,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:defaults.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:defaults.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:defaults.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:defaults.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:defaults.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},parse$3=function(a,e){var o=normalizeParseOptions(e);if(a===""||a===null||typeof a>"u")return o.plainObjects?{__proto__:null}:{};for(var h=typeof a=="string"?parseValues(a,o):a,$=o.plainObjects?{__proto__:null}:{},d=Object.keys(h),Y=0;Y<d.length;++Y){var ie=d[Y],fe=parseKeys$3(ie,h[ie],o,typeof a=="string");$=utils$t.merge($,fe,o)}return o.allowSparse===!0?$:utils$t.compact($)},stringify$1=stringify_1,parse$2=parse$3,formats=formats$3,lib$3={formats,parse:parse$2,stringify:stringify$1};const require$$1$2=getDefaultExportFromCjs$1(lib$3);var punycode=require$$0$2;function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring$2=require$$1$2;function urlParse(a,e,o){if(a&&typeof a=="object"&&a instanceof Url)return a;var h=new Url;return h.parse(a,e,o),h}Url.prototype.parse=function(a,e,o){if(typeof a!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var h=a.indexOf("?"),$=h!==-1&&h<a.indexOf("#")?"?":"#",d=a.split($),Y=/\\/g;d[0]=d[0].replace(Y,"/"),a=d.join($);var ie=a;if(ie=ie.trim(),!o&&a.split("#").length===1){var fe=simplePathPattern.exec(ie);if(fe)return this.path=ie,this.href=ie,this.pathname=fe[1],fe[2]?(this.search=fe[2],e?this.query=querystring$2.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var he=protocolPattern.exec(ie);if(he){he=he[0];var ne=he.toLowerCase();this.protocol=ne,ie=ie.substr(he.length)}if(o||he||ie.match(/^\/\/[^@/]+@[^@/]+/)){var le=ie.substr(0,2)==="//";le&&!(he&&hostlessProtocol[he])&&(ie=ie.substr(2),this.slashes=!0)}if(!hostlessProtocol[he]&&(le||he&&!slashedProtocol[he])){for(var de=-1,ce=0;ce<hostEndingChars.length;ce++){var ge=ie.indexOf(hostEndingChars[ce]);ge!==-1&&(de===-1||ge<de)&&(de=ge)}var xe,Ae;de===-1?Ae=ie.lastIndexOf("@"):Ae=ie.lastIndexOf("@",de),Ae!==-1&&(xe=ie.slice(0,Ae),ie=ie.slice(Ae+1),this.auth=decodeURIComponent(xe)),de=-1;for(var ce=0;ce<nonHostChars.length;ce++){var ge=ie.indexOf(nonHostChars[ce]);ge!==-1&&(de===-1||ge<de)&&(de=ge)}de===-1&&(de=ie.length),this.host=ie.slice(0,de),ie=ie.slice(de),this.parseHost(),this.hostname=this.hostname||"";var Ee=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Ee)for(var we=this.hostname.split(/\./),ce=0,pe=we.length;ce<pe;ce++){var me=we[ce];if(me&&!me.match(hostnamePartPattern)){for(var Te="",Pe=0,Le=me.length;Pe<Le;Pe++)me.charCodeAt(Pe)>127?Te+="x":Te+=me[Pe];if(!Te.match(hostnamePartPattern)){var qe=we.slice(0,ce),Ce=we.slice(ce+1),ze=me.match(hostnamePartStart);ze&&(qe.push(ze[1]),Ce.unshift(ze[2])),Ce.length&&(ie="/"+Ce.join(".")+ie),this.hostname=qe.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),Ee||(this.hostname=punycode.toASCII(this.hostname));var oe=this.port?":"+this.port:"",c=this.hostname||"";this.host=c+oe,this.href+=this.host,Ee&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),ie[0]!=="/"&&(ie="/"+ie))}if(!unsafeProtocol[ne])for(var ce=0,pe=autoEscape.length;ce<pe;ce++){var b=autoEscape[ce];if(ie.indexOf(b)!==-1){var j=encodeURIComponent(b);j===b&&(j=escape(b)),ie=ie.split(b).join(j)}}var Z=ie.indexOf("#");Z!==-1&&(this.hash=ie.substr(Z),ie=ie.slice(0,Z));var re=ie.indexOf("?");if(re!==-1?(this.search=ie.substr(re),this.query=ie.substr(re+1),e&&(this.query=querystring$2.parse(this.query)),ie=ie.slice(0,re)):e&&(this.search="",this.query={}),ie&&(this.pathname=ie),slashedProtocol[ne]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var oe=this.pathname||"",ae=this.search||"";this.path=oe+ae}return this.href=this.format(),this};function urlFormat(a){return typeof a=="string"&&(a=urlParse(a)),a instanceof Url?a.format():Url.prototype.format.call(a)}Url.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var e=this.protocol||"",o=this.pathname||"",h=this.hash||"",$=!1,d="";this.host?$=a+this.host:this.hostname&&($=a+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&($+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(d=querystring$2.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var Y=this.search||d&&"?"+d||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||slashedProtocol[e])&&$!==!1?($="//"+($||""),o&&o.charAt(0)!=="/"&&(o="/"+o)):$||($=""),h&&h.charAt(0)!=="#"&&(h="#"+h),Y&&Y.charAt(0)!=="?"&&(Y="?"+Y),o=o.replace(/[?#]/g,function(ie){return encodeURIComponent(ie)}),Y=Y.replace("#","%23"),e+$+o+Y+h};function urlResolve(a,e){return urlParse(a,!1,!0).resolve(e)}Url.prototype.resolve=function(a){return this.resolveObject(urlParse(a,!1,!0)).format()};function urlResolveObject(a,e){return a?urlParse(a,!1,!0).resolveObject(e):e}Url.prototype.resolveObject=function(a){if(typeof a=="string"){var e=new Url;e.parse(a,!1,!0),a=e}for(var o=new Url,h=Object.keys(this),$=0;$<h.length;$++){var d=h[$];o[d]=this[d]}if(o.hash=a.hash,a.href==="")return o.href=o.format(),o;if(a.slashes&&!a.protocol){for(var Y=Object.keys(a),ie=0;ie<Y.length;ie++){var fe=Y[ie];fe!=="protocol"&&(o[fe]=a[fe])}return slashedProtocol[o.protocol]&&o.hostname&&!o.pathname&&(o.pathname="/",o.path=o.pathname),o.href=o.format(),o}if(a.protocol&&a.protocol!==o.protocol){if(!slashedProtocol[a.protocol]){for(var he=Object.keys(a),ne=0;ne<he.length;ne++){var le=he[ne];o[le]=a[le]}return o.href=o.format(),o}if(o.protocol=a.protocol,!a.host&&!hostlessProtocol[a.protocol]){for(var pe=(a.pathname||"").split("/");pe.length&&!(a.host=pe.shift()););a.host||(a.host=""),a.hostname||(a.hostname=""),pe[0]!==""&&pe.unshift(""),pe.length<2&&pe.unshift(""),o.pathname=pe.join("/")}else o.pathname=a.pathname;if(o.search=a.search,o.query=a.query,o.host=a.host||"",o.auth=a.auth,o.hostname=a.hostname||a.host,o.port=a.port,o.pathname||o.search){var de=o.pathname||"",ce=o.search||"";o.path=de+ce}return o.slashes=o.slashes||a.slashes,o.href=o.format(),o}var ge=o.pathname&&o.pathname.charAt(0)==="/",xe=a.host||a.pathname&&a.pathname.charAt(0)==="/",Ae=xe||ge||o.host&&a.pathname,Ee=Ae,we=o.pathname&&o.pathname.split("/")||[],pe=a.pathname&&a.pathname.split("/")||[],me=o.protocol&&!slashedProtocol[o.protocol];if(me&&(o.hostname="",o.port=null,o.host&&(we[0]===""?we[0]=o.host:we.unshift(o.host)),o.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(pe[0]===""?pe[0]=a.host:pe.unshift(a.host)),a.host=null),Ae=Ae&&(pe[0]===""||we[0]==="")),xe)o.host=a.host||a.host===""?a.host:o.host,o.hostname=a.hostname||a.hostname===""?a.hostname:o.hostname,o.search=a.search,o.query=a.query,we=pe;else if(pe.length)we||(we=[]),we.pop(),we=we.concat(pe),o.search=a.search,o.query=a.query;else if(a.search!=null){if(me){o.host=we.shift(),o.hostname=o.host;var Te=o.host&&o.host.indexOf("@")>0?o.host.split("@"):!1;Te&&(o.auth=Te.shift(),o.hostname=Te.shift(),o.host=o.hostname)}return o.search=a.search,o.query=a.query,(o.pathname!==null||o.search!==null)&&(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.href=o.format(),o}if(!we.length)return o.pathname=null,o.search?o.path="/"+o.search:o.path=null,o.href=o.format(),o;for(var Pe=we.slice(-1)[0],Le=(o.host||a.host||we.length>1)&&(Pe==="."||Pe==="..")||Pe==="",qe=0,Ce=we.length;Ce>=0;Ce--)Pe=we[Ce],Pe==="."?we.splice(Ce,1):Pe===".."?(we.splice(Ce,1),qe++):qe&&(we.splice(Ce,1),qe--);if(!Ae&&!Ee)for(;qe--;qe)we.unshift("..");Ae&&we[0]!==""&&(!we[0]||we[0].charAt(0)!=="/")&&we.unshift(""),Le&&we.join("/").substr(-1)!=="/"&&we.push("");var ze=we[0]===""||we[0]&&we[0].charAt(0)==="/";if(me){o.hostname=ze?"":we.length?we.shift():"",o.host=o.hostname;var Te=o.host&&o.host.indexOf("@")>0?o.host.split("@"):!1;Te&&(o.auth=Te.shift(),o.hostname=Te.shift(),o.host=o.hostname)}return Ae=Ae||o.host&&we.length,Ae&&!ze&&we.unshift(""),we.length>0?o.pathname=we.join("/"):(o.pathname=null,o.path=null),(o.pathname!==null||o.search!==null)&&(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.auth=a.auth||o.auth,o.slashes=o.slashes||a.slashes,o.href=o.format(),o};Url.prototype.parseHost=function(){var a=this.host,e=portPattern.exec(a);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),a=a.substr(0,a.length-e.length)),a&&(this.hostname=a)};var parse$1=urlParse,resolve$1=urlResolve,resolveObject=urlResolveObject,format=urlFormat,Url_1=Url;function normalizeArray(a,e){for(var o=0,h=a.length-1;h>=0;h--){var $=a[h];$==="."?a.splice(h,1):$===".."?(a.splice(h,1),o++):o&&(a.splice(h,1),o--)}if(e)for(;o--;o)a.unshift("..");return a}function resolve(){for(var a="",e=!1,o=arguments.length-1;o>=-1&&!e;o--){var h=o>=0?arguments[o]:"/";if(typeof h!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!h)continue;a=h+"/"+a,e=h.charAt(0)==="/"}return a=normalizeArray(filter(a.split("/"),function($){return!!$}),!e).join("/"),(e?"/":"")+a||"."}function filter(a,e){if(a.filter)return a.filter(e);for(var o=[],h=0;h<a.length;h++)e(a[h],h,a)&&o.push(a[h]);return o}var _globalThis=function(a){function e(){var h=this||self;return delete a.prototype.__magic__,h}if(typeof globalThis=="object")return globalThis;if(this)return e();a.defineProperty(a.prototype,"__magic__",{configurable:!0,get:e});var o=__magic__;return o}(Object),formatImport=format,parseImport=parse$1,resolveImport=resolve$1,UrlImport=Url_1,URL$1=_globalThis.URL,URLSearchParams=_globalThis.URLSearchParams,percentRegEx=/%/g,backslashRegEx=/\\/g,newlineRegEx=/\n/g,carriageReturnRegEx=/\r/g,tabRegEx=/\t/g,CHAR_FORWARD_SLASH=47;function isURLInstance(a){var e=a??null;return!!(e!==null&&(e!=null&&e.href)&&(e!=null&&e.origin))}function getPathFromURLPosix(a){if(a.hostname!=="")throw new TypeError('File URL host must be "localhost" or empty on browser');for(var e=a.pathname,o=0;o<e.length;o++)if(e[o]==="%"){var h=e.codePointAt(o+2)|32;if(e[o+1]==="2"&&h===102)throw new TypeError("File URL path must not include encoded / characters")}return decodeURIComponent(e)}function encodePathChars(a){return a.includes("%")&&(a=a.replace(percentRegEx,"%25")),a.includes("\\")&&(a=a.replace(backslashRegEx,"%5C")),a.includes(`
`)&&(a=a.replace(newlineRegEx,"%0A")),a.includes("\r")&&(a=a.replace(carriageReturnRegEx,"%0D")),a.includes("	")&&(a=a.replace(tabRegEx,"%09")),a}var domainToASCII=function(e){if(typeof e>"u")throw new TypeError('The "domain" argument must be specified');return new URL$1("http://"+e).hostname},domainToUnicode=function(e){if(typeof e>"u")throw new TypeError('The "domain" argument must be specified');return new URL$1("http://"+e).hostname},pathToFileURL=function(e){var o=new URL$1("file://"),h=resolve(e),$=e.charCodeAt(e.length-1);return $===CHAR_FORWARD_SLASH&&h[h.length-1]!=="/"&&(h+="/"),o.pathname=encodePathChars(h),o},fileURLToPath=function(e){if(!isURLInstance(e)&&typeof e!="string")throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof e+" ("+e+")");var o=new URL$1(e);if(o.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return getPathFromURLPosix(o)},formatImportWithOverloads=function(e,o){var h,$,d,Y;if(o===void 0&&(o={}),!(e instanceof URL$1))return formatImport(e);if(typeof o!="object"||o===null)throw new TypeError('The "options" argument must be of type object.');var ie=(h=o.auth)!=null?h:!0,fe=($=o.fragment)!=null?$:!0,he=(d=o.search)!=null?d:!0;(Y=o.unicode)!=null;var ne=new URL$1(e.toString());return ie||(ne.username="",ne.password=""),fe||(ne.hash=""),he||(ne.search=""),ne.toString()},api$2={format:formatImportWithOverloads,parse:parseImport,resolve:resolveImport,resolveObject,Url:UrlImport,URL:URL$1,URLSearchParams,domainToASCII,domainToUnicode,pathToFileURL,fileURLToPath};const url$1=Object.freeze(Object.defineProperty({__proto__:null,URL:URL$1,URLSearchParams,Url:UrlImport,default:api$2,domainToASCII,domainToUnicode,fileURLToPath,format:formatImportWithOverloads,parse:parseImport,pathToFileURL,resolve:resolveImport,resolveObject},Symbol.toStringTag,{value:"Module"})),require$$6$1=getAugmentedNamespace(url$1);(function(a){var e=requestExports,o=response$1,h=immutable,$=browser$d,d=require$$6$1,Y=a;Y.request=function(ie,fe){typeof ie=="string"?ie=d.parse(ie):ie=h(ie);var he=commonjsGlobal.location.protocol.search(/^https?:$/)===-1?"http:":"",ne=ie.protocol||he,le=ie.hostname||ie.host,de=ie.port,ce=ie.path||"/";le&&le.indexOf(":")!==-1&&(le="["+le+"]"),ie.url=(le?ne+"//"+le:"")+(de?":"+de:"")+ce,ie.method=(ie.method||"GET").toUpperCase(),ie.headers=ie.headers||{};var ge=new e(ie);return fe&&ge.on("response",fe),ge},Y.get=function(fe,he){var ne=Y.request(fe,he);return ne.end(),ne},Y.ClientRequest=e,Y.IncomingMessage=o.IncomingMessage,Y.Agent=function(){},Y.Agent.defaultMaxSockets=4,Y.globalAgent=new Y.Agent,Y.STATUS_CODES=$,Y.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]})(streamHttp);var httpsBrowserify={exports:{}};(function(a){var e=streamHttp,o=require$$6$1,h=a.exports;for(var $ in e)e.hasOwnProperty($)&&(h[$]=e[$]);h.request=function(Y,ie){return Y=d(Y),e.request.call(this,Y,ie)},h.get=function(Y,ie){return Y=d(Y),e.get.call(this,Y,ie)};function d(Y){if(typeof Y=="string"&&(Y=o.parse(Y)),Y.protocol||(Y.protocol="https:"),Y.protocol!=="https:")throw new Error('Protocol "'+Y.protocol+'" not supported. Expected "https:"');return Y}})(httpsBrowserify);var httpsBrowserifyExports=httpsBrowserify.exports,once$6={exports:{}},wrappy_1=wrappy$1;function wrappy$1(a,e){if(a&&e)return wrappy$1(a)(e);if(typeof a!="function")throw new TypeError("need wrapper function");return Object.keys(a).forEach(function(h){o[h]=a[h]}),o;function o(){for(var h=new Array(arguments.length),$=0;$<h.length;$++)h[$]=arguments[$];var d=a.apply(this,h),Y=h[h.length-1];return typeof d=="function"&&d!==Y&&Object.keys(Y).forEach(function(ie){d[ie]=Y[ie]}),d}}var wrappy=wrappy_1;once$6.exports=wrappy(once$5);once$6.exports.strict=wrappy(onceStrict);once$5.proto=once$5(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once$5(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:!0})});function once$5(a){var e=function(){return e.called?e.value:(e.called=!0,e.value=a.apply(this,arguments))};return e.called=!1,e}function onceStrict(a){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=a.apply(this,arguments)},o=a.name||"Function wrapped with `once`";return e.onceError=o+" shouldn't be called more than once",e.called=!1,e}var onceExports=once$6.exports;function hasOwnProperty(a,e){return Object.prototype.hasOwnProperty.call(a,e)}var decode$2=function(a,e,o,h){e=e||"&",o=o||"=";var $={};if(typeof a!="string"||a.length===0)return $;var d=/\+/g;a=a.split(e);var Y=1e3;h&&typeof h.maxKeys=="number"&&(Y=h.maxKeys);var ie=a.length;Y>0&&ie>Y&&(ie=Y);for(var fe=0;fe<ie;++fe){var he=a[fe].replace(d,"%20"),ne=he.indexOf(o),le,de,ce,ge;ne>=0?(le=he.substr(0,ne),de=he.substr(ne+1)):(le=he,de=""),ce=decodeURIComponent(le),ge=decodeURIComponent(de),hasOwnProperty($,ce)?isArray$3($[ce])?$[ce].push(ge):$[ce]=[$[ce],ge]:$[ce]=ge}return $},isArray$3=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"},stringifyPrimitive=function(a){switch(typeof a){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}},encode$2=function(a,e,o,h){return e=e||"&",o=o||"=",a===null&&(a=void 0),typeof a=="object"?map(objectKeys$2(a),function($){var d=encodeURIComponent(stringifyPrimitive($))+o;return isArray$2(a[$])?map(a[$],function(Y){return d+encodeURIComponent(stringifyPrimitive(Y))}).join(e):d+encodeURIComponent(stringifyPrimitive(a[$]))}).join(e):h?encodeURIComponent(stringifyPrimitive(h))+o+encodeURIComponent(stringifyPrimitive(a)):""},isArray$2=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function map(a,e){if(a.map)return a.map(e);for(var o=[],h=0;h<a.length;h++)o.push(e(a[h],h));return o}var objectKeys$2=Object.keys||function(a){var e=[];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&e.push(o);return e},stringify,parse,decode$1=parse=decode$2,encode$1=stringify=encode$2;function qsEscape(a){return encodeURIComponent(a)}function qsUnescape(a){return decodeURIComponent(a)}var api$1={decode:decode$1,encode:encode$1,parse,stringify,escape:qsEscape,unescape:qsUnescape};const querystring$1=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$1,default:api$1,encode:encode$1,escape:qsEscape,get parse(){return parse},get stringify(){return stringify},unescape:qsUnescape},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(querystring$1);var simpleGet_1=simpleGet;const concat$1=simpleConcat,decompressResponse=require$$15,http=streamHttp,https=httpsBrowserifyExports,once$4=onceExports,querystring=require$$5,url=require$$6$1,isStream$1=a=>a!==null&&typeof a=="object"&&typeof a.pipe=="function";function simpleGet(a,e){if(a=Object.assign({maxRedirects:10},typeof a=="string"?{url:a}:a),e=once$4(e),a.url){const{hostname:ie,port:fe,protocol:he,auth:ne,path:le}=url.parse(a.url);delete a.url,!ie&&!fe&&!he&&!ne?a.path=le:Object.assign(a,{hostname:ie,port:fe,protocol:he,auth:ne,path:le})}const o={"accept-encoding":"gzip, deflate"};a.headers&&Object.keys(a.headers).forEach(ie=>o[ie.toLowerCase()]=a.headers[ie]),a.headers=o;let h;a.body?h=a.json&&!isStream$1(a.body)?JSON.stringify(a.body):a.body:a.form&&(h=typeof a.form=="string"?a.form:querystring.stringify(a.form),a.headers["content-type"]="application/x-www-form-urlencoded"),h&&(a.method||(a.method="POST"),isStream$1(h)||(a.headers["content-length"]=Buffer$E.byteLength(h)),a.json&&!a.form&&(a.headers["content-type"]="application/json")),delete a.body,delete a.form,a.json&&(a.headers.accept="application/json"),a.method&&(a.method=a.method.toUpperCase());const $=a.hostname,Y=(a.protocol==="https:"?https:http).request(a,ie=>{if(a.followRedirects!==!1&&ie.statusCode>=300&&ie.statusCode<400&&ie.headers.location){a.url=ie.headers.location,delete a.headers.host,ie.resume();const he=url.parse(a.url).hostname;return he!==null&&he!==$&&(delete a.headers.cookie,delete a.headers.authorization),a.method==="POST"&&[301,302].includes(ie.statusCode)&&(a.method="GET",delete a.headers["content-length"],delete a.headers["content-type"]),a.maxRedirects--===0?e(new Error("too many redirects")):simpleGet(a,e)}const fe=typeof decompressResponse=="function"&&a.method!=="HEAD";e(null,fe?decompressResponse(ie):ie)});return Y.on("timeout",()=>{Y.abort(),e(new Error("Request timed out"))}),Y.on("error",e),isStream$1(h)?h.on("error",e).pipe(Y):Y.end(h),Y}simpleGet.concat=(a,e)=>simpleGet(a,(o,h)=>{if(o)return e(o);concat$1(h,($,d)=>{if($)return e($);if(a.json)try{d=JSON.parse(d.toString())}catch(Y){return e(Y,h,d)}e(null,h,d)})});["get","post","put","patch","head","delete"].forEach(a=>{simpleGet[a]=(e,o)=>(typeof e=="string"&&(e={url:e}),simpleGet(Object.assign({method:a.toUpperCase()},e),o))});var magnetUri={exports:{}},thirtyTwo$1={},thirtyTwo={},charTable="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",byteTable=[255,255,26,27,28,29,30,31,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255];function quintetCount(a){var e=Math.floor(a.length/5);return a.length%5===0?e:e+1}thirtyTwo.encode=function(a){Buffer$E.isBuffer(a)||(a=new Buffer$E(a));for(var e=0,o=0,h=0,$=0,d=new Buffer$E(quintetCount(a)*8);e<a.length;){var Y=a[e];h>3?($=Y&255>>h,h=(h+5)%8,$=$<<h|(e+1<a.length?a[e+1]:0)>>8-h,e++):($=Y>>8-(h+5)&31,h=(h+5)%8,h===0&&e++),d[o]=charTable.charCodeAt($),o++}for(e=o;e<d.length;e++)d[e]=61;return d};thirtyTwo.decode=function(a){var e=0,o=0,h,$=0;Buffer$E.isBuffer(a)||(a=new Buffer$E(a));for(var d=new Buffer$E(Math.ceil(a.length*5/8)),Y=0;Y<a.length&&a[Y]!==61;Y++){var ie=a[Y]-48;if(ie<byteTable.length)o=byteTable[ie],e<=3?(e=(e+5)%8,e===0?(h|=o,d[$]=h,$++,h=0):h|=255&o<<8-e):(e=(e+5)%8,h|=255&o>>>e,d[$]=h,$++,h=255&o<<8-e);else throw new Error("Invalid input - it is not base32 encoded string")}return d.slice(0,$)};var base32$1=thirtyTwo;thirtyTwo$1.encode=base32$1.encode;thirtyTwo$1.decode=base32$1.decode;var bep53Range$1={exports:{}};bep53Range$1.exports=parseRange;bep53Range$1.exports.parse=parseRange;bep53Range$1.exports.compose=composeRange;function composeRange(a){return a.reduce((e,o,h,$)=>((h===0||o!==$[h-1]+1)&&e.push([]),e[e.length-1].push(o),e),[]).map(e=>e.length>1?`${e[0]}-${e[e.length-1]}`:`${e[0]}`)}function parseRange(a){const e=(o,h=o)=>Array.from({length:h-o+1},($,d)=>d+o);return a.reduce((o,h,$,d)=>{const Y=h.split("-").map(ie=>parseInt(ie));return o.concat(e(...Y))},[])}var bep53RangeExports=bep53Range$1.exports;magnetUri.exports=magnetURIDecode;magnetUri.exports.decode=magnetURIDecode;magnetUri.exports.encode=magnetURIEncode;const base32=thirtyTwo$1,bep53Range=bep53RangeExports;function magnetURIDecode(a){const e={},o=a.split("magnet:?")[1];(o&&o.length>=0?o.split("&"):[]).forEach(d=>{const Y=d.split("=");if(Y.length!==2)return;const ie=Y[0];let fe=Y[1];ie==="dn"&&(fe=decodeURIComponent(fe).replace(/\+/g," ")),(ie==="tr"||ie==="xs"||ie==="as"||ie==="ws")&&(fe=decodeURIComponent(fe)),ie==="kt"&&(fe=decodeURIComponent(fe).split("+")),ie==="ix"&&(fe=Number(fe)),ie==="so"&&(fe=bep53Range.parse(decodeURIComponent(fe).split(","))),e[ie]?(Array.isArray(e[ie])||(e[ie]=[e[ie]]),e[ie].push(fe)):e[ie]=fe});let $;return e.xt&&(Array.isArray(e.xt)?e.xt:[e.xt]).forEach(Y=>{if($=Y.match(/^urn:btih:(.{40})/))e.infoHash=$[1].toLowerCase();else if($=Y.match(/^urn:btih:(.{32})/)){const ie=base32.decode($[1]);e.infoHash=Buffer$E.from(ie,"binary").toString("hex")}else($=Y.match(/^urn:btmh:1220(.{64})/))&&(e.infoHashV2=$[1].toLowerCase())}),e.xs&&(Array.isArray(e.xs)?e.xs:[e.xs]).forEach(Y=>{($=Y.match(/^urn:btpk:(.{64})/))&&(e.publicKey=$[1].toLowerCase())}),e.infoHash&&(e.infoHashBuffer=Buffer$E.from(e.infoHash,"hex")),e.infoHashV2&&(e.infoHashV2Buffer=Buffer$E.from(e.infoHashV2,"hex")),e.publicKey&&(e.publicKeyBuffer=Buffer$E.from(e.publicKey,"hex")),e.dn&&(e.name=e.dn),e.kt&&(e.keywords=e.kt),e.announce=[],(typeof e.tr=="string"||Array.isArray(e.tr))&&(e.announce=e.announce.concat(e.tr)),e.urlList=[],(typeof e.as=="string"||Array.isArray(e.as))&&(e.urlList=e.urlList.concat(e.as)),(typeof e.ws=="string"||Array.isArray(e.ws))&&(e.urlList=e.urlList.concat(e.ws)),e.peerAddresses=[],(typeof e["x.pe"]=="string"||Array.isArray(e["x.pe"]))&&(e.peerAddresses=e.peerAddresses.concat(e["x.pe"])),e.announce=Array.from(new Set(e.announce)),e.urlList=Array.from(new Set(e.urlList)),e.peerAddresses=Array.from(new Set(e.peerAddresses)),e}function magnetURIEncode(a){a=Object.assign({},a);let e=new Set;a.xt&&typeof a.xt=="string"&&e.add(a.xt),a.xt&&Array.isArray(a.xt)&&(e=new Set(a.xt)),a.infoHashBuffer&&e.add(`urn:btih:${a.infoHashBuffer.toString("hex")}`),a.infoHash&&e.add(`urn:btih:${a.infoHash}`),a.infoHashV2Buffer&&e.add(a.xt=`urn:btmh:1220${a.infoHashV2Buffer.toString("hex")}`),a.infoHashV2&&e.add(`urn:btmh:1220${a.infoHashV2}`);const o=Array.from(e);o.length===1&&(a.xt=o[0]),o.length>1&&(a.xt=o),a.publicKeyBuffer&&(a.xs=`urn:btpk:${a.publicKeyBuffer.toString("hex")}`),a.publicKey&&(a.xs=`urn:btpk:${a.publicKey}`),a.name&&(a.dn=a.name),a.keywords&&(a.kt=a.keywords),a.announce&&(a.tr=a.announce),a.urlList&&(a.ws=a.urlList,delete a.as),a.peerAddresses&&(a["x.pe"]=a.peerAddresses);let h="magnet:?";return Object.keys(a).filter($=>$.length===2||$==="x.pe").forEach(($,d)=>{const Y=Array.isArray(a[$])?a[$]:[a[$]];Y.forEach((ie,fe)=>{(d>0||fe>0)&&($!=="kt"&&$!=="so"||fe===0)&&(h+="&"),$==="dn"&&(ie=encodeURIComponent(ie).replace(/%20/g,"+")),($==="tr"||$==="as"||$==="ws")&&(ie=encodeURIComponent(ie)),$==="xs"&&!ie.startsWith("urn:btpk:")&&(ie=encodeURIComponent(ie)),$==="kt"&&(ie=encodeURIComponent(ie)),$!=="so"&&($==="kt"&&fe>0?h+=`+${ie}`:h+=`${$}=${ie}`)}),$==="so"&&(h+=`${$}=${bep53Range.compose(Y)}`)}),h}var magnetUriExports=magnetUri.exports;const bencode$2=libExports,blobToBuffer=blobToBuffer$1,fs$2=require$$2$1,get$2=simpleGet_1,magnet=magnetUriExports,path$3=pathBrowserify,sha1$6=browserExports$2,queueMicrotask$c=queueMicrotask_1;parseTorrent$3.exports=parseTorrent$2;parseTorrent$3.exports.remote=parseTorrentRemote;parseTorrent$3.exports.toMagnetURI=magnet.encode;parseTorrent$3.exports.toTorrentFile=encodeTorrentFile;function parseTorrent$2(a){if(typeof a=="string"&&/^(stream-)?magnet:/.test(a)){const e=magnet(a);if(!e.infoHash)throw new Error("Invalid torrent identifier");return e}else{if(typeof a=="string"&&(/^[a-f0-9]{40}$/i.test(a)||/^[a-z2-7]{32}$/i.test(a)))return magnet(`magnet:?xt=urn:btih:${a}`);if(Buffer$E.isBuffer(a)&&a.length===20)return magnet(`magnet:?xt=urn:btih:${a.toString("hex")}`);if(Buffer$E.isBuffer(a))return decodeTorrentFile(a);if(a&&a.infoHash)return a.infoHash=a.infoHash.toLowerCase(),a.announce||(a.announce=[]),typeof a.announce=="string"&&(a.announce=[a.announce]),a.urlList||(a.urlList=[]),a;throw new Error("Invalid torrent identifier")}}function parseTorrentRemote(a,e,o){if(typeof e=="function")return parseTorrentRemote(a,{},e);if(typeof o!="function")throw new Error("second argument must be a Function");let h;try{h=parseTorrent$2(a)}catch{}h&&h.infoHash?queueMicrotask$c(()=>{o(null,h)}):isBlob(a)?blobToBuffer(a,(d,Y)=>{if(d)return o(new Error(`Error converting Blob: ${d.message}`));$(Y)}):typeof get$2=="function"&&/^https?:/.test(a)?(e=Object.assign({url:a,timeout:30*1e3,headers:{"user-agent":"WebTorrent (https://webtorrent.io)"}},e),get$2.concat(e,(d,Y,ie)=>{if(d)return o(new Error(`Error downloading torrent: ${d.message}`));$(ie)})):typeof fs$2.readFile=="function"&&typeof a=="string"?fs$2.readFile(a,(d,Y)=>{if(d)return o(new Error("Invalid torrent identifier"));$(Y)}):queueMicrotask$c(()=>{o(new Error("Invalid torrent identifier"))});function $(d){try{h=parseTorrent$2(d)}catch(Y){return o(Y)}h&&h.infoHash?o(null,h):o(new Error("Invalid torrent identifier"))}}function decodeTorrentFile(a){Buffer$E.isBuffer(a)&&(a=bencode$2.decode(a)),ensure(a.info,"info"),ensure(a.info["name.utf-8"]||a.info.name,"info.name"),ensure(a.info["piece length"],"info['piece length']"),ensure(a.info.pieces,"info.pieces"),a.info.files?a.info.files.forEach($=>{ensure(typeof $.length=="number","info.files[0].length"),ensure($["path.utf-8"]||$.path,"info.files[0].path")}):ensure(typeof a.info.length=="number","info.length");const e={info:a.info,infoBuffer:bencode$2.encode(a.info),name:(a.info["name.utf-8"]||a.info.name).toString(),announce:[]};e.infoHash=sha1$6.sync(e.infoBuffer),e.infoHashBuffer=Buffer$E.from(e.infoHash,"hex"),a.info.private!==void 0&&(e.private=!!a.info.private),a["creation date"]&&(e.created=new Date(a["creation date"]*1e3)),a["created by"]&&(e.createdBy=a["created by"].toString()),Buffer$E.isBuffer(a.comment)&&(e.comment=a.comment.toString()),Array.isArray(a["announce-list"])&&a["announce-list"].length>0?a["announce-list"].forEach($=>{$.forEach(d=>{e.announce.push(d.toString())})}):a.announce&&e.announce.push(a.announce.toString()),Buffer$E.isBuffer(a["url-list"])&&(a["url-list"]=a["url-list"].length>0?[a["url-list"]]:[]),e.urlList=(a["url-list"]||[]).map($=>$.toString()),e.announce=Array.from(new Set(e.announce)),e.urlList=Array.from(new Set(e.urlList));const o=a.info.files||[a.info];e.files=o.map(($,d)=>{const Y=[].concat(e.name,$["path.utf-8"]||$.path||[]).map(ie=>ie.toString());return{path:path$3.join.apply(null,[path$3.sep].concat(Y)).slice(1),name:Y[Y.length-1],length:$.length,offset:o.slice(0,d).reduce(sumLength,0)}}),e.length=o.reduce(sumLength,0);const h=e.files[e.files.length-1];return e.pieceLength=a.info["piece length"],e.lastPieceLength=(h.offset+h.length)%e.pieceLength||e.pieceLength,e.pieces=splitPieces(a.info.pieces),e}function encodeTorrentFile(a){const e={info:a.info};return e["announce-list"]=(a.announce||[]).map(o=>(e.announce||(e.announce=o),o=Buffer$E.from(o,"utf8"),[o])),e["url-list"]=a.urlList||[],a.private!==void 0&&(e.private=Number(a.private)),a.created&&(e["creation date"]=a.created.getTime()/1e3|0),a.createdBy&&(e["created by"]=a.createdBy),a.comment&&(e.comment=a.comment),bencode$2.encode(e)}function isBlob(a){return typeof Blob<"u"&&a instanceof Blob}function sumLength(a,e){return a+e.length}function splitPieces(a){const e=[];for(let o=0;o<a.length;o+=20)e.push(a.slice(o,o+20).toString("hex"));return e}function ensure(a,e){if(!a)throw new Error(`Torrent is missing required field: ${e}`)}Buffer$E.alloc(0);var parseTorrentExports=parseTorrent$3.exports,getBrowserRtc=function(){if(typeof globalThis>"u")return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null},browser$c={exports:{}},MAX_BYTES=65536,MAX_UINT32=4294967295;function oldBrowser$1(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Buffer$D=safeBufferExports$1.Buffer,crypto$2=commonjsGlobal.crypto||commonjsGlobal.msCrypto;crypto$2&&crypto$2.getRandomValues?browser$c.exports=randomBytes$2:browser$c.exports=oldBrowser$1;function randomBytes$2(a,e){if(a>MAX_UINT32)throw new RangeError("requested too many random bytes");var o=Buffer$D.allocUnsafe(a);if(a>0)if(a>MAX_BYTES)for(var h=0;h<a;h+=MAX_BYTES)crypto$2.getRandomValues(o.slice(h,h+MAX_BYTES));else crypto$2.getRandomValues(o);return typeof e=="function"?process$1.nextTick(function(){e(null,o)}):o}var browserExports=browser$c.exports;function assign(a,e){for(const o in e)Object.defineProperty(a,o,{value:e[o],enumerable:!0,configurable:!0});return a}function createError(a,e,o){if(!a||typeof a=="string")throw new TypeError("Please pass an Error to err-code");o||(o={}),typeof e=="object"&&(o=e,e=""),e&&(o.code=e);try{return assign(a,o)}catch{o.message=a.message,o.stack=a.stack;const $=function(){};return $.prototype=Object.create(Object.getPrototypeOf(a)),assign(new $,o)}}var errCode$1=createError;/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const debug$c=browserExports$1("simple-peer"),getBrowserRTC=getBrowserRtc,randombytes$5=browserExports,stream$6=readableBrowserExports$1,queueMicrotask$b=queueMicrotask_1,errCode=errCode$1,{Buffer:Buffer$C}=require$$0$3,MAX_BUFFERED_AMOUNT$1=64*1024,ICECOMPLETE_TIMEOUT=5*1e3,CHANNEL_CLOSING_TIMEOUT=5*1e3;function filterTrickle(a){return a.replace(/a=ice-options:trickle\s\n/g,"")}function warn(a){console.warn(a)}let Peer$6=class er extends stream$6.Duplex{constructor(e){if(e=Object.assign({allowHalfOpen:!1},e),super(e),this._id=randombytes$5(4).toString("hex").slice(0,7),this._debug("new peer %o",e),this.channelName=e.initiator?e.channelName||randombytes$5(20).toString("hex"):null,this.initiator=e.initiator||!1,this.channelConfig=e.channelConfig||er.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},er.config,e.config),this.offerOptions=e.offerOptions||{},this.answerOptions=e.answerOptions||{},this.sdpTransform=e.sdpTransform||(o=>o),this.streams=e.streams||(e.stream?[e.stream]:[]),this.trickle=e.trickle!==void 0?e.trickle:!0,this.allowHalfTrickle=e.allowHalfTrickle!==void 0?e.allowHalfTrickle:!1,this.iceCompleteTimeout=e.iceCompleteTimeout||ICECOMPLETE_TIMEOUT,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=e.wrtc&&typeof e.wrtc=="object"?e.wrtc:getBrowserRTC(),!this._wrtc)throw errCode(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(o){this.destroy(errCode(o,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=o=>{this._onIceCandidate(o)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(o=>{this.destroy(errCode(o,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=o=>{this._setupData(o)},this.streams&&this.streams.forEach(o=>{this.addStream(o)}),this._pc.ontrack=o=>{this._onTrack(o)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(e){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof e=="string")try{e=JSON.parse(e)}catch{e={}}this._debug("signal()"),e.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),e.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(e.candidate):this._pendingCandidates.push(e.candidate)),e.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(e)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(o=>{this._addIceCandidate(o)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(o=>{this.destroy(errCode(o,"ERR_SET_REMOTE_DESCRIPTION"))}),!e.sdp&&!e.candidate&&!e.renegotiate&&!e.transceiverRequest&&this.destroy(errCode(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(e){const o=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(o).catch(h=>{!o.address||o.address.endsWith(".local")?warn("Ignoring unsupported ICE candidate."):this.destroy(errCode(h,"ERR_ADD_ICE_CANDIDATE"))})}send(e){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(e)}}addTransceiver(e,o){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,o),this._needsNegotiation()}catch(h){this.destroy(errCode(h,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:e,init:o}})}}addStream(e){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),e.getTracks().forEach(o=>{this.addTrack(o,e)})}}addTrack(e,o){if(this.destroying)return;if(this.destroyed)throw errCode(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const h=this._senderMap.get(e)||new Map;let $=h.get(o);if(!$)$=this._pc.addTrack(e,o),h.set(o,$),this._senderMap.set(e,h),this._needsNegotiation();else throw $.removed?errCode(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):errCode(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(e,o,h){if(this.destroying)return;if(this.destroyed)throw errCode(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const $=this._senderMap.get(e),d=$?$.get(h):null;if(!d)throw errCode(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");o&&this._senderMap.set(o,$),d.replaceTrack!=null?d.replaceTrack(o):this.destroy(errCode(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(e,o){if(this.destroying)return;if(this.destroyed)throw errCode(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const h=this._senderMap.get(e),$=h?h.get(o):null;if(!$)throw errCode(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{$.removed=!0,this._pc.removeTrack($)}catch(d){d.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push($):this.destroy(errCode(d,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(e){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),e.getTracks().forEach(o=>{this.removeTrack(o,e)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,queueMicrotask$b(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(e){this._destroy(e,()=>{})}_destroy(e,o){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",e&&(e.message||e)),queueMicrotask$b(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,e&&this.emit("error",e),this.emit("close"),o()}))}_setupData(e){if(!e.channel)return this.destroy(errCode(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=MAX_BUFFERED_AMOUNT$1),this.channelName=this._channel.label,this._channel.onmessage=h=>{this._onChannelMessage(h)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=h=>{const $=h.error instanceof Error?h.error:new Error(`Datachannel error: ${h.message} ${h.filename}:${h.lineno}:${h.colno}`);this.destroy(errCode($,"ERR_DATA_CHANNEL"))};let o=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(o&&this._onChannelClose(),o=!0):o=!1},CHANNEL_CLOSING_TIMEOUT)}_read(){}_write(e,o,h){if(this.destroyed)return h(errCode(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch($){return this.destroy(errCode($,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>MAX_BUFFERED_AMOUNT$1?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=h):h(null)}else this._debug("write before connect"),this._chunk=e,this._cb=h}_onFinish(){if(this.destroyed)return;const e=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?e():this.once("connect",e)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(e=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(e.sdp=filterTrickle(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const o=()=>{if(this.destroyed)return;const d=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:d.type,sdp:d.sdp})},h=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?o():this.once("_iceComplete",o))},$=d=>{this.destroy(errCode(d,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(e).then(h).catch($)}).catch(e=>{this.destroy(errCode(e,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(e=>{!e.mid&&e.sender.track&&!e.requested&&(e.requested=!0,this.addTransceiver(e.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(e=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(e.sdp=filterTrickle(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const o=()=>{if(this.destroyed)return;const d=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:d.type,sdp:d.sdp}),this.initiator||this._requestMissingTransceivers()},h=()=>{this.destroyed||(this.trickle||this._iceComplete?o():this.once("_iceComplete",o))},$=d=>{this.destroy(errCode(d,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(e).then(h).catch($)}).catch(e=>{this.destroy(errCode(e,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(errCode(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const e=this._pc.iceConnectionState,o=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,o),this.emit("iceStateChange",e,o),(e==="connected"||e==="completed")&&(this._pcReady=!0,this._maybeReady()),e==="failed"&&this.destroy(errCode(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),e==="closed"&&this.destroy(errCode(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(e){const o=h=>(Object.prototype.toString.call(h.values)==="[object Array]"&&h.values.forEach($=>{Object.assign(h,$)}),h);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(h=>{const $=[];h.forEach(d=>{$.push(o(d))}),e(null,$)},h=>e(h)):this._pc.getStats.length>0?this._pc.getStats(h=>{if(this.destroyed)return;const $=[];h.result().forEach(d=>{const Y={};d.names().forEach(ie=>{Y[ie]=d.stat(ie)}),Y.id=d.id,Y.type=d.type,Y.timestamp=d.timestamp,$.push(o(Y))}),e(null,$)},h=>e(h)):e(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const e=()=>{this.destroyed||this.getStats((o,h)=>{if(this.destroyed)return;o&&(h=[]);const $={},d={},Y={};let ie=!1;h.forEach(he=>{(he.type==="remotecandidate"||he.type==="remote-candidate")&&($[he.id]=he),(he.type==="localcandidate"||he.type==="local-candidate")&&(d[he.id]=he),(he.type==="candidatepair"||he.type==="candidate-pair")&&(Y[he.id]=he)});const fe=he=>{ie=!0;let ne=d[he.localCandidateId];ne&&(ne.ip||ne.address)?(this.localAddress=ne.ip||ne.address,this.localPort=Number(ne.port)):ne&&ne.ipAddress?(this.localAddress=ne.ipAddress,this.localPort=Number(ne.portNumber)):typeof he.googLocalAddress=="string"&&(ne=he.googLocalAddress.split(":"),this.localAddress=ne[0],this.localPort=Number(ne[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let le=$[he.remoteCandidateId];le&&(le.ip||le.address)?(this.remoteAddress=le.ip||le.address,this.remotePort=Number(le.port)):le&&le.ipAddress?(this.remoteAddress=le.ipAddress,this.remotePort=Number(le.portNumber)):typeof he.googRemoteAddress=="string"&&(le=he.googRemoteAddress.split(":"),this.remoteAddress=le[0],this.remotePort=Number(le[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(h.forEach(he=>{he.type==="transport"&&he.selectedCandidatePairId&&fe(Y[he.selectedCandidatePairId]),(he.type==="googCandidatePair"&&he.googActiveConnection==="true"||(he.type==="candidatepair"||he.type==="candidate-pair")&&he.selected)&&fe(he)}),!ie&&(!Object.keys(Y).length||Object.keys(d).length)){setTimeout(e,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(ne){return this.destroy(errCode(ne,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const he=this._cb;this._cb=null,he(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};e()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>MAX_BUFFERED_AMOUNT$1||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(e=>{this._pc.removeTrack(e),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):!e.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(e){if(this.destroyed)return;let o=e.data;o instanceof ArrayBuffer&&(o=Buffer$C.from(o)),this.push(o)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const e=this._cb;this._cb=null,e(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(e){this.destroyed||e.streams.forEach(o=>{this._debug("on track"),this.emit("track",e.track,o),this._remoteTracks.push({track:e.track,stream:o}),!this._remoteStreams.some(h=>h.id===o.id)&&(this._remoteStreams.push(o),queueMicrotask$b(()=>{this._debug("on stream"),this.emit("stream",o)}))})}_debug(){const e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],debug$c.apply(null,e)}};Peer$6.WEBRTC_SUPPORT=!!getBrowserRTC();Peer$6.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"};Peer$6.channelConfig={};var simplePeer=Peer$6;const hrtime=typeof process$1<"u"&&!!process$1.hrtime,maxTick$1=65535,resolution$1=10,timeDiff=hrtime?1e9/resolution$1:1e3/resolution$1,now=hrtime?()=>{const[a,e]=process$1.hrtime();return a*1e9+e}:()=>performance.now();function getTick(a){return(now()-a)/timeDiff&maxTick$1}var throughput$2=function(a){const e=now(),o=resolution$1*(a||5),h=[0];let $=1,d=getTick(e)-1&maxTick$1;return function(Y){const ie=getTick(e);let fe=ie-d&maxTick$1;for(fe>o&&(fe=o),d=ie;fe--;)$===o&&($=0),h[$]=h[$===0?o-1:$-1],$++;Y&&(h[$-1]+=Y);const he=h[$-1],ne=h.length<o?0:h[$===o?0:$];return h.length<resolution$1?he:(he-ne)*resolution$1/h.length}},fixedSize=class{constructor(e){if(!(e>0)||e-1&e)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){const e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}};const FixedFIFO=fixedSize;var fastFifo=class{constructor(e){this.hwm=e||16,this.head=new FixedFIFO(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){const o=this.head;this.head=o.next=new FixedFIFO(2*this.head.buffer.length),this.head.push(e)}}shift(){this.length!==0&&this.length--;const e=this.tail.shift();if(e===void 0&&this.tail.next){const o=this.tail.next;return this.tail.next=null,this.tail=o,this.tail.shift()}return e}peek(){const e=this.tail.peek();return e===void 0&&this.tail.next?this.tail.next.peek():e}isEmpty(){return this.length===0}},browserDecoder=class{constructor(e){this.decoder=new TextDecoder(e==="utf16le"?"utf16-le":e)}get remaining(){return-1}decode(e){return this.decoder.decode(e,{stream:!0})}flush(){return this.decoder.decode(new Uint8Array(0))}};const PassThroughDecoder=browserDecoder,UTF8Decoder=browserDecoder;var textDecoder=class{constructor(e="utf8"){switch(this.encoding=normalizeEncoding(e),this.encoding){case"utf8":this.decoder=new UTF8Decoder;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new PassThroughDecoder(this.encoding)}}get remaining(){return this.decoder.remaining}push(e){return typeof e=="string"?e:this.decoder.decode(e)}write(e){return this.push(e)}end(e){let o="";return e&&(o=this.push(e)),o+=this.decoder.flush(),o}};function normalizeEncoding(a){switch(a=a.toLowerCase(),a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:throw new Error("Unknown encoding: "+a)}}const{EventEmitter:EventEmitter$a}=eventsExports,STREAM_DESTROYED=new Error("Stream was destroyed"),FIFO=fastFifo,TextDecoder$1=textDecoder,qmt=typeof queueMicrotask>"u"?a=>commonjsGlobal.process.nextTick(a):queueMicrotask,MAX=(1<<29)-1,OPENING=1,PREDESTROYING=2,DESTROYING=4,DESTROYED=8,NOT_OPENING=MAX^OPENING,NOT_PREDESTROYING=MAX^PREDESTROYING,READ_ACTIVE=16,READ_UPDATING=32,READ_PRIMARY=64,READ_QUEUED=128,READ_RESUMED=256,READ_PIPE_DRAINED=512,READ_ENDING=1024,READ_EMIT_DATA=2048,READ_EMIT_READABLE=4096,READ_EMITTED_READABLE=8192,READ_DONE=16384,READ_NEXT_TICK=32768,READ_NEEDS_PUSH=65536,READ_READ_AHEAD=131072,READ_FLOWING=READ_RESUMED|READ_PIPE_DRAINED,READ_ACTIVE_AND_NEEDS_PUSH=READ_ACTIVE|READ_NEEDS_PUSH,READ_PRIMARY_AND_ACTIVE=READ_PRIMARY|READ_ACTIVE,READ_EMIT_READABLE_AND_QUEUED=READ_EMIT_READABLE|READ_QUEUED,READ_RESUMED_READ_AHEAD=READ_RESUMED|READ_READ_AHEAD,READ_NOT_ACTIVE=MAX^READ_ACTIVE,READ_NON_PRIMARY=MAX^READ_PRIMARY,READ_NON_PRIMARY_AND_PUSHED=MAX^(READ_PRIMARY|READ_NEEDS_PUSH),READ_PUSHED=MAX^READ_NEEDS_PUSH,READ_PAUSED=MAX^READ_RESUMED,READ_NOT_QUEUED=MAX^(READ_QUEUED|READ_EMITTED_READABLE),READ_NOT_ENDING=MAX^READ_ENDING,READ_PIPE_NOT_DRAINED=MAX^READ_FLOWING,READ_NOT_NEXT_TICK=MAX^READ_NEXT_TICK,READ_NOT_UPDATING=MAX^READ_UPDATING,READ_NO_READ_AHEAD=MAX^READ_READ_AHEAD,READ_PAUSED_NO_READ_AHEAD=MAX^READ_RESUMED_READ_AHEAD,WRITE_ACTIVE=1<<18,WRITE_UPDATING=2<<18,WRITE_PRIMARY=4<<18,WRITE_QUEUED=8<<18,WRITE_UNDRAINED=16<<18,WRITE_DONE=32<<18,WRITE_EMIT_DRAIN=64<<18,WRITE_NEXT_TICK=128<<18,WRITE_WRITING=256<<18,WRITE_FINISHING=512<<18,WRITE_CORKED=1024<<18,WRITE_NOT_ACTIVE=MAX^(WRITE_ACTIVE|WRITE_WRITING),WRITE_NON_PRIMARY=MAX^WRITE_PRIMARY,WRITE_NOT_FINISHING=MAX^(WRITE_ACTIVE|WRITE_FINISHING),WRITE_DRAINED=MAX^WRITE_UNDRAINED,WRITE_NOT_QUEUED=MAX^WRITE_QUEUED,WRITE_NOT_NEXT_TICK=MAX^WRITE_NEXT_TICK,WRITE_NOT_UPDATING=MAX^WRITE_UPDATING,WRITE_NOT_CORKED=MAX^WRITE_CORKED,ACTIVE=READ_ACTIVE|WRITE_ACTIVE,NOT_ACTIVE=MAX^ACTIVE,DONE$1=READ_DONE|WRITE_DONE,DESTROY_STATUS=DESTROYING|DESTROYED|PREDESTROYING,OPEN_STATUS=DESTROY_STATUS|OPENING,AUTO_DESTROY=DESTROY_STATUS|DONE$1,NON_PRIMARY=WRITE_NON_PRIMARY&READ_NON_PRIMARY,ACTIVE_OR_TICKING=WRITE_NEXT_TICK|READ_NEXT_TICK,TICKING=ACTIVE_OR_TICKING&NOT_ACTIVE,IS_OPENING=OPEN_STATUS|TICKING,READ_PRIMARY_STATUS=OPEN_STATUS|READ_ENDING|READ_DONE,READ_STATUS=OPEN_STATUS|READ_DONE|READ_QUEUED,READ_ENDING_STATUS=OPEN_STATUS|READ_ENDING|READ_QUEUED,READ_READABLE_STATUS=OPEN_STATUS|READ_EMIT_READABLE|READ_QUEUED|READ_EMITTED_READABLE,SHOULD_NOT_READ=OPEN_STATUS|READ_ACTIVE|READ_ENDING|READ_DONE|READ_NEEDS_PUSH|READ_READ_AHEAD,READ_BACKPRESSURE_STATUS=DESTROY_STATUS|READ_ENDING|READ_DONE,READ_UPDATE_SYNC_STATUS=READ_UPDATING|OPEN_STATUS|READ_NEXT_TICK|READ_PRIMARY,READ_NEXT_TICK_OR_OPENING=READ_NEXT_TICK|OPENING,WRITE_PRIMARY_STATUS=OPEN_STATUS|WRITE_FINISHING|WRITE_DONE,WRITE_QUEUED_AND_UNDRAINED=WRITE_QUEUED|WRITE_UNDRAINED,WRITE_QUEUED_AND_ACTIVE=WRITE_QUEUED|WRITE_ACTIVE,WRITE_DRAIN_STATUS=WRITE_QUEUED|WRITE_UNDRAINED|OPEN_STATUS|WRITE_ACTIVE,WRITE_STATUS=OPEN_STATUS|WRITE_ACTIVE|WRITE_QUEUED|WRITE_CORKED,WRITE_PRIMARY_AND_ACTIVE=WRITE_PRIMARY|WRITE_ACTIVE,WRITE_ACTIVE_AND_WRITING=WRITE_ACTIVE|WRITE_WRITING,WRITE_FINISHING_STATUS=OPEN_STATUS|WRITE_FINISHING|WRITE_QUEUED_AND_ACTIVE|WRITE_DONE,WRITE_BACKPRESSURE_STATUS=WRITE_UNDRAINED|DESTROY_STATUS|WRITE_FINISHING|WRITE_DONE,WRITE_UPDATE_SYNC_STATUS=WRITE_UPDATING|OPEN_STATUS|WRITE_NEXT_TICK|WRITE_PRIMARY,WRITE_DROP_DATA=WRITE_FINISHING|WRITE_DONE|DESTROY_STATUS,asyncIterator=Symbol.asyncIterator||Symbol("asyncIterator");class WritableState{constructor(e,{highWaterMark:o=16384,map:h=null,mapWritable:$,byteLength:d,byteLengthWritable:Y}={}){this.stream=e,this.queue=new FIFO,this.highWaterMark=o,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=Y||d||defaultByteLength,this.map=$||h,this.afterWrite=afterWrite.bind(this),this.afterUpdateNextTick=updateWriteNT.bind(this)}get ended(){return(this.stream._duplexState&WRITE_DONE)!==0}push(e){return this.stream._duplexState&WRITE_DROP_DATA?!1:(this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=WRITE_QUEUED,!0):(this.stream._duplexState|=WRITE_QUEUED_AND_UNDRAINED,!1))}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=WRITE_NOT_QUEUED),e}end(e){typeof e=="function"?this.stream.once("finish",e):e!=null&&this.push(e),this.stream._duplexState=(this.stream._duplexState|WRITE_FINISHING)&WRITE_NON_PRIMARY}autoBatch(e,o){const h=[],$=this.stream;for(h.push(e);($._duplexState&WRITE_STATUS)===WRITE_QUEUED_AND_ACTIVE;)h.push($._writableState.shift());if($._duplexState&OPEN_STATUS)return o(null);$._writev(h,o)}update(){const e=this.stream;e._duplexState|=WRITE_UPDATING;do{for(;(e._duplexState&WRITE_STATUS)===WRITE_QUEUED;){const o=this.shift();e._duplexState|=WRITE_ACTIVE_AND_WRITING,e._write(o,this.afterWrite)}e._duplexState&WRITE_PRIMARY_AND_ACTIVE||this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=WRITE_NOT_UPDATING}updateNonPrimary(){const e=this.stream;if((e._duplexState&WRITE_FINISHING_STATUS)===WRITE_FINISHING){e._duplexState=e._duplexState|WRITE_ACTIVE,e._final(afterFinal.bind(this));return}if((e._duplexState&DESTROY_STATUS)===DESTROYING){e._duplexState&ACTIVE_OR_TICKING||(e._duplexState|=ACTIVE,e._destroy(afterDestroy.bind(this)));return}(e._duplexState&IS_OPENING)===OPENING&&(e._duplexState=(e._duplexState|ACTIVE)&NOT_OPENING,e._open(afterOpen.bind(this)))}continueUpdate(){return this.stream._duplexState&WRITE_NEXT_TICK?(this.stream._duplexState&=WRITE_NOT_NEXT_TICK,!0):!1}updateCallback(){(this.stream._duplexState&WRITE_UPDATE_SYNC_STATUS)===WRITE_PRIMARY?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&WRITE_NEXT_TICK||(this.stream._duplexState|=WRITE_NEXT_TICK,this.stream._duplexState&WRITE_UPDATING||qmt(this.afterUpdateNextTick))}}class ReadableState{constructor(e,{highWaterMark:o=16384,map:h=null,mapReadable:$,byteLength:d,byteLengthReadable:Y}={}){this.stream=e,this.queue=new FIFO,this.highWaterMark=o===0?1:o,this.buffered=0,this.readAhead=o>0,this.error=null,this.pipeline=null,this.byteLength=Y||d||defaultByteLength,this.map=$||h,this.pipeTo=null,this.afterRead=afterRead.bind(this),this.afterUpdateNextTick=updateReadNT.bind(this)}get ended(){return(this.stream._duplexState&READ_DONE)!==0}pipe(e,o){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof o!="function"&&(o=null),this.stream._duplexState|=READ_PIPE_DRAINED,this.pipeTo=e,this.pipeline=new Pipeline(this.stream,e,o),o&&this.stream.on("error",noop$5),isStreamx(e))e._writableState.pipeline=this.pipeline,o&&e.on("error",noop$5),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{const h=this.pipeline.done.bind(this.pipeline,e),$=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",h),e.on("close",$),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",afterDrain.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){const o=this.stream;return e===null?(this.highWaterMark=0,o._duplexState=(o._duplexState|READ_ENDING)&READ_NON_PRIMARY_AND_PUSHED,!1):this.map!==null&&(e=this.map(e),e===null)?(o._duplexState&=READ_PUSHED,this.buffered<this.highWaterMark):(this.buffered+=this.byteLength(e),this.queue.push(e),o._duplexState=(o._duplexState|READ_QUEUED)&READ_PUSHED,this.buffered<this.highWaterMark)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=READ_NOT_QUEUED),e}unshift(e){const o=[this.map!==null?this.map(e):e];for(;this.buffered>0;)o.push(this.shift());for(let h=0;h<o.length-1;h++){const $=o[h];this.buffered+=this.byteLength($),this.queue.push($)}this.push(o[o.length-1])}read(){const e=this.stream;if((e._duplexState&READ_STATUS)===READ_QUEUED){const o=this.shift();return this.pipeTo!==null&&this.pipeTo.write(o)===!1&&(e._duplexState&=READ_PIPE_NOT_DRAINED),e._duplexState&READ_EMIT_DATA&&e.emit("data",o),o}return this.readAhead===!1&&(e._duplexState|=READ_READ_AHEAD,this.updateNextTick()),null}drain(){const e=this.stream;for(;(e._duplexState&READ_STATUS)===READ_QUEUED&&e._duplexState&READ_FLOWING;){const o=this.shift();this.pipeTo!==null&&this.pipeTo.write(o)===!1&&(e._duplexState&=READ_PIPE_NOT_DRAINED),e._duplexState&READ_EMIT_DATA&&e.emit("data",o)}}update(){const e=this.stream;e._duplexState|=READ_UPDATING;do{for(this.drain();this.buffered<this.highWaterMark&&(e._duplexState&SHOULD_NOT_READ)===READ_READ_AHEAD;)e._duplexState|=READ_ACTIVE_AND_NEEDS_PUSH,e._read(this.afterRead),this.drain();(e._duplexState&READ_READABLE_STATUS)===READ_EMIT_READABLE_AND_QUEUED&&(e._duplexState|=READ_EMITTED_READABLE,e.emit("readable")),e._duplexState&READ_PRIMARY_AND_ACTIVE||this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=READ_NOT_UPDATING}updateNonPrimary(){const e=this.stream;if((e._duplexState&READ_ENDING_STATUS)===READ_ENDING&&(e._duplexState=(e._duplexState|READ_DONE)&READ_NOT_ENDING,e.emit("end"),(e._duplexState&AUTO_DESTROY)===DONE$1&&(e._duplexState|=DESTROYING),this.pipeTo!==null&&this.pipeTo.end()),(e._duplexState&DESTROY_STATUS)===DESTROYING){e._duplexState&ACTIVE_OR_TICKING||(e._duplexState|=ACTIVE,e._destroy(afterDestroy.bind(this)));return}(e._duplexState&IS_OPENING)===OPENING&&(e._duplexState=(e._duplexState|ACTIVE)&NOT_OPENING,e._open(afterOpen.bind(this)))}continueUpdate(){return this.stream._duplexState&READ_NEXT_TICK?(this.stream._duplexState&=READ_NOT_NEXT_TICK,!0):!1}updateCallback(){(this.stream._duplexState&READ_UPDATE_SYNC_STATUS)===READ_PRIMARY?this.update():this.updateNextTick()}updateNextTickIfOpen(){this.stream._duplexState&READ_NEXT_TICK_OR_OPENING||(this.stream._duplexState|=READ_NEXT_TICK,this.stream._duplexState&READ_UPDATING||qmt(this.afterUpdateNextTick))}updateNextTick(){this.stream._duplexState&READ_NEXT_TICK||(this.stream._duplexState|=READ_NEXT_TICK,this.stream._duplexState&READ_UPDATING||qmt(this.afterUpdateNextTick))}}class TransformState{constructor(e){this.data=null,this.afterTransform=afterTransform$1.bind(e),this.afterFinal=null}}class Pipeline{constructor(e,o,h){this.from=e,this.to=o,this.afterPipe=h,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,o){if(o&&(this.error=o),e===this.to&&(this.to=null,this.from!==null)){(!(this.from._duplexState&READ_DONE)||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(e===this.from&&(this.from=null,this.to!==null)){e._duplexState&READ_DONE||this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}}function afterDrain(){this.stream._duplexState|=READ_PIPE_DRAINED,this.updateCallback()}function afterFinal(a){const e=this.stream;a&&e.destroy(a),e._duplexState&DESTROY_STATUS||(e._duplexState|=WRITE_DONE,e.emit("finish")),(e._duplexState&AUTO_DESTROY)===DONE$1&&(e._duplexState|=DESTROYING),e._duplexState&=WRITE_NOT_FINISHING,e._duplexState&WRITE_UPDATING?this.updateNextTick():this.update()}function afterDestroy(a){const e=this.stream;!a&&this.error!==STREAM_DESTROYED&&(a=this.error),a&&e.emit("error",a),e._duplexState|=DESTROYED,e.emit("close");const o=e._readableState,h=e._writableState;if(o!==null&&o.pipeline!==null&&o.pipeline.done(e,a),h!==null){for(;h.drains!==null&&h.drains.length>0;)h.drains.shift().resolve(!1);h.pipeline!==null&&h.pipeline.done(e,a)}}function afterWrite(a){const e=this.stream;a&&e.destroy(a),e._duplexState&=WRITE_NOT_ACTIVE,this.drains!==null&&tickDrains(this.drains),(e._duplexState&WRITE_DRAIN_STATUS)===WRITE_UNDRAINED&&(e._duplexState&=WRITE_DRAINED,(e._duplexState&WRITE_EMIT_DRAIN)===WRITE_EMIT_DRAIN&&e.emit("drain")),this.updateCallback()}function afterRead(a){a&&this.stream.destroy(a),this.stream._duplexState&=READ_NOT_ACTIVE,this.readAhead===!1&&!(this.stream._duplexState&READ_RESUMED)&&(this.stream._duplexState&=READ_NO_READ_AHEAD),this.updateCallback()}function updateReadNT(){this.stream._duplexState&READ_UPDATING||(this.stream._duplexState&=READ_NOT_NEXT_TICK,this.update())}function updateWriteNT(){this.stream._duplexState&WRITE_UPDATING||(this.stream._duplexState&=WRITE_NOT_NEXT_TICK,this.update())}function tickDrains(a){for(let e=0;e<a.length;e++)--a[e].writes===0&&(a.shift().resolve(!0),e--)}function afterOpen(a){const e=this.stream;a&&e.destroy(a),e._duplexState&DESTROYING||(e._duplexState&READ_PRIMARY_STATUS||(e._duplexState|=READ_PRIMARY),e._duplexState&WRITE_PRIMARY_STATUS||(e._duplexState|=WRITE_PRIMARY),e.emit("open")),e._duplexState&=NOT_ACTIVE,e._writableState!==null&&e._writableState.updateCallback(),e._readableState!==null&&e._readableState.updateCallback()}function afterTransform$1(a,e){e!=null&&this.push(e),this._writableState.afterWrite(a)}function newListener(a){this._readableState!==null&&(a==="data"&&(this._duplexState|=READ_EMIT_DATA|READ_RESUMED_READ_AHEAD,this._readableState.updateNextTick()),a==="readable"&&(this._duplexState|=READ_EMIT_READABLE,this._readableState.updateNextTick())),this._writableState!==null&&a==="drain"&&(this._duplexState|=WRITE_EMIT_DRAIN,this._writableState.updateNextTick())}let Stream$1=class extends EventEmitter$a{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",abort.bind(this))),this.on("newListener",newListener)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&DESTROYED)!==0}get destroying(){return(this._duplexState&DESTROY_STATUS)!==0}destroy(e){this._duplexState&DESTROY_STATUS||(e||(e=STREAM_DESTROYED),this._duplexState=(this._duplexState|DESTROYING)&NON_PRIMARY,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=e),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=PREDESTROYING,this._predestroy(),this._duplexState&=NOT_PREDESTROYING,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}},Readable$3=class tr extends Stream$1{constructor(e){super(e),this._duplexState|=OPENING|WRITE_DONE|READ_READ_AHEAD,this._readableState=new ReadableState(this,e),e&&(this._readableState.readAhead===!1&&(this._duplexState&=READ_NO_READ_AHEAD),e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick(),e.encoding&&this.setEncoding(e.encoding))}setEncoding(e){const o=new TextDecoder$1(e),h=this._readableState.map||echo;return this._readableState.map=$,this;function $(d){const Y=o.push(d);return Y===""&&(d.byteLength!==0||o.remaining>0)?null:h(Y)}}_read(e){e(null)}pipe(e,o){return this._readableState.updateNextTick(),this._readableState.pipe(e,o),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTickIfOpen(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTickIfOpen(),this._readableState.unshift(e)}resume(){return this._duplexState|=READ_RESUMED_READ_AHEAD,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=this._readableState.readAhead===!1?READ_PAUSED_NO_READ_AHEAD:READ_PAUSED,this}static _fromAsyncIterator(e,o){let h;const $=new tr({...o,read(Y){e.next().then(d).then(Y.bind(null,null)).catch(Y)},predestroy(){h=e.return()},destroy(Y){if(!h)return Y(null);h.then(Y.bind(null,null)).catch(Y)}});return $;function d(Y){Y.done?$.push(null):$.push(Y.value)}}static from(e,o){if(isReadStreamx(e))return e;if(e[asyncIterator])return this._fromAsyncIterator(e[asyncIterator](),o);Array.isArray(e)||(e=e===void 0?[]:[e]);let h=0;return new tr({...o,read($){this.push(h===e.length?null:e[h++]),$(null)}})}static isBackpressured(e){return(e._duplexState&READ_BACKPRESSURE_STATUS)!==0||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return(e._duplexState&READ_RESUMED)===0}[asyncIterator](){const e=this;let o=null,h=null,$=null;return this.on("error",he=>{o=he}),this.on("readable",d),this.on("close",Y),{[asyncIterator](){return this},next(){return new Promise(function(he,ne){h=he,$=ne;const le=e.read();le!==null?ie(le):e._duplexState&DESTROYED&&ie(null)})},return(){return fe(null)},throw(he){return fe(he)}};function d(){h!==null&&ie(e.read())}function Y(){h!==null&&ie(null)}function ie(he){$!==null&&(o?$(o):he===null&&!(e._duplexState&READ_DONE)?$(STREAM_DESTROYED):h({value:he,done:he===null}),$=h=null)}function fe(he){return e.destroy(he),new Promise((ne,le)=>{if(e._duplexState&DESTROYED)return ne({value:void 0,done:!0});e.once("close",function(){he?le(he):ne({value:void 0,done:!0})})})}}},Writable$2=class extends Stream$1{constructor(e){super(e),this._duplexState|=OPENING|READ_DONE,this._writableState=new WritableState(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=WRITE_CORKED}uncork(){this._duplexState&=WRITE_NOT_CORKED,this._writableState.updateNextTick()}_writev(e,o){o(null)}_write(e,o){this._writableState.autoBatch(e,o)}_final(e){e(null)}static isBackpressured(e){return(e._duplexState&WRITE_BACKPRESSURE_STATUS)!==0}static drained(e){if(e.destroyed)return Promise.resolve(!1);const o=e._writableState,$=(isWritev(e)?Math.min(1,o.queue.length):o.queue.length)+(e._duplexState&WRITE_WRITING?1:0);return $===0?Promise.resolve(!0):(o.drains===null&&(o.drains=[]),new Promise(d=>{o.drains.push({writes:$,resolve:d})}))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},Duplex$1=class extends Readable$3{constructor(e){super(e),this._duplexState=OPENING|this._duplexState&READ_READ_AHEAD,this._writableState=new WritableState(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}cork(){this._duplexState|=WRITE_CORKED}uncork(){this._duplexState&=WRITE_NOT_CORKED,this._writableState.updateNextTick()}_writev(e,o){o(null)}_write(e,o){this._writableState.autoBatch(e,o)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},Transform$b=class extends Duplex$1{constructor(e){super(e),this._transformState=new TransformState(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,o){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(this._transformState.data!==null){const o=this._transformState.data;this._transformState.data=null,e(null),this._transform(o,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),this._transformState.data!==null&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,o){o(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(transformAfterFlush.bind(this))}},PassThrough$3=class extends Transform$b{};function transformAfterFlush(a,e){const o=this._transformState.afterFinal;if(a)return o(a);e!=null&&this.push(e),this.push(null),o(null)}function echo(a){return a}function isStream(a){return!!a._readableState||!!a._writableState}function isStreamx(a){return typeof a._duplexState=="number"&&isStream(a)}function isReadStreamx(a){return isStreamx(a)&&a.readable}function isTypedArray$1(a){return typeof a=="object"&&a!==null&&typeof a.byteLength=="number"}function defaultByteLength(a){return isTypedArray$1(a)?a.byteLength:1024}function noop$5(){}function abort(){this.destroy(new Error("Stream aborted."))}function isWritev(a){return a._writev!==Writable$2.prototype._writev&&a._writev!==Duplex$1.prototype._writev}var streamx={Writable:Writable$2,Readable:Readable$3,Transform:Transform$b,PassThrough:PassThrough$3};function wait(a){return new Promise(e=>setTimeout(e,a))}var utils$s={wait},limiter={},TokenBucket$1=function(a,e,o,h){if(this.bucketSize=a,this.tokensPerInterval=e,typeof o=="string")switch(o){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=1e3*60;break;case"hr":case"hour":this.interval=1e3*60*60;break;case"day":this.interval=1e3*60*60*24;break;default:throw new Error("Invaid interval "+o)}else this.interval=o;this.parentBucket=h,this.content=0,this.lastDrip=+new Date};TokenBucket$1.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(a,e){var o=this;if(!this.bucketSize)return process$1.nextTick(e.bind(null,null,a,Number.POSITIVE_INFINITY)),!0;if(a>this.bucketSize)return process$1.nextTick(e.bind(null,"Requested tokens "+a+" exceeds bucket size "+this.bucketSize,null)),!1;if(this.drip(),a>this.content)return h();if(this.parentBucket)return this.parentBucket.removeTokens(a,function($,d){if($)return e($,null);if(a>o.content)return h();o.content-=a,e(null,Math.min(d,o.content))});return this.content-=a,process$1.nextTick(e.bind(null,null,this.content)),!0;function h(){var $=Math.ceil((a-o.content)*(o.interval/o.tokensPerInterval));return setTimeout(function(){o.removeTokens(a,e)},$),!1}},tryRemoveTokens:function(a){return this.bucketSize?a>this.bucketSize||(this.drip(),a>this.content)||this.parentBucket&&!this.parentBucket.tryRemoveTokens(a)?!1:(this.content-=a,!0):!0},drip:function(){if(!this.tokensPerInterval){this.content=this.bucketSize;return}var a=+new Date,e=Math.max(a-this.lastDrip,0);this.lastDrip=a;var o=e*(this.tokensPerInterval/this.interval);this.content=Math.min(this.content+o,this.bucketSize)}};var tokenBucket=TokenBucket$1,getMilliseconds$1=function(){if(typeof process$1<"u"&&process$1.hrtime){var a=process$1.hrtime(),e=a[0],o=a[1];return e*1e3+Math.floor(o/1e6)}return new Date().getTime()},clock=getMilliseconds$1,TokenBucket=tokenBucket,getMilliseconds=clock,RateLimiter=function(a,e,o){this.tokenBucket=new TokenBucket(a,a,e,null),this.tokenBucket.content=a,this.curIntervalStart=getMilliseconds(),this.tokensThisInterval=0,this.fireImmediately=o};RateLimiter.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(a,e){if(a>this.tokenBucket.bucketSize)return process$1.nextTick(e.bind(null,"Requested tokens "+a+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var o=this,h=getMilliseconds();if((h<this.curIntervalStart||h-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=h,this.tokensThisInterval=0),a>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)process$1.nextTick(e.bind(null,null,-1));else{var $=Math.ceil(this.curIntervalStart+this.tokenBucket.interval-h);setTimeout(function(){o.tokenBucket.removeTokens(a,d)},$)}return!1}return this.tokenBucket.removeTokens(a,d);function d(Y,ie){if(Y)return e(Y,null);o.tokensThisInterval+=a,e(null,ie)}},tryRemoveTokens:function(a){if(a>this.tokenBucket.bucketSize)return!1;var e=getMilliseconds();if((e<this.curIntervalStart||e-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=e,this.tokensThisInterval=0),a>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var o=this.tokenBucket.tryRemoveTokens(a);return o&&(this.tokensThisInterval+=a),o},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}};var rateLimiter=RateLimiter;limiter.RateLimiter=rateLimiter;limiter.TokenBucket=tokenBucket;var throttleGroup,hasRequiredThrottleGroup;function requireThrottleGroup(){if(hasRequiredThrottleGroup)return throttleGroup;hasRequiredThrottleGroup=1;const{TokenBucket:a}=limiter,e=requireThrottle();class o{constructor($={}){if(typeof $!="object")throw new Error("Options must be an object");this.throttles=[],this.setEnabled($.enabled),this.setRate($.rate,$.chunksize)}getEnabled(){return this._enabled}getRate(){return this.bucket.tokensPerInterval}getChunksize(){return this.chunksize}setEnabled($=!0){if(typeof $!="boolean")throw new Error("Enabled must be a boolean");this._enabled=$;for(const d of this.throttles)d.setEnabled($)}setRate($,d=null){if(!Number.isInteger($)||$<0)throw new Error("Rate must be an integer bigger than zero");if($=parseInt($),d&&(typeof d!="number"||d<=0))throw new Error("Chunksize must be bigger than zero");if(d=d||Math.max(parseInt($/10),1),d=parseInt(d),$>0&&d>$)throw new Error("Chunk size must be smaller than rate");this.bucket||(this.bucket=new a($,$,"second",null)),this.bucket.bucketSize=$,this.bucket.tokensPerInterval=$,this.chunksize=d}setChunksize($){if(!Number.isInteger($)||$<=0)throw new Error("Chunk size must be an integer bigger than zero");const d=this.getRate();if($=parseInt($),d>0&&$>d)throw new Error("Chunk size must be smaller than rate");this.chunksize=$}throttle($={}){if(typeof $!="object")throw new Error("Options must be an object");return new e({...$,group:this})}destroy(){for(const $ of this.throttles)$.destroy();this.throttles=[]}_addThrottle($){if(!($ instanceof e))throw new Error("Throttle must be an instance of Throttle");this.throttles.push($)}_removeThrottle($){const d=this.throttles.indexOf($);d>-1&&this.throttles.splice(d,1)}}return throttleGroup=o,throttleGroup}var throttle,hasRequiredThrottle;function requireThrottle(){if(hasRequiredThrottle)return throttle;hasRequiredThrottle=1;const{EventEmitter:a}=eventsExports,{Transform:e}=streamx,{wait:o}=utils$s;class h extends e{constructor(Y={}){if(super(),typeof Y!="object")throw new Error("Options must be an object");const ie=Object.assign({},Y);if(ie.group&&!(ie.group instanceof $))throw new Error("Group must be an instanece of ThrottleGroup");ie.group||(ie.group=new $(ie)),this._setEnabled(ie.enabled||ie.group.enabled),this._group=ie.group,this._emitter=new a,this._destroyed=!1,this._group._addThrottle(this)}getEnabled(){return this._enabled}getGroup(){return this._group}_setEnabled(Y=!0){if(typeof Y!="boolean")throw new Error("Enabled must be a boolean");this._enabled=Y}setEnabled(Y){this._setEnabled(Y),this._enabled?this._emitter.emit("enabled"):this._emitter.emit("disabled")}_transform(Y,ie){this._processChunk(Y,ie)}async _waitForTokens(Y){return new Promise((ie,fe)=>{let he=!1;const ne=this;function le(de){if(ne._emitter.removeListener("disabled",le),ne._emitter.removeListener("destroyed",le),!he){if(he=!0,de)return fe(de);ie()}}this._emitter.once("disabled",le),this._emitter.once("destroyed",le),this._group.bucket.removeTokens(Y,le)})}_areBothEnabled(){return this._enabled&&this._group.getEnabled()}async _processChunk(Y,ie){if(!this._areBothEnabled())return ie(null,Y);let fe=0,he=this._group.getChunksize(),ne=Y.slice(fe,fe+he);for(;ne.length>0;){if(this._areBothEnabled())try{for(;this._group.getRate()===0&&!this._destroyed&&this._areBothEnabled();)if(await o(1e3),this._destroyed)return;if(this._areBothEnabled()&&!this._group.bucket.tryRemoveTokens(ne.length)&&(await this._waitForTokens(ne.length),this._destroyed))return}catch(le){return ie(le)}this.push(ne),fe+=he,he=this._areBothEnabled()?this._group.getChunksize():Y.length-fe,ne=Y.slice(fe,fe+he)}return ie()}destroy(...Y){this._group._removeThrottle(this),this._destroyed=!0,this._emitter.emit("destroyed"),super.destroy(...Y)}}throttle=h;const $=requireThrottleGroup();return throttle}requireThrottle();const ThrottleGroup$1=requireThrottleGroup();var speedLimiter={ThrottleGroup:ThrottleGroup$1},browser$b={};browser$b.endianness=function(){return"LE"};browser$b.hostname=function(){return typeof location<"u"?location.hostname:""};browser$b.loadavg=function(){return[]};browser$b.uptime=function(){return 0};browser$b.freemem=function(){return Number.MAX_VALUE};browser$b.totalmem=function(){return Number.MAX_VALUE};browser$b.cpus=function(){return[]};browser$b.type=function(){return"Browser"};browser$b.release=function(){return typeof navigator<"u"?navigator.appVersion:""};browser$b.networkInterfaces=browser$b.getNetworkInterfaces=function(){return{}};browser$b.arch=function(){return"javascript"};browser$b.platform=function(){return"browser"};browser$b.tmpdir=browser$b.tmpDir=function(){return"/tmp"};browser$b.EOL=`
`;browser$b.homedir=function(){return"/"};const ADDR_RE=/^\[?([^\]]+)]?:(\d+)$/;let cache=new Map;var addrToIpPort=function(e){if(cache.size===1e5&&cache.clear(),!cache.has(e)){const o=ADDR_RE.exec(e);if(!o)throw new Error(`invalid addr: ${e}`);cache.set(e,[o[1],Number(o[2])])}return cache.get(e)},lib$2={};Object.defineProperty(lib$2,"__esModule",{value:!0});function bitsToBytes(a){return(a>>3)+ +(a%8!==0)}var BitField$4=function(){function a(e,o){e===void 0&&(e=0);var h=o==null?void 0:o.grow;this.grow=h?Number.isFinite(h)?bitsToBytes(h):h:0,this.buffer=typeof e=="number"?new Uint8Array(bitsToBytes(e)):e}return Object.defineProperty(a.prototype,"length",{get:function(){return this.buffer.length<<3},enumerable:!1,configurable:!0}),a.prototype.get=function(e){var o=e>>3;return o<this.buffer.length&&!!(this.buffer[o]&128>>e%8)},a.prototype.set=function(e,o){o===void 0&&(o=!0);var h=e>>3;if(o){if(h>=this.buffer.length){var $=Math.max(h+1,Math.min(2*this.buffer.length,this.grow));if($<=this.grow){var d=new Uint8Array($);d.set(this.buffer),this.buffer=d}}this.buffer[h]|=128>>e%8}else h<this.buffer.length&&(this.buffer[h]&=~(128>>e%8))},a.prototype.setAll=function(e,o){o===void 0&&(o=0);var h=Math.min(bitsToBytes(o+e.length),this.grow);if(this.buffer.length<h){var $=new Uint8Array(h);$.set(this.buffer),this.buffer=$}for(var d=o>>3,Y=128>>o%8,ie=0;ie<e.length;ie++)if(e[ie]?this.buffer[d]|=Y:this.buffer[d]&=~Y,Y===1){if(d+=1,d>=this.buffer.length)break;Y=128}else Y>>=1},a.prototype.forEach=function(e,o,h){o===void 0&&(o=0),h===void 0&&(h=this.buffer.length*8);for(var $=o>>3,d=128>>o%8,Y=o;Y<h;Y++)e(!!(this.buffer[$]&d),Y),d===1?($+=1,d=128):d>>=1},a.prototype.isEmpty=function(){for(var e=0;e<this.buffer.length;e++)if(this.buffer[e]!==0)return!1;return!0},a}();lib$2.default=BitField$4;var events=eventsExports,inherits$u=inherits_browserExports,lru=LRU$1;function LRU$1(a){if(!(this instanceof LRU$1))return new LRU$1(a);typeof a=="number"&&(a={max:a}),a||(a={}),events.EventEmitter.call(this),this.cache={},this.head=this.tail=null,this.length=0,this.max=a.max||1e3,this.maxAge=a.maxAge||0}inherits$u(LRU$1,events.EventEmitter);Object.defineProperty(LRU$1.prototype,"keys",{get:function(){return Object.keys(this.cache)}});LRU$1.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0};LRU$1.prototype.remove=function(a){if(typeof a!="string"&&(a=""+a),!!this.cache.hasOwnProperty(a)){var e=this.cache[a];return delete this.cache[a],this._unlink(a,e.prev,e.next),e.value}};LRU$1.prototype._unlink=function(a,e,o){this.length--,this.length===0?this.head=this.tail=null:this.head===a?(this.head=e,this.cache[this.head].next=null):this.tail===a?(this.tail=o,this.cache[this.tail].prev=null):(this.cache[e].next=o,this.cache[o].prev=e)};LRU$1.prototype.peek=function(a){if(this.cache.hasOwnProperty(a)){var e=this.cache[a];if(this._checkAge(a,e))return e.value}};LRU$1.prototype.set=function(a,e){typeof a!="string"&&(a=""+a);var o;if(this.cache.hasOwnProperty(a)){if(o=this.cache[a],o.value=e,this.maxAge&&(o.modified=Date.now()),a===this.head)return e;this._unlink(a,o.prev,o.next)}else o={value:e,modified:0,next:null,prev:null},this.maxAge&&(o.modified=Date.now()),this.cache[a]=o,this.length===this.max&&this.evict();return this.length++,o.next=null,o.prev=this.head,this.head&&(this.cache[this.head].next=a),this.head=a,this.tail||(this.tail=a),e};LRU$1.prototype._checkAge=function(a,e){return this.maxAge&&Date.now()-e.modified>this.maxAge?(this.remove(a),this.emit("evict",{key:a,value:e.value}),!1):!0};LRU$1.prototype.get=function(a){if(typeof a!="string"&&(a=""+a),!!this.cache.hasOwnProperty(a)){var e=this.cache[a];if(this._checkAge(a,e))return this.head!==a&&(a===this.tail?(this.tail=e.next,this.cache[this.tail].prev=null):this.cache[e.prev].next=e.next,this.cache[e.next].prev=e.prev,this.cache[this.head].next=a,e.prev=this.head,e.next=null,this.head=a),e.value}};LRU$1.prototype.evict=function(){if(this.tail){var a=this.tail,e=this.remove(this.tail);this.emit("evict",{key:a,value:e})}};/*! cache-chunk-store. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const LRU=lru,queueMicrotask$a=queueMicrotask_1;class CacheStore{constructor(e,o){if(this.store=e,this.chunkLength=e.chunkLength,this.inProgressGets=new Map,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.cache=new LRU(o)}put(e,o,h=()=>{}){if(!this.cache)return queueMicrotask$a(()=>h(new Error("CacheStore closed")));this.cache.remove(e),this.store.put(e,o,h)}get(e,o,h=()=>{}){if(typeof o=="function")return this.get(e,null,o);if(!this.cache)return queueMicrotask$a(()=>h(new Error("CacheStore closed")));o||(o={});let $=this.cache.get(e);if($){const ie=o.offset||0,fe=o.length||$.length-ie;return(ie!==0||fe!==$.length)&&($=$.slice(ie,fe+ie)),queueMicrotask$a(()=>h(null,$))}let d=this.inProgressGets.get(e);const Y=!!d;d||(d=[],this.inProgressGets.set(e,d)),d.push({opts:o,cb:h}),Y||this.store.get(e,(ie,fe)=>{!ie&&this.cache!=null&&this.cache.set(e,fe);const he=this.inProgressGets.get(e);this.inProgressGets.delete(e);for(const{opts:ne,cb:le}of he)if(ie)le(ie);else{const de=ne.offset||0,ce=ne.length||fe.length-de;let ge=fe;(de!==0||ce!==fe.length)&&(ge=fe.slice(de,ce+de)),le(null,ge)}})}close(e=()=>{}){if(!this.cache)return queueMicrotask$a(()=>e(new Error("CacheStore closed")));this.cache=null,this.store.close(e)}destroy(e=()=>{}){if(!this.cache)return queueMicrotask$a(()=>e(new Error("CacheStore closed")));this.cache=null,this.store.destroy(e)}}var cacheChunkStore=CacheStore;const{Transform:Transform$a}=readableBrowserExports$1;let Block$2=class extends Transform$a{constructor(e,o={}){super(o),typeof e=="object"&&(o=e,e=o.size),this.size=e||512;const{nopad:h,zeroPadding:$=!0}=o;h?this._zeroPadding=!1:this._zeroPadding=!!$,this._buffered=[],this._bufferedBytes=0}_transform(e,o,h){for(this._bufferedBytes+=e.length,this._buffered.push(e);this._bufferedBytes>=this.size;){this._bufferedBytes-=this.size;const $=[];let d=0;for(;d<this.size;){const Y=this._buffered.shift();if(d+Y.length<=this.size)$.push(Y),d+=Y.length;else{const ie=this.size-d;$.push(Y.slice(0,ie)),d+=ie,this._buffered.unshift(Y.slice(ie))}}this.push(Buffer$E.concat($,this.size))}h()}_flush(){if(this._bufferedBytes&&this._zeroPadding){const e=Buffer$E.alloc(this.size-this._bufferedBytes);this._buffered.push(e),this.push(Buffer$E.concat(this._buffered)),this._buffered=null}else this._bufferedBytes&&(this.push(Buffer$E.concat(this._buffered)),this._buffered=null);this.push(null)}};var blockStream2=Block$2;const BlockStream=blockStream2,stream$5=readableBrowserExports$1;let ChunkStoreWriteStream$1=class extends stream$5.Writable{constructor(e,o,h={}){if(super(h),!e||!e.put||!e.get)throw new Error("First argument must be an abstract-chunk-store compliant store");if(o=Number(o),!o)throw new Error("Second argument must be a chunk length");const $=h.zeroPadding===void 0?!1:h.zeroPadding;this._blockstream=new BlockStream(o,{...h,zeroPadding:$}),this._outstandingPuts=0,this._storeMaxOutstandingPuts=h.storeMaxOutstandingPuts||16;let d=0;const Y=ie=>{this.destroyed||(this._outstandingPuts+=1,this._outstandingPuts>=this._storeMaxOutstandingPuts&&this._blockstream.pause(),e.put(d,ie,fe=>{if(fe)return this.destroy(fe);this._outstandingPuts-=1,this._outstandingPuts<this._storeMaxOutstandingPuts&&this._blockstream.resume(),this._outstandingPuts===0&&typeof this._finalCb=="function"&&(this._finalCb(null),this._finalCb=null)}),d+=1)};this._blockstream.on("data",Y).on("error",ie=>{this.destroy(ie)})}_write(e,o,h){this._blockstream.write(e,o,h)}_final(e){this._blockstream.end(),this._blockstream.once("end",()=>{this._outstandingPuts===0?e(null):this._finalCb=e})}destroy(e){this.destroyed||(this.destroyed=!0,e&&this.emit("error",e),this.emit("close"))}};var write=ChunkStoreWriteStream$1,browser$a=function(){for(var e=navigator.hardwareConcurrency||1,o=[],h=0;h<e;h++)o.push({model:"",speed:0,times:{user:0,nice:0,sys:0,idle:0,irq:0}});return o},common$9={};(function(a){a.DEFAULT_ANNOUNCE_PEERS=50,a.MAX_ANNOUNCE_PEERS=82,a.binaryToHex=o=>(typeof o!="string"&&(o=String(o)),Buffer$E.from(o,"binary").toString("hex")),a.hexToBinary=o=>(typeof o!="string"&&(o=String(o)),Buffer$E.from(o,"hex").toString("binary")),a.parseUrl=o=>{const h=new URL(o.replace(/^udp:/,"http:"));return o.match(/^udp:/)&&Object.defineProperties(h,{href:{value:h.href.replace(/^http/,"udp")},protocol:{value:h.protocol.replace(/^http/,"udp")},origin:{value:h.origin.replace(/^http/,"udp")}}),h},Object.assign(a,require$$15)})(common$9);var clone$1={exports:{}};(function(a){var e=function(){function o(de,ce){return ce!=null&&de instanceof ce}var h;try{h=Map}catch{h=function(){}}var $;try{$=Set}catch{$=function(){}}var d;try{d=Promise}catch{d=function(){}}function Y(de,ce,ge,xe,Ae){typeof ce=="object"&&(ge=ce.depth,xe=ce.prototype,Ae=ce.includeNonEnumerable,ce=ce.circular);var Ee=[],we=[],pe=typeof Buffer$E<"u";typeof ce>"u"&&(ce=!0),typeof ge>"u"&&(ge=1/0);function me(Te,Pe){if(Te===null)return null;if(Pe===0)return Te;var Le,qe;if(typeof Te!="object")return Te;if(o(Te,h))Le=new h;else if(o(Te,$))Le=new $;else if(o(Te,d))Le=new d(function(ae,se){Te.then(function(ee){ae(me(ee,Pe-1))},function(ee){se(me(ee,Pe-1))})});else if(Y.__isArray(Te))Le=[];else if(Y.__isRegExp(Te))Le=new RegExp(Te.source,le(Te)),Te.lastIndex&&(Le.lastIndex=Te.lastIndex);else if(Y.__isDate(Te))Le=new Date(Te.getTime());else{if(pe&&Buffer$E.isBuffer(Te))return Buffer$E.allocUnsafe?Le=Buffer$E.allocUnsafe(Te.length):Le=new Buffer$E(Te.length),Te.copy(Le),Le;o(Te,Error)?Le=Object.create(Te):typeof xe>"u"?(qe=Object.getPrototypeOf(Te),Le=Object.create(qe)):(Le=Object.create(xe),qe=xe)}if(ce){var Ce=Ee.indexOf(Te);if(Ce!=-1)return we[Ce];Ee.push(Te),we.push(Le)}o(Te,h)&&Te.forEach(function(ae,se){var ee=me(se,Pe-1),_=me(ae,Pe-1);Le.set(ee,_)}),o(Te,$)&&Te.forEach(function(ae){var se=me(ae,Pe-1);Le.add(se)});for(var ze in Te){var oe;qe&&(oe=Object.getOwnPropertyDescriptor(qe,ze)),!(oe&&oe.set==null)&&(Le[ze]=me(Te[ze],Pe-1))}if(Object.getOwnPropertySymbols)for(var c=Object.getOwnPropertySymbols(Te),ze=0;ze<c.length;ze++){var b=c[ze],j=Object.getOwnPropertyDescriptor(Te,b);j&&!j.enumerable&&!Ae||(Le[b]=me(Te[b],Pe-1),j.enumerable||Object.defineProperty(Le,b,{enumerable:!1}))}if(Ae)for(var Z=Object.getOwnPropertyNames(Te),ze=0;ze<Z.length;ze++){var re=Z[ze],j=Object.getOwnPropertyDescriptor(Te,re);j&&j.enumerable||(Le[re]=me(Te[re],Pe-1),Object.defineProperty(Le,re,{enumerable:!1}))}return Le}return me(de,ge)}Y.clonePrototype=function(ce){if(ce===null)return null;var ge=function(){};return ge.prototype=ce,new ge};function ie(de){return Object.prototype.toString.call(de)}Y.__objToStr=ie;function fe(de){return typeof de=="object"&&ie(de)==="[object Date]"}Y.__isDate=fe;function he(de){return typeof de=="object"&&ie(de)==="[object Array]"}Y.__isArray=he;function ne(de){return typeof de=="object"&&ie(de)==="[object RegExp]"}Y.__isRegExp=ne;function le(de){var ce="";return de.global&&(ce+="g"),de.ignoreCase&&(ce+="i"),de.multiline&&(ce+="m"),ce}return Y.__getRegExpFlags=le,Y}();a.exports&&(a.exports=e)})(clone$1);var cloneExports=clone$1.exports;const debug$b=browserExports$1("simple-websocket"),randombytes$4=browserExports,stream$4=readableBrowserExports$1,queueMicrotask$9=queueMicrotask_1,ws=require$$15,_WebSocket=typeof ws!="function"?WebSocket:ws,MAX_BUFFERED_AMOUNT=64*1024;let Socket$1=class extends stream$4.Duplex{constructor(e={}){if(typeof e=="string"&&(e={url:e}),e=Object.assign({allowHalfOpen:!1},e),super(e),e.url==null&&e.socket==null)throw new Error("Missing required `url` or `socket` option");if(e.url!=null&&e.socket!=null)throw new Error("Must specify either `url` or `socket` option, not both");if(this._id=randombytes$4(4).toString("hex").slice(0,7),this._debug("new websocket: %o",e),this.connected=!1,this.destroyed=!1,this._chunk=null,this._cb=null,this._interval=null,e.socket)this.url=e.socket.url,this._ws=e.socket,this.connected=e.socket.readyState===_WebSocket.OPEN;else{this.url=e.url;try{typeof ws=="function"?this._ws=new _WebSocket(e.url,null,{...e,encoding:void 0}):this._ws=new _WebSocket(e.url)}catch(o){queueMicrotask$9(()=>this.destroy(o));return}}this._ws.binaryType="arraybuffer",e.socket&&this.connected?queueMicrotask$9(()=>this._handleOpen()):this._ws.onopen=()=>this._handleOpen(),this._ws.onmessage=o=>this._handleMessage(o),this._ws.onclose=()=>this._handleClose(),this._ws.onerror=o=>this._handleError(o),this._handleFinishBound=()=>this._handleFinish(),this.once("finish",this._handleFinishBound)}send(e){this._ws.send(e)}destroy(e){this._destroy(e,()=>{})}_destroy(e,o){if(!this.destroyed){if(this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.connected=!1,this.destroyed=!0,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._handleFinishBound&&this.removeListener("finish",this._handleFinishBound),this._handleFinishBound=null,this._ws){const h=this._ws,$=()=>{h.onclose=null};if(h.readyState===_WebSocket.CLOSED)$();else try{h.onclose=$,h.close()}catch{$()}h.onopen=null,h.onmessage=null,h.onerror=()=>{}}this._ws=null,e&&this.emit("error",e),this.emit("close"),o()}}_read(){}_write(e,o,h){if(this.destroyed)return h(new Error("cannot write after socket is destroyed"));if(this.connected){try{this.send(e)}catch($){return this.destroy($)}typeof ws!="function"&&this._ws.bufferedAmount>MAX_BUFFERED_AMOUNT?(this._debug("start backpressure: bufferedAmount %d",this._ws.bufferedAmount),this._cb=h):h(null)}else this._debug("write before connect"),this._chunk=e,this._cb=h}_handleOpen(){if(!(this.connected||this.destroyed)){if(this.connected=!0,this._chunk){try{this.send(this._chunk)}catch(o){return this.destroy(o)}this._chunk=null,this._debug('sent chunk from "write before connect"');const e=this._cb;this._cb=null,e(null)}typeof ws!="function"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}}_handleMessage(e){if(this.destroyed)return;let o=e.data;o instanceof ArrayBuffer&&(o=Buffer$E.from(o)),this.push(o)}_handleClose(){this.destroyed||(this._debug("on close"),this.destroy())}_handleError(e){this.destroy(new Error(`Error connecting to ${this.url}`))}_handleFinish(){if(this.destroyed)return;const e=()=>{setTimeout(()=>this.destroy(),1e3)};this.connected?e():this.once("connect",e)}_onInterval(){if(!this._cb||!this._ws||this._ws.bufferedAmount>MAX_BUFFERED_AMOUNT)return;this._debug("ending backpressure: bufferedAmount %d",this._ws.bufferedAmount);const e=this._cb;this._cb=null,e(null)}_debug(){const e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],debug$b.apply(null,e)}};Socket$1.WEBSOCKET_SUPPORT=!!_WebSocket;var simpleWebsocket=Socket$1;const EventEmitter$9=eventsExports;let Tracker$2=class extends EventEmitter$9{constructor(e,o){super(),this.client=e,this.announceUrl=o,this.interval=null,this.destroyed=!1}setInterval(e){e==null&&(e=this.DEFAULT_ANNOUNCE_INTERVAL),clearInterval(this.interval),e&&(this.interval=setInterval(()=>{this.announce(this.client._defaultAnnounceOpts())},e),this.interval.unref&&this.interval.unref())}};var tracker=Tracker$2;const clone=cloneExports,debug$a=browserExports$1("bittorrent-tracker:websocket-tracker"),Peer$5=simplePeer,randombytes$3=browserExports,Socket=simpleWebsocket,Socks=require$$15,common$8=common$9,Tracker$1=tracker,socketPool={},RECONNECT_MINIMUM=10*1e3,RECONNECT_MAXIMUM=60*60*1e3,RECONNECT_VARIANCE=5*60*1e3,OFFER_TIMEOUT=50*1e3;let WebSocketTracker$1=class extends Tracker$1{constructor(e,o){super(e,o),debug$a("new websocket tracker %s",o),this.peers={},this.socket=null,this.reconnecting=!1,this.retries=0,this.reconnectTimer=null,this.expectingResponse=!1,this._openSocket()}announce(e){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected){this.socket.once("connect",()=>{this.announce(e)});return}const o=Object.assign({},e,{action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary});if(this._trackerId&&(o.trackerid=this._trackerId),e.event==="stopped"||e.event==="completed")this._send(o);else{const h=Math.min(e.numwant,5);this._generateOffers(h,$=>{o.numwant=h,o.offers=$,this._send(o)})}}scrape(e){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected){this.socket.once("connect",()=>{this.scrape(e)});return}const h={action:"scrape",info_hash:Array.isArray(e.infoHash)&&e.infoHash.length>0?e.infoHash.map($=>$.toString("binary")):e.infoHash&&e.infoHash.toString("binary")||this.client._infoHashBinary};this._send(h)}destroy(e=noop$4){if(this.destroyed)return e(null);this.destroyed=!0,clearInterval(this.interval),clearTimeout(this.reconnectTimer);for(const d in this.peers){const Y=this.peers[d];clearTimeout(Y.trackerTimeout),Y.destroy()}if(this.peers=null,this.socket&&(this.socket.removeListener("connect",this._onSocketConnectBound),this.socket.removeListener("data",this._onSocketDataBound),this.socket.removeListener("close",this._onSocketCloseBound),this.socket.removeListener("error",this._onSocketErrorBound),this.socket=null),this._onSocketConnectBound=null,this._onSocketErrorBound=null,this._onSocketDataBound=null,this._onSocketCloseBound=null,socketPool[this.announceUrl]&&(socketPool[this.announceUrl].consumers-=1),socketPool[this.announceUrl].consumers>0)return e();let o=socketPool[this.announceUrl];delete socketPool[this.announceUrl],o.on("error",noop$4),o.once("close",e);let h;if(!this.expectingResponse)return $();h=setTimeout($,common$8.DESTROY_TIMEOUT),o.once("data",$);function $(){h&&(clearTimeout(h),h=null),o.removeListener("data",$),o.destroy(),o=null}}_openSocket(){if(this.destroyed=!1,this.peers||(this.peers={}),this._onSocketConnectBound=()=>{this._onSocketConnect()},this._onSocketErrorBound=e=>{this._onSocketError(e)},this._onSocketDataBound=e=>{this._onSocketData(e)},this._onSocketCloseBound=()=>{this._onSocketClose()},this.socket=socketPool[this.announceUrl],this.socket)socketPool[this.announceUrl].consumers+=1,this.socket.connected&&this._onSocketConnectBound();else{const e=new URL(this.announceUrl);let o;this.client._proxyOpts&&(o=e.protocol==="wss:"?this.client._proxyOpts.httpsAgent:this.client._proxyOpts.httpAgent,!o&&this.client._proxyOpts.socksProxy&&(o=new Socks.Agent(clone(this.client._proxyOpts.socksProxy),e.protocol==="wss:"))),this.socket=socketPool[this.announceUrl]=new Socket({url:this.announceUrl,agent:o}),this.socket.consumers=1,this.socket.once("connect",this._onSocketConnectBound)}this.socket.on("data",this._onSocketDataBound),this.socket.once("close",this._onSocketCloseBound),this.socket.once("error",this._onSocketErrorBound)}_onSocketConnect(){this.destroyed||this.reconnecting&&(this.reconnecting=!1,this.retries=0,this.announce(this.client._defaultAnnounceOpts()))}_onSocketData(e){if(!this.destroyed){this.expectingResponse=!1;try{e=JSON.parse(e)}catch{this.client.emit("warning",new Error("Invalid tracker response"));return}e.action==="announce"?this._onAnnounceResponse(e):e.action==="scrape"?this._onScrapeResponse(e):this._onSocketError(new Error(`invalid action in WS response: ${e.action}`))}}_onAnnounceResponse(e){if(e.info_hash!==this.client._infoHashBinary){debug$a("ignoring websocket data from %s for %s (looking for %s: reused socket)",this.announceUrl,common$8.binaryToHex(e.info_hash),this.client.infoHash);return}if(e.peer_id&&e.peer_id===this.client._peerIdBinary)return;debug$a("received %s from %s for %s",JSON.stringify(e),this.announceUrl,this.client.infoHash);const o=e["failure reason"];if(o)return this.client.emit("warning",new Error(o));const h=e["warning message"];h&&this.client.emit("warning",new Error(h));const $=e.interval||e["min interval"];$&&this.setInterval($*1e3);const d=e["tracker id"];if(d&&(this._trackerId=d),e.complete!=null){const ie=Object.assign({},e,{announce:this.announceUrl,infoHash:common$8.binaryToHex(e.info_hash)});this.client.emit("update",ie)}let Y;if(e.offer&&e.peer_id&&(debug$a("creating peer (from remote offer)"),Y=this._createPeer(),Y.id=common$8.binaryToHex(e.peer_id),Y.once("signal",ie=>{const fe={action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary,to_peer_id:e.peer_id,answer:ie,offer_id:e.offer_id};this._trackerId&&(fe.trackerid=this._trackerId),this._send(fe)}),this.client.emit("peer",Y),Y.signal(e.offer)),e.answer&&e.peer_id){const ie=common$8.binaryToHex(e.offer_id);Y=this.peers[ie],Y?(Y.id=common$8.binaryToHex(e.peer_id),this.client.emit("peer",Y),Y.signal(e.answer),clearTimeout(Y.trackerTimeout),Y.trackerTimeout=null,delete this.peers[ie]):debug$a(`got unexpected answer: ${JSON.stringify(e.answer)}`)}}_onScrapeResponse(e){e=e.files||{};const o=Object.keys(e);if(o.length===0){this.client.emit("warning",new Error("invalid scrape response"));return}o.forEach(h=>{const $=Object.assign(e[h],{announce:this.announceUrl,infoHash:common$8.binaryToHex(h)});this.client.emit("scrape",$)})}_onSocketClose(){this.destroyed||(this.destroy(),this._startReconnectTimer())}_onSocketError(e){this.destroyed||(this.destroy(),this.client.emit("warning",e),this._startReconnectTimer())}_startReconnectTimer(){const e=Math.floor(Math.random()*RECONNECT_VARIANCE)+Math.min(Math.pow(2,this.retries)*RECONNECT_MINIMUM,RECONNECT_MAXIMUM);this.reconnecting=!0,clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(()=>{this.retries++,this._openSocket()},e),this.reconnectTimer.unref&&this.reconnectTimer.unref(),debug$a("reconnecting socket in %s ms",e)}_send(e){if(this.destroyed)return;this.expectingResponse=!0;const o=JSON.stringify(e);debug$a("send %s",o),this.socket.send(o)}_generateOffers(e,o){const h=this,$=[];debug$a("generating %s offers",e);for(let ie=0;ie<e;++ie)d();Y();function d(){const ie=randombytes$3(20).toString("hex");debug$a("creating peer (from _generateOffers)");const fe=h.peers[ie]=h._createPeer({initiator:!0});fe.once("signal",he=>{$.push({offer:he,offer_id:common$8.hexToBinary(ie)}),Y()}),fe.trackerTimeout=setTimeout(()=>{debug$a("tracker timeout: destroying peer"),fe.trackerTimeout=null,delete h.peers[ie],fe.destroy()},OFFER_TIMEOUT),fe.trackerTimeout.unref&&fe.trackerTimeout.unref()}function Y(){$.length===e&&(debug$a("generated %s offers",e),o($))}}_createPeer(e){const o=this;e=Object.assign({trickle:!1,config:o.client._rtcConfig,wrtc:o.client._wrtc},e);const h=new Peer$5(e);return h.once("error",$),h.once("connect",d),h;function $(Y){o.client.emit("warning",new Error(`Connection error: ${Y.message}`)),h.destroy()}function d(){h.removeListener("error",$),h.removeListener("connect",d)}}};WebSocketTracker$1.prototype.DEFAULT_ANNOUNCE_INTERVAL=30*1e3;WebSocketTracker$1._socketPool=socketPool;function noop$4(){}var websocketTracker=WebSocketTracker$1;const debug$9=browserExports$1("bittorrent-tracker:client"),EventEmitter$8=eventsExports,once$3=onceExports,parallel$3=runParallel_1,Peer$4=simplePeer,queueMicrotask$8=queueMicrotask_1,common$7=common$9,HTTPTracker=require$$15,UDPTracker=require$$15,WebSocketTracker=websocketTracker;class Client extends EventEmitter$8{constructor(e={}){if(super(),!e.peerId)throw new Error("Option `peerId` is required");if(!e.infoHash)throw new Error("Option `infoHash` is required");if(!e.announce)throw new Error("Option `announce` is required");if(!process$1.browser&&!e.port)throw new Error("Option `port` is required");this.peerId=typeof e.peerId=="string"?e.peerId:e.peerId.toString("hex"),this._peerIdBuffer=Buffer$E.from(this.peerId,"hex"),this._peerIdBinary=this._peerIdBuffer.toString("binary"),this.infoHash=typeof e.infoHash=="string"?e.infoHash.toLowerCase():e.infoHash.toString("hex"),this._infoHashBuffer=Buffer$E.from(this.infoHash,"hex"),this._infoHashBinary=this._infoHashBuffer.toString("binary"),debug$9("new client %s",this.infoHash),this.destroyed=!1,this._port=e.port,this._getAnnounceOpts=e.getAnnounceOpts,this._rtcConfig=e.rtcConfig,this._userAgent=e.userAgent,this._proxyOpts=e.proxyOpts,this._wrtc=typeof e.wrtc=="function"?e.wrtc():e.wrtc;let o=typeof e.announce=="string"?[e.announce]:e.announce==null?[]:e.announce;o=o.map(d=>(d=d.toString(),d[d.length-1]==="/"&&(d=d.substring(0,d.length-1)),d)),o=Array.from(new Set(o));const h=this._wrtc!==!1&&(!!this._wrtc||Peer$4.WEBRTC_SUPPORT),$=d=>{queueMicrotask$8(()=>{this.emit("warning",d)})};this._trackers=o.map(d=>{let Y;try{Y=common$7.parseUrl(d)}catch{return $(new Error(`Invalid tracker URL: ${d}`)),null}const ie=Y.port;if(ie<0||ie>65535)return $(new Error(`Invalid tracker port: ${d}`)),null;const fe=Y.protocol;return(fe==="http:"||fe==="https:")&&typeof HTTPTracker=="function"?new HTTPTracker(this,d):fe==="udp:"&&typeof UDPTracker=="function"?new UDPTracker(this,d):(fe==="ws:"||fe==="wss:")&&h?fe==="ws:"&&typeof window<"u"&&window.location.protocol==="https:"?($(new Error(`Unsupported tracker protocol: ${d}`)),null):new WebSocketTracker(this,d):($(new Error(`Unsupported tracker protocol: ${d}`)),null)}).filter(Boolean)}start(e){e=this._defaultAnnounceOpts(e),e.event="started",debug$9("send `start` %o",e),this._announce(e),this._trackers.forEach(o=>{o.setInterval()})}stop(e){e=this._defaultAnnounceOpts(e),e.event="stopped",debug$9("send `stop` %o",e),this._announce(e)}complete(e){e||(e={}),e=this._defaultAnnounceOpts(e),e.event="completed",debug$9("send `complete` %o",e),this._announce(e)}update(e){e=this._defaultAnnounceOpts(e),e.event&&delete e.event,debug$9("send `update` %o",e),this._announce(e)}_announce(e){this._trackers.forEach(o=>{o.announce(e)})}scrape(e){debug$9("send `scrape`"),e||(e={}),this._trackers.forEach(o=>{o.scrape(e)})}setInterval(e){debug$9("setInterval %d",e),this._trackers.forEach(o=>{o.setInterval(e)})}destroy(e){if(this.destroyed)return;this.destroyed=!0,debug$9("destroy");const o=this._trackers.map(h=>$=>{h.destroy($)});parallel$3(o,e),this._trackers=[],this._getAnnounceOpts=null}_defaultAnnounceOpts(e={}){return e.numwant==null&&(e.numwant=common$7.DEFAULT_ANNOUNCE_PEERS),e.uploaded==null&&(e.uploaded=0),e.downloaded==null&&(e.downloaded=0),this._getAnnounceOpts&&(e=Object.assign({},e,this._getAnnounceOpts())),e}}Client.scrape=(a,e)=>{if(e=once$3(e),!a.infoHash)throw new Error("Option `infoHash` is required");if(!a.announce)throw new Error("Option `announce` is required");const o=Object.assign({},a,{infoHash:Array.isArray(a.infoHash)?a.infoHash[0]:a.infoHash,peerId:Buffer$E.from("01234567890123456789"),port:6881}),h=new Client(o);h.once("error",e),h.once("warning",e);let $=Array.isArray(a.infoHash)?a.infoHash.length:1;const d={};return h.on("scrape",Y=>{if($-=1,d[Y.infoHash]=Y,$===0){h.destroy();const ie=Object.keys(d);ie.length===1?e(null,d[ie[0]]):e(null,d)}}),a.infoHash=Array.isArray(a.infoHash)?a.infoHash.map(Y=>Buffer$E.from(Y,"hex")):Buffer$E.from(a.infoHash,"hex"),h.scrape({infoHash:a.infoHash}),h};var client=Client;const debug$8=browserExports$1("torrent-discovery"),DHT$1=require$$15,EventEmitter$7=eventsExports.EventEmitter,parallel$2=runParallel_1,Tracker=client,LSD=require$$15;let Discovery$1=class extends EventEmitter$7{constructor(e){if(super(),!e.peerId)throw new Error("Option `peerId` is required");if(!e.infoHash)throw new Error("Option `infoHash` is required");if(!process$1.browser&&!e.port)throw new Error("Option `port` is required");this.peerId=typeof e.peerId=="string"?e.peerId:e.peerId.toString("hex"),this.infoHash=typeof e.infoHash=="string"?e.infoHash.toLowerCase():e.infoHash.toString("hex"),this._port=e.port,this._userAgent=e.userAgent,this.destroyed=!1,this._announce=e.announce||[],this._intervalMs=e.intervalMs||15*60*1e3,this._trackerOpts=null,this._dhtAnnouncing=!1,this._dhtTimeout=!1,this._internalDHT=!1,this._onWarning=h=>{this.emit("warning",h)},this._onError=h=>{this.emit("error",h)},this._onDHTPeer=(h,$)=>{$.toString("hex")===this.infoHash&&this.emit("peer",`${h.host}:${h.port}`,"dht")},this._onTrackerPeer=h=>{this.emit("peer",h,"tracker")},this._onTrackerAnnounce=()=>{this.emit("trackerAnnounce")},this._onLSDPeer=(h,$)=>{this.emit("peer",h,"lsd")};const o=(h,$)=>{const d=new DHT$1($);return d.on("warning",this._onWarning),d.on("error",this._onError),d.listen(h),this._internalDHT=!0,d};e.tracker===!1?this.tracker=null:e.tracker&&typeof e.tracker=="object"?(this._trackerOpts=Object.assign({},e.tracker),this.tracker=this._createTracker()):this.tracker=this._createTracker(),e.dht===!1||typeof DHT$1!="function"?this.dht=null:e.dht&&typeof e.dht.addNode=="function"?this.dht=e.dht:e.dht&&typeof e.dht=="object"?this.dht=o(e.dhtPort,e.dht):this.dht=o(e.dhtPort),this.dht&&(this.dht.on("peer",this._onDHTPeer),this._dhtAnnounce()),e.lsd===!1||typeof LSD!="function"?this.lsd=null:this.lsd=this._createLSD()}updatePort(e){e!==this._port&&(this._port=e,this.dht&&this._dhtAnnounce(),this.tracker&&(this.tracker.stop(),this.tracker.destroy(()=>{this.tracker=this._createTracker()})))}complete(e){this.tracker&&this.tracker.complete(e)}destroy(e){if(this.destroyed)return;this.destroyed=!0,clearTimeout(this._dhtTimeout);const o=[];this.tracker&&(this.tracker.stop(),this.tracker.removeListener("warning",this._onWarning),this.tracker.removeListener("error",this._onError),this.tracker.removeListener("peer",this._onTrackerPeer),this.tracker.removeListener("update",this._onTrackerAnnounce),o.push(h=>{this.tracker.destroy(h)})),this.dht&&this.dht.removeListener("peer",this._onDHTPeer),this._internalDHT&&(this.dht.removeListener("warning",this._onWarning),this.dht.removeListener("error",this._onError),o.push(h=>{this.dht.destroy(h)})),this.lsd&&(this.lsd.removeListener("warning",this._onWarning),this.lsd.removeListener("error",this._onError),this.lsd.removeListener("peer",this._onLSDPeer),o.push(h=>{this.lsd.destroy(h)})),parallel$2(o,e),this.dht=null,this.tracker=null,this.lsd=null,this._announce=null}_createTracker(){const e=Object.assign({},this._trackerOpts,{infoHash:this.infoHash,announce:this._announce,peerId:this.peerId,port:this._port,userAgent:this._userAgent}),o=new Tracker(e);return o.on("warning",this._onWarning),o.on("error",this._onError),o.on("peer",this._onTrackerPeer),o.on("update",this._onTrackerAnnounce),o.setInterval(this._intervalMs),o.start(),o}_dhtAnnounce(){this._dhtAnnouncing||(debug$8("dht announce"),this._dhtAnnouncing=!0,clearTimeout(this._dhtTimeout),this.dht.announce(this.infoHash,this._port,e=>{this._dhtAnnouncing=!1,debug$8("dht announce complete"),e&&this.emit("warning",e),this.emit("dhtAnnounce"),this.destroyed||(this._dhtTimeout=setTimeout(()=>{this._dhtAnnounce()},this._intervalMs+Math.floor(Math.random()*this._intervalMs/5)),this._dhtTimeout.unref&&this._dhtTimeout.unref())}))}_createLSD(){const e=Object.assign({},{infoHash:this.infoHash,peerId:this.peerId,port:this._port}),o=new LSD(e);return o.on("warning",this._onWarning),o.on("error",this._onError),o.on("peer",this._onLSDPeer),o.start(),o}};var torrentDiscovery=Discovery$1,memoryChunkStore=Storage;const queueMicrotask$7=queueMicrotask_1;function Storage(a,e){if(!(this instanceof Storage))return new Storage(a,e);if(e||(e={}),this.chunkLength=Number(a),!this.chunkLength)throw new Error("First argument must be a chunk length");this.chunks=[],this.closed=!1,this.length=Number(e.length)||1/0,this.length!==1/0&&(this.lastChunkLength=this.length%this.chunkLength||this.chunkLength,this.lastChunkIndex=Math.ceil(this.length/this.chunkLength)-1)}Storage.prototype.put=function(a,e,o=()=>{}){if(this.closed)return queueMicrotask$7(()=>o(new Error("Storage is closed")));const h=a===this.lastChunkIndex;if(h&&e.length!==this.lastChunkLength)return queueMicrotask$7(()=>o(new Error("Last chunk length must be "+this.lastChunkLength)));if(!h&&e.length!==this.chunkLength)return queueMicrotask$7(()=>o(new Error("Chunk length must be "+this.chunkLength)));this.chunks[a]=e,queueMicrotask$7(()=>o(null))};Storage.prototype.get=function(a,e,o=()=>{}){if(typeof e=="function")return this.get(a,null,e);if(this.closed)return queueMicrotask$7(()=>o(new Error("Storage is closed")));let h=this.chunks[a];if(!h){const Y=new Error("Chunk not found");return Y.notFound=!0,queueMicrotask$7(()=>o(Y))}e||(e={});const $=e.offset||0,d=e.length||h.length-$;($!==0||d!==h.length)&&(h=h.slice($,d+$)),queueMicrotask$7(()=>o(null,h))};Storage.prototype.close=Storage.prototype.destroy=function(a=()=>{}){if(this.closed)return queueMicrotask$7(()=>a(new Error("Storage is closed")));this.closed=!0,this.chunks=null,queueMicrotask$7(()=>a(null))};/*! immediate-chunk-store. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const queueMicrotask$6=queueMicrotask_1;class ImmediateStore{constructor(e){if(this.store=e,this.chunkLength=e.chunkLength,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.mem=[]}put(e,o,h=()=>{}){this.mem[e]=o,this.store.put(e,o,$=>{this.mem[e]=null,h($)})}get(e,o,h=()=>{}){if(typeof o=="function")return this.get(e,null,o);let $=this.mem[e];if(!$)return this.store.get(e,o,h);o||(o={});const d=o.offset||0,Y=o.length||$.length-d;(d!==0||Y!==$.length)&&($=$.slice(d,Y+d)),queueMicrotask$6(()=>h(null,$))}close(e=()=>{}){this.store.close(e)}destroy(e=()=>{}){this.store.destroy(e)}}var immediateChunkStore=ImmediateStore,unorderedArrayRemove=remove;function remove(a,e){if(!(e>=a.length||e<0)){var o=a.pop();if(e<a.length){var h=a[e];return a[e]=o,h}return o}}const arrayRemove$2=unorderedArrayRemove,{EventEmitter:EventEmitter$6}=eventsExports,debug$7=browserExports$1("lt_donthave");var lt_donthave=()=>{class a extends EventEmitter$6{constructor(o){super(),this._peerSupports=!1,this._wire=o}onExtendedHandshake(){this._peerSupports=!0}onMessage(o){let h;try{h=o.readUInt32BE()}catch{return}this._wire.peerPieces.get(h)&&(debug$7("got donthave %d",h),this._wire.peerPieces.set(h,!1),this.emit("donthave",h),this._failRequests(h))}donthave(o){if(!this._peerSupports)return;debug$7("donthave %d",o);const h=Buffer$E.alloc(4);h.writeUInt32BE(o),this._wire.extended("lt_donthave",h)}_failRequests(o){const h=this._wire.requests;for(let $=0;$<h.length;$++){const d=h[$];d.piece===o&&(arrayRemove$2(h,$),$-=1,this._wire._callback(d,new Error("peer sent donthave"),null))}}}return a.prototype.name="lt_donthave",a};/*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var runParallelLimit_1=runParallelLimit;const queueMicrotask$5=queueMicrotask_1;function runParallelLimit(a,e,o){if(typeof e!="number")throw new Error("second argument must be a Number");let h,$,d,Y,ie,fe=!0,he;Array.isArray(a)?(h=[],d=$=a.length):(Y=Object.keys(a),h={},d=$=Y.length);function ne(de){function ce(){o&&o(de,h),o=null}fe?queueMicrotask$5(ce):ce()}function le(de,ce,ge){if(h[de]=ge,ce&&(ie=!0),--d===0||ce)ne(ce);else if(!ie&&he<$){let xe;Y?(xe=Y[he],he+=1,a[xe](function(Ae,Ee){le(xe,Ae,Ee)})):(xe=he,he+=1,a[xe](function(Ae,Ee){le(xe,Ae,Ee)}))}}he=e,d?Y?Y.some(function(de,ce){return a[de](function(ge,xe){le(de,ge,xe)}),ce===e-1}):a.some(function(de,ce){return de(function(ge,xe){le(ce,ge,xe)}),ce===e-1}):ne(null),fe=!1}const BLOCK_LENGTH=16384;let Piece$1=class{constructor(e){this.length=e,this.missing=e,this.sources=null,this._chunks=Math.ceil(e/BLOCK_LENGTH),this._remainder=e%BLOCK_LENGTH||BLOCK_LENGTH,this._buffered=0,this._buffer=null,this._cancellations=null,this._reservations=0,this._flushed=!1}chunkLength(e){return e===this._chunks-1?this._remainder:BLOCK_LENGTH}chunkLengthRemaining(e){return this.length-e*BLOCK_LENGTH}chunkOffset(e){return e*BLOCK_LENGTH}reserve(){return this.init()?this._cancellations.length?this._cancellations.pop():this._reservations<this._chunks?this._reservations++:-1:-1}reserveRemaining(){if(!this.init())return-1;if(this._cancellations.length||this._reservations<this._chunks){let e=this._reservations;for(;this._cancellations.length;)e=Math.min(e,this._cancellations.pop());return this._reservations=this._chunks,e}return-1}cancel(e){this.init()&&this._cancellations.push(e)}cancelRemaining(e){this.init()&&(this._reservations=e)}get(e){return this.init()?this._buffer[e]:null}set(e,o,h){if(!this.init())return!1;const $=o.length,d=Math.ceil($/BLOCK_LENGTH);for(let Y=0;Y<d;Y++)if(!this._buffer[e+Y]){const ie=Y*BLOCK_LENGTH,fe=o.slice(ie,ie+BLOCK_LENGTH);this._buffered++,this._buffer[e+Y]=fe,this.missing-=fe.length,this.sources.includes(h)||this.sources.push(h)}return this._buffered===this._chunks}flush(){if(!this._buffer||this._chunks!==this._buffered)return null;const e=Buffer$E.concat(this._buffer,this.length);return this._buffer=null,this._cancellations=null,this.sources=null,this._flushed=!0,e}init(){return this._flushed?!1:(this._buffer||(this._buffer=new Array(this._chunks),this._cancellations=[],this.sources=[]),!0)}};Object.defineProperty(Piece$1,"BLOCK_LENGTH",{value:BLOCK_LENGTH});var torrentPiece=Piece$1,once$2=onceExports,noop$3=function(){},qnt=commonjsGlobal.Bare?queueMicrotask:process$1.nextTick.bind(process$1),isRequest$1=function(a){return a.setHeader&&typeof a.abort=="function"},isChildProcess=function(a){return a.stdio&&Array.isArray(a.stdio)&&a.stdio.length===3},eos$2=function(a,e,o){if(typeof e=="function")return eos$2(a,null,e);e||(e={}),o=once$2(o||noop$3);var h=a._writableState,$=a._readableState,d=e.readable||e.readable!==!1&&a.readable,Y=e.writable||e.writable!==!1&&a.writable,ie=!1,fe=function(){a.writable||he()},he=function(){Y=!1,d||o.call(a)},ne=function(){d=!1,Y||o.call(a)},le=function(Ae){o.call(a,Ae?new Error("exited with error code: "+Ae):null)},de=function(Ae){o.call(a,Ae)},ce=function(){qnt(ge)},ge=function(){if(!ie){if(d&&!($&&$.ended&&!$.destroyed))return o.call(a,new Error("premature close"));if(Y&&!(h&&h.ended&&!h.destroyed))return o.call(a,new Error("premature close"))}},xe=function(){a.req.on("finish",he)};return isRequest$1(a)?(a.on("complete",he),a.on("abort",ce),a.req?xe():a.on("request",xe)):Y&&!h&&(a.on("end",fe),a.on("close",fe)),isChildProcess(a)&&a.on("exit",le),a.on("end",ne),a.on("finish",he),e.error!==!1&&a.on("error",de),a.on("close",ce),function(){ie=!0,a.removeListener("complete",he),a.removeListener("abort",ce),a.removeListener("request",xe),a.req&&a.req.removeListener("finish",he),a.removeListener("end",fe),a.removeListener("close",fe),a.removeListener("finish",he),a.removeListener("exit",le),a.removeListener("end",ne),a.removeListener("error",de),a.removeListener("close",ce)}},endOfStream=eos$2,once$1=onceExports,eos$1=endOfStream,fs$1;try{fs$1=require$$2$1}catch{}var noop$2=function(){},ancient=typeof process$1>"u"?!1:/^v?\.0/.test(process$1.version),isFn=function(a){return typeof a=="function"},isFS=function(a){return!ancient||!fs$1?!1:(a instanceof(fs$1.ReadStream||noop$2)||a instanceof(fs$1.WriteStream||noop$2))&&isFn(a.close)},isRequest=function(a){return a.setHeader&&isFn(a.abort)},destroyer=function(a,e,o,h){h=once$1(h);var $=!1;a.on("close",function(){$=!0}),eos$1(a,{readable:e,writable:o},function(Y){if(Y)return h(Y);$=!0,h()});var d=!1;return function(Y){if(!$&&!d){if(d=!0,isFS(a))return a.close(noop$2);if(isRequest(a))return a.abort();if(isFn(a.destroy))return a.destroy();h(Y||new Error("stream was destroyed"))}}},call=function(a){a()},pipe=function(a,e){return a.pipe(e)},pump$2=function(){var a=Array.prototype.slice.call(arguments),e=isFn(a[a.length-1]||noop$2)&&a.pop()||noop$2;if(Array.isArray(a[0])&&(a=a[0]),a.length<2)throw new Error("pump requires two streams per minimum");var o,h=a.map(function($,d){var Y=d<a.length-1,ie=d>0;return destroyer($,Y,ie,function(fe){o||(o=fe),fe&&h.forEach(call),!Y&&(h.forEach(call),e(o))})});return a.reduce(pipe)},pump_1=pump$2,iterate=function(a){var e=0;return function(){if(e===a.length)return null;var o=a.length-e,h=Math.random()*o|0,$=a[e+h],d=a[e];return a[e]=$,a[e+h]=d,e++,$}},randomIterate$1=iterate;const{EventEmitter:EventEmitter$5}=eventsExports,bencode$1=libExports,BitField$3=lib$2.default,debug$6=browserExports$1("ut_metadata"),sha1$5=browserExports$2,MAX_METADATA_SIZE=1e7,BITFIELD_GROW$1=1e3,PIECE_LENGTH=16384;var ut_metadata=a=>{class e extends EventEmitter$5{constructor(h){super(),this._wire=h,this._fetching=!1,this._metadataComplete=!1,this._metadataSize=null,this._remainingRejects=null,this._bitfield=new BitField$3(0,{grow:BITFIELD_GROW$1}),Buffer$E.isBuffer(a)&&this.setMetadata(a)}onHandshake(h,$,d){this._infoHash=h}onExtendedHandshake(h){if(!h.m||!h.m.ut_metadata)return this.emit("warning",new Error("Peer does not support ut_metadata"));if(!h.metadata_size)return this.emit("warning",new Error("Peer does not have metadata"));if(typeof h.metadata_size!="number"||MAX_METADATA_SIZE<h.metadata_size||h.metadata_size<=0)return this.emit("warning",new Error("Peer gave invalid metadata size"));this._metadataSize=h.metadata_size,this._numPieces=Math.ceil(this._metadataSize/PIECE_LENGTH),this._remainingRejects=this._numPieces*2,this._requestPieces()}onMessage(h){let $,d;try{const Y=h.toString(),ie=Y.indexOf("ee")+2;$=bencode$1.decode(Y.substring(0,ie)),d=h.slice(ie)}catch{return}switch($.msg_type){case 0:this._onRequest($.piece);break;case 1:this._onData($.piece,d,$.total_size);break;case 2:this._onReject($.piece);break}}fetch(){this._metadataComplete||(this._fetching=!0,this._metadataSize&&this._requestPieces())}cancel(){this._fetching=!1}setMetadata(h){if(this._metadataComplete)return!0;debug$6("set metadata");try{const $=bencode$1.decode(h).info;$&&(h=bencode$1.encode($))}catch{}return this._infoHash&&this._infoHash!==sha1$5.sync(h)?!1:(this.cancel(),this.metadata=h,this._metadataComplete=!0,this._metadataSize=this.metadata.length,this._wire.extendedHandshake.metadata_size=this._metadataSize,this.emit("metadata",bencode$1.encode({info:bencode$1.decode(this.metadata)})),!0)}_send(h,$){let d=bencode$1.encode(h);Buffer$E.isBuffer($)&&(d=Buffer$E.concat([d,$])),this._wire.extended("ut_metadata",d)}_request(h){this._send({msg_type:0,piece:h})}_data(h,$,d){const Y={msg_type:1,piece:h};typeof d=="number"&&(Y.total_size=d),this._send(Y,$)}_reject(h){this._send({msg_type:2,piece:h})}_onRequest(h){if(!this._metadataComplete){this._reject(h);return}const $=h*PIECE_LENGTH;let d=$+PIECE_LENGTH;d>this._metadataSize&&(d=this._metadataSize);const Y=this.metadata.slice($,d);this._data(h,Y,this._metadataSize)}_onData(h,$,d){$.length>PIECE_LENGTH||!this._fetching||($.copy(this.metadata,h*PIECE_LENGTH),this._bitfield.set(h),this._checkDone())}_onReject(h){this._remainingRejects>0&&this._fetching?(this._request(h),this._remainingRejects-=1):this.emit("warning",new Error('Peer sent "reject" too much'))}_requestPieces(){if(this._fetching){this.metadata=Buffer$E.alloc(this._metadataSize);for(let h=0;h<this._numPieces;h++)this._request(h)}}_checkDone(){let h=!0;for(let d=0;d<this._numPieces;d++)if(!this._bitfield.get(d)){h=!1;break}if(!h)return;this.setMetadata(this.metadata)||this._failedMetadata()}_failedMetadata(){this._bitfield=new BitField$3(0,{grow:BITFIELD_GROW$1}),this._remainingRejects-=this._numPieces,this._remainingRejects>0?this._requestPieces():this.emit("warning",new Error("Peer sent invalid metadata"))}}return e.prototype.name="ut_metadata",e},renderMedia={};const require$$0$1={".3gp":"video/3gpp",".aac":"audio/aac",".aif":"audio/x-aiff",".aiff":"audio/x-aiff",".atom":"application/atom+xml",".avi":"video/x-msvideo",".bmp":"image/bmp",".bz2":"application/x-bzip2",".conf":"text/plain",".css":"text/css",".csv":"text/plain",".diff":"text/x-diff",".doc":"application/msword",".flv":"video/x-flv",".gif":"image/gif",".gz":"application/x-gzip",".htm":"text/html",".html":"text/html",".ico":"image/vnd.microsoft.icon",".ics":"text/calendar",".iso":"application/octet-stream",".jar":"application/java-archive",".jpeg":"image/jpeg",".jpg":"image/jpeg",".js":"application/javascript",".json":"application/json",".less":"text/css",".log":"text/plain",".m3u":"audio/x-mpegurl",".m4a":"audio/x-m4a",".m4b":"audio/mp4",".m4p":"audio/mp4",".m4v":"video/x-m4v",".manifest":"text/cache-manifest",".markdown":"text/x-markdown",".mathml":"application/mathml+xml",".md":"text/x-markdown",".mid":"audio/midi",".midi":"audio/midi",".mov":"video/quicktime",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4v":"video/mp4",".mpeg":"video/mpeg",".mpg":"video/mpeg",".odp":"application/vnd.oasis.opendocument.presentation",".ods":"application/vnd.oasis.opendocument.spreadsheet",".odt":"application/vnd.oasis.opendocument.text",".oga":"audio/ogg",".ogg":"application/ogg",".pdf":"application/pdf",".png":"image/png",".pps":"application/vnd.ms-powerpoint",".ppt":"application/vnd.ms-powerpoint",".ps":"application/postscript",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".rar":"application/x-rar-compressed",".rdf":"application/rdf+xml",".rss":"application/rss+xml",".rtf":"application/rtf",".svg":"image/svg+xml",".svgz":"image/svg+xml",".swf":"application/x-shockwave-flash",".tar":"application/x-tar",".tbz":"application/x-bzip-compressed-tar",".text":"text/plain",".tif":"image/tiff",".tiff":"image/tiff",".torrent":"application/x-bittorrent",".ttf":"application/x-font-ttf",".txt":"text/plain",".wav":"audio/wav",".webm":"video/webm",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".xls":"application/vnd.ms-excel",".xml":"application/xml",".yaml":"text/yaml",".yml":"text/yaml",".zip":"application/zip"};var MAX_ASCII_CHAR_CODE=127,isAscii=function(e){for(var o=0,h=e.length;o<h;++o)if(e.charCodeAt(o)>MAX_ASCII_CHAR_CODE)return!1;return!0},Buffer$B=require$$0$3.Buffer,toArraybuffer=function(a){if(a instanceof Uint8Array){if(a.byteOffset===0&&a.byteLength===a.buffer.byteLength)return a.buffer;if(typeof a.buffer.slice=="function")return a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)}if(Buffer$B.isBuffer(a)){for(var e=new Uint8Array(a.length),o=a.length,h=0;h<o;h++)e[h]=a[h];return e.buffer}else throw new Error("Argument must be a Buffer")};/*! mediasource. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var mediasource=MediaElementWrapper$1,inherits$t=inherits_browserExports,stream$3=readableBrowserExports$1,toArrayBuffer=toArraybuffer,MediaSource=typeof window<"u"&&window.MediaSource,DEFAULT_BUFFER_DURATION=60;function MediaElementWrapper$1(a,e){var o=this;if(!(o instanceof MediaElementWrapper$1))return new MediaElementWrapper$1(a,e);if(!MediaSource)throw new Error("web browser lacks MediaSource support");e||(e={}),o._debug=e.debug,o._bufferDuration=e.bufferDuration||DEFAULT_BUFFER_DURATION,o._elem=a,o._mediaSource=new MediaSource,o._streams=[],o.detailedError=null,o._errorHandler=function(){o._elem.removeEventListener("error",o._errorHandler);var h=o._streams.slice();h.forEach(function($){$.destroy(o._elem.error)})},o._elem.addEventListener("error",o._errorHandler),o._elem.src=window.URL.createObjectURL(o._mediaSource)}MediaElementWrapper$1.prototype.createWriteStream=function(a){var e=this;return new MediaSourceStream(e,a)};MediaElementWrapper$1.prototype.error=function(a){var e=this;e.detailedError||(e.detailedError=a),e._dumpDebugData();try{e._mediaSource.endOfStream("decode")}catch{}try{window.URL.revokeObjectURL(e._elem.src)}catch{}};MediaElementWrapper$1.prototype._dumpDebugData=function(){var a=this;a._debug&&(a._debug=!1,a._streams.forEach(function(e,o){downloadBuffers(e._debugBuffers,"mediasource-stream-"+o)}))};inherits$t(MediaSourceStream,stream$3.Writable);function MediaSourceStream(a,e){var o=this;if(stream$3.Writable.call(o),o._wrapper=a,o._elem=a._elem,o._mediaSource=a._mediaSource,o._allStreams=a._streams,o._allStreams.push(o),o._bufferDuration=a._bufferDuration,o._sourceBuffer=null,o._debugBuffers=[],o._openHandler=function(){o._onSourceOpen()},o._flowHandler=function(){o._flow()},o._errorHandler=function(h){o.destroyed||o.emit("error",h)},typeof e=="string")o._type=e,o._mediaSource.readyState==="open"?o._createSourceBuffer():o._mediaSource.addEventListener("sourceopen",o._openHandler);else if(e._sourceBuffer===null)e.destroy(),o._type=e._type,o._mediaSource.addEventListener("sourceopen",o._openHandler);else if(e._sourceBuffer)e.destroy(),o._type=e._type,o._sourceBuffer=e._sourceBuffer,o._debugBuffers=e._debugBuffers,o._sourceBuffer.addEventListener("updateend",o._flowHandler),o._sourceBuffer.addEventListener("error",o._errorHandler);else throw new Error("The argument to MediaElementWrapper.createWriteStream must be a string or a previous stream returned from that function");o._elem.addEventListener("timeupdate",o._flowHandler),o.on("error",function(h){o._wrapper.error(h)}),o.on("finish",function(){if(!o.destroyed&&(o._finished=!0,o._allStreams.every(function(h){return h._finished}))){o._wrapper._dumpDebugData();try{o._mediaSource.endOfStream()}catch{}}})}MediaSourceStream.prototype._onSourceOpen=function(){var a=this;a.destroyed||(a._mediaSource.removeEventListener("sourceopen",a._openHandler),a._createSourceBuffer())};MediaSourceStream.prototype.destroy=function(a){var e=this;e.destroyed||(e.destroyed=!0,e._allStreams.splice(e._allStreams.indexOf(e),1),e._mediaSource.removeEventListener("sourceopen",e._openHandler),e._elem.removeEventListener("timeupdate",e._flowHandler),e._sourceBuffer&&(e._sourceBuffer.removeEventListener("updateend",e._flowHandler),e._sourceBuffer.removeEventListener("error",e._errorHandler),e._mediaSource.readyState==="open"&&e._sourceBuffer.abort()),a&&e.emit("error",a),e.emit("close"))};MediaSourceStream.prototype._createSourceBuffer=function(){var a=this;if(!a.destroyed)if(MediaSource.isTypeSupported(a._type)){if(a._sourceBuffer=a._mediaSource.addSourceBuffer(a._type),a._sourceBuffer.addEventListener("updateend",a._flowHandler),a._sourceBuffer.addEventListener("error",a._errorHandler),a._cb){var e=a._cb;a._cb=null,e()}}else a.destroy(new Error("The provided type is not supported"))};MediaSourceStream.prototype._write=function(a,e,o){var h=this;if(!h.destroyed){if(!h._sourceBuffer){h._cb=function(d){if(d)return o(d);h._write(a,e,o)};return}if(h._sourceBuffer.updating)return o(new Error("Cannot append buffer while source buffer updating"));var $=toArrayBuffer(a);h._wrapper._debug&&h._debugBuffers.push($);try{h._sourceBuffer.appendBuffer($)}catch(d){h.destroy(d);return}h._cb=o}};MediaSourceStream.prototype._flow=function(){var a=this;if(!(a.destroyed||!a._sourceBuffer||a._sourceBuffer.updating)&&!(a._mediaSource.readyState==="open"&&a._getBufferDuration()>a._bufferDuration)&&a._cb){var e=a._cb;a._cb=null,e()}};var EPSILON=0;MediaSourceStream.prototype._getBufferDuration=function(){for(var a=this,e=a._sourceBuffer.buffered,o=a._elem.currentTime,h=-1,$=0;$<e.length;$++){var d=e.start($),Y=e.end($)+EPSILON;if(d>o)break;(h>=0||o<=Y)&&(h=Y)}var ie=h-o;return ie<0&&(ie=0),ie};function downloadBuffers(a,e){var o=document.createElement("a");o.href=window.URL.createObjectURL(new window.Blob(a)),o.download=e,o.click()}/*! stream-to-blob. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var streamToBlob_1=streamToBlob;function streamToBlob(a,e){if(e!=null&&typeof e!="string")throw new Error("Invalid mimetype, expected string.");return new Promise((o,h)=>{const $=[];a.on("data",d=>$.push(d)).once("end",()=>{const d=e!=null?new Blob($,{type:e}):new Blob($);o(d)}).once("error",h)})}/*! stream-to-blob-url. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var streamToBlobUrl=getBlobURL;const getBlob=streamToBlob_1;async function getBlobURL(a,e){const o=await getBlob(a,e);return URL.createObjectURL(o)}var binarySearch=function(a,e,o,h,$){var d,Y;if(h===void 0)h=0;else if(h=h|0,h<0||h>=a.length)throw new RangeError("invalid lower bound");if($===void 0)$=a.length-1;else if($=$|0,$<h||$>=a.length)throw new RangeError("invalid upper bound");for(;h<=$;)if(d=h+($-h>>>1),Y=+o(a[d],e,d,a),Y<0)h=d+1;else if(Y>0)$=d-1;else return d;return~h},mp4Stream={},nextEvent_1=nextEvent$1;function nextEvent$1(a,e){var o=null;return a.on(e,function(h){if(o){var $=o;o=null,$(h)}}),function(h){o=h}}var mp4BoxEncoding={},uint64be={},hasFullSupport=function(){try{if(!Buffer$E.isEncoding("latin1"))return!1;var a=Buffer$E.alloc?Buffer$E.alloc(4):new Buffer$E(4);return a.fill("ab","ucs2"),a.toString("hex")==="61006200"}catch{return!1}}();function isSingleByte(a){return a.length===1&&a.charCodeAt(0)<256}function fillWithNumber(a,e,o,h){if(o<0||h>a.length)throw new RangeError("Out of range index");return o=o>>>0,h=h===void 0?a.length:h>>>0,h>o&&a.fill(e,o,h),a}function fillWithBuffer(a,e,o,h){if(o<0||h>a.length)throw new RangeError("Out of range index");if(h<=o)return a;o=o>>>0,h=h===void 0?a.length:h>>>0;for(var $=o,d=e.length;$<=h-d;)e.copy(a,$),$+=d;return $!==h&&e.copy(a,$,0,h-$),a}function fill(a,e,o,h,$){if(hasFullSupport)return a.fill(e,o,h,$);if(typeof e=="number")return fillWithNumber(a,e,o,h);if(typeof e=="string"){if(typeof o=="string"?($=o,o=0,h=a.length):typeof h=="string"&&($=h,h=a.length),$!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if($==="latin1"&&($="binary"),typeof $=="string"&&!Buffer$E.isEncoding($))throw new TypeError("Unknown encoding: "+$);if(e==="")return fillWithNumber(a,0,o,h);if(isSingleByte(e))return fillWithNumber(a,e.charCodeAt(0),o,h);e=new Buffer$E(e,$)}return Buffer$E.isBuffer(e)?fillWithBuffer(a,e,o,h):fillWithNumber(a,0,o,h)}var bufferFill$1=fill;function allocUnsafe$1(a){if(typeof a!="number")throw new TypeError('"size" argument must be a number');if(a<0)throw new RangeError('"size" argument must not be negative');return Buffer$E.allocUnsafe?Buffer$E.allocUnsafe(a):new Buffer$E(a)}var bufferAllocUnsafe=allocUnsafe$1,bufferFill=bufferFill$1,allocUnsafe=bufferAllocUnsafe,bufferAlloc=function(e,o,h){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative');if(Buffer$E.alloc)return Buffer$E.alloc(e,o,h);var $=allocUnsafe(e);return e===0?$:o===void 0?bufferFill($,0):(typeof h!="string"&&(h=void 0),bufferFill($,o,h))};(function(a){var e=bufferAlloc,o=Math.pow(2,32);a.encodingLength=function(){return 8},a.encode=function(h,$,d){$||($=e(8)),d||(d=0);var Y=Math.floor(h/o),ie=h-Y*o;return $.writeUInt32BE(Y,d),$.writeUInt32BE(ie,d+4),$},a.decode=function(h,$){$||($=0);var d=h.readUInt32BE($),Y=h.readUInt32BE($+4);return d*o+Y},a.encode.bytes=8,a.decode.bytes=8})(uint64be);var boxes={},descriptor={};(function(a){var e={3:"ESDescriptor",4:"DecoderConfigDescriptor",5:"DecoderSpecificInfo",6:"SLConfigDescriptor"};a.Descriptor={},a.Descriptor.decode=function(o,h,$){var d=o.readUInt8(h),Y=h+1,ie,fe=0;do ie=o.readUInt8(Y++),fe=fe<<7|ie&127;while(ie&128);var he,ne=e[d];return a[ne]?he=a[ne].decode(o,Y,$):he={buffer:Buffer$E.from(o.slice(Y,Y+fe))},he.tag=d,he.tagName=ne,he.length=Y-h+fe,he.contentsLen=fe,he},a.DescriptorArray={},a.DescriptorArray.decode=function(o,h,$){for(var d=h,Y={};d+2<=$;){var ie=a.Descriptor.decode(o,d,$);d+=ie.length;var fe=e[ie.tag]||"Descriptor"+ie.tag;Y[fe]=ie}return Y},a.ESDescriptor={},a.ESDescriptor.decode=function(o,h,$){var d=o.readUInt8(h+2),Y=h+3;if(d&128&&(Y+=2),d&64){var ie=o.readUInt8(Y);Y+=ie+1}return d&32&&(Y+=2),a.DescriptorArray.decode(o,Y,$)},a.DecoderConfigDescriptor={},a.DecoderConfigDescriptor.decode=function(o,h,$){var d=o.readUInt8(h),Y=a.DescriptorArray.decode(o,h+13,$);return Y.oti=d,Y}})(descriptor);var hasRequiredBoxes;function requireBoxes(){return hasRequiredBoxes||(hasRequiredBoxes=1,function(a){var e=requireMp4BoxEncoding(),o=descriptor,h=uint64be,$=20828448e5;a.fullBoxes={};var d=["mvhd","tkhd","mdhd","vmhd","smhd","stsd","esds","stsz","stco","co64","stss","stts","ctts","stsc","dref","elst","hdlr","mehd","trex","mfhd","tfhd","tfdt","trun"];d.forEach(function(pe){a.fullBoxes[pe]=!0}),a.ftyp={},a.ftyp.encode=function(pe,me,Te){me=me?me.slice(Te):Buffer$E.alloc(a.ftyp.encodingLength(pe));var Pe=pe.compatibleBrands||[];me.write(pe.brand,0,4,"ascii"),me.writeUInt32BE(pe.brandVersion,4);for(var Le=0;Le<Pe.length;Le++)me.write(Pe[Le],8+Le*4,4,"ascii");return a.ftyp.encode.bytes=8+Pe.length*4,me},a.ftyp.decode=function(pe,me){pe=pe.slice(me);for(var Te=pe.toString("ascii",0,4),Pe=pe.readUInt32BE(4),Le=[],qe=8;qe<pe.length;qe+=4)Le.push(pe.toString("ascii",qe,qe+4));return{brand:Te,brandVersion:Pe,compatibleBrands:Le}},a.ftyp.encodingLength=function(pe){return 8+(pe.compatibleBrands||[]).length*4},a.mvhd={},a.mvhd.encode=function(pe,me,Te){return me=me?me.slice(Te):Buffer$E.alloc(96),ie(pe.ctime||new Date,me,0),ie(pe.mtime||new Date,me,4),me.writeUInt32BE(pe.timeScale||0,8),me.writeUInt32BE(pe.duration||0,12),he(pe.preferredRate||0,me,16),ne(pe.preferredVolume||0,me,20),Y(me,22,32),le(pe.matrix,me,32),me.writeUInt32BE(pe.previewTime||0,68),me.writeUInt32BE(pe.previewDuration||0,72),me.writeUInt32BE(pe.posterTime||0,76),me.writeUInt32BE(pe.selectionTime||0,80),me.writeUInt32BE(pe.selectionDuration||0,84),me.writeUInt32BE(pe.currentTime||0,88),me.writeUInt32BE(pe.nextTrackId||0,92),a.mvhd.encode.bytes=96,me},a.mvhd.decode=function(pe,me){return pe=pe.slice(me),{ctime:xe(pe,0),mtime:xe(pe,4),timeScale:pe.readUInt32BE(8),duration:pe.readUInt32BE(12),preferredRate:Ae(pe,16),preferredVolume:Ee(pe,20),matrix:ce(pe.slice(32,68)),previewTime:pe.readUInt32BE(68),previewDuration:pe.readUInt32BE(72),posterTime:pe.readUInt32BE(76),selectionTime:pe.readUInt32BE(80),selectionDuration:pe.readUInt32BE(84),currentTime:pe.readUInt32BE(88),nextTrackId:pe.readUInt32BE(92)}},a.mvhd.encodingLength=function(pe){return 96},a.tkhd={},a.tkhd.encode=function(pe,me,Te){return me=me?me.slice(Te):Buffer$E.alloc(80),ie(pe.ctime||new Date,me,0),ie(pe.mtime||new Date,me,4),me.writeUInt32BE(pe.trackId||0,8),Y(me,12,16),me.writeUInt32BE(pe.duration||0,16),Y(me,20,28),me.writeUInt16BE(pe.layer||0,28),me.writeUInt16BE(pe.alternateGroup||0,30),me.writeUInt16BE(pe.volume||0,32),le(pe.matrix,me,36),me.writeUInt32BE(pe.trackWidth||0,72),me.writeUInt32BE(pe.trackHeight||0,76),a.tkhd.encode.bytes=80,me},a.tkhd.decode=function(pe,me){return pe=pe.slice(me),{ctime:xe(pe,0),mtime:xe(pe,4),trackId:pe.readUInt32BE(8),duration:pe.readUInt32BE(16),layer:pe.readUInt16BE(28),alternateGroup:pe.readUInt16BE(30),volume:pe.readUInt16BE(32),matrix:ce(pe.slice(36,72)),trackWidth:pe.readUInt32BE(72),trackHeight:pe.readUInt32BE(76)}},a.tkhd.encodingLength=function(pe){return 80},a.mdhd={},a.mdhd.encode=function(pe,me,Te){return pe.version===1?(me=me?me.slice(Te):Buffer$E.alloc(32),fe(pe.ctime||new Date,me,0),fe(pe.mtime||new Date,me,8),me.writeUInt32BE(pe.timeScale||0,16),me.writeUIntBE(pe.duration||0,20,6),me.writeUInt16BE(pe.language||0,28),me.writeUInt16BE(pe.quality||0,30),a.mdhd.encode.bytes=32,me):(me=me?me.slice(Te):Buffer$E.alloc(20),ie(pe.ctime||new Date,me,0),ie(pe.mtime||new Date,me,4),me.writeUInt32BE(pe.timeScale||0,8),me.writeUInt32BE(pe.duration||0,12),me.writeUInt16BE(pe.language||0,16),me.writeUInt16BE(pe.quality||0,18),a.mdhd.encode.bytes=20,me)},a.mdhd.decode=function(pe,me,Te){pe=pe.slice(me);var Pe=Te-me!==20;return Pe?{ctime:ge(pe,0),mtime:ge(pe,8),timeScale:pe.readUInt32BE(16),duration:pe.readUIntBE(20,6),language:pe.readUInt16BE(28),quality:pe.readUInt16BE(30)}:{ctime:xe(pe,0),mtime:xe(pe,4),timeScale:pe.readUInt32BE(8),duration:pe.readUInt32BE(12),language:pe.readUInt16BE(16),quality:pe.readUInt16BE(18)}},a.mdhd.encodingLength=function(pe){return pe.version===1?32:20},a.vmhd={},a.vmhd.encode=function(pe,me,Te){me=me?me.slice(Te):Buffer$E.alloc(8),me.writeUInt16BE(pe.graphicsMode||0,0);var Pe=pe.opcolor||[0,0,0];return me.writeUInt16BE(Pe[0],2),me.writeUInt16BE(Pe[1],4),me.writeUInt16BE(Pe[2],6),a.vmhd.encode.bytes=8,me},a.vmhd.decode=function(pe,me){return pe=pe.slice(me),{graphicsMode:pe.readUInt16BE(0),opcolor:[pe.readUInt16BE(2),pe.readUInt16BE(4),pe.readUInt16BE(6)]}},a.vmhd.encodingLength=function(pe){return 8},a.smhd={},a.smhd.encode=function(pe,me,Te){return me=me?me.slice(Te):Buffer$E.alloc(4),me.writeUInt16BE(pe.balance||0,0),Y(me,2,4),a.smhd.encode.bytes=4,me},a.smhd.decode=function(pe,me){return pe=pe.slice(me),{balance:pe.readUInt16BE(0)}},a.smhd.encodingLength=function(pe){return 4},a.stsd={},a.stsd.encode=function(pe,me,Te){me=me?me.slice(Te):Buffer$E.alloc(a.stsd.encodingLength(pe));var Pe=pe.entries||[];me.writeUInt32BE(Pe.length,0);for(var Le=4,qe=0;qe<Pe.length;qe++){var Ce=Pe[qe];e.encode(Ce,me,Le),Le+=e.encode.bytes}return a.stsd.encode.bytes=Le,me},a.stsd.decode=function(pe,me,Te){pe=pe.slice(me);for(var Pe=pe.readUInt32BE(0),Le=new Array(Pe),qe=4,Ce=0;Ce<Pe;Ce++){var ze=e.decode(pe,qe,Te);Le[Ce]=ze,qe+=ze.length}return{entries:Le}},a.stsd.encodingLength=function(pe){var me=4;if(!pe.entries)return me;for(var Te=0;Te<pe.entries.length;Te++)me+=e.encodingLength(pe.entries[Te]);return me},a.avc1=a.VisualSampleEntry={},a.VisualSampleEntry.encode=function(pe,me,Te){me=me?me.slice(Te):Buffer$E.alloc(a.VisualSampleEntry.encodingLength(pe)),Y(me,0,6),me.writeUInt16BE(pe.dataReferenceIndex||0,6),Y(me,8,24),me.writeUInt16BE(pe.width||0,24),me.writeUInt16BE(pe.height||0,26),me.writeUInt32BE(pe.hResolution||4718592,28),me.writeUInt32BE(pe.vResolution||4718592,32),Y(me,36,40),me.writeUInt16BE(pe.frameCount||1,40);var Pe=pe.compressorName||"",Le=Math.min(Pe.length,31);me.writeUInt8(Le,42),me.write(Pe,43,Le,"utf8"),me.writeUInt16BE(pe.depth||24,74),me.writeInt16BE(-1,76);var qe=78,Ce=pe.children||[];Ce.forEach(function(ze){e.encode(ze,me,qe),qe+=e.encode.bytes}),a.VisualSampleEntry.encode.bytes=qe},a.VisualSampleEntry.decode=function(pe,me,Te){pe=pe.slice(me);for(var Pe=Te-me,Le=Math.min(pe.readUInt8(42),31),qe={dataReferenceIndex:pe.readUInt16BE(6),width:pe.readUInt16BE(24),height:pe.readUInt16BE(26),hResolution:pe.readUInt32BE(28),vResolution:pe.readUInt32BE(32),frameCount:pe.readUInt16BE(40),compressorName:pe.toString("utf8",43,43+Le),depth:pe.readUInt16BE(74),children:[]},Ce=78;Pe-Ce>=8;){var ze=e.decode(pe,Ce,Pe);qe.children.push(ze),qe[ze.type]=ze,Ce+=ze.length}return qe},a.VisualSampleEntry.encodingLength=function(pe){var me=78,Te=pe.children||[];return Te.forEach(function(Pe){me+=e.encodingLength(Pe)}),me},a.avcC={},a.avcC.encode=function(pe,me,Te){me=me?me.slice(Te):Buffer$E.alloc(pe.buffer.length),pe.buffer.copy(me),a.avcC.encode.bytes=pe.buffer.length},a.avcC.decode=function(pe,me,Te){return pe=pe.slice(me,Te),{mimeCodec:pe.toString("hex",1,4),buffer:Buffer$E.from(pe)}},a.avcC.encodingLength=function(pe){return pe.buffer.length},a.mp4a=a.AudioSampleEntry={},a.AudioSampleEntry.encode=function(pe,me,Te){me=me?me.slice(Te):Buffer$E.alloc(a.AudioSampleEntry.encodingLength(pe)),Y(me,0,6),me.writeUInt16BE(pe.dataReferenceIndex||0,6),Y(me,8,16),me.writeUInt16BE(pe.channelCount||2,16),me.writeUInt16BE(pe.sampleSize||16,18),Y(me,20,24),me.writeUInt32BE(pe.sampleRate||0,24);var Pe=28,Le=pe.children||[];Le.forEach(function(qe){e.encode(qe,me,Pe),Pe+=e.encode.bytes}),a.AudioSampleEntry.encode.bytes=Pe},a.AudioSampleEntry.decode=function(pe,me,Te){pe=pe.slice(me,Te);for(var Pe=Te-me,Le={dataReferenceIndex:pe.readUInt16BE(6),channelCount:pe.readUInt16BE(16),sampleSize:pe.readUInt16BE(18),sampleRate:pe.readUInt32BE(24),children:[]},qe=28;Pe-qe>=8;){var Ce=e.decode(pe,qe,Pe);Le.children.push(Ce),Le[Ce.type]=Ce,qe+=Ce.length}return Le},a.AudioSampleEntry.encodingLength=function(pe){var me=28,Te=pe.children||[];return Te.forEach(function(Pe){me+=e.encodingLength(Pe)}),me},a.esds={},a.esds.encode=function(pe,me,Te){me=me?me.slice(Te):Buffer$E.alloc(pe.buffer.length),pe.buffer.copy(me,0),a.esds.encode.bytes=pe.buffer.length},a.esds.decode=function(pe,me,Te){pe=pe.slice(me,Te);var Pe=o.Descriptor.decode(pe,0,pe.length),Le=Pe.tagName==="ESDescriptor"?Pe:{},qe=Le.DecoderConfigDescriptor||{},Ce=qe.oti||0,ze=qe.DecoderSpecificInfo,oe=ze?(ze.buffer.readUInt8(0)&248)>>3:0,c=null;return Ce&&(c=Ce.toString(16),oe&&(c+="."+oe)),{mimeCodec:c,buffer:Buffer$E.from(pe.slice(0))}},a.esds.encodingLength=function(pe){return pe.buffer.length},a.stsz={},a.stsz.encode=function(pe,me,Te){var Pe=pe.entries||[];me=me?me.slice(Te):Buffer$E.alloc(a.stsz.encodingLength(pe)),me.writeUInt32BE(0,0),me.writeUInt32BE(Pe.length,4);for(var Le=0;Le<Pe.length;Le++)me.writeUInt32BE(Pe[Le],Le*4+8);return a.stsz.encode.bytes=8+Pe.length*4,me},a.stsz.decode=function(pe,me){pe=pe.slice(me);for(var Te=pe.readUInt32BE(0),Pe=pe.readUInt32BE(4),Le=new Array(Pe),qe=0;qe<Pe;qe++)Te===0?Le[qe]=pe.readUInt32BE(qe*4+8):Le[qe]=Te;return{entries:Le}},a.stsz.encodingLength=function(pe){return 8+pe.entries.length*4},a.stss=a.stco={},a.stco.encode=function(pe,me,Te){var Pe=pe.entries||[];me=me?me.slice(Te):Buffer$E.alloc(a.stco.encodingLength(pe)),me.writeUInt32BE(Pe.length,0);for(var Le=0;Le<Pe.length;Le++)me.writeUInt32BE(Pe[Le],Le*4+4);return a.stco.encode.bytes=4+Pe.length*4,me},a.stco.decode=function(pe,me){pe=pe.slice(me);for(var Te=pe.readUInt32BE(0),Pe=new Array(Te),Le=0;Le<Te;Le++)Pe[Le]=pe.readUInt32BE(Le*4+4);return{entries:Pe}},a.stco.encodingLength=function(pe){return 4+pe.entries.length*4},a.co64={},a.co64.encode=function(pe,me,Te){var Pe=pe.entries||[];me=me?me.slice(Te):Buffer$E.alloc(a.co64.encodingLength(pe)),me.writeUInt32BE(Pe.length,0);for(var Le=0;Le<Pe.length;Le++)h.encode(Pe[Le],me,Le*8+4);return a.co64.encode.bytes=4+Pe.length*8,me},a.co64.decode=function(pe,me){pe=pe.slice(me);for(var Te=pe.readUInt32BE(0),Pe=new Array(Te),Le=0;Le<Te;Le++)Pe[Le]=h.decode(pe,Le*8+4);return{entries:Pe}},a.co64.encodingLength=function(pe){return 4+pe.entries.length*8},a.stts={},a.stts.encode=function(pe,me,Te){var Pe=pe.entries||[];me=me?me.slice(Te):Buffer$E.alloc(a.stts.encodingLength(pe)),me.writeUInt32BE(Pe.length,0);for(var Le=0;Le<Pe.length;Le++){var qe=Le*8+4;me.writeUInt32BE(Pe[Le].count||0,qe),me.writeUInt32BE(Pe[Le].duration||0,qe+4)}return a.stts.encode.bytes=4+pe.entries.length*8,me},a.stts.decode=function(pe,me){pe=pe.slice(me);for(var Te=pe.readUInt32BE(0),Pe=new Array(Te),Le=0;Le<Te;Le++){var qe=Le*8+4;Pe[Le]={count:pe.readUInt32BE(qe),duration:pe.readUInt32BE(qe+4)}}return{entries:Pe}},a.stts.encodingLength=function(pe){return 4+pe.entries.length*8},a.ctts={},a.ctts.encode=function(pe,me,Te){var Pe=pe.entries||[];me=me?me.slice(Te):Buffer$E.alloc(a.ctts.encodingLength(pe)),me.writeUInt32BE(Pe.length,0);for(var Le=0;Le<Pe.length;Le++){var qe=Le*8+4;me.writeUInt32BE(Pe[Le].count||0,qe),me.writeUInt32BE(Pe[Le].compositionOffset||0,qe+4)}return a.ctts.encode.bytes=4+Pe.length*8,me},a.ctts.decode=function(pe,me){pe=pe.slice(me);for(var Te=pe.readUInt32BE(0),Pe=new Array(Te),Le=0;Le<Te;Le++){var qe=Le*8+4;Pe[Le]={count:pe.readUInt32BE(qe),compositionOffset:pe.readInt32BE(qe+4)}}return{entries:Pe}},a.ctts.encodingLength=function(pe){return 4+pe.entries.length*8},a.stsc={},a.stsc.encode=function(pe,me,Te){var Pe=pe.entries||[];me=me?me.slice(Te):Buffer$E.alloc(a.stsc.encodingLength(pe)),me.writeUInt32BE(Pe.length,0);for(var Le=0;Le<Pe.length;Le++){var qe=Le*12+4;me.writeUInt32BE(Pe[Le].firstChunk||0,qe),me.writeUInt32BE(Pe[Le].samplesPerChunk||0,qe+4),me.writeUInt32BE(Pe[Le].sampleDescriptionId||0,qe+8)}return a.stsc.encode.bytes=4+Pe.length*12,me},a.stsc.decode=function(pe,me){pe=pe.slice(me);for(var Te=pe.readUInt32BE(0),Pe=new Array(Te),Le=0;Le<Te;Le++){var qe=Le*12+4;Pe[Le]={firstChunk:pe.readUInt32BE(qe),samplesPerChunk:pe.readUInt32BE(qe+4),sampleDescriptionId:pe.readUInt32BE(qe+8)}}return{entries:Pe}},a.stsc.encodingLength=function(pe){return 4+pe.entries.length*12},a.dref={},a.dref.encode=function(pe,me,Te){me=me?me.slice(Te):Buffer$E.alloc(a.dref.encodingLength(pe));var Pe=pe.entries||[];me.writeUInt32BE(Pe.length,0);for(var Le=4,qe=0;qe<Pe.length;qe++){var Ce=Pe[qe],ze=(Ce.buf?Ce.buf.length:0)+4+4;me.writeUInt32BE(ze,Le),Le+=4,me.write(Ce.type,Le,4,"ascii"),Le+=4,Ce.buf&&(Ce.buf.copy(me,Le),Le+=Ce.buf.length)}return a.dref.encode.bytes=Le,me},a.dref.decode=function(pe,me){pe=pe.slice(me);for(var Te=pe.readUInt32BE(0),Pe=new Array(Te),Le=4,qe=0;qe<Te;qe++){var Ce=pe.readUInt32BE(Le),ze=pe.toString("ascii",Le+4,Le+8),oe=pe.slice(Le+8,Le+Ce);Le+=Ce,Pe[qe]={type:ze,buf:oe}}return{entries:Pe}},a.dref.encodingLength=function(pe){var me=4;if(!pe.entries)return me;for(var Te=0;Te<pe.entries.length;Te++){var Pe=pe.entries[Te].buf;me+=(Pe?Pe.length:0)+4+4}return me},a.elst={},a.elst.encode=function(pe,me,Te){var Pe=pe.entries||[];me=me?me.slice(Te):Buffer$E.alloc(a.elst.encodingLength(pe)),me.writeUInt32BE(Pe.length,0);for(var Le=0;Le<Pe.length;Le++){var qe=Le*12+4;me.writeUInt32BE(Pe[Le].trackDuration||0,qe),me.writeUInt32BE(Pe[Le].mediaTime||0,qe+4),he(Pe[Le].mediaRate||0,me,qe+8)}return a.elst.encode.bytes=4+Pe.length*12,me},a.elst.decode=function(pe,me){pe=pe.slice(me);for(var Te=pe.readUInt32BE(0),Pe=new Array(Te),Le=0;Le<Te;Le++){var qe=Le*12+4;Pe[Le]={trackDuration:pe.readUInt32BE(qe),mediaTime:pe.readInt32BE(qe+4),mediaRate:Ae(pe,qe+8)}}return{entries:Pe}},a.elst.encodingLength=function(pe){return 4+pe.entries.length*12},a.hdlr={},a.hdlr.encode=function(pe,me,Te){me=me?me.slice(Te):Buffer$E.alloc(a.hdlr.encodingLength(pe));var Pe=21+(pe.name||"").length;return me.fill(0,0,Pe),me.write(pe.handlerType||"",4,4,"ascii"),de(pe.name||"",me,20),a.hdlr.encode.bytes=Pe,me},a.hdlr.decode=function(pe,me,Te){return pe=pe.slice(me),{handlerType:pe.toString("ascii",4,8),name:we(pe,20,Te)}},a.hdlr.encodingLength=function(pe){return 21+(pe.name||"").length},a.mehd={},a.mehd.encode=function(pe,me,Te){return me=me?me.slice(Te):Buffer$E.alloc(4),me.writeUInt32BE(pe.fragmentDuration||0,0),a.mehd.encode.bytes=4,me},a.mehd.decode=function(pe,me){return pe=pe.slice(me),{fragmentDuration:pe.readUInt32BE(0)}},a.mehd.encodingLength=function(pe){return 4},a.trex={},a.trex.encode=function(pe,me,Te){return me=me?me.slice(Te):Buffer$E.alloc(20),me.writeUInt32BE(pe.trackId||0,0),me.writeUInt32BE(pe.defaultSampleDescriptionIndex||0,4),me.writeUInt32BE(pe.defaultSampleDuration||0,8),me.writeUInt32BE(pe.defaultSampleSize||0,12),me.writeUInt32BE(pe.defaultSampleFlags||0,16),a.trex.encode.bytes=20,me},a.trex.decode=function(pe,me){return pe=pe.slice(me),{trackId:pe.readUInt32BE(0),defaultSampleDescriptionIndex:pe.readUInt32BE(4),defaultSampleDuration:pe.readUInt32BE(8),defaultSampleSize:pe.readUInt32BE(12),defaultSampleFlags:pe.readUInt32BE(16)}},a.trex.encodingLength=function(pe){return 20},a.mfhd={},a.mfhd.encode=function(pe,me,Te){return me=me?me.slice(Te):Buffer$E.alloc(4),me.writeUInt32BE(pe.sequenceNumber||0,0),a.mfhd.encode.bytes=4,me},a.mfhd.decode=function(pe,me){return{sequenceNumber:pe.readUInt32BE(0)}},a.mfhd.encodingLength=function(pe){return 4},a.tfhd={},a.tfhd.encode=function(pe,me,Te){return me=me?me.slice(Te):Buffer$E.alloc(4),me.writeUInt32BE(pe.trackId,0),a.tfhd.encode.bytes=4,me},a.tfhd.decode=function(pe,me){},a.tfhd.encodingLength=function(pe){return 4},a.tfdt={},a.tfdt.encode=function(pe,me,Te){return me=me?me.slice(Te):Buffer$E.alloc(4),me.writeUInt32BE(pe.baseMediaDecodeTime||0,0),a.tfdt.encode.bytes=4,me},a.tfdt.decode=function(pe,me){},a.tfdt.encodingLength=function(pe){return 4},a.trun={},a.trun.encode=function(pe,me,Te){me=me?me.slice(Te):Buffer$E.alloc(8+pe.entries.length*16),me.writeUInt32BE(pe.entries.length,0),me.writeInt32BE(pe.dataOffset,4);for(var Pe=8,Le=0;Le<pe.entries.length;Le++){var qe=pe.entries[Le];me.writeUInt32BE(qe.sampleDuration,Pe),Pe+=4,me.writeUInt32BE(qe.sampleSize,Pe),Pe+=4,me.writeUInt32BE(qe.sampleFlags,Pe),Pe+=4,(pe.version||0)===0?me.writeUInt32BE(qe.sampleCompositionTimeOffset,Pe):me.writeInt32BE(qe.sampleCompositionTimeOffset,Pe),Pe+=4}a.trun.encode.bytes=Pe},a.trun.decode=function(pe,me){},a.trun.encodingLength=function(pe){return 8+pe.entries.length*16},a.mdat={},a.mdat.encode=function(pe,me,Te){pe.buffer?(pe.buffer.copy(me,Te),a.mdat.encode.bytes=pe.buffer.length):a.mdat.encode.bytes=a.mdat.encodingLength(pe)},a.mdat.decode=function(pe,me,Te){return{buffer:Buffer$E.from(pe.slice(me,Te))}},a.mdat.encodingLength=function(pe){return pe.buffer?pe.buffer.length:pe.contentLength};function Y(pe,me,Te){for(var Pe=me;Pe<Te;Pe++)pe[Pe]=0}function ie(pe,me,Te){me.writeUInt32BE(Math.floor((pe.getTime()+$)/1e3),Te)}function fe(pe,me,Te){me.writeUIntBE(Math.floor((pe.getTime()+$)/1e3),Te,6)}function he(pe,me,Te){me.writeUInt16BE(Math.floor(pe)%(256*256),Te),me.writeUInt16BE(Math.floor(pe*256*256)%(256*256),Te+2)}function ne(pe,me,Te){me[Te]=Math.floor(pe)%256,me[Te+1]=Math.floor(pe*256)%256}function le(pe,me,Te){pe||(pe=[0,0,0,0,0,0,0,0,0]);for(var Pe=0;Pe<pe.length;Pe++)he(pe[Pe],me,Te+Pe*4)}function de(pe,me,Te){var Pe=Buffer$E.from(pe,"utf8");Pe.copy(me,Te),me[Te+Pe.length]=0}function ce(pe){for(var me=new Array(pe.length/4),Te=0;Te<me.length;Te++)me[Te]=Ae(pe,Te*4);return me}function ge(pe,me){return new Date(pe.readUIntBE(me,6)*1e3-$)}function xe(pe,me){return new Date(pe.readUInt32BE(me)*1e3-$)}function Ae(pe,me){return pe.readUInt16BE(me)+pe.readUInt16BE(me+2)/(256*256)}function Ee(pe,me){return pe[me]+pe[me+1]/256}function we(pe,me,Te){var Pe;for(Pe=0;Pe<Te&&pe[me+Pe]!==0;Pe++);return pe.toString("utf8",me,me+Pe)}}(boxes)),boxes}var hasRequiredMp4BoxEncoding;function requireMp4BoxEncoding(){return hasRequiredMp4BoxEncoding||(hasRequiredMp4BoxEncoding=1,function(a){var e=uint64be,o=requireBoxes(),h=4294967295,$=a,d=a.containers={moov:["mvhd","meta","traks","mvex"],trak:["tkhd","tref","trgr","edts","meta","mdia","udta"],edts:["elst"],mdia:["mdhd","hdlr","elng","minf"],minf:["vmhd","smhd","hmhd","sthd","nmhd","dinf","stbl"],dinf:["dref"],stbl:["stsd","stts","ctts","cslg","stsc","stsz","stz2","stco","co64","stss","stsh","padb","stdp","sdtp","sbgps","sgpds","subss","saizs","saios"],mvex:["mehd","trexs","leva"],moof:["mfhd","meta","trafs"],traf:["tfhd","tfdt","trun","sbgps","sgpds","subss","saizs","saios","meta"]};$.encode=function(Y,ie,fe){return $.encodingLength(Y),fe=fe||0,ie=ie||Buffer$E.alloc(Y.length),$._encode(Y,ie,fe)},$._encode=function(Y,ie,fe){var he=Y.type,ne=Y.length;ne>h&&(ne=1),ie.writeUInt32BE(ne,fe),ie.write(Y.type,fe+4,4,"ascii");var le=fe+8;if(ne===1&&(e.encode(Y.length,ie,le),le+=8),o.fullBoxes[he]&&(ie.writeUInt32BE(Y.flags||0,le),ie.writeUInt8(Y.version||0,le),le+=4),d[he]){var de=d[he];de.forEach(function(xe){if(xe.length===5){var Ae=Y[xe]||[];xe=xe.substr(0,4),Ae.forEach(function(Ee){$._encode(Ee,ie,le),le+=$.encode.bytes})}else Y[xe]&&($._encode(Y[xe],ie,le),le+=$.encode.bytes)}),Y.otherBoxes&&Y.otherBoxes.forEach(function(xe){$._encode(xe,ie,le),le+=$.encode.bytes})}else if(o[he]){var ce=o[he].encode;ce(Y,ie,le),le+=ce.bytes}else if(Y.buffer){var ge=Y.buffer;ge.copy(ie,le),le+=Y.buffer.length}else throw new Error("Either `type` must be set to a known type (not'"+he+"') or `buffer` must be set");return $.encode.bytes=le-fe,ie},$.readHeaders=function(Y,ie,fe){if(ie=ie||0,fe=fe||Y.length,fe-ie<8)return 8;var he=Y.readUInt32BE(ie),ne=Y.toString("ascii",ie+4,ie+8),le=ie+8;if(he===1){if(fe-ie<16)return 16;he=e.decode(Y,le),le+=8}var de,ce;return o.fullBoxes[ne]&&(de=Y.readUInt8(le),ce=Y.readUInt32BE(le)&16777215,le+=4),{length:he,headersLen:le-ie,contentLen:he-(le-ie),type:ne,version:de,flags:ce}},$.decode=function(Y,ie,fe){ie=ie||0,fe=fe||Y.length;var he=$.readHeaders(Y,ie,fe);if(!he||he.length>fe-ie)throw new Error("Data too short");return $.decodeWithoutHeaders(he,Y,ie+he.headersLen,ie+he.length)},$.decodeWithoutHeaders=function(Y,ie,fe,he){fe=fe||0,he=he||ie.length;var ne=Y.type,le={};if(d[ne]){le.otherBoxes=[];for(var de=d[ne],ce=fe;he-ce>=8;){var ge=$.decode(ie,ce,he);if(ce+=ge.length,de.indexOf(ge.type)>=0)le[ge.type]=ge;else if(de.indexOf(ge.type+"s")>=0){var xe=ge.type+"s",Ae=le[xe]=le[xe]||[];Ae.push(ge)}else le.otherBoxes.push(ge)}}else if(o[ne]){var Ee=o[ne].decode;le=Ee(ie,fe,he)}else le.buffer=Buffer$E.from(ie.slice(fe,he));return le.length=Y.length,le.contentLen=Y.contentLen,le.type=Y.type,le.version=Y.version,le.flags=Y.flags,le},$.encodingLength=function(Y){var ie=Y.type,fe=8;if(o.fullBoxes[ie]&&(fe+=4),d[ie]){var he=d[ie];he.forEach(function(ne){if(ne.length===5){var le=Y[ne]||[];ne=ne.substr(0,4),le.forEach(function(ce){ce.type=ne,fe+=$.encodingLength(ce)})}else if(Y[ne]){var de=Y[ne];de.type=ne,fe+=$.encodingLength(de)}}),Y.otherBoxes&&Y.otherBoxes.forEach(function(ne){fe+=$.encodingLength(ne)})}else if(o[ie])fe+=o[ie].encodingLength(Y);else if(Y.buffer)fe+=Y.buffer.length;else throw new Error("Either `type` must be set to a known type (not'"+ie+"') or `buffer` must be set");return fe>h&&(fe+=8),Y.length=fe,fe}}(mp4BoxEncoding)),mp4BoxEncoding}var stream$2=readableBrowserExports$1,nextEvent=nextEvent_1,Box$2=requireMp4BoxEncoding(),EMPTY=Buffer$E.alloc(0);let Decoder$1=class extends stream$2.Writable{constructor(e){super(e),this.destroyed=!1,this._pending=0,this._missing=0,this._ignoreEmpty=!1,this._buf=null,this._str=null,this._cb=null,this._ondrain=null,this._writeBuffer=null,this._writeCb=null,this._ondrain=null,this._kick()}destroy(e){this.destroyed||(this.destroyed=!0,e&&this.emit("error",e),this.emit("close"))}_write(e,o,h){if(!this.destroyed){for(var $=!this._str||!this._str._writableState.needDrain;e.length&&!this.destroyed;){if(!this._missing&&!this._ignoreEmpty){this._writeBuffer=e,this._writeCb=h;return}var d=e.length<this._missing?e.length:this._missing;if(this._buf?e.copy(this._buf,this._buf.length-this._missing):this._str&&($=this._str.write(d===e.length?e:e.slice(0,d))),this._missing-=d,!this._missing){var Y=this._buf,ie=this._cb,fe=this._str;this._buf=this._cb=this._str=this._ondrain=null,$=!0,this._ignoreEmpty=!1,fe&&fe.end(),ie&&ie(Y)}e=d===e.length?EMPTY:e.slice(d)}if(this._pending&&!this._missing){this._writeBuffer=e,this._writeCb=h;return}$?h():this._ondrain(h)}}_buffer(e,o){this._missing=e,this._buf=Buffer$E.alloc(e),this._cb=o}_stream(e,o){return this._missing=e,this._str=new MediaData$1(this),this._ondrain=nextEvent(this._str,"drain"),this._pending++,this._str.on("end",()=>{this._pending--,this._kick()}),this._cb=o,this._str}_readBox(){const e=(o,h)=>{this._buffer(o,$=>{h?h=Buffer$E.concat([h,$]):h=$;var d=Box$2.readHeaders(h);typeof d=="number"?e(d-h.length,h):(this._pending++,this._headers=d,this.emit("box",d))})};e(8)}stream(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var e=this._headers;return this._headers=null,this._stream(e.contentLen,()=>{this._pending--,this._kick()})}decode(e){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var o=this._headers;this._headers=null,this._buffer(o.contentLen,h=>{var $=Box$2.decodeWithoutHeaders(o,h);e($),this._pending--,this._kick()})}ignore(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var e=this._headers;this._headers=null,this._missing=e.contentLen,this._missing===0&&(this._ignoreEmpty=!0),this._cb=()=>{this._pending--,this._kick()}}_kick(){if(!this._pending&&(!this._buf&&!this._str&&this._readBox(),this._writeBuffer)){var e=this._writeCb,o=this._writeBuffer;this._writeBuffer=null,this._writeCb=null,this._write(o,null,e)}}},MediaData$1=class extends stream$2.PassThrough{constructor(e){super(),this._parent=e,this.destroyed=!1}destroy(e){this.destroyed||(this.destroyed=!0,this._parent.destroy(e),e&&this.emit("error",e),this.emit("close"))}};var decode=Decoder$1,stream$1=readableBrowserExports$1,Box$1=requireMp4BoxEncoding(),queueMicrotask$4=queueMicrotask_1;function noop$1(){}let Encoder$1=class extends stream$1.Readable{constructor(e){super(e),this.destroyed=!1,this._finalized=!1,this._reading=!1,this._stream=null,this._drain=null,this._want=!1,this._onreadable=()=>{this._want&&(this._want=!1,this._read())},this._onend=()=>{this._stream=null}}mdat(e,o){this.mediaData(e,o)}mediaData(e,o){var h=new MediaData(this);return this.box({type:"mdat",contentLength:e,encodeBufferLen:8,stream:h},o),h}box(e,o){if(o||(o=noop$1),this.destroyed)return o(new Error("Encoder is destroyed"));var h;if(e.encodeBufferLen&&(h=Buffer$E.alloc(e.encodeBufferLen)),e.stream)e.buffer=null,h=Box$1.encode(e,h),this.push(h),this._stream=e.stream,this._stream.on("readable",this._onreadable),this._stream.on("end",this._onend),this._stream.on("end",o),this._forward();else{h=Box$1.encode(e,h);var $=this.push(h);if($)return queueMicrotask$4(o);this._drain=o}}destroy(e){if(!this.destroyed){if(this.destroyed=!0,this._stream&&this._stream.destroy&&this._stream.destroy(),this._stream=null,this._drain){var o=this._drain;this._drain=null,o(e)}e&&this.emit("error",e),this.emit("close")}}finalize(){this._finalized=!0,!this._stream&&!this._drain&&this.push(null)}_forward(){if(this._stream)for(;!this.destroyed;){var e=this._stream.read();if(!e){this._want=!!this._stream;return}if(!this.push(e))return}}_read(){if(!(this._reading||this.destroyed)){if(this._reading=!0,this._stream&&this._forward(),this._drain){var e=this._drain;this._drain=null,e()}this._reading=!1,this._finalized&&this.push(null)}}};class MediaData extends stream$1.PassThrough{constructor(e){super(),this._parent=e,this.destroyed=!1}destroy(e){this.destroyed||(this.destroyed=!0,this._parent.destroy(e),e&&this.emit("error",e),this.emit("close"))}}var encode=Encoder$1;const Decoder=decode,Encoder=encode;mp4Stream.decode=a=>new Decoder(a);mp4Stream.encode=a=>new Encoder(a);const{Writable:Writable$1,PassThrough:PassThrough$2}=readableBrowserExports$1;let RangeSliceStream$1=class extends Writable$1{constructor(e,o={}){super(o),this.destroyed=!1,this._queue=[],this._position=e||0,this._cb=null,this._buffer=null,this._out=null}_write(e,o,h){let $=!0;for(;;){if(this.destroyed)return;if(this._queue.length===0){this._buffer=e,this._cb=h;return}this._buffer=null;var d=this._queue[0];const Y=Math.max(d.start-this._position,0),ie=d.end-this._position;if(Y>=e.length)return this._position+=e.length,h(null);let fe;if(ie>e.length){this._position+=e.length,Y===0?fe=e:fe=e.slice(Y),$=d.stream.write(fe)&&$;break}this._position+=ie,fe=Y===0&&ie===e.length?e:e.slice(Y,ie),$=d.stream.write(fe)&&$,d.last&&d.stream.end(),e=e.slice(ie),this._queue.shift()}$?h(null):d.stream.once("drain",h.bind(null,null))}slice(e){if(this.destroyed)return null;Array.isArray(e)||(e=[e]);const o=new PassThrough$2;return e.forEach((h,$)=>{this._queue.push({start:h.start,end:h.end,stream:o,last:$===e.length-1})}),this._buffer&&this._write(this._buffer,null,this._cb),o}destroy(e){this.destroyed||(this.destroyed=!0,e&&this.emit("error",e))}};var rangeSliceStream=RangeSliceStream$1;const bs=binarySearch,EventEmitter$4=eventsExports,mp4=mp4Stream,Box=requireMp4BoxEncoding(),RangeSliceStream=rangeSliceStream,FIND_MOOV_SEEK_SIZE=4096;let MP4Remuxer$1=class extends EventEmitter$4{constructor(e){super(),this._tracks=[],this._file=e,this._decoder=null,this._findMoov(0)}_findMoov(e){this._decoder&&this._decoder.destroy();let o=0;this._decoder=mp4.decode();const h=this._file.createReadStream({start:e});h.pipe(this._decoder);const $=d=>{d.type==="moov"?(this._decoder.removeListener("box",$),this._decoder.decode(Y=>{h.destroy();try{this._processMoov(Y)}catch(ie){ie.message=`Cannot parse mp4 file: ${ie.message}`,this.emit("error",ie)}})):d.length<FIND_MOOV_SEEK_SIZE?(o+=d.length,this._decoder.ignore()):(this._decoder.removeListener("box",$),o+=d.length,h.destroy(),this._decoder.destroy(),this._findMoov(e+o))};this._decoder.on("box",$)}_processMoov(e){const o=e.traks;this._tracks=[],this._hasVideo=!1,this._hasAudio=!1;for(let Y=0;Y<o.length;Y++){const ie=o[Y],fe=ie.mdia.minf.stbl,he=fe.stsd.entries[0],ne=ie.mdia.hdlr.handlerType;let le,de;if(ne==="vide"&&he.type==="avc1"){if(this._hasVideo)continue;this._hasVideo=!0,le="avc1",he.avcC&&(le+=`.${he.avcC.mimeCodec}`),de=`video/mp4; codecs="${le}"`}else if(ne==="soun"&&he.type==="mp4a"){if(this._hasAudio)continue;this._hasAudio=!0,le="mp4a",he.esds&&he.esds.mimeCodec&&(le+=`.${he.esds.mimeCodec}`),de=`audio/mp4; codecs="${le}"`}else continue;const ce=[];let ge=0,xe=0,Ae=0,Ee=0,we=0,pe=0;const me=new RunLengthIndex(fe.stts.entries);let Te=null;fe.ctts&&(Te=new RunLengthIndex(fe.ctts.entries));let Pe=0;for(;;){var h=fe.stsc.entries[we];const Ce=fe.stsz.entries[ge],ze=me.value.duration,oe=Te?Te.value.compositionOffset:0;let c=!0;fe.stss&&(c=fe.stss.entries[Pe]===ge+1);const b=fe.stco||fe.co64;if(ce.push({size:Ce,duration:ze,dts:pe,presentationOffset:oe,sync:c,offset:Ee+b.entries[Ae]}),ge++,ge>=fe.stsz.entries.length)break;if(xe++,Ee+=Ce,xe>=h.samplesPerChunk){xe=0,Ee=0,Ae++;const j=fe.stsc.entries[we+1];j&&Ae+1>=j.firstChunk&&we++}pe+=ze,me.inc(),Te&&Te.inc(),c&&Pe++}ie.mdia.mdhd.duration=0,ie.tkhd.duration=0;const Le=h.sampleDescriptionId,qe={type:"moov",mvhd:e.mvhd,traks:[{tkhd:ie.tkhd,mdia:{mdhd:ie.mdia.mdhd,hdlr:ie.mdia.hdlr,elng:ie.mdia.elng,minf:{vmhd:ie.mdia.minf.vmhd,smhd:ie.mdia.minf.smhd,dinf:ie.mdia.minf.dinf,stbl:{stsd:fe.stsd,stts:empty(),ctts:empty(),stsc:empty(),stsz:empty(),stco:empty(),stss:empty()}}}}],mvex:{mehd:{fragmentDuration:e.mvhd.duration},trexs:[{trackId:ie.tkhd.trackId,defaultSampleDescriptionIndex:Le,defaultSampleDuration:0,defaultSampleSize:0,defaultSampleFlags:0}]}};this._tracks.push({fragmentSequence:1,trackId:ie.tkhd.trackId,timeScale:ie.mdia.mdhd.timeScale,samples:ce,currSample:null,currTime:null,moov:qe,mime:de})}if(this._tracks.length===0){this.emit("error",new Error("no playable tracks"));return}e.mvhd.duration=0,this._ftyp={type:"ftyp",brand:"iso5",brandVersion:0,compatibleBrands:["iso5"]};const $=Box.encode(this._ftyp),d=this._tracks.map(Y=>{const ie=Box.encode(Y.moov);return{mime:Y.mime,init:Buffer$E.concat([$,ie])}});this.emit("ready",d)}seek(e){if(!this._tracks)throw new Error("Not ready yet; wait for 'ready' event");this._fileStream&&(this._fileStream.destroy(),this._fileStream=null);let o=-1;if(this._tracks.map((h,$)=>{h.outStream&&h.outStream.destroy(),h.inStream&&(h.inStream.destroy(),h.inStream=null);const d=h.outStream=mp4.encode(),Y=this._generateFragment($,e);if(!Y)return d.finalize();(o===-1||Y.ranges[0].start<o)&&(o=Y.ranges[0].start);const ie=fe=>{d.destroyed||d.box(fe.moof,he=>{if(he)return this.emit("error",he);if(d.destroyed)return;h.inStream.slice(fe.ranges).pipe(d.mediaData(fe.length,le=>{if(le)return this.emit("error",le);if(d.destroyed)return;const de=this._generateFragment($);if(!de)return d.finalize();ie(de)}))})};ie(Y)}),o>=0){const h=this._fileStream=this._file.createReadStream({start:o});this._tracks.forEach($=>{$.inStream=new RangeSliceStream(o,{highWaterMark:1e7}),h.pipe($.inStream)})}return this._tracks.map(h=>h.outStream)}_findSampleBefore(e,o){const h=this._tracks[e],$=Math.floor(h.timeScale*o);let d=bs(h.samples,$,(Y,ie)=>Y.dts+Y.presentationOffset-ie);for(d===-1?d=0:d<0&&(d=-d-2);!h.samples[d].sync;)d--;return d}_generateFragment(e,o){const h=this._tracks[e];let $;if(o!==void 0?$=this._findSampleBefore(e,o):$=h.currSample,$>=h.samples.length)return null;const d=h.samples[$].dts;let Y=0;const ie=[];for(var fe=$;fe<h.samples.length;fe++){const he=h.samples[fe];if(he.sync&&he.dts-d>=h.timeScale*MIN_FRAGMENT_DURATION)break;Y+=he.size;const ne=ie.length-1;ne<0||ie[ne].end!==he.offset?ie.push({start:he.offset,end:he.offset+he.size}):ie[ne].end+=he.size}return h.currSample=fe,{moof:this._generateMoof(e,$,fe),ranges:ie,length:Y}}_generateMoof(e,o,h){const $=this._tracks[e],d=[];let Y=0;for(let fe=o;fe<h;fe++){const he=$.samples[fe];he.presentationOffset<0&&(Y=1),d.push({sampleDuration:he.duration,sampleSize:he.size,sampleFlags:he.sync?33554432:16842752,sampleCompositionTimeOffset:he.presentationOffset})}const ie={type:"moof",mfhd:{sequenceNumber:$.fragmentSequence++},trafs:[{tfhd:{flags:131072,trackId:$.trackId},tfdt:{baseMediaDecodeTime:$.samples[o].dts},trun:{flags:3841,dataOffset:8,entries:d,version:Y}}]};return ie.trafs[0].trun.dataOffset+=Box.encodingLength(ie),ie}};class RunLengthIndex{constructor(e,o){this._entries=e,this._countName=o||"count",this._index=0,this._offset=0,this.value=this._entries[0]}inc(){this._offset++,this._offset>=this._entries[this._index][this._countName]&&(this._index++,this._offset=0),this.value=this._entries[this._index]}}function empty(){return{version:0,flags:0,entries:[]}}const MIN_FRAGMENT_DURATION=1;var mp4Remuxer=MP4Remuxer$1;const MediaElementWrapper=mediasource,pump$1=pump_1,MP4Remuxer=mp4Remuxer;function VideoStream(a,e,o={}){if(!(this instanceof VideoStream))return console.warn("Don't invoke VideoStream without the 'new' keyword."),new VideoStream(a,e,o);this.detailedError=null,this._elem=e,this._elemWrapper=new MediaElementWrapper(e),this._waitingFired=!1,this._trackMeta=null,this._file=a,this._tracks=null,this._elem.preload!=="none"&&this._createMuxer(),this._onError=()=>{this.detailedError=this._elemWrapper.detailedError,this.destroy()},this._onWaiting=()=>{this._waitingFired=!0,this._muxer?this._tracks&&this._pump():this._createMuxer()},e.autoplay&&(e.preload="auto"),e.addEventListener("waiting",this._onWaiting),e.addEventListener("error",this._onError)}VideoStream.prototype={_createMuxer(){this._muxer=new MP4Remuxer(this._file),this._muxer.on("ready",a=>{this._tracks=a.map(e=>{const o=this._elemWrapper.createWriteStream(e.mime);o.on("error",$=>{this._elemWrapper.error($)});const h={muxed:null,mediaSource:o,initFlushed:!1,onInitFlushed:null};return o.write(e.init,$=>{h.initFlushed=!0,h.onInitFlushed&&h.onInitFlushed($)}),h}),(this._waitingFired||this._elem.preload==="auto")&&this._pump()}),this._muxer.on("error",a=>{this._elemWrapper.error(a)})},_pump(){const a=this._muxer.seek(this._elem.currentTime,!this._tracks);this._tracks.forEach((e,o)=>{const h=()=>{e.muxed&&(e.muxed.destroy(),e.mediaSource=this._elemWrapper.createWriteStream(e.mediaSource),e.mediaSource.on("error",$=>{this._elemWrapper.error($)})),e.muxed=a[o],pump$1(e.muxed,e.mediaSource)};e.initFlushed?h():e.onInitFlushed=$=>{if($){this._elemWrapper.error($);return}h()}})},destroy(){this.destroyed||(this.destroyed=!0,this._elem.removeEventListener("waiting",this._onWaiting),this._elem.removeEventListener("error",this._onError),this._tracks&&this._tracks.forEach(a=>{a.muxed&&a.muxed.destroy()}),this._elem.src="")}};var videostream=VideoStream;/*! render-media. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(a){a.render=Ee,a.append=we,a.mime=require$$0$1;const e=browserExports$1("render-media"),o=isAscii,h=mediasource,$=pathBrowserify,d=streamToBlobUrl,Y=videostream,ie=[".m4a",".m4b",".m4p",".m4v",".mp4"],fe=[".m4v",".mkv",".mp4",".webm"],he=[".m4a",".m4b",".m4p",".mp3"],ne=[].concat(fe,he),le=[".mov",".ogv"],de=[".aac",".oga",".ogg",".wav",".flac"],ce=[".bmp",".gif",".jpeg",".jpg",".png",".svg"],ge=[".css",".html",".js",".md",".pdf",".srt",".txt"],xe=200*1e3*1e3,Ae=typeof window<"u"&&window.MediaSource;function Ee(Ce,ze,oe,c){typeof oe=="function"&&(c=oe,oe={}),oe||(oe={}),c||(c=()=>{}),Te(Ce),Le(oe),typeof ze=="string"&&(ze=document.querySelector(ze)),pe(Ce,b=>{if(ze.nodeName!==b.toUpperCase()){const j=$.extname(Ce.name).toLowerCase();throw new Error(`Cannot render "${j}" inside a "${ze.nodeName.toLowerCase()}" element, expected "${b}"`)}return(b==="video"||b==="audio")&&qe(ze,oe),ze},oe,c)}function we(Ce,ze,oe,c){if(typeof oe=="function"&&(c=oe,oe={}),oe||(oe={}),c||(c=()=>{}),Te(Ce),Le(oe),typeof ze=="string"&&(ze=document.querySelector(ze)),ze&&(ze.nodeName==="VIDEO"||ze.nodeName==="AUDIO"))throw new Error("Invalid video/audio node argument. Argument must be root element that video/audio tag will be appended to.");pe(Ce,b,oe,re);function b(ae){return ae==="video"||ae==="audio"?j(ae):Z(ae)}function j(ae){const se=Z(ae);return qe(se,oe),ze.appendChild(se),se}function Z(ae){const se=document.createElement(ae);return ze.appendChild(se),se}function re(ae,se){ae&&se&&se.remove(),c(ae,se)}}function pe(Ce,ze,oe,c){const b=$.extname(Ce.name).toLowerCase();let j=0,Z;ne.includes(b)?re():le.includes(b)?se("video"):de.includes(b)?se("audio"):ce.includes(b)?te():ge.includes(b)?ue():ve();function re(){const Me=fe.includes(b)?"video":"audio";Ae?ie.includes(b)?Se():_e():Re();function Se(){e(`Use \`videostream\` package for ${Ce.name}`),Oe(),Z.addEventListener("error",Ie),Z.addEventListener("loadstart",ee),Z.addEventListener("loadedmetadata",_),new Y(Ce,Z)}function _e(){e(`Use MediaSource API for ${Ce.name}`),Oe(),Z.addEventListener("error",Ne),Z.addEventListener("loadstart",ee),Z.addEventListener("loadedmetadata",_);const He=new h(Z).createWriteStream(Pe(Ce.name));Ce.createReadStream().pipe(He),j&&(Z.currentTime=j)}function Re(){e(`Use Blob URL for ${Ce.name}`),Oe(),Z.addEventListener("error",be),Z.addEventListener("loadstart",ee),Z.addEventListener("loadedmetadata",_),me(Ce,(ke,He)=>{if(ke)return be(ke);Z.src=He,j&&(Z.currentTime=j)})}function Ie(ke){e("videostream error: fallback to MediaSource API: %o",ke.message||ke),Z.removeEventListener("error",Ie),Z.removeEventListener("loadedmetadata",_),_e()}function Ne(ke){e("MediaSource API error: fallback to Blob URL: %o",ke.message||ke),ae()&&(Z.removeEventListener("error",Ne),Z.removeEventListener("loadedmetadata",_),Re())}function Oe(){Z||(Z=ze(Me),Z.addEventListener("progress",()=>{j=Z.currentTime}))}}function ae(){return typeof Ce.length=="number"&&Ce.length>oe.maxBlobLength?(e("File length too large for Blob URL approach: %d (max: %d)",Ce.length,oe.maxBlobLength),be(new Error(`File length too large for Blob URL approach: ${Ce.length} (max: ${oe.maxBlobLength})`)),!1):!0}function se(Me){ae()&&(Z=ze(Me),me(Ce,(Se,_e)=>{if(Se)return be(Se);Z.addEventListener("error",be),Z.addEventListener("loadstart",ee),Z.addEventListener("loadedmetadata",_),Z.src=_e}))}function ee(){if(Z.removeEventListener("loadstart",ee),oe.autoplay){const Me=Z.play();typeof Me<"u"&&Me.catch(be)}}function _(){Z.removeEventListener("loadedmetadata",_),c(null,Z)}function te(){Z=ze("img"),me(Ce,(Me,Se)=>{if(Me)return be(Me);Z.src=Se,Z.alt=Ce.name,c(null,Z)})}function ue(){me(Ce,(Me,Se)=>{if(Me)return be(Me);b!==".pdf"?(Z=ze("iframe"),Z.sandbox="allow-forms allow-scripts",Z.src=Se):(Z=ze("object"),Z.setAttribute("typemustmatch",!0),Z.setAttribute("type","application/pdf"),Z.setAttribute("data",Se)),c(null,Z)})}function ve(){e('Unknown file extension "%s" - will attempt to render into iframe',b);let Me="";Ce.createReadStream({start:0,end:1e3}).setEncoding("utf8").on("data",_e=>{Me+=_e}).on("end",Se).on("error",c);function Se(){o(Me)?(e('File extension "%s" appears ascii, so will render.',b),ue()):(e('File extension "%s" appears non-ascii, will not render.',b),c(new Error(`Unsupported file type "${b}": Cannot append to DOM`)))}}function be(Me){Me.message=`Error rendering file "${Ce.name}": ${Me.message}`,e(Me.message),c(Me)}}function me(Ce,ze){const oe=$.extname(Ce.name).toLowerCase();d(Ce.createReadStream(),a.mime[oe]).then(c=>ze(null,c),c=>ze(c))}function Te(Ce){if(Ce==null)throw new Error("file cannot be null or undefined");if(typeof Ce.name!="string")throw new Error("missing or invalid file.name property");if(typeof Ce.createReadStream!="function")throw new Error("missing or invalid file.createReadStream property")}function Pe(Ce){const ze=$.extname(Ce).toLowerCase();return{".m4a":'audio/mp4; codecs="mp4a.40.5"',".m4b":'audio/mp4; codecs="mp4a.40.5"',".m4p":'audio/mp4; codecs="mp4a.40.5"',".m4v":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".mkv":'video/webm; codecs="avc1.640029, mp4a.40.5"',".mp3":"audio/mpeg",".mp4":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".webm":'video/webm; codecs="vorbis, vp8"'}[ze]}function Le(Ce){Ce.autoplay==null&&(Ce.autoplay=!1),Ce.muted==null&&(Ce.muted=!1),Ce.controls==null&&(Ce.controls=!0),Ce.maxBlobLength==null&&(Ce.maxBlobLength=xe)}function qe(Ce,ze){Ce.autoplay=!!ze.autoplay,Ce.muted=!!ze.muted,Ce.controls=!!ze.controls}})(renderMedia);const{Readable:Readable$2,Writable}=streamx;let BlobWriteStream$1=class extends Writable{constructor(e,o={}){super(Object.assign({decodeStrings:!1},o)),this.chunks=[];const h=o.mimeType;this.once("close",()=>{const $=h!=null?new Blob(this.chunks,{type:h}):new Blob(this.chunks);e($),this.emit("blob",$)})}_write(e,o){this.chunks.push(e),o()}};var fastBlobStream={BlobWriteStream:BlobWriteStream$1},once=onceExports,streamWithKnownLengthToBuffer=function(e,o,h){h=once(h);var $=Buffer$E.alloc(o),d=0;e.on("data",function(Y){Y.copy($,d),d+=Y.length}).on("end",function(){h(null,$)}).on("error",h)};/*!
 * range-parser
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015-2016 Douglas Christopher Wilson
 * MIT Licensed
 */var rangeParser_1=rangeParser$1;function rangeParser$1(a,e,o){if(typeof e!="string")throw new TypeError("argument str must be a string");var h=e.indexOf("=");if(h===-1)return-2;var $=e.slice(h+1).split(","),d=[];d.type=e.slice(0,h);for(var Y=0;Y<$.length;Y++){var ie=$[Y].split("-"),fe=parseInt(ie[0],10),he=parseInt(ie[1],10);isNaN(fe)?(fe=a-he,he=a-1):isNaN(he)&&(he=a-1),he>a-1&&(he=a-1),!(isNaN(fe)||isNaN(he)||fe>he||fe<0)&&d.push({start:fe,end:he})}return d.length<1?-1:o&&o.combine?combineRanges(d):d}function combineRanges(a){for(var e=a.map(mapWithIndex).sort(sortByRangeStart),o=0,h=1;h<e.length;h++){var $=e[h],d=e[o];$.start>d.end+1?e[++o]=$:$.end>d.end&&(d.end=$.end,d.index=Math.min(d.index,$.index))}e.length=o+1;var Y=e.sort(sortByRangeIndex).map(mapWithoutIndex);return Y.type=a.type,Y}function mapWithIndex(a,e){return{start:a.start,end:a.end,index:e}}function mapWithoutIndex(a){return{start:a.start,end:a.end}}function sortByRangeIndex(a,e){return a.index-e.index}function sortByRangeStart(a,e){return a.start-e.start}function Mime$1(){this._types=Object.create(null),this._extensions=Object.create(null);for(let a=0;a<arguments.length;a++)this.define(arguments[a]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime$1.prototype.define=function(a,e){for(let o in a){let h=a[o].map(function($){return $.toLowerCase()});o=o.toLowerCase();for(let $=0;$<h.length;$++){const d=h[$];if(d[0]!=="*"){if(!e&&d in this._types)throw new Error('Attempt to change mapping for "'+d+'" extension from "'+this._types[d]+'" to "'+o+'". Pass `force=true` to allow this, otherwise remove "'+d+'" from the list of extensions for "'+o+'".');this._types[d]=o}}if(e||!this._extensions[o]){const $=h[0];this._extensions[o]=$[0]!=="*"?$:$.substr(1)}}};Mime$1.prototype.getType=function(a){a=String(a);let e=a.replace(/^.*[/\\]/,"").toLowerCase(),o=e.replace(/^.*\./,"").toLowerCase(),h=e.length<a.length;return(o.length<e.length-1||!h)&&this._types[o]||null};Mime$1.prototype.getExtension=function(a){return a=/^\s*([^;\s]*)/.test(a)&&RegExp.$1,a&&this._extensions[a.toLowerCase()]||null};var Mime_1=Mime$1,standard={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]},other={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]};let Mime=Mime_1;var mime$1=new Mime(standard,other);const{Readable:Readable$1}=streamx,debugFactory$4=browserExports$1,debug$5=debugFactory$4("webtorrent:file-stream");let FileStream$1=class extends Readable$1{constructor(e,o){super(o??{}),this._torrent=e._torrent;const h=o&&o.start||0,$=o&&o.end&&o.end<e.length?o.end:e.length-1,d=e._torrent.pieceLength;this._startPiece=(h+e.offset)/d|0,this._endPiece=($+e.offset)/d|0,this._piece=this._startPiece,this._offset=h+e.offset-this._startPiece*d,this._missing=$-h+1,this._reading=!1,this._notifying=!1,this._criticalLength=Math.min(1024*1024/d|0,2),this._torrent.select(this._startPiece,this._endPiece,!0,()=>{this._notify()})}_read(e){this._reading||(this._reading=!0,this._notify(e))}_notify(e=()=>{}){if(!this._reading||this._missing===0)return e();if(!this._torrent.bitfield.get(this._piece))return e(),this._torrent.critical(this._piece,this._piece+this._criticalLength);if(this._notifying)return e();if(this._notifying=!0,this._torrent.destroyed)return this.destroy(new Error("Torrent removed"));const o=this._piece,h={};o===this._torrent.pieces.length-1&&(h.length=this._torrent.lastPieceLength),this._torrent.store.get(o,h,($,d)=>{if(this._notifying=!1,!this.destroyed){if(debug$5("read %s (length %s) (err %s)",o,d&&d.length,$&&$.message),$)return this.destroy($);this._offset&&(d=d.slice(this._offset),this._offset=0),this._missing<d.length&&(d=d.slice(0,this._missing)),this._missing-=d.length,debug$5("pushing buffer of length %s",d.length),this._reading=!1,this.push(d),this._missing===0&&this.push(null),e()}}),this._piece+=1}_destroy(e,o){this._torrent.destroyed||this._torrent.deselect(this._startPiece,this._endPiece,!0),e(o)}};var fileStream=FileStream$1;const EventEmitter$3=eventsExports,{PassThrough:PassThrough$1}=streamx,path$2=pathBrowserify,render=renderMedia,{BlobWriteStream}=fastBlobStream,streamToBuffer=streamWithKnownLengthToBuffer,queueMicrotask$3=queueMicrotask_1,rangeParser=rangeParser_1,mime=mime$1,eos=endOfStream,FileStream=fileStream;let File$1=class extends EventEmitter$3{constructor(e,o){super(),this._torrent=e,this._destroyed=!1,this._fileStreams=new Set,this.name=o.name,this.path=o.path,this.length=o.length,this.offset=o.offset,this.done=!1;const h=o.offset,$=h+o.length-1;this._startPiece=h/this._torrent.pieceLength|0,this._endPiece=$/this._torrent.pieceLength|0,this.length===0&&(this.done=!0,this.emit("done")),this._serviceWorker=e.client.serviceWorker}get downloaded(){if(this._destroyed||!this._torrent.bitfield)return 0;const{pieces:e,bitfield:o,pieceLength:h,lastPieceLength:$}=this._torrent,{_startPiece:d,_endPiece:Y}=this,ie=ne=>ne===e.length-1?$:h,fe=ne=>{const le=ne===e.length-1?$:h;return o.get(ne)?le:le-e[ne].missing};let he=0;for(let ne=d;ne<=Y;ne+=1){const le=fe(ne);if(he+=le,ne===d){const de=this.offset%h;he-=Math.min(de,le)}if(ne===Y){const de=ie(Y)-(this.offset+this.length)%h;he-=Math.min(de,le)}}return he}get progress(){return this.length?this.downloaded/this.length:0}select(e){this.length!==0&&this._torrent.select(this._startPiece,this._endPiece,e)}deselect(){this.length!==0&&this._torrent.deselect(this._startPiece,this._endPiece,!1)}createReadStream(e){if(this.length===0){const h=new PassThrough$1;return queueMicrotask$3(()=>{h.end()}),h}const o=new FileStream(this,e);return this._fileStreams.add(o),o.once("close",()=>{this._fileStreams.delete(o)}),o}getBuffer(e){streamToBuffer(this.createReadStream(),this.length,e)}getBlob(e){if(typeof window>"u")throw new Error("browser-only method");const o=new BlobWriteStream(h=>{e(null,h)},{mimeType:this._getMimeType()});this.createReadStream().pipe(o)}getBlobURL(e){this.getBlob((o,h)=>{e(null,URL.createObjectURL(h))})}appendTo(e,o,h){if(typeof window>"u")throw new Error("browser-only method");render.append(this,e,o,h)}renderTo(e,o,h){if(typeof window>"u")throw new Error("browser-only method");render.render(this,e,o,h)}_serve(e){const o={status:200,headers:{"Accept-Ranges":"bytes","Content-Type":mime.getType(this.name),"Cache-Control":"no-cache, no-store, must-revalidate, max-age=0",Expires:"0"},body:e.method==="HEAD"?"":"STREAM"};e.destination==="document"&&(o.headers["Content-Type"]="application/octet-stream",o.headers["Content-Disposition"]="attachment",o.body="DOWNLOAD");let h=rangeParser(this.length,e.headers.range||"");h.constructor===Array?(o.status=206,h=h[0],o.headers["Content-Range"]=`bytes ${h.start}-${h.end}/${this.length}`,o.headers["Content-Length"]=`${h.end-h.start+1}`):o.headers["Content-Length"]=this.length;const $=e.method==="GET"&&this.createReadStream(h);let d=null;return $&&this.emit("stream",{stream:$,req:e,file:this},Y=>{d=Y,eos(Y,()=>{Y&&Y.destroy(),$.destroy()})}),[o,d||$,d&&$]}getStreamURL(e=()=>{}){if(typeof window>"u")throw new Error("browser-only method");if(!this._serviceWorker)throw new Error("No worker registered");if(this._serviceWorker.state!=="activated")throw new Error("Worker isn't activated");const h=`${this._serviceWorker.scriptURL.slice(0,this._serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/${this._torrent.infoHash}/${encodeURI(this.path)}`;e(null,h)}streamTo(e,o=()=>{}){if(typeof window>"u")throw new Error("browser-only method");if(!this._serviceWorker)throw new Error("No worker registered");if(this._serviceWorker.state!=="activated")throw new Error("Worker isn't activated");const h=this._serviceWorker.scriptURL.slice(0,this._serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length);e.src=`${h}webtorrent/${this._torrent.infoHash}/${encodeURI(this.path)}`,o(null,e)}_getMimeType(){return render.mime[path$2.extname(this.name).toLowerCase()]}_destroy(){this._destroyed=!0,this._torrent=null;for(const e of this._fileStreams)e.destroy();this._fileStreams.clear()}};var file=File$1,peer={},streamBrowserify=Stream,EE=eventsExports.EventEmitter,inherits$s=inherits_browserExports;inherits$s(Stream,EE);Stream.Readable=require_stream_readable$1();Stream.Writable=require_stream_writable$1();Stream.Duplex=require_stream_duplex$1();Stream.Transform=_stream_transform$1;Stream.PassThrough=_stream_passthrough$1;Stream.finished=endOfStream$1;Stream.pipeline=pipeline_1;Stream.Stream=Stream;function Stream(){EE.call(this)}Stream.prototype.pipe=function(a,e){var o=this;function h(ne){a.writable&&a.write(ne)===!1&&o.pause&&o.pause()}o.on("data",h);function $(){o.readable&&o.resume&&o.resume()}a.on("drain",$),!a._isStdio&&(!e||e.end!==!1)&&(o.on("end",Y),o.on("close",ie));var d=!1;function Y(){d||(d=!0,a.end())}function ie(){d||(d=!0,typeof a.destroy=="function"&&a.destroy())}function fe(ne){if(he(),EE.listenerCount(this,"error")===0)throw ne}o.on("error",fe),a.on("error",fe);function he(){o.removeListener("data",h),a.removeListener("drain",$),o.removeListener("end",Y),o.removeListener("close",ie),o.removeListener("error",fe),a.removeListener("error",fe),o.removeListener("end",he),o.removeListener("close",he),a.removeListener("close",he)}return o.on("end",he),o.on("close",he),a.on("close",he),a.emit("pipe",o),a};var cryptoBrowserify={},Buffer$A=safeBufferExports$1.Buffer,Transform$9=streamBrowserify.Transform,inherits$r=inherits_browserExports;function HashBase$4(a){Transform$9.call(this),this._block=Buffer$A.allocUnsafe(a),this._blockSize=a,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}inherits$r(HashBase$4,Transform$9);HashBase$4.prototype._transform=function(a,e,o){var h=null;try{this.update(a,e)}catch($){h=$}o(h)};HashBase$4.prototype._flush=function(a){var e=null;try{this.push(this.digest())}catch(o){e=o}a(e)};var useUint8Array$3=typeof Uint8Array<"u",useArrayBuffer$3=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(Buffer$A.prototype instanceof Uint8Array||Buffer$A.TYPED_ARRAY_SUPPORT);function toBuffer$6(a,e){if(a instanceof Buffer$A)return a;if(typeof a=="string")return Buffer$A.from(a,e);if(useArrayBuffer$3&&ArrayBuffer.isView(a)){if(a.byteLength===0)return Buffer$A.alloc(0);var o=Buffer$A.from(a.buffer,a.byteOffset,a.byteLength);if(o.byteLength===a.byteLength)return o}if(useUint8Array$3&&a instanceof Uint8Array||Buffer$A.isBuffer(a)&&a.constructor&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a))return Buffer$A.from(a);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}HashBase$4.prototype.update=function(a,e){if(this._finalized)throw new Error("Digest already called");a=toBuffer$6(a,e);for(var o=this._block,h=0;this._blockOffset+a.length-h>=this._blockSize;){for(var $=this._blockOffset;$<this._blockSize;)o[$++]=a[h++];this._update(),this._blockOffset=0}for(;h<a.length;)o[this._blockOffset++]=a[h++];for(var d=0,Y=a.length*8;Y>0;++d)this._length[d]+=Y,Y=this._length[d]/4294967296|0,Y>0&&(this._length[d]-=4294967296*Y);return this};HashBase$4.prototype._update=function(){throw new Error("_update is not implemented")};HashBase$4.prototype.digest=function(a){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();a!==void 0&&(e=e.toString(a)),this._block.fill(0),this._blockOffset=0;for(var o=0;o<4;++o)this._length[o]=0;return e};HashBase$4.prototype._digest=function(){throw new Error("_digest is not implemented")};var hashBase$1=HashBase$4,inherits$q=inherits_browserExports,HashBase$3=hashBase$1,Buffer$z=safeBufferExports$1.Buffer,ARRAY16$1=new Array(16);function MD5$3(){HashBase$3.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}inherits$q(MD5$3,HashBase$3);MD5$3.prototype._update=function(){for(var a=ARRAY16$1,e=0;e<16;++e)a[e]=this._block.readInt32LE(e*4);var o=this._a,h=this._b,$=this._c,d=this._d;o=fnF(o,h,$,d,a[0],3614090360,7),d=fnF(d,o,h,$,a[1],3905402710,12),$=fnF($,d,o,h,a[2],606105819,17),h=fnF(h,$,d,o,a[3],3250441966,22),o=fnF(o,h,$,d,a[4],4118548399,7),d=fnF(d,o,h,$,a[5],1200080426,12),$=fnF($,d,o,h,a[6],2821735955,17),h=fnF(h,$,d,o,a[7],4249261313,22),o=fnF(o,h,$,d,a[8],1770035416,7),d=fnF(d,o,h,$,a[9],2336552879,12),$=fnF($,d,o,h,a[10],4294925233,17),h=fnF(h,$,d,o,a[11],2304563134,22),o=fnF(o,h,$,d,a[12],1804603682,7),d=fnF(d,o,h,$,a[13],4254626195,12),$=fnF($,d,o,h,a[14],2792965006,17),h=fnF(h,$,d,o,a[15],1236535329,22),o=fnG(o,h,$,d,a[1],4129170786,5),d=fnG(d,o,h,$,a[6],3225465664,9),$=fnG($,d,o,h,a[11],643717713,14),h=fnG(h,$,d,o,a[0],3921069994,20),o=fnG(o,h,$,d,a[5],3593408605,5),d=fnG(d,o,h,$,a[10],38016083,9),$=fnG($,d,o,h,a[15],3634488961,14),h=fnG(h,$,d,o,a[4],3889429448,20),o=fnG(o,h,$,d,a[9],568446438,5),d=fnG(d,o,h,$,a[14],3275163606,9),$=fnG($,d,o,h,a[3],4107603335,14),h=fnG(h,$,d,o,a[8],1163531501,20),o=fnG(o,h,$,d,a[13],2850285829,5),d=fnG(d,o,h,$,a[2],4243563512,9),$=fnG($,d,o,h,a[7],1735328473,14),h=fnG(h,$,d,o,a[12],2368359562,20),o=fnH(o,h,$,d,a[5],4294588738,4),d=fnH(d,o,h,$,a[8],2272392833,11),$=fnH($,d,o,h,a[11],1839030562,16),h=fnH(h,$,d,o,a[14],4259657740,23),o=fnH(o,h,$,d,a[1],2763975236,4),d=fnH(d,o,h,$,a[4],1272893353,11),$=fnH($,d,o,h,a[7],4139469664,16),h=fnH(h,$,d,o,a[10],3200236656,23),o=fnH(o,h,$,d,a[13],681279174,4),d=fnH(d,o,h,$,a[0],3936430074,11),$=fnH($,d,o,h,a[3],3572445317,16),h=fnH(h,$,d,o,a[6],76029189,23),o=fnH(o,h,$,d,a[9],3654602809,4),d=fnH(d,o,h,$,a[12],3873151461,11),$=fnH($,d,o,h,a[15],530742520,16),h=fnH(h,$,d,o,a[2],3299628645,23),o=fnI(o,h,$,d,a[0],4096336452,6),d=fnI(d,o,h,$,a[7],1126891415,10),$=fnI($,d,o,h,a[14],2878612391,15),h=fnI(h,$,d,o,a[5],4237533241,21),o=fnI(o,h,$,d,a[12],1700485571,6),d=fnI(d,o,h,$,a[3],2399980690,10),$=fnI($,d,o,h,a[10],4293915773,15),h=fnI(h,$,d,o,a[1],2240044497,21),o=fnI(o,h,$,d,a[8],1873313359,6),d=fnI(d,o,h,$,a[15],4264355552,10),$=fnI($,d,o,h,a[6],2734768916,15),h=fnI(h,$,d,o,a[13],1309151649,21),o=fnI(o,h,$,d,a[4],4149444226,6),d=fnI(d,o,h,$,a[11],3174756917,10),$=fnI($,d,o,h,a[2],718787259,15),h=fnI(h,$,d,o,a[9],3951481745,21),this._a=this._a+o|0,this._b=this._b+h|0,this._c=this._c+$|0,this._d=this._d+d|0};MD5$3.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var a=Buffer$z.allocUnsafe(16);return a.writeInt32LE(this._a,0),a.writeInt32LE(this._b,4),a.writeInt32LE(this._c,8),a.writeInt32LE(this._d,12),a};function rotl$2(a,e){return a<<e|a>>>32-e}function fnF(a,e,o,h,$,d,Y){return rotl$2(a+(e&o|~e&h)+$+d|0,Y)+e|0}function fnG(a,e,o,h,$,d,Y){return rotl$2(a+(e&h|o&~h)+$+d|0,Y)+e|0}function fnH(a,e,o,h,$,d,Y){return rotl$2(a+(e^o^h)+$+d|0,Y)+e|0}function fnI(a,e,o,h,$,d,Y){return rotl$2(a+(o^(e|~h))+$+d|0,Y)+e|0}var md5_js=MD5$3,Buffer$y=require$$0$3.Buffer,inherits$p=inherits_browserExports,HashBase$2=hashBase$1,ARRAY16=new Array(16),zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160$5(){HashBase$2.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}inherits$p(RIPEMD160$5,HashBase$2);RIPEMD160$5.prototype._update=function(){for(var a=ARRAY16,e=0;e<16;++e)a[e]=this._block.readInt32LE(e*4);for(var o=this._a|0,h=this._b|0,$=this._c|0,d=this._d|0,Y=this._e|0,ie=this._a|0,fe=this._b|0,he=this._c|0,ne=this._d|0,le=this._e|0,de=0;de<80;de+=1){var ce,ge;de<16?(ce=fn1$1(o,h,$,d,Y,a[zl[de]],hl[0],sl[de]),ge=fn5$1(ie,fe,he,ne,le,a[zr[de]],hr[0],sr[de])):de<32?(ce=fn2$1(o,h,$,d,Y,a[zl[de]],hl[1],sl[de]),ge=fn4$1(ie,fe,he,ne,le,a[zr[de]],hr[1],sr[de])):de<48?(ce=fn3$1(o,h,$,d,Y,a[zl[de]],hl[2],sl[de]),ge=fn3$1(ie,fe,he,ne,le,a[zr[de]],hr[2],sr[de])):de<64?(ce=fn4$1(o,h,$,d,Y,a[zl[de]],hl[3],sl[de]),ge=fn2$1(ie,fe,he,ne,le,a[zr[de]],hr[3],sr[de])):(ce=fn5$1(o,h,$,d,Y,a[zl[de]],hl[4],sl[de]),ge=fn1$1(ie,fe,he,ne,le,a[zr[de]],hr[4],sr[de])),o=Y,Y=d,d=rotl$1($,10),$=h,h=ce,ie=le,le=ne,ne=rotl$1(he,10),he=fe,fe=ge}var xe=this._b+$+ne|0;this._b=this._c+d+le|0,this._c=this._d+Y+ie|0,this._d=this._e+o+fe|0,this._e=this._a+h+he|0,this._a=xe};RIPEMD160$5.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var a=Buffer$y.alloc?Buffer$y.alloc(20):new Buffer$y(20);return a.writeInt32LE(this._a,0),a.writeInt32LE(this._b,4),a.writeInt32LE(this._c,8),a.writeInt32LE(this._d,12),a.writeInt32LE(this._e,16),a};function rotl$1(a,e){return a<<e|a>>>32-e}function fn1$1(a,e,o,h,$,d,Y,ie){return rotl$1(a+(e^o^h)+d+Y|0,ie)+$|0}function fn2$1(a,e,o,h,$,d,Y,ie){return rotl$1(a+(e&o|~e&h)+d+Y|0,ie)+$|0}function fn3$1(a,e,o,h,$,d,Y,ie){return rotl$1(a+((e|~o)^h)+d+Y|0,ie)+$|0}function fn4$1(a,e,o,h,$,d,Y,ie){return rotl$1(a+(e&h|o&~h)+d+Y|0,ie)+$|0}function fn5$1(a,e,o,h,$,d,Y,ie){return rotl$1(a+(e^(o|~h))+d+Y|0,ie)+$|0}var ripemd160$1=RIPEMD160$5,sha_js={exports:{}},toString$1={}.toString,isarray$1=Array.isArray||function(a){return toString$1.call(a)=="[object Array]"},$TypeError=type,callBound$2=callBound$a,$typedArrayBuffer=callBound$2("TypedArray.prototype.buffer",!0),isTypedArray=isTypedArray$2,typedArrayBuffer$1=$typedArrayBuffer||function(e){if(!isTypedArray(e))throw new $TypeError("Not a Typed Array");return e.buffer},Buffer$x=safeBufferExports$1.Buffer,isArray$1=isarray$1,typedArrayBuffer=typedArrayBuffer$1,isView$1=ArrayBuffer.isView||function(e){try{return typedArrayBuffer(e),!0}catch{return!1}},useUint8Array$2=typeof Uint8Array<"u",useArrayBuffer$2=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",useFromArrayBuffer=useArrayBuffer$2&&(Buffer$x.prototype instanceof Uint8Array||Buffer$x.TYPED_ARRAY_SUPPORT),toBuffer$5=function(e,o){if(e instanceof Buffer$x)return e;if(typeof e=="string")return Buffer$x.from(e,o);if(useArrayBuffer$2&&isView$1(e)){if(e.byteLength===0)return Buffer$x.alloc(0);if(useFromArrayBuffer){var h=Buffer$x.from(e.buffer,e.byteOffset,e.byteLength);if(h.byteLength===e.byteLength)return h}var $=e instanceof Uint8Array?e:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),d=Buffer$x.from($);if(d.length===e.byteLength)return d}if(useUint8Array$2&&e instanceof Uint8Array)return Buffer$x.from(e);var Y=isArray$1(e);if(Y)for(var ie=0;ie<e.length;ie+=1){var fe=e[ie];if(typeof fe!="number"||fe<0||fe>255||~~fe!==fe)throw new RangeError("Array items must be numbers in the range 0-255.")}if(Y||Buffer$x.isBuffer(e)&&e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e))return Buffer$x.from(e);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')},Buffer$w=safeBufferExports$1.Buffer,toBuffer$4=toBuffer$5;function Hash$7(a,e){this._block=Buffer$w.alloc(a),this._finalSize=e,this._blockSize=a,this._len=0}Hash$7.prototype.update=function(a,e){a=toBuffer$4(a,e||"utf8");for(var o=this._block,h=this._blockSize,$=a.length,d=this._len,Y=0;Y<$;){for(var ie=d%h,fe=Math.min($-Y,h-ie),he=0;he<fe;he++)o[ie+he]=a[Y+he];d+=fe,Y+=fe,d%h===0&&this._update(o)}return this._len+=$,this};Hash$7.prototype.digest=function(a){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var o=this._len*8;if(o<=4294967295)this._block.writeUInt32BE(o,this._blockSize-4);else{var h=(o&4294967295)>>>0,$=(o-h)/4294967296;this._block.writeUInt32BE($,this._blockSize-8),this._block.writeUInt32BE(h,this._blockSize-4)}this._update(this._block);var d=this._hash();return a?d.toString(a):d};Hash$7.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hash$3=Hash$7,inherits$o=inherits_browserExports,Hash$6=hash$3,Buffer$v=safeBufferExports$1.Buffer,K$4=[1518500249,1859775393,-1894007588,-899497514],W$5=new Array(80);function Sha(){this.init(),this._w=W$5,Hash$6.call(this,64,56)}inherits$o(Sha,Hash$6);Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl5$1(a){return a<<5|a>>>27}function rotl30$1(a){return a<<30|a>>>2}function ft$1(a,e,o,h){return a===0?e&o|~e&h:a===2?e&o|e&h|o&h:e^o^h}Sha.prototype._update=function(a){for(var e=this._w,o=this._a|0,h=this._b|0,$=this._c|0,d=this._d|0,Y=this._e|0,ie=0;ie<16;++ie)e[ie]=a.readInt32BE(ie*4);for(;ie<80;++ie)e[ie]=e[ie-3]^e[ie-8]^e[ie-14]^e[ie-16];for(var fe=0;fe<80;++fe){var he=~~(fe/20),ne=rotl5$1(o)+ft$1(he,h,$,d)+Y+e[fe]+K$4[he]|0;Y=d,d=$,$=rotl30$1(h),h=o,o=ne}this._a=o+this._a|0,this._b=h+this._b|0,this._c=$+this._c|0,this._d=d+this._d|0,this._e=Y+this._e|0};Sha.prototype._hash=function(){var a=Buffer$v.allocUnsafe(20);return a.writeInt32BE(this._a|0,0),a.writeInt32BE(this._b|0,4),a.writeInt32BE(this._c|0,8),a.writeInt32BE(this._d|0,12),a.writeInt32BE(this._e|0,16),a};var sha$4=Sha,inherits$n=inherits_browserExports,Hash$5=hash$3,Buffer$u=safeBufferExports$1.Buffer,K$3=[1518500249,1859775393,-1894007588,-899497514],W$4=new Array(80);function Sha1(){this.init(),this._w=W$4,Hash$5.call(this,64,56)}inherits$n(Sha1,Hash$5);Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl1(a){return a<<1|a>>>31}function rotl5(a){return a<<5|a>>>27}function rotl30(a){return a<<30|a>>>2}function ft(a,e,o,h){return a===0?e&o|~e&h:a===2?e&o|e&h|o&h:e^o^h}Sha1.prototype._update=function(a){for(var e=this._w,o=this._a|0,h=this._b|0,$=this._c|0,d=this._d|0,Y=this._e|0,ie=0;ie<16;++ie)e[ie]=a.readInt32BE(ie*4);for(;ie<80;++ie)e[ie]=rotl1(e[ie-3]^e[ie-8]^e[ie-14]^e[ie-16]);for(var fe=0;fe<80;++fe){var he=~~(fe/20),ne=rotl5(o)+ft(he,h,$,d)+Y+e[fe]+K$3[he]|0;Y=d,d=$,$=rotl30(h),h=o,o=ne}this._a=o+this._a|0,this._b=h+this._b|0,this._c=$+this._c|0,this._d=d+this._d|0,this._e=Y+this._e|0};Sha1.prototype._hash=function(){var a=Buffer$u.allocUnsafe(20);return a.writeInt32BE(this._a|0,0),a.writeInt32BE(this._b|0,4),a.writeInt32BE(this._c|0,8),a.writeInt32BE(this._d|0,12),a.writeInt32BE(this._e|0,16),a};var sha1$4=Sha1,inherits$m=inherits_browserExports,Hash$4=hash$3,Buffer$t=safeBufferExports$1.Buffer,K$2=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W$3=new Array(64);function Sha256$1(){this.init(),this._w=W$3,Hash$4.call(this,64,56)}inherits$m(Sha256$1,Hash$4);Sha256$1.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ch(a,e,o){return o^a&(e^o)}function maj$1(a,e,o){return a&e|o&(a|e)}function sigma0$1(a){return(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10)}function sigma1$1(a){return(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7)}function gamma0(a){return(a>>>7|a<<25)^(a>>>18|a<<14)^a>>>3}function gamma1(a){return(a>>>17|a<<15)^(a>>>19|a<<13)^a>>>10}Sha256$1.prototype._update=function(a){for(var e=this._w,o=this._a|0,h=this._b|0,$=this._c|0,d=this._d|0,Y=this._e|0,ie=this._f|0,fe=this._g|0,he=this._h|0,ne=0;ne<16;++ne)e[ne]=a.readInt32BE(ne*4);for(;ne<64;++ne)e[ne]=gamma1(e[ne-2])+e[ne-7]+gamma0(e[ne-15])+e[ne-16]|0;for(var le=0;le<64;++le){var de=he+sigma1$1(Y)+ch(Y,ie,fe)+K$2[le]+e[le]|0,ce=sigma0$1(o)+maj$1(o,h,$)|0;he=fe,fe=ie,ie=Y,Y=d+de|0,d=$,$=h,h=o,o=de+ce|0}this._a=o+this._a|0,this._b=h+this._b|0,this._c=$+this._c|0,this._d=d+this._d|0,this._e=Y+this._e|0,this._f=ie+this._f|0,this._g=fe+this._g|0,this._h=he+this._h|0};Sha256$1.prototype._hash=function(){var a=Buffer$t.allocUnsafe(32);return a.writeInt32BE(this._a,0),a.writeInt32BE(this._b,4),a.writeInt32BE(this._c,8),a.writeInt32BE(this._d,12),a.writeInt32BE(this._e,16),a.writeInt32BE(this._f,20),a.writeInt32BE(this._g,24),a.writeInt32BE(this._h,28),a};var sha256$1=Sha256$1,inherits$l=inherits_browserExports,Sha256=sha256$1,Hash$3=hash$3,Buffer$s=safeBufferExports$1.Buffer,W$2=new Array(64);function Sha224(){this.init(),this._w=W$2,Hash$3.call(this,64,56)}inherits$l(Sha224,Sha256);Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Sha224.prototype._hash=function(){var a=Buffer$s.allocUnsafe(28);return a.writeInt32BE(this._a,0),a.writeInt32BE(this._b,4),a.writeInt32BE(this._c,8),a.writeInt32BE(this._d,12),a.writeInt32BE(this._e,16),a.writeInt32BE(this._f,20),a.writeInt32BE(this._g,24),a};var sha224$1=Sha224,inherits$k=inherits_browserExports,Hash$2=hash$3,Buffer$r=safeBufferExports$1.Buffer,K$1=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W$1=new Array(160);function Sha512(){this.init(),this._w=W$1,Hash$2.call(this,128,112)}inherits$k(Sha512,Hash$2);Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ch(a,e,o){return o^a&(e^o)}function maj(a,e,o){return a&e|o&(a|e)}function sigma0(a,e){return(a>>>28|e<<4)^(e>>>2|a<<30)^(e>>>7|a<<25)}function sigma1(a,e){return(a>>>14|e<<18)^(a>>>18|e<<14)^(e>>>9|a<<23)}function Gamma0(a,e){return(a>>>1|e<<31)^(a>>>8|e<<24)^a>>>7}function Gamma0l(a,e){return(a>>>1|e<<31)^(a>>>8|e<<24)^(a>>>7|e<<25)}function Gamma1(a,e){return(a>>>19|e<<13)^(e>>>29|a<<3)^a>>>6}function Gamma1l(a,e){return(a>>>19|e<<13)^(e>>>29|a<<3)^(a>>>6|e<<26)}function getCarry(a,e){return a>>>0<e>>>0?1:0}Sha512.prototype._update=function(a){for(var e=this._w,o=this._ah|0,h=this._bh|0,$=this._ch|0,d=this._dh|0,Y=this._eh|0,ie=this._fh|0,fe=this._gh|0,he=this._hh|0,ne=this._al|0,le=this._bl|0,de=this._cl|0,ce=this._dl|0,ge=this._el|0,xe=this._fl|0,Ae=this._gl|0,Ee=this._hl|0,we=0;we<32;we+=2)e[we]=a.readInt32BE(we*4),e[we+1]=a.readInt32BE(we*4+4);for(;we<160;we+=2){var pe=e[we-30],me=e[we-15*2+1],Te=Gamma0(pe,me),Pe=Gamma0l(me,pe);pe=e[we-2*2],me=e[we-2*2+1];var Le=Gamma1(pe,me),qe=Gamma1l(me,pe),Ce=e[we-7*2],ze=e[we-7*2+1],oe=e[we-16*2],c=e[we-16*2+1],b=Pe+ze|0,j=Te+Ce+getCarry(b,Pe)|0;b=b+qe|0,j=j+Le+getCarry(b,qe)|0,b=b+c|0,j=j+oe+getCarry(b,c)|0,e[we]=j,e[we+1]=b}for(var Z=0;Z<160;Z+=2){j=e[Z],b=e[Z+1];var re=maj(o,h,$),ae=maj(ne,le,de),se=sigma0(o,ne),ee=sigma0(ne,o),_=sigma1(Y,ge),te=sigma1(ge,Y),ue=K$1[Z],ve=K$1[Z+1],be=Ch(Y,ie,fe),Me=Ch(ge,xe,Ae),Se=Ee+te|0,_e=he+_+getCarry(Se,Ee)|0;Se=Se+Me|0,_e=_e+be+getCarry(Se,Me)|0,Se=Se+ve|0,_e=_e+ue+getCarry(Se,ve)|0,Se=Se+b|0,_e=_e+j+getCarry(Se,b)|0;var Re=ee+ae|0,Ie=se+re+getCarry(Re,ee)|0;he=fe,Ee=Ae,fe=ie,Ae=xe,ie=Y,xe=ge,ge=ce+Se|0,Y=d+_e+getCarry(ge,ce)|0,d=$,ce=de,$=h,de=le,h=o,le=ne,ne=Se+Re|0,o=_e+Ie+getCarry(ne,Se)|0}this._al=this._al+ne|0,this._bl=this._bl+le|0,this._cl=this._cl+de|0,this._dl=this._dl+ce|0,this._el=this._el+ge|0,this._fl=this._fl+xe|0,this._gl=this._gl+Ae|0,this._hl=this._hl+Ee|0,this._ah=this._ah+o+getCarry(this._al,ne)|0,this._bh=this._bh+h+getCarry(this._bl,le)|0,this._ch=this._ch+$+getCarry(this._cl,de)|0,this._dh=this._dh+d+getCarry(this._dl,ce)|0,this._eh=this._eh+Y+getCarry(this._el,ge)|0,this._fh=this._fh+ie+getCarry(this._fl,xe)|0,this._gh=this._gh+fe+getCarry(this._gl,Ae)|0,this._hh=this._hh+he+getCarry(this._hl,Ee)|0};Sha512.prototype._hash=function(){var a=Buffer$r.allocUnsafe(64);function e(o,h,$){a.writeInt32BE(o,$),a.writeInt32BE(h,$+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),a};var sha512$1=Sha512,inherits$j=inherits_browserExports,SHA512$2=sha512$1,Hash$1=hash$3,Buffer$q=safeBufferExports$1.Buffer,W=new Array(160);function Sha384(){this.init(),this._w=W,Hash$1.call(this,128,112)}inherits$j(Sha384,SHA512$2);Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Sha384.prototype._hash=function(){var a=Buffer$q.allocUnsafe(48);function e(o,h,$){a.writeInt32BE(o,$),a.writeInt32BE(h,$+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),a};var sha384$1=Sha384;(function(a){a.exports=function(o){var h=o.toLowerCase(),$=a.exports[h];if(!$)throw new Error(h+" is not supported (we accept pull requests)");return new $},a.exports.sha=sha$4,a.exports.sha1=sha1$4,a.exports.sha224=sha224$1,a.exports.sha256=sha256$1,a.exports.sha384=sha384$1,a.exports.sha512=sha512$1})(sha_js);var sha_jsExports=sha_js.exports,Buffer$p=safeBufferExports$1.Buffer,Transform$8=streamBrowserify.Transform,StringDecoder=requireString_decoder().StringDecoder,inherits$i=inherits_browserExports;function CipherBase$1(a){Transform$8.call(this),this.hashMode=typeof a=="string",this.hashMode?this[a]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}inherits$i(CipherBase$1,Transform$8);var useUint8Array$1=typeof Uint8Array<"u",useArrayBuffer$1=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(Buffer$p.prototype instanceof Uint8Array||Buffer$p.TYPED_ARRAY_SUPPORT);function toBuffer$3(a,e){if(a instanceof Buffer$p)return a;if(typeof a=="string")return Buffer$p.from(a,e);if(useArrayBuffer$1&&ArrayBuffer.isView(a)){if(a.byteLength===0)return Buffer$p.alloc(0);var o=Buffer$p.from(a.buffer,a.byteOffset,a.byteLength);if(o.byteLength===a.byteLength)return o}if(useUint8Array$1&&a instanceof Uint8Array||Buffer$p.isBuffer(a)&&a.constructor&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a))return Buffer$p.from(a);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}CipherBase$1.prototype.update=function(a,e,o){var h=toBuffer$3(a,e),$=this._update(h);return this.hashMode?this:(o&&($=this._toString($,o)),$)};CipherBase$1.prototype.setAutoPadding=function(){};CipherBase$1.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};CipherBase$1.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};CipherBase$1.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};CipherBase$1.prototype._transform=function(a,e,o){var h;try{this.hashMode?this._update(a):this.push(this._update(a))}catch($){h=$}finally{o(h)}};CipherBase$1.prototype._flush=function(a){var e;try{this.push(this.__final())}catch(o){e=o}a(e)};CipherBase$1.prototype._finalOrDigest=function(a){var e=this.__final()||Buffer$p.alloc(0);return a&&(e=this._toString(e,a,!0)),e};CipherBase$1.prototype._toString=function(a,e,o){if(this._decoder||(this._decoder=new StringDecoder(e),this._encoding=e),this._encoding!==e)throw new Error("cant switch encodings");var h=this._decoder.write(a);return o&&(h+=this._decoder.end()),h};var cipherBase=CipherBase$1,inherits$h=inherits_browserExports,MD5$2=md5_js,RIPEMD160$4=ripemd160$1,sha$3=sha_jsExports,Base$5=cipherBase;function Hash(a){Base$5.call(this,"digest"),this._hash=a}inherits$h(Hash,Base$5);Hash.prototype._update=function(a){this._hash.update(a)};Hash.prototype._final=function(){return this._hash.digest()};var browser$9=function(e){return e=e.toLowerCase(),e==="md5"?new MD5$2:e==="rmd160"||e==="ripemd160"?new RIPEMD160$4:new Hash(sha$3(e))},inherits$g=inherits_browserExports,Buffer$o=safeBufferExports$1.Buffer,Base$4=cipherBase,ZEROS$2=Buffer$o.alloc(128),blocksize=64;function Hmac$3(a,e){Base$4.call(this,"digest"),typeof e=="string"&&(e=Buffer$o.from(e)),this._alg=a,this._key=e,e.length>blocksize?e=a(e):e.length<blocksize&&(e=Buffer$o.concat([e,ZEROS$2],blocksize));for(var o=this._ipad=Buffer$o.allocUnsafe(blocksize),h=this._opad=Buffer$o.allocUnsafe(blocksize),$=0;$<blocksize;$++)o[$]=e[$]^54,h[$]=e[$]^92;this._hash=[o]}inherits$g(Hmac$3,Base$4);Hmac$3.prototype._update=function(a){this._hash.push(a)};Hmac$3.prototype._final=function(){var a=this._alg(Buffer$o.concat(this._hash));return this._alg(Buffer$o.concat([this._opad,a]))};var legacy=Hmac$3,MD5$1=md5_js,md5$3=function(a){return new MD5$1().update(a).digest()},inherits$f=inherits_browserExports,Legacy=legacy,Base$3=cipherBase,Buffer$n=safeBufferExports$1.Buffer,md5$2=md5$3,RIPEMD160$3=ripemd160$1,sha$2=sha_jsExports,ZEROS$1=Buffer$n.alloc(128);function Hmac$2(a,e){Base$3.call(this,"digest"),typeof e=="string"&&(e=Buffer$n.from(e));var o=a==="sha512"||a==="sha384"?128:64;if(this._alg=a,this._key=e,e.length>o){var h=a==="rmd160"?new RIPEMD160$3:sha$2(a);e=h.update(e).digest()}else e.length<o&&(e=Buffer$n.concat([e,ZEROS$1],o));for(var $=this._ipad=Buffer$n.allocUnsafe(o),d=this._opad=Buffer$n.allocUnsafe(o),Y=0;Y<o;Y++)$[Y]=e[Y]^54,d[Y]=e[Y]^92;this._hash=a==="rmd160"?new RIPEMD160$3:sha$2(a),this._hash.update($)}inherits$f(Hmac$2,Base$3);Hmac$2.prototype._update=function(a){this._hash.update(a)};Hmac$2.prototype._final=function(){var a=this._hash.digest(),e=this._alg==="rmd160"?new RIPEMD160$3:sha$2(this._alg);return e.update(this._opad).update(a).digest()};var browser$8=function(e,o){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new Hmac$2("rmd160",o):e==="md5"?new Legacy(md5$2,o):new Hmac$2(e,o)};const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256,sha224,sha384,sha512,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos=require$$6,browser$7={},MAX_ALLOC=Math.pow(2,30)-1,precondition=function(a,e){if(typeof a!="number")throw new TypeError("Iterations not a number");if(a<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>MAX_ALLOC||e!==e)throw new TypeError("Bad key length")},defaultEncoding$2;if(commonjsGlobal.process&&commonjsGlobal.process.browser)defaultEncoding$2="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var pVersionMajor=parseInt(process$1.version.split(".")[0].slice(1),10);defaultEncoding$2=pVersionMajor>=6?"utf-8":"binary"}else defaultEncoding$2="utf-8";var defaultEncoding_1=defaultEncoding$2,intSize=4,zeroBuffer=new Buffer$E(intSize);zeroBuffer.fill(0);var charSize=8,hashSize=16;function toArray$2(a){if(a.length%intSize!==0){var e=a.length+(intSize-a.length%intSize);a=Buffer$E.concat([a,zeroBuffer],e)}for(var o=new Array(a.length>>>2),h=0,$=0;h<a.length;h+=intSize,$++)o[$]=a.readInt32LE(h);return o}var makeHash$1=function(e,o){var h=o(toArray$2(e),e.length*charSize);e=new Buffer$E(hashSize);for(var $=0;$<h.length;$++)e.writeInt32LE(h[$],$<<2,!0);return e},makeHash=makeHash$1;function core_md5(a,e){a[e>>5]|=128<<e%32,a[(e+64>>>9<<4)+14]=e;for(var o=1732584193,h=-271733879,$=-1732584194,d=271733878,Y=0;Y<a.length;Y+=16){var ie=o,fe=h,he=$,ne=d;o=md5_ff(o,h,$,d,a[Y+0],7,-680876936),d=md5_ff(d,o,h,$,a[Y+1],12,-389564586),$=md5_ff($,d,o,h,a[Y+2],17,606105819),h=md5_ff(h,$,d,o,a[Y+3],22,-1044525330),o=md5_ff(o,h,$,d,a[Y+4],7,-176418897),d=md5_ff(d,o,h,$,a[Y+5],12,1200080426),$=md5_ff($,d,o,h,a[Y+6],17,-1473231341),h=md5_ff(h,$,d,o,a[Y+7],22,-45705983),o=md5_ff(o,h,$,d,a[Y+8],7,1770035416),d=md5_ff(d,o,h,$,a[Y+9],12,-1958414417),$=md5_ff($,d,o,h,a[Y+10],17,-42063),h=md5_ff(h,$,d,o,a[Y+11],22,-1990404162),o=md5_ff(o,h,$,d,a[Y+12],7,1804603682),d=md5_ff(d,o,h,$,a[Y+13],12,-40341101),$=md5_ff($,d,o,h,a[Y+14],17,-1502002290),h=md5_ff(h,$,d,o,a[Y+15],22,1236535329),o=md5_gg(o,h,$,d,a[Y+1],5,-165796510),d=md5_gg(d,o,h,$,a[Y+6],9,-1069501632),$=md5_gg($,d,o,h,a[Y+11],14,643717713),h=md5_gg(h,$,d,o,a[Y+0],20,-373897302),o=md5_gg(o,h,$,d,a[Y+5],5,-701558691),d=md5_gg(d,o,h,$,a[Y+10],9,38016083),$=md5_gg($,d,o,h,a[Y+15],14,-660478335),h=md5_gg(h,$,d,o,a[Y+4],20,-405537848),o=md5_gg(o,h,$,d,a[Y+9],5,568446438),d=md5_gg(d,o,h,$,a[Y+14],9,-1019803690),$=md5_gg($,d,o,h,a[Y+3],14,-187363961),h=md5_gg(h,$,d,o,a[Y+8],20,1163531501),o=md5_gg(o,h,$,d,a[Y+13],5,-1444681467),d=md5_gg(d,o,h,$,a[Y+2],9,-51403784),$=md5_gg($,d,o,h,a[Y+7],14,1735328473),h=md5_gg(h,$,d,o,a[Y+12],20,-1926607734),o=md5_hh(o,h,$,d,a[Y+5],4,-378558),d=md5_hh(d,o,h,$,a[Y+8],11,-2022574463),$=md5_hh($,d,o,h,a[Y+11],16,1839030562),h=md5_hh(h,$,d,o,a[Y+14],23,-35309556),o=md5_hh(o,h,$,d,a[Y+1],4,-1530992060),d=md5_hh(d,o,h,$,a[Y+4],11,1272893353),$=md5_hh($,d,o,h,a[Y+7],16,-155497632),h=md5_hh(h,$,d,o,a[Y+10],23,-1094730640),o=md5_hh(o,h,$,d,a[Y+13],4,681279174),d=md5_hh(d,o,h,$,a[Y+0],11,-358537222),$=md5_hh($,d,o,h,a[Y+3],16,-722521979),h=md5_hh(h,$,d,o,a[Y+6],23,76029189),o=md5_hh(o,h,$,d,a[Y+9],4,-640364487),d=md5_hh(d,o,h,$,a[Y+12],11,-421815835),$=md5_hh($,d,o,h,a[Y+15],16,530742520),h=md5_hh(h,$,d,o,a[Y+2],23,-995338651),o=md5_ii(o,h,$,d,a[Y+0],6,-198630844),d=md5_ii(d,o,h,$,a[Y+7],10,1126891415),$=md5_ii($,d,o,h,a[Y+14],15,-1416354905),h=md5_ii(h,$,d,o,a[Y+5],21,-57434055),o=md5_ii(o,h,$,d,a[Y+12],6,1700485571),d=md5_ii(d,o,h,$,a[Y+3],10,-1894986606),$=md5_ii($,d,o,h,a[Y+10],15,-1051523),h=md5_ii(h,$,d,o,a[Y+1],21,-2054922799),o=md5_ii(o,h,$,d,a[Y+8],6,1873313359),d=md5_ii(d,o,h,$,a[Y+15],10,-30611744),$=md5_ii($,d,o,h,a[Y+6],15,-1560198380),h=md5_ii(h,$,d,o,a[Y+13],21,1309151649),o=md5_ii(o,h,$,d,a[Y+4],6,-145523070),d=md5_ii(d,o,h,$,a[Y+11],10,-1120210379),$=md5_ii($,d,o,h,a[Y+2],15,718787259),h=md5_ii(h,$,d,o,a[Y+9],21,-343485551),o=safe_add(o,ie),h=safe_add(h,fe),$=safe_add($,he),d=safe_add(d,ne)}return[o,h,$,d]}function md5_cmn(a,e,o,h,$,d){return safe_add(bit_rol(safe_add(safe_add(e,a),safe_add(h,d)),$),o)}function md5_ff(a,e,o,h,$,d,Y){return md5_cmn(e&o|~e&h,a,e,$,d,Y)}function md5_gg(a,e,o,h,$,d,Y){return md5_cmn(e&h|o&~h,a,e,$,d,Y)}function md5_hh(a,e,o,h,$,d,Y){return md5_cmn(e^o^h,a,e,$,d,Y)}function md5_ii(a,e,o,h,$,d,Y){return md5_cmn(o^(e|~h),a,e,$,d,Y)}function safe_add(a,e){var o=(a&65535)+(e&65535),h=(a>>16)+(e>>16)+(o>>16);return h<<16|o&65535}function bit_rol(a,e){return a<<e|a>>>32-e}var md5$1=function(e){return makeHash(e,core_md5)},Transform$7=streamBrowserify.Transform,inherits$e=inherits_browserExports;function HashBase$1(a){Transform$7.call(this),this._block=new Buffer$E(a),this._blockSize=a,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}inherits$e(HashBase$1,Transform$7);HashBase$1.prototype._transform=function(a,e,o){var h=null;try{e!=="buffer"&&(a=new Buffer$E(a,e)),this.update(a)}catch($){h=$}o(h)};HashBase$1.prototype._flush=function(a){var e=null;try{this.push(this._digest())}catch(o){e=o}a(e)};HashBase$1.prototype.update=function(a,e){if(!Buffer$E.isBuffer(a)&&typeof a!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");Buffer$E.isBuffer(a)||(a=new Buffer$E(a,e||"binary"));for(var o=this._block,h=0;this._blockOffset+a.length-h>=this._blockSize;){for(var $=this._blockOffset;$<this._blockSize;)o[$++]=a[h++];this._update(),this._blockOffset=0}for(;h<a.length;)o[this._blockOffset++]=a[h++];for(var d=0,Y=a.length*8;Y>0;++d)this._length[d]+=Y,Y=this._length[d]/4294967296|0,Y>0&&(this._length[d]-=4294967296*Y);return this};HashBase$1.prototype._update=function(a){throw new Error("_update is not implemented")};HashBase$1.prototype.digest=function(a){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();return a!==void 0&&(e=e.toString(a)),e};HashBase$1.prototype._digest=function(){throw new Error("_digest is not implemented")};var hashBase=HashBase$1,inherits$d=inherits_browserExports,HashBase=hashBase;function RIPEMD160$2(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}inherits$d(RIPEMD160$2,HashBase);RIPEMD160$2.prototype._update=function(){for(var a=new Array(16),e=0;e<16;++e)a[e]=this._block.readInt32LE(e*4);var o=this._a,h=this._b,$=this._c,d=this._d,Y=this._e;o=fn1(o,h,$,d,Y,a[0],0,11),$=rotl($,10),Y=fn1(Y,o,h,$,d,a[1],0,14),h=rotl(h,10),d=fn1(d,Y,o,h,$,a[2],0,15),o=rotl(o,10),$=fn1($,d,Y,o,h,a[3],0,12),Y=rotl(Y,10),h=fn1(h,$,d,Y,o,a[4],0,5),d=rotl(d,10),o=fn1(o,h,$,d,Y,a[5],0,8),$=rotl($,10),Y=fn1(Y,o,h,$,d,a[6],0,7),h=rotl(h,10),d=fn1(d,Y,o,h,$,a[7],0,9),o=rotl(o,10),$=fn1($,d,Y,o,h,a[8],0,11),Y=rotl(Y,10),h=fn1(h,$,d,Y,o,a[9],0,13),d=rotl(d,10),o=fn1(o,h,$,d,Y,a[10],0,14),$=rotl($,10),Y=fn1(Y,o,h,$,d,a[11],0,15),h=rotl(h,10),d=fn1(d,Y,o,h,$,a[12],0,6),o=rotl(o,10),$=fn1($,d,Y,o,h,a[13],0,7),Y=rotl(Y,10),h=fn1(h,$,d,Y,o,a[14],0,9),d=rotl(d,10),o=fn1(o,h,$,d,Y,a[15],0,8),$=rotl($,10),Y=fn2(Y,o,h,$,d,a[7],1518500249,7),h=rotl(h,10),d=fn2(d,Y,o,h,$,a[4],1518500249,6),o=rotl(o,10),$=fn2($,d,Y,o,h,a[13],1518500249,8),Y=rotl(Y,10),h=fn2(h,$,d,Y,o,a[1],1518500249,13),d=rotl(d,10),o=fn2(o,h,$,d,Y,a[10],1518500249,11),$=rotl($,10),Y=fn2(Y,o,h,$,d,a[6],1518500249,9),h=rotl(h,10),d=fn2(d,Y,o,h,$,a[15],1518500249,7),o=rotl(o,10),$=fn2($,d,Y,o,h,a[3],1518500249,15),Y=rotl(Y,10),h=fn2(h,$,d,Y,o,a[12],1518500249,7),d=rotl(d,10),o=fn2(o,h,$,d,Y,a[0],1518500249,12),$=rotl($,10),Y=fn2(Y,o,h,$,d,a[9],1518500249,15),h=rotl(h,10),d=fn2(d,Y,o,h,$,a[5],1518500249,9),o=rotl(o,10),$=fn2($,d,Y,o,h,a[2],1518500249,11),Y=rotl(Y,10),h=fn2(h,$,d,Y,o,a[14],1518500249,7),d=rotl(d,10),o=fn2(o,h,$,d,Y,a[11],1518500249,13),$=rotl($,10),Y=fn2(Y,o,h,$,d,a[8],1518500249,12),h=rotl(h,10),d=fn3(d,Y,o,h,$,a[3],1859775393,11),o=rotl(o,10),$=fn3($,d,Y,o,h,a[10],1859775393,13),Y=rotl(Y,10),h=fn3(h,$,d,Y,o,a[14],1859775393,6),d=rotl(d,10),o=fn3(o,h,$,d,Y,a[4],1859775393,7),$=rotl($,10),Y=fn3(Y,o,h,$,d,a[9],1859775393,14),h=rotl(h,10),d=fn3(d,Y,o,h,$,a[15],1859775393,9),o=rotl(o,10),$=fn3($,d,Y,o,h,a[8],1859775393,13),Y=rotl(Y,10),h=fn3(h,$,d,Y,o,a[1],1859775393,15),d=rotl(d,10),o=fn3(o,h,$,d,Y,a[2],1859775393,14),$=rotl($,10),Y=fn3(Y,o,h,$,d,a[7],1859775393,8),h=rotl(h,10),d=fn3(d,Y,o,h,$,a[0],1859775393,13),o=rotl(o,10),$=fn3($,d,Y,o,h,a[6],1859775393,6),Y=rotl(Y,10),h=fn3(h,$,d,Y,o,a[13],1859775393,5),d=rotl(d,10),o=fn3(o,h,$,d,Y,a[11],1859775393,12),$=rotl($,10),Y=fn3(Y,o,h,$,d,a[5],1859775393,7),h=rotl(h,10),d=fn3(d,Y,o,h,$,a[12],1859775393,5),o=rotl(o,10),$=fn4($,d,Y,o,h,a[1],2400959708,11),Y=rotl(Y,10),h=fn4(h,$,d,Y,o,a[9],2400959708,12),d=rotl(d,10),o=fn4(o,h,$,d,Y,a[11],2400959708,14),$=rotl($,10),Y=fn4(Y,o,h,$,d,a[10],2400959708,15),h=rotl(h,10),d=fn4(d,Y,o,h,$,a[0],2400959708,14),o=rotl(o,10),$=fn4($,d,Y,o,h,a[8],2400959708,15),Y=rotl(Y,10),h=fn4(h,$,d,Y,o,a[12],2400959708,9),d=rotl(d,10),o=fn4(o,h,$,d,Y,a[4],2400959708,8),$=rotl($,10),Y=fn4(Y,o,h,$,d,a[13],2400959708,9),h=rotl(h,10),d=fn4(d,Y,o,h,$,a[3],2400959708,14),o=rotl(o,10),$=fn4($,d,Y,o,h,a[7],2400959708,5),Y=rotl(Y,10),h=fn4(h,$,d,Y,o,a[15],2400959708,6),d=rotl(d,10),o=fn4(o,h,$,d,Y,a[14],2400959708,8),$=rotl($,10),Y=fn4(Y,o,h,$,d,a[5],2400959708,6),h=rotl(h,10),d=fn4(d,Y,o,h,$,a[6],2400959708,5),o=rotl(o,10),$=fn4($,d,Y,o,h,a[2],2400959708,12),Y=rotl(Y,10),h=fn5(h,$,d,Y,o,a[4],2840853838,9),d=rotl(d,10),o=fn5(o,h,$,d,Y,a[0],2840853838,15),$=rotl($,10),Y=fn5(Y,o,h,$,d,a[5],2840853838,5),h=rotl(h,10),d=fn5(d,Y,o,h,$,a[9],2840853838,11),o=rotl(o,10),$=fn5($,d,Y,o,h,a[7],2840853838,6),Y=rotl(Y,10),h=fn5(h,$,d,Y,o,a[12],2840853838,8),d=rotl(d,10),o=fn5(o,h,$,d,Y,a[2],2840853838,13),$=rotl($,10),Y=fn5(Y,o,h,$,d,a[10],2840853838,12),h=rotl(h,10),d=fn5(d,Y,o,h,$,a[14],2840853838,5),o=rotl(o,10),$=fn5($,d,Y,o,h,a[1],2840853838,12),Y=rotl(Y,10),h=fn5(h,$,d,Y,o,a[3],2840853838,13),d=rotl(d,10),o=fn5(o,h,$,d,Y,a[8],2840853838,14),$=rotl($,10),Y=fn5(Y,o,h,$,d,a[11],2840853838,11),h=rotl(h,10),d=fn5(d,Y,o,h,$,a[6],2840853838,8),o=rotl(o,10),$=fn5($,d,Y,o,h,a[15],2840853838,5),Y=rotl(Y,10),h=fn5(h,$,d,Y,o,a[13],2840853838,6),d=rotl(d,10);var ie=this._a,fe=this._b,he=this._c,ne=this._d,le=this._e;ie=fn5(ie,fe,he,ne,le,a[5],1352829926,8),he=rotl(he,10),le=fn5(le,ie,fe,he,ne,a[14],1352829926,9),fe=rotl(fe,10),ne=fn5(ne,le,ie,fe,he,a[7],1352829926,9),ie=rotl(ie,10),he=fn5(he,ne,le,ie,fe,a[0],1352829926,11),le=rotl(le,10),fe=fn5(fe,he,ne,le,ie,a[9],1352829926,13),ne=rotl(ne,10),ie=fn5(ie,fe,he,ne,le,a[2],1352829926,15),he=rotl(he,10),le=fn5(le,ie,fe,he,ne,a[11],1352829926,15),fe=rotl(fe,10),ne=fn5(ne,le,ie,fe,he,a[4],1352829926,5),ie=rotl(ie,10),he=fn5(he,ne,le,ie,fe,a[13],1352829926,7),le=rotl(le,10),fe=fn5(fe,he,ne,le,ie,a[6],1352829926,7),ne=rotl(ne,10),ie=fn5(ie,fe,he,ne,le,a[15],1352829926,8),he=rotl(he,10),le=fn5(le,ie,fe,he,ne,a[8],1352829926,11),fe=rotl(fe,10),ne=fn5(ne,le,ie,fe,he,a[1],1352829926,14),ie=rotl(ie,10),he=fn5(he,ne,le,ie,fe,a[10],1352829926,14),le=rotl(le,10),fe=fn5(fe,he,ne,le,ie,a[3],1352829926,12),ne=rotl(ne,10),ie=fn5(ie,fe,he,ne,le,a[12],1352829926,6),he=rotl(he,10),le=fn4(le,ie,fe,he,ne,a[6],1548603684,9),fe=rotl(fe,10),ne=fn4(ne,le,ie,fe,he,a[11],1548603684,13),ie=rotl(ie,10),he=fn4(he,ne,le,ie,fe,a[3],1548603684,15),le=rotl(le,10),fe=fn4(fe,he,ne,le,ie,a[7],1548603684,7),ne=rotl(ne,10),ie=fn4(ie,fe,he,ne,le,a[0],1548603684,12),he=rotl(he,10),le=fn4(le,ie,fe,he,ne,a[13],1548603684,8),fe=rotl(fe,10),ne=fn4(ne,le,ie,fe,he,a[5],1548603684,9),ie=rotl(ie,10),he=fn4(he,ne,le,ie,fe,a[10],1548603684,11),le=rotl(le,10),fe=fn4(fe,he,ne,le,ie,a[14],1548603684,7),ne=rotl(ne,10),ie=fn4(ie,fe,he,ne,le,a[15],1548603684,7),he=rotl(he,10),le=fn4(le,ie,fe,he,ne,a[8],1548603684,12),fe=rotl(fe,10),ne=fn4(ne,le,ie,fe,he,a[12],1548603684,7),ie=rotl(ie,10),he=fn4(he,ne,le,ie,fe,a[4],1548603684,6),le=rotl(le,10),fe=fn4(fe,he,ne,le,ie,a[9],1548603684,15),ne=rotl(ne,10),ie=fn4(ie,fe,he,ne,le,a[1],1548603684,13),he=rotl(he,10),le=fn4(le,ie,fe,he,ne,a[2],1548603684,11),fe=rotl(fe,10),ne=fn3(ne,le,ie,fe,he,a[15],1836072691,9),ie=rotl(ie,10),he=fn3(he,ne,le,ie,fe,a[5],1836072691,7),le=rotl(le,10),fe=fn3(fe,he,ne,le,ie,a[1],1836072691,15),ne=rotl(ne,10),ie=fn3(ie,fe,he,ne,le,a[3],1836072691,11),he=rotl(he,10),le=fn3(le,ie,fe,he,ne,a[7],1836072691,8),fe=rotl(fe,10),ne=fn3(ne,le,ie,fe,he,a[14],1836072691,6),ie=rotl(ie,10),he=fn3(he,ne,le,ie,fe,a[6],1836072691,6),le=rotl(le,10),fe=fn3(fe,he,ne,le,ie,a[9],1836072691,14),ne=rotl(ne,10),ie=fn3(ie,fe,he,ne,le,a[11],1836072691,12),he=rotl(he,10),le=fn3(le,ie,fe,he,ne,a[8],1836072691,13),fe=rotl(fe,10),ne=fn3(ne,le,ie,fe,he,a[12],1836072691,5),ie=rotl(ie,10),he=fn3(he,ne,le,ie,fe,a[2],1836072691,14),le=rotl(le,10),fe=fn3(fe,he,ne,le,ie,a[10],1836072691,13),ne=rotl(ne,10),ie=fn3(ie,fe,he,ne,le,a[0],1836072691,13),he=rotl(he,10),le=fn3(le,ie,fe,he,ne,a[4],1836072691,7),fe=rotl(fe,10),ne=fn3(ne,le,ie,fe,he,a[13],1836072691,5),ie=rotl(ie,10),he=fn2(he,ne,le,ie,fe,a[8],2053994217,15),le=rotl(le,10),fe=fn2(fe,he,ne,le,ie,a[6],2053994217,5),ne=rotl(ne,10),ie=fn2(ie,fe,he,ne,le,a[4],2053994217,8),he=rotl(he,10),le=fn2(le,ie,fe,he,ne,a[1],2053994217,11),fe=rotl(fe,10),ne=fn2(ne,le,ie,fe,he,a[3],2053994217,14),ie=rotl(ie,10),he=fn2(he,ne,le,ie,fe,a[11],2053994217,14),le=rotl(le,10),fe=fn2(fe,he,ne,le,ie,a[15],2053994217,6),ne=rotl(ne,10),ie=fn2(ie,fe,he,ne,le,a[0],2053994217,14),he=rotl(he,10),le=fn2(le,ie,fe,he,ne,a[5],2053994217,6),fe=rotl(fe,10),ne=fn2(ne,le,ie,fe,he,a[12],2053994217,9),ie=rotl(ie,10),he=fn2(he,ne,le,ie,fe,a[2],2053994217,12),le=rotl(le,10),fe=fn2(fe,he,ne,le,ie,a[13],2053994217,9),ne=rotl(ne,10),ie=fn2(ie,fe,he,ne,le,a[9],2053994217,12),he=rotl(he,10),le=fn2(le,ie,fe,he,ne,a[7],2053994217,5),fe=rotl(fe,10),ne=fn2(ne,le,ie,fe,he,a[10],2053994217,15),ie=rotl(ie,10),he=fn2(he,ne,le,ie,fe,a[14],2053994217,8),le=rotl(le,10),fe=fn1(fe,he,ne,le,ie,a[12],0,8),ne=rotl(ne,10),ie=fn1(ie,fe,he,ne,le,a[15],0,5),he=rotl(he,10),le=fn1(le,ie,fe,he,ne,a[10],0,12),fe=rotl(fe,10),ne=fn1(ne,le,ie,fe,he,a[4],0,9),ie=rotl(ie,10),he=fn1(he,ne,le,ie,fe,a[1],0,12),le=rotl(le,10),fe=fn1(fe,he,ne,le,ie,a[5],0,5),ne=rotl(ne,10),ie=fn1(ie,fe,he,ne,le,a[8],0,14),he=rotl(he,10),le=fn1(le,ie,fe,he,ne,a[7],0,6),fe=rotl(fe,10),ne=fn1(ne,le,ie,fe,he,a[6],0,8),ie=rotl(ie,10),he=fn1(he,ne,le,ie,fe,a[2],0,13),le=rotl(le,10),fe=fn1(fe,he,ne,le,ie,a[13],0,6),ne=rotl(ne,10),ie=fn1(ie,fe,he,ne,le,a[14],0,5),he=rotl(he,10),le=fn1(le,ie,fe,he,ne,a[0],0,15),fe=rotl(fe,10),ne=fn1(ne,le,ie,fe,he,a[3],0,13),ie=rotl(ie,10),he=fn1(he,ne,le,ie,fe,a[9],0,11),le=rotl(le,10),fe=fn1(fe,he,ne,le,ie,a[11],0,11),ne=rotl(ne,10);var de=this._b+$+ne|0;this._b=this._c+d+le|0,this._c=this._d+Y+ie|0,this._d=this._e+o+fe|0,this._e=this._a+h+he|0,this._a=de};RIPEMD160$2.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var a=new Buffer$E(20);return a.writeInt32LE(this._a,0),a.writeInt32LE(this._b,4),a.writeInt32LE(this._c,8),a.writeInt32LE(this._d,12),a.writeInt32LE(this._e,16),a};function rotl(a,e){return a<<e|a>>>32-e}function fn1(a,e,o,h,$,d,Y,ie){return rotl(a+(e^o^h)+d+Y|0,ie)+$|0}function fn2(a,e,o,h,$,d,Y,ie){return rotl(a+(e&o|~e&h)+d+Y|0,ie)+$|0}function fn3(a,e,o,h,$,d,Y,ie){return rotl(a+((e|~o)^h)+d+Y|0,ie)+$|0}function fn4(a,e,o,h,$,d,Y,ie){return rotl(a+(e&h|o&~h)+d+Y|0,ie)+$|0}function fn5(a,e,o,h,$,d,Y,ie){return rotl(a+(e^(o|~h))+d+Y|0,ie)+$|0}var ripemd160=RIPEMD160$2,Buffer$m=safeBufferExports$1.Buffer,toBuffer$2=toBuffer$5,useUint8Array=typeof Uint8Array<"u",useArrayBuffer=useUint8Array&&typeof ArrayBuffer<"u",isView=useArrayBuffer&&ArrayBuffer.isView,toBuffer_1=function(a,e,o){if(typeof a=="string"||Buffer$m.isBuffer(a)||useUint8Array&&a instanceof Uint8Array||isView&&isView(a))return toBuffer$2(a,e);throw new TypeError(o+" must be a string, a Buffer, a Uint8Array, or a DataView")},md5=md5$1,RIPEMD160$1=ripemd160,sha$1=sha_jsExports,Buffer$l=safeBufferExports$1.Buffer,checkParameters$1=precondition,defaultEncoding$1=defaultEncoding_1,toBuffer$1=toBuffer_1,ZEROS=Buffer$l.alloc(128),sizes={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},mapping={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function rmd160Func(a){return new RIPEMD160$1().update(a).digest()}function getDigest(a){function e(o){return sha$1(a).update(o).digest()}return a==="rmd160"||a==="ripemd160"?rmd160Func:a==="md5"?md5:e}function Hmac$1(a,e,o){var h=getDigest(a),$=a==="sha512"||a==="sha384"?128:64;e.length>$?e=h(e):e.length<$&&(e=Buffer$l.concat([e,ZEROS],$));for(var d=Buffer$l.allocUnsafe($+sizes[a]),Y=Buffer$l.allocUnsafe($+sizes[a]),ie=0;ie<$;ie++)d[ie]=e[ie]^54,Y[ie]=e[ie]^92;var fe=Buffer$l.allocUnsafe($+o+4);d.copy(fe,0,0,$),this.ipad1=fe,this.ipad2=d,this.opad=Y,this.alg=a,this.blocksize=$,this.hash=h,this.size=sizes[a]}Hmac$1.prototype.run=function(a,e){a.copy(e,this.blocksize);var o=this.hash(e);return o.copy(this.opad,this.blocksize),this.hash(this.opad)};function pbkdf2(a,e,o,h,$){checkParameters$1(o,h),a=toBuffer$1(a,defaultEncoding$1,"Password"),e=toBuffer$1(e,defaultEncoding$1,"Salt");var d=($||"sha1").toLowerCase(),Y=mapping[d]||d,ie=sizes[Y];if(typeof ie!="number"||!ie)throw new TypeError("Digest algorithm not supported: "+$);var fe=new Hmac$1(Y,a,e.length),he=Buffer$l.allocUnsafe(h),ne=Buffer$l.allocUnsafe(e.length+4);e.copy(ne,0,0,e.length);for(var le=0,de=ie,ce=Math.ceil(h/de),ge=1;ge<=ce;ge++){ne.writeUInt32BE(ge,e.length);for(var xe=fe.run(ne,fe.ipad1),Ae=xe,Ee=1;Ee<o;Ee++){Ae=fe.run(Ae,fe.ipad2);for(var we=0;we<de;we++)xe[we]^=Ae[we]}xe.copy(he,le),le+=de}return he}var syncBrowser=pbkdf2,Buffer$k=safeBufferExports$1.Buffer,checkParameters=precondition,defaultEncoding=defaultEncoding_1,sync=syncBrowser,toBuffer=toBuffer_1,ZERO_BUF,subtle=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,toBrowser={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},checks=[],nextTick$1;function getNextTick(){return nextTick$1||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?nextTick$1=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?nextTick$1=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?nextTick$1=commonjsGlobal.setImmediate:nextTick$1=commonjsGlobal.setTimeout,nextTick$1)}function browserPbkdf2(a,e,o,h,$){return subtle.importKey("raw",a,{name:"PBKDF2"},!1,["deriveBits"]).then(function(d){return subtle.deriveBits({name:"PBKDF2",salt:e,iterations:o,hash:{name:$}},d,h<<3)}).then(function(d){return Buffer$k.from(d)})}function checkNative(a){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!subtle||!subtle.importKey||!subtle.deriveBits)return Promise.resolve(!1);if(checks[a]!==void 0)return checks[a];ZERO_BUF=ZERO_BUF||Buffer$k.alloc(8);var e=browserPbkdf2(ZERO_BUF,ZERO_BUF,10,128,a).then(function(){return!0},function(){return!1});return checks[a]=e,e}function resolvePromise(a,e){a.then(function(o){getNextTick()(function(){e(null,o)})},function(o){getNextTick()(function(){e(o)})})}var async=function(a,e,o,h,$,d){typeof $=="function"&&(d=$,$=void 0),$=$||"sha1";var Y=toBrowser[$.toLowerCase()];if(!Y||typeof commonjsGlobal.Promise!="function"){getNextTick()(function(){var ie;try{ie=sync(a,e,o,h,$)}catch(fe){d(fe);return}d(null,ie)});return}if(checkParameters(o,h),a=toBuffer(a,defaultEncoding,"Password"),e=toBuffer(e,defaultEncoding,"Salt"),typeof d!="function")throw new Error("No callback provided to pbkdf2");resolvePromise(checkNative(Y).then(function(ie){return ie?browserPbkdf2(a,e,o,h,Y):sync(a,e,o,h,$)}),d)};browser$7.pbkdf2=async;browser$7.pbkdf2Sync=syncBrowser;var browser$6={},des$2={},utils$r={};utils$r.readUInt32BE=function(e,o){var h=e[0+o]<<24|e[1+o]<<16|e[2+o]<<8|e[3+o];return h>>>0};utils$r.writeUInt32BE=function(e,o,h){e[0+h]=o>>>24,e[1+h]=o>>>16&255,e[2+h]=o>>>8&255,e[3+h]=o&255};utils$r.ip=function(e,o,h,$){for(var d=0,Y=0,ie=6;ie>=0;ie-=2){for(var fe=0;fe<=24;fe+=8)d<<=1,d|=o>>>fe+ie&1;for(var fe=0;fe<=24;fe+=8)d<<=1,d|=e>>>fe+ie&1}for(var ie=6;ie>=0;ie-=2){for(var fe=1;fe<=25;fe+=8)Y<<=1,Y|=o>>>fe+ie&1;for(var fe=1;fe<=25;fe+=8)Y<<=1,Y|=e>>>fe+ie&1}h[$+0]=d>>>0,h[$+1]=Y>>>0};utils$r.rip=function(e,o,h,$){for(var d=0,Y=0,ie=0;ie<4;ie++)for(var fe=24;fe>=0;fe-=8)d<<=1,d|=o>>>fe+ie&1,d<<=1,d|=e>>>fe+ie&1;for(var ie=4;ie<8;ie++)for(var fe=24;fe>=0;fe-=8)Y<<=1,Y|=o>>>fe+ie&1,Y<<=1,Y|=e>>>fe+ie&1;h[$+0]=d>>>0,h[$+1]=Y>>>0};utils$r.pc1=function(e,o,h,$){for(var d=0,Y=0,ie=7;ie>=5;ie--){for(var fe=0;fe<=24;fe+=8)d<<=1,d|=o>>fe+ie&1;for(var fe=0;fe<=24;fe+=8)d<<=1,d|=e>>fe+ie&1}for(var fe=0;fe<=24;fe+=8)d<<=1,d|=o>>fe+ie&1;for(var ie=1;ie<=3;ie++){for(var fe=0;fe<=24;fe+=8)Y<<=1,Y|=o>>fe+ie&1;for(var fe=0;fe<=24;fe+=8)Y<<=1,Y|=e>>fe+ie&1}for(var fe=0;fe<=24;fe+=8)Y<<=1,Y|=e>>fe+ie&1;h[$+0]=d>>>0,h[$+1]=Y>>>0};utils$r.r28shl=function(e,o){return e<<o&268435455|e>>>28-o};var pc2table=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$r.pc2=function(e,o,h,$){for(var d=0,Y=0,ie=pc2table.length>>>1,fe=0;fe<ie;fe++)d<<=1,d|=e>>>pc2table[fe]&1;for(var fe=ie;fe<pc2table.length;fe++)Y<<=1,Y|=o>>>pc2table[fe]&1;h[$+0]=d>>>0,h[$+1]=Y>>>0};utils$r.expand=function(e,o,h){var $=0,d=0;$=(e&1)<<5|e>>>27;for(var Y=23;Y>=15;Y-=4)$<<=6,$|=e>>>Y&63;for(var Y=11;Y>=3;Y-=4)d|=e>>>Y&63,d<<=6;d|=(e&31)<<1|e>>>31,o[h+0]=$>>>0,o[h+1]=d>>>0};var sTable=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$r.substitute=function(e,o){for(var h=0,$=0;$<4;$++){var d=e>>>18-$*6&63,Y=sTable[$*64+d];h<<=4,h|=Y}for(var $=0;$<4;$++){var d=o>>>18-$*6&63,Y=sTable[4*64+$*64+d];h<<=4,h|=Y}return h>>>0};var permuteTable=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];utils$r.permute=function(e){for(var o=0,h=0;h<permuteTable.length;h++)o<<=1,o|=e>>>permuteTable[h]&1;return o>>>0};utils$r.padSplit=function(e,o,h){for(var $=e.toString(2);$.length<o;)$="0"+$;for(var d=[],Y=0;Y<o;Y+=h)d.push($.slice(Y,Y+h));return d.join(" ")};var minimalisticAssert=assert$j;function assert$j(a,e){if(!a)throw new Error(e||"Assertion failed")}assert$j.equal=function(e,o,h){if(e!=o)throw new Error(h||"Assertion failed: "+e+" != "+o)};var assert$i=minimalisticAssert;function Cipher$3(a){this.options=a,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=a.padding!==!1}var cipher=Cipher$3;Cipher$3.prototype._init=function(){};Cipher$3.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};Cipher$3.prototype._buffer=function(e,o){for(var h=Math.min(this.buffer.length-this.bufferOff,e.length-o),$=0;$<h;$++)this.buffer[this.bufferOff+$]=e[o+$];return this.bufferOff+=h,h};Cipher$3.prototype._flushBuffer=function(e,o){return this._update(this.buffer,0,e,o),this.bufferOff=0,this.blockSize};Cipher$3.prototype._updateEncrypt=function(e){var o=0,h=0,$=(this.bufferOff+e.length)/this.blockSize|0,d=new Array($*this.blockSize);this.bufferOff!==0&&(o+=this._buffer(e,o),this.bufferOff===this.buffer.length&&(h+=this._flushBuffer(d,h)));for(var Y=e.length-(e.length-o)%this.blockSize;o<Y;o+=this.blockSize)this._update(e,o,d,h),h+=this.blockSize;for(;o<e.length;o++,this.bufferOff++)this.buffer[this.bufferOff]=e[o];return d};Cipher$3.prototype._updateDecrypt=function(e){for(var o=0,h=0,$=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,d=new Array($*this.blockSize);$>0;$--)o+=this._buffer(e,o),h+=this._flushBuffer(d,h);return o+=this._buffer(e,o),d};Cipher$3.prototype.final=function(e){var o;e&&(o=this.update(e));var h;return this.type==="encrypt"?h=this._finalEncrypt():h=this._finalDecrypt(),o?o.concat(h):h};Cipher$3.prototype._pad=function(e,o){if(o===0)return!1;for(;o<e.length;)e[o++]=0;return!0};Cipher$3.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};Cipher$3.prototype._unpad=function(e){return e};Cipher$3.prototype._finalDecrypt=function(){assert$i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)};var assert$h=minimalisticAssert,inherits$c=inherits_browserExports,utils$q=utils$r,Cipher$2=cipher;function DESState(){this.tmp=new Array(2),this.keys=null}function DES$3(a){Cipher$2.call(this,a);var e=new DESState;this._desState=e,this.deriveKeys(e,a.key)}inherits$c(DES$3,Cipher$2);var des$1=DES$3;DES$3.create=function(e){return new DES$3(e)};var shiftTable=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES$3.prototype.deriveKeys=function(e,o){e.keys=new Array(16*2),assert$h.equal(o.length,this.blockSize,"Invalid key length");var h=utils$q.readUInt32BE(o,0),$=utils$q.readUInt32BE(o,4);utils$q.pc1(h,$,e.tmp,0),h=e.tmp[0],$=e.tmp[1];for(var d=0;d<e.keys.length;d+=2){var Y=shiftTable[d>>>1];h=utils$q.r28shl(h,Y),$=utils$q.r28shl($,Y),utils$q.pc2(h,$,e.keys,d)}};DES$3.prototype._update=function(e,o,h,$){var d=this._desState,Y=utils$q.readUInt32BE(e,o),ie=utils$q.readUInt32BE(e,o+4);utils$q.ip(Y,ie,d.tmp,0),Y=d.tmp[0],ie=d.tmp[1],this.type==="encrypt"?this._encrypt(d,Y,ie,d.tmp,0):this._decrypt(d,Y,ie,d.tmp,0),Y=d.tmp[0],ie=d.tmp[1],utils$q.writeUInt32BE(h,Y,$),utils$q.writeUInt32BE(h,ie,$+4)};DES$3.prototype._pad=function(e,o){if(this.padding===!1)return!1;for(var h=e.length-o,$=o;$<e.length;$++)e[$]=h;return!0};DES$3.prototype._unpad=function(e){if(this.padding===!1)return e;for(var o=e[e.length-1],h=e.length-o;h<e.length;h++)assert$h.equal(e[h],o);return e.slice(0,e.length-o)};DES$3.prototype._encrypt=function(e,o,h,$,d){for(var Y=o,ie=h,fe=0;fe<e.keys.length;fe+=2){var he=e.keys[fe],ne=e.keys[fe+1];utils$q.expand(ie,e.tmp,0),he^=e.tmp[0],ne^=e.tmp[1];var le=utils$q.substitute(he,ne),de=utils$q.permute(le),ce=ie;ie=(Y^de)>>>0,Y=ce}utils$q.rip(ie,Y,$,d)};DES$3.prototype._decrypt=function(e,o,h,$,d){for(var Y=h,ie=o,fe=e.keys.length-2;fe>=0;fe-=2){var he=e.keys[fe],ne=e.keys[fe+1];utils$q.expand(Y,e.tmp,0),he^=e.tmp[0],ne^=e.tmp[1];var le=utils$q.substitute(he,ne),de=utils$q.permute(le),ce=Y;Y=(ie^de)>>>0,ie=ce}utils$q.rip(Y,ie,$,d)};var cbc$1={},assert$g=minimalisticAssert,inherits$b=inherits_browserExports,proto={};function CBCState(a){assert$g.equal(a.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=a[e]}function instantiate(a){function e(d){a.call(this,d),this._cbcInit()}inherits$b(e,a);for(var o=Object.keys(proto),h=0;h<o.length;h++){var $=o[h];e.prototype[$]=proto[$]}return e.create=function(Y){return new e(Y)},e}cbc$1.instantiate=instantiate;proto._cbcInit=function(){var e=new CBCState(this.options.iv);this._cbcState=e};proto._update=function(e,o,h,$){var d=this._cbcState,Y=this.constructor.super_.prototype,ie=d.iv;if(this.type==="encrypt"){for(var fe=0;fe<this.blockSize;fe++)ie[fe]^=e[o+fe];Y._update.call(this,ie,0,h,$);for(var fe=0;fe<this.blockSize;fe++)ie[fe]=h[$+fe]}else{Y._update.call(this,e,o,h,$);for(var fe=0;fe<this.blockSize;fe++)h[$+fe]^=ie[fe];for(var fe=0;fe<this.blockSize;fe++)ie[fe]=e[o+fe]}};var assert$f=minimalisticAssert,inherits$a=inherits_browserExports,Cipher$1=cipher,DES$2=des$1;function EDEState(a,e){assert$f.equal(e.length,24,"Invalid key length");var o=e.slice(0,8),h=e.slice(8,16),$=e.slice(16,24);a==="encrypt"?this.ciphers=[DES$2.create({type:"encrypt",key:o}),DES$2.create({type:"decrypt",key:h}),DES$2.create({type:"encrypt",key:$})]:this.ciphers=[DES$2.create({type:"decrypt",key:$}),DES$2.create({type:"encrypt",key:h}),DES$2.create({type:"decrypt",key:o})]}function EDE(a){Cipher$1.call(this,a);var e=new EDEState(this.type,this.options.key);this._edeState=e}inherits$a(EDE,Cipher$1);var ede=EDE;EDE.create=function(e){return new EDE(e)};EDE.prototype._update=function(e,o,h,$){var d=this._edeState;d.ciphers[0]._update(e,o,h,$),d.ciphers[1]._update(h,$,h,$),d.ciphers[2]._update(h,$,h,$)};EDE.prototype._pad=DES$2.prototype._pad;EDE.prototype._unpad=DES$2.prototype._unpad;des$2.utils=utils$r;des$2.Cipher=cipher;des$2.DES=des$1;des$2.CBC=cbc$1;des$2.EDE=ede;var CipherBase=cipherBase,des=des$2,inherits$9=inherits_browserExports,Buffer$j=safeBufferExports$1.Buffer,modes$3={"des-ede3-cbc":des.CBC.instantiate(des.EDE),"des-ede3":des.EDE,"des-ede-cbc":des.CBC.instantiate(des.EDE),"des-ede":des.EDE,"des-cbc":des.CBC.instantiate(des.DES),"des-ecb":des.DES};modes$3.des=modes$3["des-cbc"];modes$3.des3=modes$3["des-ede3-cbc"];var browserifyDes=DES$1;inherits$9(DES$1,CipherBase);function DES$1(a){CipherBase.call(this);var e=a.mode.toLowerCase(),o=modes$3[e],h;a.decrypt?h="decrypt":h="encrypt";var $=a.key;Buffer$j.isBuffer($)||($=Buffer$j.from($)),(e==="des-ede"||e==="des-ede-cbc")&&($=Buffer$j.concat([$,$.slice(0,8)]));var d=a.iv;Buffer$j.isBuffer(d)||(d=Buffer$j.from(d)),this._des=o.create({key:$,iv:d,type:h})}DES$1.prototype._update=function(a){return Buffer$j.from(this._des.update(a))};DES$1.prototype._final=function(){return Buffer$j.from(this._des.final())};var browser$5={},encrypter={},ecb={};ecb.encrypt=function(a,e){return a._cipher.encryptBlock(e)};ecb.decrypt=function(a,e){return a._cipher.decryptBlock(e)};var cbc={},bufferXor=function(e,o){for(var h=Math.min(e.length,o.length),$=new Buffer$E(h),d=0;d<h;++d)$[d]=e[d]^o[d];return $},xor$8=bufferXor;cbc.encrypt=function(a,e){var o=xor$8(e,a._prev);return a._prev=a._cipher.encryptBlock(o),a._prev};cbc.decrypt=function(a,e){var o=a._prev;a._prev=e;var h=a._cipher.decryptBlock(e);return xor$8(h,o)};var cfb={},Buffer$i=safeBufferExports$1.Buffer,xor$7=bufferXor;function encryptStart(a,e,o){var h=e.length,$=xor$7(e,a._cache);return a._cache=a._cache.slice(h),a._prev=Buffer$i.concat([a._prev,o?e:$]),$}cfb.encrypt=function(a,e,o){for(var h=Buffer$i.allocUnsafe(0),$;e.length;)if(a._cache.length===0&&(a._cache=a._cipher.encryptBlock(a._prev),a._prev=Buffer$i.allocUnsafe(0)),a._cache.length<=e.length)$=a._cache.length,h=Buffer$i.concat([h,encryptStart(a,e.slice(0,$),o)]),e=e.slice($);else{h=Buffer$i.concat([h,encryptStart(a,e,o)]);break}return h};var cfb8={},Buffer$h=safeBufferExports$1.Buffer;function encryptByte$1(a,e,o){var h=a._cipher.encryptBlock(a._prev),$=h[0]^e;return a._prev=Buffer$h.concat([a._prev.slice(1),Buffer$h.from([o?e:$])]),$}cfb8.encrypt=function(a,e,o){for(var h=e.length,$=Buffer$h.allocUnsafe(h),d=-1;++d<h;)$[d]=encryptByte$1(a,e[d],o);return $};var cfb1={},Buffer$g=safeBufferExports$1.Buffer;function encryptByte(a,e,o){for(var h,$=-1,d=8,Y=0,ie,fe;++$<d;)h=a._cipher.encryptBlock(a._prev),ie=e&1<<7-$?128:0,fe=h[0]^ie,Y+=(fe&128)>>$%8,a._prev=shiftIn(a._prev,o?ie:fe);return Y}function shiftIn(a,e){var o=a.length,h=-1,$=Buffer$g.allocUnsafe(a.length);for(a=Buffer$g.concat([a,Buffer$g.from([e])]);++h<o;)$[h]=a[h]<<1|a[h+1]>>7;return $}cfb1.encrypt=function(a,e,o){for(var h=e.length,$=Buffer$g.allocUnsafe(h),d=-1;++d<h;)$[d]=encryptByte(a,e[d],o);return $};var ofb={},xor$6=bufferXor;function getBlock$1(a){return a._prev=a._cipher.encryptBlock(a._prev),a._prev}ofb.encrypt=function(a,e){for(;a._cache.length<e.length;)a._cache=Buffer$E.concat([a._cache,getBlock$1(a)]);var o=a._cache.slice(0,e.length);return a._cache=a._cache.slice(e.length),xor$6(e,o)};var ctr={};function incr32$2(a){for(var e=a.length,o;e--;)if(o=a.readUInt8(e),o===255)a.writeUInt8(0,e);else{o++,a.writeUInt8(o,e);break}}var incr32_1=incr32$2,xor$5=bufferXor,Buffer$f=safeBufferExports$1.Buffer,incr32$1=incr32_1;function getBlock(a){var e=a._cipher.encryptBlockRaw(a._prev);return incr32$1(a._prev),e}var blockSize=16;ctr.encrypt=function(a,e){var o=Math.ceil(e.length/blockSize),h=a._cache.length;a._cache=Buffer$f.concat([a._cache,Buffer$f.allocUnsafe(o*blockSize)]);for(var $=0;$<o;$++){var d=getBlock(a),Y=h+$*blockSize;a._cache.writeUInt32BE(d[0],Y+0),a._cache.writeUInt32BE(d[1],Y+4),a._cache.writeUInt32BE(d[2],Y+8),a._cache.writeUInt32BE(d[3],Y+12)}var ie=a._cache.slice(0,e.length);return a._cache=a._cache.slice(e.length),xor$5(e,ie)};const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modeModules={ECB:ecb,CBC:cbc,CFB:cfb,CFB8:cfb8,CFB1:cfb1,OFB:ofb,CTR:ctr,GCM:ctr},modes$2=require$$2;for(var key$2 in modes$2)modes$2[key$2].module=modeModules[modes$2[key$2].mode];var modes_1=modes$2,aes$5={},Buffer$e=safeBufferExports$1.Buffer;function asUInt32Array(a){Buffer$e.isBuffer(a)||(a=Buffer$e.from(a));for(var e=a.length/4|0,o=new Array(e),h=0;h<e;h++)o[h]=a.readUInt32BE(h*4);return o}function scrubVec(a){for(var e=0;e<a.length;a++)a[e]=0}function cryptBlock(a,e,o,h,$){for(var d=o[0],Y=o[1],ie=o[2],fe=o[3],he=a[0]^e[0],ne=a[1]^e[1],le=a[2]^e[2],de=a[3]^e[3],ce,ge,xe,Ae,Ee=4,we=1;we<$;we++)ce=d[he>>>24]^Y[ne>>>16&255]^ie[le>>>8&255]^fe[de&255]^e[Ee++],ge=d[ne>>>24]^Y[le>>>16&255]^ie[de>>>8&255]^fe[he&255]^e[Ee++],xe=d[le>>>24]^Y[de>>>16&255]^ie[he>>>8&255]^fe[ne&255]^e[Ee++],Ae=d[de>>>24]^Y[he>>>16&255]^ie[ne>>>8&255]^fe[le&255]^e[Ee++],he=ce,ne=ge,le=xe,de=Ae;return ce=(h[he>>>24]<<24|h[ne>>>16&255]<<16|h[le>>>8&255]<<8|h[de&255])^e[Ee++],ge=(h[ne>>>24]<<24|h[le>>>16&255]<<16|h[de>>>8&255]<<8|h[he&255])^e[Ee++],xe=(h[le>>>24]<<24|h[de>>>16&255]<<16|h[he>>>8&255]<<8|h[ne&255])^e[Ee++],Ae=(h[de>>>24]<<24|h[he>>>16&255]<<16|h[ne>>>8&255]<<8|h[le&255])^e[Ee++],ce=ce>>>0,ge=ge>>>0,xe=xe>>>0,Ae=Ae>>>0,[ce,ge,xe,Ae]}var RCON=[0,1,2,4,8,16,32,64,128,27,54],G=function(){for(var a=new Array(256),e=0;e<256;e++)e<128?a[e]=e<<1:a[e]=e<<1^283;for(var o=[],h=[],$=[[],[],[],[]],d=[[],[],[],[]],Y=0,ie=0,fe=0;fe<256;++fe){var he=ie^ie<<1^ie<<2^ie<<3^ie<<4;he=he>>>8^he&255^99,o[Y]=he,h[he]=Y;var ne=a[Y],le=a[ne],de=a[le],ce=a[he]*257^he*16843008;$[0][Y]=ce<<24|ce>>>8,$[1][Y]=ce<<16|ce>>>16,$[2][Y]=ce<<8|ce>>>24,$[3][Y]=ce,ce=de*16843009^le*65537^ne*257^Y*16843008,d[0][he]=ce<<24|ce>>>8,d[1][he]=ce<<16|ce>>>16,d[2][he]=ce<<8|ce>>>24,d[3][he]=ce,Y===0?Y=ie=1:(Y=ne^a[a[a[de^ne]]],ie^=a[a[ie]])}return{SBOX:o,INV_SBOX:h,SUB_MIX:$,INV_SUB_MIX:d}}();function AES(a){this._key=asUInt32Array(a),this._reset()}AES.blockSize=4*4;AES.keySize=256/8;AES.prototype.blockSize=AES.blockSize;AES.prototype.keySize=AES.keySize;AES.prototype._reset=function(){for(var a=this._key,e=a.length,o=e+6,h=(o+1)*4,$=[],d=0;d<e;d++)$[d]=a[d];for(d=e;d<h;d++){var Y=$[d-1];d%e===0?(Y=Y<<8|Y>>>24,Y=G.SBOX[Y>>>24]<<24|G.SBOX[Y>>>16&255]<<16|G.SBOX[Y>>>8&255]<<8|G.SBOX[Y&255],Y^=RCON[d/e|0]<<24):e>6&&d%e===4&&(Y=G.SBOX[Y>>>24]<<24|G.SBOX[Y>>>16&255]<<16|G.SBOX[Y>>>8&255]<<8|G.SBOX[Y&255]),$[d]=$[d-e]^Y}for(var ie=[],fe=0;fe<h;fe++){var he=h-fe,ne=$[he-(fe%4?0:4)];fe<4||he<=4?ie[fe]=ne:ie[fe]=G.INV_SUB_MIX[0][G.SBOX[ne>>>24]]^G.INV_SUB_MIX[1][G.SBOX[ne>>>16&255]]^G.INV_SUB_MIX[2][G.SBOX[ne>>>8&255]]^G.INV_SUB_MIX[3][G.SBOX[ne&255]]}this._nRounds=o,this._keySchedule=$,this._invKeySchedule=ie};AES.prototype.encryptBlockRaw=function(a){return a=asUInt32Array(a),cryptBlock(a,this._keySchedule,G.SUB_MIX,G.SBOX,this._nRounds)};AES.prototype.encryptBlock=function(a){var e=this.encryptBlockRaw(a),o=Buffer$e.allocUnsafe(16);return o.writeUInt32BE(e[0],0),o.writeUInt32BE(e[1],4),o.writeUInt32BE(e[2],8),o.writeUInt32BE(e[3],12),o};AES.prototype.decryptBlock=function(a){a=asUInt32Array(a);var e=a[1];a[1]=a[3],a[3]=e;var o=cryptBlock(a,this._invKeySchedule,G.INV_SUB_MIX,G.INV_SBOX,this._nRounds),h=Buffer$e.allocUnsafe(16);return h.writeUInt32BE(o[0],0),h.writeUInt32BE(o[3],4),h.writeUInt32BE(o[2],8),h.writeUInt32BE(o[1],12),h};AES.prototype.scrub=function(){scrubVec(this._keySchedule),scrubVec(this._invKeySchedule),scrubVec(this._key)};aes$5.AES=AES;var Buffer$d=safeBufferExports$1.Buffer,ZEROES=Buffer$d.alloc(16,0);function toArray$1(a){return[a.readUInt32BE(0),a.readUInt32BE(4),a.readUInt32BE(8),a.readUInt32BE(12)]}function fromArray(a){var e=Buffer$d.allocUnsafe(16);return e.writeUInt32BE(a[0]>>>0,0),e.writeUInt32BE(a[1]>>>0,4),e.writeUInt32BE(a[2]>>>0,8),e.writeUInt32BE(a[3]>>>0,12),e}function GHASH$1(a){this.h=a,this.state=Buffer$d.alloc(16,0),this.cache=Buffer$d.allocUnsafe(0)}GHASH$1.prototype.ghash=function(a){for(var e=-1;++e<a.length;)this.state[e]^=a[e];this._multiply()};GHASH$1.prototype._multiply=function(){for(var a=toArray$1(this.h),e=[0,0,0,0],o,h,$,d=-1;++d<128;){for(h=(this.state[~~(d/8)]&1<<7-d%8)!==0,h&&(e[0]^=a[0],e[1]^=a[1],e[2]^=a[2],e[3]^=a[3]),$=(a[3]&1)!==0,o=3;o>0;o--)a[o]=a[o]>>>1|(a[o-1]&1)<<31;a[0]=a[0]>>>1,$&&(a[0]=a[0]^225<<24)}this.state=fromArray(e)};GHASH$1.prototype.update=function(a){this.cache=Buffer$d.concat([this.cache,a]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};GHASH$1.prototype.final=function(a,e){return this.cache.length&&this.ghash(Buffer$d.concat([this.cache,ZEROES],16)),this.ghash(fromArray([0,a,0,e])),this.state};var ghash=GHASH$1,aes$4=aes$5,Buffer$c=safeBufferExports$1.Buffer,Transform$6=cipherBase,inherits$8=inherits_browserExports,GHASH=ghash,xor$4=bufferXor,incr32=incr32_1;function xorTest(a,e){var o=0;a.length!==e.length&&o++;for(var h=Math.min(a.length,e.length),$=0;$<h;++$)o+=a[$]^e[$];return o}function calcIv(a,e,o){if(e.length===12)return a._finID=Buffer$c.concat([e,Buffer$c.from([0,0,0,1])]),Buffer$c.concat([e,Buffer$c.from([0,0,0,2])]);var h=new GHASH(o),$=e.length,d=$%16;h.update(e),d&&(d=16-d,h.update(Buffer$c.alloc(d,0))),h.update(Buffer$c.alloc(8,0));var Y=$*8,ie=Buffer$c.alloc(8);ie.writeUIntBE(Y,0,8),h.update(ie),a._finID=h.state;var fe=Buffer$c.from(a._finID);return incr32(fe),fe}function StreamCipher$3(a,e,o,h){Transform$6.call(this);var $=Buffer$c.alloc(4,0);this._cipher=new aes$4.AES(e);var d=this._cipher.encryptBlock($);this._ghash=new GHASH(d),o=calcIv(this,o,d),this._prev=Buffer$c.from(o),this._cache=Buffer$c.allocUnsafe(0),this._secCache=Buffer$c.allocUnsafe(0),this._decrypt=h,this._alen=0,this._len=0,this._mode=a,this._authTag=null,this._called=!1}inherits$8(StreamCipher$3,Transform$6);StreamCipher$3.prototype._update=function(a){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=Buffer$c.alloc(e,0),this._ghash.update(e))}this._called=!0;var o=this._mode.encrypt(this,a);return this._decrypt?this._ghash.update(a):this._ghash.update(o),this._len+=a.length,o};StreamCipher$3.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var a=xor$4(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&xorTest(a,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=a,this._cipher.scrub()};StreamCipher$3.prototype.getAuthTag=function(){if(this._decrypt||!Buffer$c.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};StreamCipher$3.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};StreamCipher$3.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};var authCipher=StreamCipher$3,aes$3=aes$5,Buffer$b=safeBufferExports$1.Buffer,Transform$5=cipherBase,inherits$7=inherits_browserExports;function StreamCipher$2(a,e,o,h){Transform$5.call(this),this._cipher=new aes$3.AES(e),this._prev=Buffer$b.from(o),this._cache=Buffer$b.allocUnsafe(0),this._secCache=Buffer$b.allocUnsafe(0),this._decrypt=h,this._mode=a}inherits$7(StreamCipher$2,Transform$5);StreamCipher$2.prototype._update=function(a){return this._mode.encrypt(this,a,this._decrypt)};StreamCipher$2.prototype._final=function(){this._cipher.scrub()};var streamCipher=StreamCipher$2,Buffer$a=safeBufferExports$1.Buffer,MD5=md5_js;function EVP_BytesToKey(a,e,o,h){if(Buffer$a.isBuffer(a)||(a=Buffer$a.from(a,"binary")),e&&(Buffer$a.isBuffer(e)||(e=Buffer$a.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var $=o/8,d=Buffer$a.alloc($),Y=Buffer$a.alloc(h||0),ie=Buffer$a.alloc(0);$>0||h>0;){var fe=new MD5;fe.update(ie),fe.update(a),e&&fe.update(e),ie=fe.digest();var he=0;if($>0){var ne=d.length-$;he=Math.min($,ie.length),ie.copy(d,ne,0,he),$-=he}if(he<ie.length&&h>0){var le=Y.length-h,de=Math.min(h,ie.length-he);ie.copy(Y,le,he,he+de),h-=de}}return ie.fill(0),{key:d,iv:Y}}var evp_bytestokey=EVP_BytesToKey,MODES$1=modes_1,AuthCipher$1=authCipher,Buffer$9=safeBufferExports$1.Buffer,StreamCipher$1=streamCipher,Transform$4=cipherBase,aes$2=aes$5,ebtk$2=evp_bytestokey,inherits$6=inherits_browserExports;function Cipher(a,e,o){Transform$4.call(this),this._cache=new Splitter$1,this._cipher=new aes$2.AES(e),this._prev=Buffer$9.from(o),this._mode=a,this._autopadding=!0}inherits$6(Cipher,Transform$4);Cipher.prototype._update=function(a){this._cache.add(a);for(var e,o,h=[];e=this._cache.get();)o=this._mode.encrypt(this,e),h.push(o);return Buffer$9.concat(h)};var PADDING=Buffer$9.alloc(16,16);Cipher.prototype._final=function(){var a=this._cache.flush();if(this._autopadding)return a=this._mode.encrypt(this,a),this._cipher.scrub(),a;if(!a.equals(PADDING))throw this._cipher.scrub(),new Error("data not multiple of block length")};Cipher.prototype.setAutoPadding=function(a){return this._autopadding=!!a,this};function Splitter$1(){this.cache=Buffer$9.allocUnsafe(0)}Splitter$1.prototype.add=function(a){this.cache=Buffer$9.concat([this.cache,a])};Splitter$1.prototype.get=function(){if(this.cache.length>15){var a=this.cache.slice(0,16);return this.cache=this.cache.slice(16),a}return null};Splitter$1.prototype.flush=function(){for(var a=16-this.cache.length,e=Buffer$9.allocUnsafe(a),o=-1;++o<a;)e.writeUInt8(a,o);return Buffer$9.concat([this.cache,e])};function createCipheriv$1(a,e,o){var h=MODES$1[a.toLowerCase()];if(!h)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=Buffer$9.from(e)),e.length!==h.key/8)throw new TypeError("invalid key length "+e.length);if(typeof o=="string"&&(o=Buffer$9.from(o)),h.mode!=="GCM"&&o.length!==h.iv)throw new TypeError("invalid iv length "+o.length);return h.type==="stream"?new StreamCipher$1(h.module,e,o):h.type==="auth"?new AuthCipher$1(h.module,e,o):new Cipher(h.module,e,o)}function createCipher$1(a,e){var o=MODES$1[a.toLowerCase()];if(!o)throw new TypeError("invalid suite type");var h=ebtk$2(e,!1,o.key,o.iv);return createCipheriv$1(a,h.key,h.iv)}encrypter.createCipheriv=createCipheriv$1;encrypter.createCipher=createCipher$1;var decrypter={},AuthCipher=authCipher,Buffer$8=safeBufferExports$1.Buffer,MODES=modes_1,StreamCipher=streamCipher,Transform$3=cipherBase,aes$1=aes$5,ebtk$1=evp_bytestokey,inherits$5=inherits_browserExports;function Decipher(a,e,o){Transform$3.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new aes$1.AES(e),this._prev=Buffer$8.from(o),this._mode=a,this._autopadding=!0}inherits$5(Decipher,Transform$3);Decipher.prototype._update=function(a){this._cache.add(a);for(var e,o,h=[];e=this._cache.get(this._autopadding);)o=this._mode.decrypt(this,e),h.push(o);return Buffer$8.concat(h)};Decipher.prototype._final=function(){var a=this._cache.flush();if(this._autopadding)return unpad(this._mode.decrypt(this,a));if(a)throw new Error("data not multiple of block length")};Decipher.prototype.setAutoPadding=function(a){return this._autopadding=!!a,this};function Splitter(){this.cache=Buffer$8.allocUnsafe(0)}Splitter.prototype.add=function(a){this.cache=Buffer$8.concat([this.cache,a])};Splitter.prototype.get=function(a){var e;if(a){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};Splitter.prototype.flush=function(){if(this.cache.length)return this.cache};function unpad(a){var e=a[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var o=-1;++o<e;)if(a[o+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return a.slice(0,16-e)}function createDecipheriv$1(a,e,o){var h=MODES[a.toLowerCase()];if(!h)throw new TypeError("invalid suite type");if(typeof o=="string"&&(o=Buffer$8.from(o)),h.mode!=="GCM"&&o.length!==h.iv)throw new TypeError("invalid iv length "+o.length);if(typeof e=="string"&&(e=Buffer$8.from(e)),e.length!==h.key/8)throw new TypeError("invalid key length "+e.length);return h.type==="stream"?new StreamCipher(h.module,e,o,!0):h.type==="auth"?new AuthCipher(h.module,e,o,!0):new Decipher(h.module,e,o)}function createDecipher$1(a,e){var o=MODES[a.toLowerCase()];if(!o)throw new TypeError("invalid suite type");var h=ebtk$1(e,!1,o.key,o.iv);return createDecipheriv$1(a,h.key,h.iv)}decrypter.createDecipher=createDecipher$1;decrypter.createDecipheriv=createDecipheriv$1;var ciphers$2=encrypter,deciphers=decrypter,modes$1=require$$2;function getCiphers$1(){return Object.keys(modes$1)}browser$5.createCipher=browser$5.Cipher=ciphers$2.createCipher;browser$5.createCipheriv=browser$5.Cipheriv=ciphers$2.createCipheriv;browser$5.createDecipher=browser$5.Decipher=deciphers.createDecipher;browser$5.createDecipheriv=browser$5.Decipheriv=deciphers.createDecipheriv;browser$5.listCiphers=browser$5.getCiphers=getCiphers$1;var modes={};(function(a){a["des-ecb"]={key:8,iv:0},a["des-cbc"]=a.des={key:8,iv:8},a["des-ede3-cbc"]=a.des3={key:24,iv:8},a["des-ede3"]={key:24,iv:0},a["des-ede-cbc"]={key:16,iv:8},a["des-ede"]={key:16,iv:0}})(modes);var DES=browserifyDes,aes=browser$5,aesModes=modes_1,desModes=modes,ebtk=evp_bytestokey;function createCipher(a,e){a=a.toLowerCase();var o,h;if(aesModes[a])o=aesModes[a].key,h=aesModes[a].iv;else if(desModes[a])o=desModes[a].key*8,h=desModes[a].iv;else throw new TypeError("invalid suite type");var $=ebtk(e,!1,o,h);return createCipheriv(a,$.key,$.iv)}function createDecipher(a,e){a=a.toLowerCase();var o,h;if(aesModes[a])o=aesModes[a].key,h=aesModes[a].iv;else if(desModes[a])o=desModes[a].key*8,h=desModes[a].iv;else throw new TypeError("invalid suite type");var $=ebtk(e,!1,o,h);return createDecipheriv(a,$.key,$.iv)}function createCipheriv(a,e,o){if(a=a.toLowerCase(),aesModes[a])return aes.createCipheriv(a,e,o);if(desModes[a])return new DES({key:e,iv:o,mode:a});throw new TypeError("invalid suite type")}function createDecipheriv(a,e,o){if(a=a.toLowerCase(),aesModes[a])return aes.createDecipheriv(a,e,o);if(desModes[a])return new DES({key:e,iv:o,mode:a,decrypt:!0});throw new TypeError("invalid suite type")}function getCiphers(){return Object.keys(desModes).concat(aes.getCiphers())}browser$6.createCipher=browser$6.Cipher=createCipher;browser$6.createCipheriv=browser$6.Cipheriv=createCipheriv;browser$6.createDecipher=browser$6.Decipher=createDecipher;browser$6.createDecipheriv=browser$6.Decipheriv=createDecipheriv;browser$6.listCiphers=browser$6.getCiphers=getCiphers;var browser$4={},bn$6={exports:{}};bn$6.exports;(function(a){(function(e,o){function h(oe,c){if(!oe)throw new Error(c||"Assertion failed")}function $(oe,c){oe.super_=c;var b=function(){};b.prototype=c.prototype,oe.prototype=new b,oe.prototype.constructor=oe}function d(oe,c,b){if(d.isBN(oe))return oe;this.negative=0,this.words=null,this.length=0,this.red=null,oe!==null&&((c==="le"||c==="be")&&(b=c,c=10),this._init(oe||0,c||10,b||"be"))}typeof e=="object"?e.exports=d:o.BN=d,d.BN=d,d.wordSize=26;var Y;try{typeof window<"u"&&typeof window.Buffer<"u"?Y=window.Buffer:Y=require$$0$3.Buffer}catch{}d.isBN=function(c){return c instanceof d?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===d.wordSize&&Array.isArray(c.words)},d.max=function(c,b){return c.cmp(b)>0?c:b},d.min=function(c,b){return c.cmp(b)<0?c:b},d.prototype._init=function(c,b,j){if(typeof c=="number")return this._initNumber(c,b,j);if(typeof c=="object")return this._initArray(c,b,j);b==="hex"&&(b=16),h(b===(b|0)&&b>=2&&b<=36),c=c.toString().replace(/\s+/g,"");var Z=0;c[0]==="-"&&(Z++,this.negative=1),Z<c.length&&(b===16?this._parseHex(c,Z,j):(this._parseBase(c,b,Z),j==="le"&&this._initArray(this.toArray(),b,j)))},d.prototype._initNumber=function(c,b,j){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(h(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),j==="le"&&this._initArray(this.toArray(),b,j)},d.prototype._initArray=function(c,b,j){if(h(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var Z=0;Z<this.length;Z++)this.words[Z]=0;var re,ae,se=0;if(j==="be")for(Z=c.length-1,re=0;Z>=0;Z-=3)ae=c[Z]|c[Z-1]<<8|c[Z-2]<<16,this.words[re]|=ae<<se&67108863,this.words[re+1]=ae>>>26-se&67108863,se+=24,se>=26&&(se-=26,re++);else if(j==="le")for(Z=0,re=0;Z<c.length;Z+=3)ae=c[Z]|c[Z+1]<<8|c[Z+2]<<16,this.words[re]|=ae<<se&67108863,this.words[re+1]=ae>>>26-se&67108863,se+=24,se>=26&&(se-=26,re++);return this.strip()};function ie(oe,c){var b=oe.charCodeAt(c);return b>=65&&b<=70?b-55:b>=97&&b<=102?b-87:b-48&15}function fe(oe,c,b){var j=ie(oe,b);return b-1>=c&&(j|=ie(oe,b-1)<<4),j}d.prototype._parseHex=function(c,b,j){this.length=Math.ceil((c.length-b)/6),this.words=new Array(this.length);for(var Z=0;Z<this.length;Z++)this.words[Z]=0;var re=0,ae=0,se;if(j==="be")for(Z=c.length-1;Z>=b;Z-=2)se=fe(c,b,Z)<<re,this.words[ae]|=se&67108863,re>=18?(re-=18,ae+=1,this.words[ae]|=se>>>26):re+=8;else{var ee=c.length-b;for(Z=ee%2===0?b+1:b;Z<c.length;Z+=2)se=fe(c,b,Z)<<re,this.words[ae]|=se&67108863,re>=18?(re-=18,ae+=1,this.words[ae]|=se>>>26):re+=8}this.strip()};function he(oe,c,b,j){for(var Z=0,re=Math.min(oe.length,b),ae=c;ae<re;ae++){var se=oe.charCodeAt(ae)-48;Z*=j,se>=49?Z+=se-49+10:se>=17?Z+=se-17+10:Z+=se}return Z}d.prototype._parseBase=function(c,b,j){this.words=[0],this.length=1;for(var Z=0,re=1;re<=67108863;re*=b)Z++;Z--,re=re/b|0;for(var ae=c.length-j,se=ae%Z,ee=Math.min(ae,ae-se)+j,_=0,te=j;te<ee;te+=Z)_=he(c,te,te+Z,b),this.imuln(re),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(se!==0){var ue=1;for(_=he(c,te,c.length,b),te=0;te<se;te++)ue*=b;this.imuln(ue),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this.strip()},d.prototype.copy=function(c){c.words=new Array(this.length);for(var b=0;b<this.length;b++)c.words[b]=this.words[b];c.length=this.length,c.negative=this.negative,c.red=this.red},d.prototype.clone=function(){var c=new d(null);return this.copy(c),c},d.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},d.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},d.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ne=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],le=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],de=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(c,b){c=c||10,b=b|0||1;var j;if(c===16||c==="hex"){j="";for(var Z=0,re=0,ae=0;ae<this.length;ae++){var se=this.words[ae],ee=((se<<Z|re)&16777215).toString(16);re=se>>>24-Z&16777215,Z+=2,Z>=26&&(Z-=26,ae--),re!==0||ae!==this.length-1?j=ne[6-ee.length]+ee+j:j=ee+j}for(re!==0&&(j=re.toString(16)+j);j.length%b!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(c===(c|0)&&c>=2&&c<=36){var _=le[c],te=de[c];j="";var ue=this.clone();for(ue.negative=0;!ue.isZero();){var ve=ue.modn(te).toString(c);ue=ue.idivn(te),ue.isZero()?j=ve+j:j=ne[_-ve.length]+ve+j}for(this.isZero()&&(j="0"+j);j.length%b!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}h(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},d.prototype.toJSON=function(){return this.toString(16)},d.prototype.toBuffer=function(c,b){return h(typeof Y<"u"),this.toArrayLike(Y,c,b)},d.prototype.toArray=function(c,b){return this.toArrayLike(Array,c,b)},d.prototype.toArrayLike=function(c,b,j){var Z=this.byteLength(),re=j||Math.max(1,Z);h(Z<=re,"byte array longer than desired length"),h(re>0,"Requested array length <= 0"),this.strip();var ae=b==="le",se=new c(re),ee,_,te=this.clone();if(ae){for(_=0;!te.isZero();_++)ee=te.andln(255),te.iushrn(8),se[_]=ee;for(;_<re;_++)se[_]=0}else{for(_=0;_<re-Z;_++)se[_]=0;for(_=0;!te.isZero();_++)ee=te.andln(255),te.iushrn(8),se[re-_-1]=ee}return se},Math.clz32?d.prototype._countBits=function(c){return 32-Math.clz32(c)}:d.prototype._countBits=function(c){var b=c,j=0;return b>=4096&&(j+=13,b>>>=13),b>=64&&(j+=7,b>>>=7),b>=8&&(j+=4,b>>>=4),b>=2&&(j+=2,b>>>=2),j+b},d.prototype._zeroBits=function(c){if(c===0)return 26;var b=c,j=0;return b&8191||(j+=13,b>>>=13),b&127||(j+=7,b>>>=7),b&15||(j+=4,b>>>=4),b&3||(j+=2,b>>>=2),b&1||j++,j},d.prototype.bitLength=function(){var c=this.words[this.length-1],b=this._countBits(c);return(this.length-1)*26+b};function ce(oe){for(var c=new Array(oe.bitLength()),b=0;b<c.length;b++){var j=b/26|0,Z=b%26;c[b]=(oe.words[j]&1<<Z)>>>Z}return c}d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,b=0;b<this.length;b++){var j=this._zeroBits(this.words[b]);if(c+=j,j!==26)break}return c},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},d.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var b=0;b<c.length;b++)this.words[b]=this.words[b]|c.words[b];return this.strip()},d.prototype.ior=function(c){return h((this.negative|c.negative)===0),this.iuor(c)},d.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},d.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},d.prototype.iuand=function(c){var b;this.length>c.length?b=c:b=this;for(var j=0;j<b.length;j++)this.words[j]=this.words[j]&c.words[j];return this.length=b.length,this.strip()},d.prototype.iand=function(c){return h((this.negative|c.negative)===0),this.iuand(c)},d.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},d.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},d.prototype.iuxor=function(c){var b,j;this.length>c.length?(b=this,j=c):(b=c,j=this);for(var Z=0;Z<j.length;Z++)this.words[Z]=b.words[Z]^j.words[Z];if(this!==b)for(;Z<b.length;Z++)this.words[Z]=b.words[Z];return this.length=b.length,this.strip()},d.prototype.ixor=function(c){return h((this.negative|c.negative)===0),this.iuxor(c)},d.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},d.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},d.prototype.inotn=function(c){h(typeof c=="number"&&c>=0);var b=Math.ceil(c/26)|0,j=c%26;this._expand(b),j>0&&b--;for(var Z=0;Z<b;Z++)this.words[Z]=~this.words[Z]&67108863;return j>0&&(this.words[Z]=~this.words[Z]&67108863>>26-j),this.strip()},d.prototype.notn=function(c){return this.clone().inotn(c)},d.prototype.setn=function(c,b){h(typeof c=="number"&&c>=0);var j=c/26|0,Z=c%26;return this._expand(j+1),b?this.words[j]=this.words[j]|1<<Z:this.words[j]=this.words[j]&~(1<<Z),this.strip()},d.prototype.iadd=function(c){var b;if(this.negative!==0&&c.negative===0)return this.negative=0,b=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,b=this.isub(c),c.negative=1,b._normSign();var j,Z;this.length>c.length?(j=this,Z=c):(j=c,Z=this);for(var re=0,ae=0;ae<Z.length;ae++)b=(j.words[ae]|0)+(Z.words[ae]|0)+re,this.words[ae]=b&67108863,re=b>>>26;for(;re!==0&&ae<j.length;ae++)b=(j.words[ae]|0)+re,this.words[ae]=b&67108863,re=b>>>26;if(this.length=j.length,re!==0)this.words[this.length]=re,this.length++;else if(j!==this)for(;ae<j.length;ae++)this.words[ae]=j.words[ae];return this},d.prototype.add=function(c){var b;return c.negative!==0&&this.negative===0?(c.negative=0,b=this.sub(c),c.negative^=1,b):c.negative===0&&this.negative!==0?(this.negative=0,b=c.sub(this),this.negative=1,b):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},d.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var b=this.iadd(c);return c.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var j=this.cmp(c);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Z,re;j>0?(Z=this,re=c):(Z=c,re=this);for(var ae=0,se=0;se<re.length;se++)b=(Z.words[se]|0)-(re.words[se]|0)+ae,ae=b>>26,this.words[se]=b&67108863;for(;ae!==0&&se<Z.length;se++)b=(Z.words[se]|0)+ae,ae=b>>26,this.words[se]=b&67108863;if(ae===0&&se<Z.length&&Z!==this)for(;se<Z.length;se++)this.words[se]=Z.words[se];return this.length=Math.max(this.length,se),Z!==this&&(this.negative=1),this.strip()},d.prototype.sub=function(c){return this.clone().isub(c)};function ge(oe,c,b){b.negative=c.negative^oe.negative;var j=oe.length+c.length|0;b.length=j,j=j-1|0;var Z=oe.words[0]|0,re=c.words[0]|0,ae=Z*re,se=ae&67108863,ee=ae/67108864|0;b.words[0]=se;for(var _=1;_<j;_++){for(var te=ee>>>26,ue=ee&67108863,ve=Math.min(_,c.length-1),be=Math.max(0,_-oe.length+1);be<=ve;be++){var Me=_-be|0;Z=oe.words[Me]|0,re=c.words[be]|0,ae=Z*re+ue,te+=ae/67108864|0,ue=ae&67108863}b.words[_]=ue|0,ee=te|0}return ee!==0?b.words[_]=ee|0:b.length--,b.strip()}var xe=function(c,b,j){var Z=c.words,re=b.words,ae=j.words,se=0,ee,_,te,ue=Z[0]|0,ve=ue&8191,be=ue>>>13,Me=Z[1]|0,Se=Me&8191,_e=Me>>>13,Re=Z[2]|0,Ie=Re&8191,Ne=Re>>>13,Oe=Z[3]|0,ke=Oe&8191,He=Oe>>>13,ct=Z[4]|0,Ve=ct&8191,Ye=ct>>>13,wt=Z[5]|0,Qe=wt&8191,Ge=wt>>>13,$t=Z[6]|0,tt=$t&8191,ut=$t>>>13,St=Z[7]|0,Ue=St&8191,je=St>>>13,bt=Z[8]|0,Ke=bt&8191,Ze=bt>>>13,Et=Z[9]|0,Be=Et&8191,ye=Et>>>13,$e=re[0]|0,De=$e&8191,Fe=$e>>>13,Xe=re[1]|0,We=Xe&8191,et=Xe>>>13,xt=re[2]|0,Je=xt&8191,rt=xt>>>13,Mt=re[3]|0,it=Mt&8191,dt=Mt>>>13,Bt=re[4]|0,nt=Bt&8191,pt=Bt>>>13,Rt=re[5]|0,at=Rt&8191,mt=Rt>>>13,kt=re[6]|0,ot=kt&8191,vt=kt>>>13,It=re[7]|0,st=It&8191,gt=It>>>13,Ct=re[8]|0,ht=Ct&8191,yt=Ct>>>13,Dt=re[9]|0,lt=Dt&8191,_t=Dt>>>13;j.negative=c.negative^b.negative,j.length=19,ee=Math.imul(ve,De),_=Math.imul(ve,Fe),_=_+Math.imul(be,De)|0,te=Math.imul(be,Fe);var At=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(At>>>26)|0,At&=67108863,ee=Math.imul(Se,De),_=Math.imul(Se,Fe),_=_+Math.imul(_e,De)|0,te=Math.imul(_e,Fe),ee=ee+Math.imul(ve,We)|0,_=_+Math.imul(ve,et)|0,_=_+Math.imul(be,We)|0,te=te+Math.imul(be,et)|0;var Tt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,ee=Math.imul(Ie,De),_=Math.imul(Ie,Fe),_=_+Math.imul(Ne,De)|0,te=Math.imul(Ne,Fe),ee=ee+Math.imul(Se,We)|0,_=_+Math.imul(Se,et)|0,_=_+Math.imul(_e,We)|0,te=te+Math.imul(_e,et)|0,ee=ee+Math.imul(ve,Je)|0,_=_+Math.imul(ve,rt)|0,_=_+Math.imul(be,Je)|0,te=te+Math.imul(be,rt)|0;var Pt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,ee=Math.imul(ke,De),_=Math.imul(ke,Fe),_=_+Math.imul(He,De)|0,te=Math.imul(He,Fe),ee=ee+Math.imul(Ie,We)|0,_=_+Math.imul(Ie,et)|0,_=_+Math.imul(Ne,We)|0,te=te+Math.imul(Ne,et)|0,ee=ee+Math.imul(Se,Je)|0,_=_+Math.imul(Se,rt)|0,_=_+Math.imul(_e,Je)|0,te=te+Math.imul(_e,rt)|0,ee=ee+Math.imul(ve,it)|0,_=_+Math.imul(ve,dt)|0,_=_+Math.imul(be,it)|0,te=te+Math.imul(be,dt)|0;var Ot=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,ee=Math.imul(Ve,De),_=Math.imul(Ve,Fe),_=_+Math.imul(Ye,De)|0,te=Math.imul(Ye,Fe),ee=ee+Math.imul(ke,We)|0,_=_+Math.imul(ke,et)|0,_=_+Math.imul(He,We)|0,te=te+Math.imul(He,et)|0,ee=ee+Math.imul(Ie,Je)|0,_=_+Math.imul(Ie,rt)|0,_=_+Math.imul(Ne,Je)|0,te=te+Math.imul(Ne,rt)|0,ee=ee+Math.imul(Se,it)|0,_=_+Math.imul(Se,dt)|0,_=_+Math.imul(_e,it)|0,te=te+Math.imul(_e,dt)|0,ee=ee+Math.imul(ve,nt)|0,_=_+Math.imul(ve,pt)|0,_=_+Math.imul(be,nt)|0,te=te+Math.imul(be,pt)|0;var Nt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,ee=Math.imul(Qe,De),_=Math.imul(Qe,Fe),_=_+Math.imul(Ge,De)|0,te=Math.imul(Ge,Fe),ee=ee+Math.imul(Ve,We)|0,_=_+Math.imul(Ve,et)|0,_=_+Math.imul(Ye,We)|0,te=te+Math.imul(Ye,et)|0,ee=ee+Math.imul(ke,Je)|0,_=_+Math.imul(ke,rt)|0,_=_+Math.imul(He,Je)|0,te=te+Math.imul(He,rt)|0,ee=ee+Math.imul(Ie,it)|0,_=_+Math.imul(Ie,dt)|0,_=_+Math.imul(Ne,it)|0,te=te+Math.imul(Ne,dt)|0,ee=ee+Math.imul(Se,nt)|0,_=_+Math.imul(Se,pt)|0,_=_+Math.imul(_e,nt)|0,te=te+Math.imul(_e,pt)|0,ee=ee+Math.imul(ve,at)|0,_=_+Math.imul(ve,mt)|0,_=_+Math.imul(be,at)|0,te=te+Math.imul(be,mt)|0;var Lt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,ee=Math.imul(tt,De),_=Math.imul(tt,Fe),_=_+Math.imul(ut,De)|0,te=Math.imul(ut,Fe),ee=ee+Math.imul(Qe,We)|0,_=_+Math.imul(Qe,et)|0,_=_+Math.imul(Ge,We)|0,te=te+Math.imul(Ge,et)|0,ee=ee+Math.imul(Ve,Je)|0,_=_+Math.imul(Ve,rt)|0,_=_+Math.imul(Ye,Je)|0,te=te+Math.imul(Ye,rt)|0,ee=ee+Math.imul(ke,it)|0,_=_+Math.imul(ke,dt)|0,_=_+Math.imul(He,it)|0,te=te+Math.imul(He,dt)|0,ee=ee+Math.imul(Ie,nt)|0,_=_+Math.imul(Ie,pt)|0,_=_+Math.imul(Ne,nt)|0,te=te+Math.imul(Ne,pt)|0,ee=ee+Math.imul(Se,at)|0,_=_+Math.imul(Se,mt)|0,_=_+Math.imul(_e,at)|0,te=te+Math.imul(_e,mt)|0,ee=ee+Math.imul(ve,ot)|0,_=_+Math.imul(ve,vt)|0,_=_+Math.imul(be,ot)|0,te=te+Math.imul(be,vt)|0;var Ut=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,ee=Math.imul(Ue,De),_=Math.imul(Ue,Fe),_=_+Math.imul(je,De)|0,te=Math.imul(je,Fe),ee=ee+Math.imul(tt,We)|0,_=_+Math.imul(tt,et)|0,_=_+Math.imul(ut,We)|0,te=te+Math.imul(ut,et)|0,ee=ee+Math.imul(Qe,Je)|0,_=_+Math.imul(Qe,rt)|0,_=_+Math.imul(Ge,Je)|0,te=te+Math.imul(Ge,rt)|0,ee=ee+Math.imul(Ve,it)|0,_=_+Math.imul(Ve,dt)|0,_=_+Math.imul(Ye,it)|0,te=te+Math.imul(Ye,dt)|0,ee=ee+Math.imul(ke,nt)|0,_=_+Math.imul(ke,pt)|0,_=_+Math.imul(He,nt)|0,te=te+Math.imul(He,pt)|0,ee=ee+Math.imul(Ie,at)|0,_=_+Math.imul(Ie,mt)|0,_=_+Math.imul(Ne,at)|0,te=te+Math.imul(Ne,mt)|0,ee=ee+Math.imul(Se,ot)|0,_=_+Math.imul(Se,vt)|0,_=_+Math.imul(_e,ot)|0,te=te+Math.imul(_e,vt)|0,ee=ee+Math.imul(ve,st)|0,_=_+Math.imul(ve,gt)|0,_=_+Math.imul(be,st)|0,te=te+Math.imul(be,gt)|0;var Ft=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,ee=Math.imul(Ke,De),_=Math.imul(Ke,Fe),_=_+Math.imul(Ze,De)|0,te=Math.imul(Ze,Fe),ee=ee+Math.imul(Ue,We)|0,_=_+Math.imul(Ue,et)|0,_=_+Math.imul(je,We)|0,te=te+Math.imul(je,et)|0,ee=ee+Math.imul(tt,Je)|0,_=_+Math.imul(tt,rt)|0,_=_+Math.imul(ut,Je)|0,te=te+Math.imul(ut,rt)|0,ee=ee+Math.imul(Qe,it)|0,_=_+Math.imul(Qe,dt)|0,_=_+Math.imul(Ge,it)|0,te=te+Math.imul(Ge,dt)|0,ee=ee+Math.imul(Ve,nt)|0,_=_+Math.imul(Ve,pt)|0,_=_+Math.imul(Ye,nt)|0,te=te+Math.imul(Ye,pt)|0,ee=ee+Math.imul(ke,at)|0,_=_+Math.imul(ke,mt)|0,_=_+Math.imul(He,at)|0,te=te+Math.imul(He,mt)|0,ee=ee+Math.imul(Ie,ot)|0,_=_+Math.imul(Ie,vt)|0,_=_+Math.imul(Ne,ot)|0,te=te+Math.imul(Ne,vt)|0,ee=ee+Math.imul(Se,st)|0,_=_+Math.imul(Se,gt)|0,_=_+Math.imul(_e,st)|0,te=te+Math.imul(_e,gt)|0,ee=ee+Math.imul(ve,ht)|0,_=_+Math.imul(ve,yt)|0,_=_+Math.imul(be,ht)|0,te=te+Math.imul(be,yt)|0;var qt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(qt>>>26)|0,qt&=67108863,ee=Math.imul(Be,De),_=Math.imul(Be,Fe),_=_+Math.imul(ye,De)|0,te=Math.imul(ye,Fe),ee=ee+Math.imul(Ke,We)|0,_=_+Math.imul(Ke,et)|0,_=_+Math.imul(Ze,We)|0,te=te+Math.imul(Ze,et)|0,ee=ee+Math.imul(Ue,Je)|0,_=_+Math.imul(Ue,rt)|0,_=_+Math.imul(je,Je)|0,te=te+Math.imul(je,rt)|0,ee=ee+Math.imul(tt,it)|0,_=_+Math.imul(tt,dt)|0,_=_+Math.imul(ut,it)|0,te=te+Math.imul(ut,dt)|0,ee=ee+Math.imul(Qe,nt)|0,_=_+Math.imul(Qe,pt)|0,_=_+Math.imul(Ge,nt)|0,te=te+Math.imul(Ge,pt)|0,ee=ee+Math.imul(Ve,at)|0,_=_+Math.imul(Ve,mt)|0,_=_+Math.imul(Ye,at)|0,te=te+Math.imul(Ye,mt)|0,ee=ee+Math.imul(ke,ot)|0,_=_+Math.imul(ke,vt)|0,_=_+Math.imul(He,ot)|0,te=te+Math.imul(He,vt)|0,ee=ee+Math.imul(Ie,st)|0,_=_+Math.imul(Ie,gt)|0,_=_+Math.imul(Ne,st)|0,te=te+Math.imul(Ne,gt)|0,ee=ee+Math.imul(Se,ht)|0,_=_+Math.imul(Se,yt)|0,_=_+Math.imul(_e,ht)|0,te=te+Math.imul(_e,yt)|0,ee=ee+Math.imul(ve,lt)|0,_=_+Math.imul(ve,_t)|0,_=_+Math.imul(be,lt)|0,te=te+Math.imul(be,_t)|0;var Ht=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,ee=Math.imul(Be,We),_=Math.imul(Be,et),_=_+Math.imul(ye,We)|0,te=Math.imul(ye,et),ee=ee+Math.imul(Ke,Je)|0,_=_+Math.imul(Ke,rt)|0,_=_+Math.imul(Ze,Je)|0,te=te+Math.imul(Ze,rt)|0,ee=ee+Math.imul(Ue,it)|0,_=_+Math.imul(Ue,dt)|0,_=_+Math.imul(je,it)|0,te=te+Math.imul(je,dt)|0,ee=ee+Math.imul(tt,nt)|0,_=_+Math.imul(tt,pt)|0,_=_+Math.imul(ut,nt)|0,te=te+Math.imul(ut,pt)|0,ee=ee+Math.imul(Qe,at)|0,_=_+Math.imul(Qe,mt)|0,_=_+Math.imul(Ge,at)|0,te=te+Math.imul(Ge,mt)|0,ee=ee+Math.imul(Ve,ot)|0,_=_+Math.imul(Ve,vt)|0,_=_+Math.imul(Ye,ot)|0,te=te+Math.imul(Ye,vt)|0,ee=ee+Math.imul(ke,st)|0,_=_+Math.imul(ke,gt)|0,_=_+Math.imul(He,st)|0,te=te+Math.imul(He,gt)|0,ee=ee+Math.imul(Ie,ht)|0,_=_+Math.imul(Ie,yt)|0,_=_+Math.imul(Ne,ht)|0,te=te+Math.imul(Ne,yt)|0,ee=ee+Math.imul(Se,lt)|0,_=_+Math.imul(Se,_t)|0,_=_+Math.imul(_e,lt)|0,te=te+Math.imul(_e,_t)|0;var jt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(jt>>>26)|0,jt&=67108863,ee=Math.imul(Be,Je),_=Math.imul(Be,rt),_=_+Math.imul(ye,Je)|0,te=Math.imul(ye,rt),ee=ee+Math.imul(Ke,it)|0,_=_+Math.imul(Ke,dt)|0,_=_+Math.imul(Ze,it)|0,te=te+Math.imul(Ze,dt)|0,ee=ee+Math.imul(Ue,nt)|0,_=_+Math.imul(Ue,pt)|0,_=_+Math.imul(je,nt)|0,te=te+Math.imul(je,pt)|0,ee=ee+Math.imul(tt,at)|0,_=_+Math.imul(tt,mt)|0,_=_+Math.imul(ut,at)|0,te=te+Math.imul(ut,mt)|0,ee=ee+Math.imul(Qe,ot)|0,_=_+Math.imul(Qe,vt)|0,_=_+Math.imul(Ge,ot)|0,te=te+Math.imul(Ge,vt)|0,ee=ee+Math.imul(Ve,st)|0,_=_+Math.imul(Ve,gt)|0,_=_+Math.imul(Ye,st)|0,te=te+Math.imul(Ye,gt)|0,ee=ee+Math.imul(ke,ht)|0,_=_+Math.imul(ke,yt)|0,_=_+Math.imul(He,ht)|0,te=te+Math.imul(He,yt)|0,ee=ee+Math.imul(Ie,lt)|0,_=_+Math.imul(Ie,_t)|0,_=_+Math.imul(Ne,lt)|0,te=te+Math.imul(Ne,_t)|0;var zt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863,ee=Math.imul(Be,it),_=Math.imul(Be,dt),_=_+Math.imul(ye,it)|0,te=Math.imul(ye,dt),ee=ee+Math.imul(Ke,nt)|0,_=_+Math.imul(Ke,pt)|0,_=_+Math.imul(Ze,nt)|0,te=te+Math.imul(Ze,pt)|0,ee=ee+Math.imul(Ue,at)|0,_=_+Math.imul(Ue,mt)|0,_=_+Math.imul(je,at)|0,te=te+Math.imul(je,mt)|0,ee=ee+Math.imul(tt,ot)|0,_=_+Math.imul(tt,vt)|0,_=_+Math.imul(ut,ot)|0,te=te+Math.imul(ut,vt)|0,ee=ee+Math.imul(Qe,st)|0,_=_+Math.imul(Qe,gt)|0,_=_+Math.imul(Ge,st)|0,te=te+Math.imul(Ge,gt)|0,ee=ee+Math.imul(Ve,ht)|0,_=_+Math.imul(Ve,yt)|0,_=_+Math.imul(Ye,ht)|0,te=te+Math.imul(Ye,yt)|0,ee=ee+Math.imul(ke,lt)|0,_=_+Math.imul(ke,_t)|0,_=_+Math.imul(He,lt)|0,te=te+Math.imul(He,_t)|0;var Wt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,ee=Math.imul(Be,nt),_=Math.imul(Be,pt),_=_+Math.imul(ye,nt)|0,te=Math.imul(ye,pt),ee=ee+Math.imul(Ke,at)|0,_=_+Math.imul(Ke,mt)|0,_=_+Math.imul(Ze,at)|0,te=te+Math.imul(Ze,mt)|0,ee=ee+Math.imul(Ue,ot)|0,_=_+Math.imul(Ue,vt)|0,_=_+Math.imul(je,ot)|0,te=te+Math.imul(je,vt)|0,ee=ee+Math.imul(tt,st)|0,_=_+Math.imul(tt,gt)|0,_=_+Math.imul(ut,st)|0,te=te+Math.imul(ut,gt)|0,ee=ee+Math.imul(Qe,ht)|0,_=_+Math.imul(Qe,yt)|0,_=_+Math.imul(Ge,ht)|0,te=te+Math.imul(Ge,yt)|0,ee=ee+Math.imul(Ve,lt)|0,_=_+Math.imul(Ve,_t)|0,_=_+Math.imul(Ye,lt)|0,te=te+Math.imul(Ye,_t)|0;var Gt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,ee=Math.imul(Be,at),_=Math.imul(Be,mt),_=_+Math.imul(ye,at)|0,te=Math.imul(ye,mt),ee=ee+Math.imul(Ke,ot)|0,_=_+Math.imul(Ke,vt)|0,_=_+Math.imul(Ze,ot)|0,te=te+Math.imul(Ze,vt)|0,ee=ee+Math.imul(Ue,st)|0,_=_+Math.imul(Ue,gt)|0,_=_+Math.imul(je,st)|0,te=te+Math.imul(je,gt)|0,ee=ee+Math.imul(tt,ht)|0,_=_+Math.imul(tt,yt)|0,_=_+Math.imul(ut,ht)|0,te=te+Math.imul(ut,yt)|0,ee=ee+Math.imul(Qe,lt)|0,_=_+Math.imul(Qe,_t)|0,_=_+Math.imul(Ge,lt)|0,te=te+Math.imul(Ge,_t)|0;var Kt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,ee=Math.imul(Be,ot),_=Math.imul(Be,vt),_=_+Math.imul(ye,ot)|0,te=Math.imul(ye,vt),ee=ee+Math.imul(Ke,st)|0,_=_+Math.imul(Ke,gt)|0,_=_+Math.imul(Ze,st)|0,te=te+Math.imul(Ze,gt)|0,ee=ee+Math.imul(Ue,ht)|0,_=_+Math.imul(Ue,yt)|0,_=_+Math.imul(je,ht)|0,te=te+Math.imul(je,yt)|0,ee=ee+Math.imul(tt,lt)|0,_=_+Math.imul(tt,_t)|0,_=_+Math.imul(ut,lt)|0,te=te+Math.imul(ut,_t)|0;var Zt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,ee=Math.imul(Be,st),_=Math.imul(Be,gt),_=_+Math.imul(ye,st)|0,te=Math.imul(ye,gt),ee=ee+Math.imul(Ke,ht)|0,_=_+Math.imul(Ke,yt)|0,_=_+Math.imul(Ze,ht)|0,te=te+Math.imul(Ze,yt)|0,ee=ee+Math.imul(Ue,lt)|0,_=_+Math.imul(Ue,_t)|0,_=_+Math.imul(je,lt)|0,te=te+Math.imul(je,_t)|0;var Vt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,ee=Math.imul(Be,ht),_=Math.imul(Be,yt),_=_+Math.imul(ye,ht)|0,te=Math.imul(ye,yt),ee=ee+Math.imul(Ke,lt)|0,_=_+Math.imul(Ke,_t)|0,_=_+Math.imul(Ze,lt)|0,te=te+Math.imul(Ze,_t)|0;var Yt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,ee=Math.imul(Be,lt),_=Math.imul(Be,_t),_=_+Math.imul(ye,lt)|0,te=Math.imul(ye,_t);var Xt=(se+ee|0)+((_&8191)<<13)|0;return se=(te+(_>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,ae[0]=At,ae[1]=Tt,ae[2]=Pt,ae[3]=Ot,ae[4]=Nt,ae[5]=Lt,ae[6]=Ut,ae[7]=Ft,ae[8]=qt,ae[9]=Ht,ae[10]=jt,ae[11]=zt,ae[12]=Wt,ae[13]=Gt,ae[14]=Kt,ae[15]=Zt,ae[16]=Vt,ae[17]=Yt,ae[18]=Xt,se!==0&&(ae[19]=se,j.length++),j};Math.imul||(xe=ge);function Ae(oe,c,b){b.negative=c.negative^oe.negative,b.length=oe.length+c.length;for(var j=0,Z=0,re=0;re<b.length-1;re++){var ae=Z;Z=0;for(var se=j&67108863,ee=Math.min(re,c.length-1),_=Math.max(0,re-oe.length+1);_<=ee;_++){var te=re-_,ue=oe.words[te]|0,ve=c.words[_]|0,be=ue*ve,Me=be&67108863;ae=ae+(be/67108864|0)|0,Me=Me+se|0,se=Me&67108863,ae=ae+(Me>>>26)|0,Z+=ae>>>26,ae&=67108863}b.words[re]=se,j=ae,ae=Z}return j!==0?b.words[re]=j:b.length--,b.strip()}function Ee(oe,c,b){var j=new we;return j.mulp(oe,c,b)}d.prototype.mulTo=function(c,b){var j,Z=this.length+c.length;return this.length===10&&c.length===10?j=xe(this,c,b):Z<63?j=ge(this,c,b):Z<1024?j=Ae(this,c,b):j=Ee(this,c,b),j};function we(oe,c){this.x=oe,this.y=c}we.prototype.makeRBT=function(c){for(var b=new Array(c),j=d.prototype._countBits(c)-1,Z=0;Z<c;Z++)b[Z]=this.revBin(Z,j,c);return b},we.prototype.revBin=function(c,b,j){if(c===0||c===j-1)return c;for(var Z=0,re=0;re<b;re++)Z|=(c&1)<<b-re-1,c>>=1;return Z},we.prototype.permute=function(c,b,j,Z,re,ae){for(var se=0;se<ae;se++)Z[se]=b[c[se]],re[se]=j[c[se]]},we.prototype.transform=function(c,b,j,Z,re,ae){this.permute(ae,c,b,j,Z,re);for(var se=1;se<re;se<<=1)for(var ee=se<<1,_=Math.cos(2*Math.PI/ee),te=Math.sin(2*Math.PI/ee),ue=0;ue<re;ue+=ee)for(var ve=_,be=te,Me=0;Me<se;Me++){var Se=j[ue+Me],_e=Z[ue+Me],Re=j[ue+Me+se],Ie=Z[ue+Me+se],Ne=ve*Re-be*Ie;Ie=ve*Ie+be*Re,Re=Ne,j[ue+Me]=Se+Re,Z[ue+Me]=_e+Ie,j[ue+Me+se]=Se-Re,Z[ue+Me+se]=_e-Ie,Me!==ee&&(Ne=_*ve-te*be,be=_*be+te*ve,ve=Ne)}},we.prototype.guessLen13b=function(c,b){var j=Math.max(b,c)|1,Z=j&1,re=0;for(j=j/2|0;j;j=j>>>1)re++;return 1<<re+1+Z},we.prototype.conjugate=function(c,b,j){if(!(j<=1))for(var Z=0;Z<j/2;Z++){var re=c[Z];c[Z]=c[j-Z-1],c[j-Z-1]=re,re=b[Z],b[Z]=-b[j-Z-1],b[j-Z-1]=-re}},we.prototype.normalize13b=function(c,b){for(var j=0,Z=0;Z<b/2;Z++){var re=Math.round(c[2*Z+1]/b)*8192+Math.round(c[2*Z]/b)+j;c[Z]=re&67108863,re<67108864?j=0:j=re/67108864|0}return c},we.prototype.convert13b=function(c,b,j,Z){for(var re=0,ae=0;ae<b;ae++)re=re+(c[ae]|0),j[2*ae]=re&8191,re=re>>>13,j[2*ae+1]=re&8191,re=re>>>13;for(ae=2*b;ae<Z;++ae)j[ae]=0;h(re===0),h((re&-8192)===0)},we.prototype.stub=function(c){for(var b=new Array(c),j=0;j<c;j++)b[j]=0;return b},we.prototype.mulp=function(c,b,j){var Z=2*this.guessLen13b(c.length,b.length),re=this.makeRBT(Z),ae=this.stub(Z),se=new Array(Z),ee=new Array(Z),_=new Array(Z),te=new Array(Z),ue=new Array(Z),ve=new Array(Z),be=j.words;be.length=Z,this.convert13b(c.words,c.length,se,Z),this.convert13b(b.words,b.length,te,Z),this.transform(se,ae,ee,_,Z,re),this.transform(te,ae,ue,ve,Z,re);for(var Me=0;Me<Z;Me++){var Se=ee[Me]*ue[Me]-_[Me]*ve[Me];_[Me]=ee[Me]*ve[Me]+_[Me]*ue[Me],ee[Me]=Se}return this.conjugate(ee,_,Z),this.transform(ee,_,be,ae,Z,re),this.conjugate(be,ae,Z),this.normalize13b(be,Z),j.negative=c.negative^b.negative,j.length=c.length+b.length,j.strip()},d.prototype.mul=function(c){var b=new d(null);return b.words=new Array(this.length+c.length),this.mulTo(c,b)},d.prototype.mulf=function(c){var b=new d(null);return b.words=new Array(this.length+c.length),Ee(this,c,b)},d.prototype.imul=function(c){return this.clone().mulTo(c,this)},d.prototype.imuln=function(c){h(typeof c=="number"),h(c<67108864);for(var b=0,j=0;j<this.length;j++){var Z=(this.words[j]|0)*c,re=(Z&67108863)+(b&67108863);b>>=26,b+=Z/67108864|0,b+=re>>>26,this.words[j]=re&67108863}return b!==0&&(this.words[j]=b,this.length++),this.length=c===0?1:this.length,this},d.prototype.muln=function(c){return this.clone().imuln(c)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(c){var b=ce(c);if(b.length===0)return new d(1);for(var j=this,Z=0;Z<b.length&&b[Z]===0;Z++,j=j.sqr());if(++Z<b.length)for(var re=j.sqr();Z<b.length;Z++,re=re.sqr())b[Z]!==0&&(j=j.mul(re));return j},d.prototype.iushln=function(c){h(typeof c=="number"&&c>=0);var b=c%26,j=(c-b)/26,Z=67108863>>>26-b<<26-b,re;if(b!==0){var ae=0;for(re=0;re<this.length;re++){var se=this.words[re]&Z,ee=(this.words[re]|0)-se<<b;this.words[re]=ee|ae,ae=se>>>26-b}ae&&(this.words[re]=ae,this.length++)}if(j!==0){for(re=this.length-1;re>=0;re--)this.words[re+j]=this.words[re];for(re=0;re<j;re++)this.words[re]=0;this.length+=j}return this.strip()},d.prototype.ishln=function(c){return h(this.negative===0),this.iushln(c)},d.prototype.iushrn=function(c,b,j){h(typeof c=="number"&&c>=0);var Z;b?Z=(b-b%26)/26:Z=0;var re=c%26,ae=Math.min((c-re)/26,this.length),se=67108863^67108863>>>re<<re,ee=j;if(Z-=ae,Z=Math.max(0,Z),ee){for(var _=0;_<ae;_++)ee.words[_]=this.words[_];ee.length=ae}if(ae!==0)if(this.length>ae)for(this.length-=ae,_=0;_<this.length;_++)this.words[_]=this.words[_+ae];else this.words[0]=0,this.length=1;var te=0;for(_=this.length-1;_>=0&&(te!==0||_>=Z);_--){var ue=this.words[_]|0;this.words[_]=te<<26-re|ue>>>re,te=ue&se}return ee&&te!==0&&(ee.words[ee.length++]=te),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function(c,b,j){return h(this.negative===0),this.iushrn(c,b,j)},d.prototype.shln=function(c){return this.clone().ishln(c)},d.prototype.ushln=function(c){return this.clone().iushln(c)},d.prototype.shrn=function(c){return this.clone().ishrn(c)},d.prototype.ushrn=function(c){return this.clone().iushrn(c)},d.prototype.testn=function(c){h(typeof c=="number"&&c>=0);var b=c%26,j=(c-b)/26,Z=1<<b;if(this.length<=j)return!1;var re=this.words[j];return!!(re&Z)},d.prototype.imaskn=function(c){h(typeof c=="number"&&c>=0);var b=c%26,j=(c-b)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(b!==0&&j++,this.length=Math.min(j,this.length),b!==0){var Z=67108863^67108863>>>b<<b;this.words[this.length-1]&=Z}return this.strip()},d.prototype.maskn=function(c){return this.clone().imaskn(c)},d.prototype.iaddn=function(c){return h(typeof c=="number"),h(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},d.prototype._iaddn=function(c){this.words[0]+=c;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},d.prototype.isubn=function(c){if(h(typeof c=="number"),h(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this.strip()},d.prototype.addn=function(c){return this.clone().iaddn(c)},d.prototype.subn=function(c){return this.clone().isubn(c)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(c,b,j){var Z=c.length+j,re;this._expand(Z);var ae,se=0;for(re=0;re<c.length;re++){ae=(this.words[re+j]|0)+se;var ee=(c.words[re]|0)*b;ae-=ee&67108863,se=(ae>>26)-(ee/67108864|0),this.words[re+j]=ae&67108863}for(;re<this.length-j;re++)ae=(this.words[re+j]|0)+se,se=ae>>26,this.words[re+j]=ae&67108863;if(se===0)return this.strip();for(h(se===-1),se=0,re=0;re<this.length;re++)ae=-(this.words[re]|0)+se,se=ae>>26,this.words[re]=ae&67108863;return this.negative=1,this.strip()},d.prototype._wordDiv=function(c,b){var j=this.length-c.length,Z=this.clone(),re=c,ae=re.words[re.length-1]|0,se=this._countBits(ae);j=26-se,j!==0&&(re=re.ushln(j),Z.iushln(j),ae=re.words[re.length-1]|0);var ee=Z.length-re.length,_;if(b!=="mod"){_=new d(null),_.length=ee+1,_.words=new Array(_.length);for(var te=0;te<_.length;te++)_.words[te]=0}var ue=Z.clone()._ishlnsubmul(re,1,ee);ue.negative===0&&(Z=ue,_&&(_.words[ee]=1));for(var ve=ee-1;ve>=0;ve--){var be=(Z.words[re.length+ve]|0)*67108864+(Z.words[re.length+ve-1]|0);for(be=Math.min(be/ae|0,67108863),Z._ishlnsubmul(re,be,ve);Z.negative!==0;)be--,Z.negative=0,Z._ishlnsubmul(re,1,ve),Z.isZero()||(Z.negative^=1);_&&(_.words[ve]=be)}return _&&_.strip(),Z.strip(),b!=="div"&&j!==0&&Z.iushrn(j),{div:_||null,mod:Z}},d.prototype.divmod=function(c,b,j){if(h(!c.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var Z,re,ae;return this.negative!==0&&c.negative===0?(ae=this.neg().divmod(c,b),b!=="mod"&&(Z=ae.div.neg()),b!=="div"&&(re=ae.mod.neg(),j&&re.negative!==0&&re.iadd(c)),{div:Z,mod:re}):this.negative===0&&c.negative!==0?(ae=this.divmod(c.neg(),b),b!=="mod"&&(Z=ae.div.neg()),{div:Z,mod:ae.mod}):this.negative&c.negative?(ae=this.neg().divmod(c.neg(),b),b!=="div"&&(re=ae.mod.neg(),j&&re.negative!==0&&re.isub(c)),{div:ae.div,mod:re}):c.length>this.length||this.cmp(c)<0?{div:new d(0),mod:this}:c.length===1?b==="div"?{div:this.divn(c.words[0]),mod:null}:b==="mod"?{div:null,mod:new d(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new d(this.modn(c.words[0]))}:this._wordDiv(c,b)},d.prototype.div=function(c){return this.divmod(c,"div",!1).div},d.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},d.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},d.prototype.divRound=function(c){var b=this.divmod(c);if(b.mod.isZero())return b.div;var j=b.div.negative!==0?b.mod.isub(c):b.mod,Z=c.ushrn(1),re=c.andln(1),ae=j.cmp(Z);return ae<0||re===1&&ae===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},d.prototype.modn=function(c){h(c<=67108863);for(var b=(1<<26)%c,j=0,Z=this.length-1;Z>=0;Z--)j=(b*j+(this.words[Z]|0))%c;return j},d.prototype.idivn=function(c){h(c<=67108863);for(var b=0,j=this.length-1;j>=0;j--){var Z=(this.words[j]|0)+b*67108864;this.words[j]=Z/c|0,b=Z%c}return this.strip()},d.prototype.divn=function(c){return this.clone().idivn(c)},d.prototype.egcd=function(c){h(c.negative===0),h(!c.isZero());var b=this,j=c.clone();b.negative!==0?b=b.umod(c):b=b.clone();for(var Z=new d(1),re=new d(0),ae=new d(0),se=new d(1),ee=0;b.isEven()&&j.isEven();)b.iushrn(1),j.iushrn(1),++ee;for(var _=j.clone(),te=b.clone();!b.isZero();){for(var ue=0,ve=1;!(b.words[0]&ve)&&ue<26;++ue,ve<<=1);if(ue>0)for(b.iushrn(ue);ue-- >0;)(Z.isOdd()||re.isOdd())&&(Z.iadd(_),re.isub(te)),Z.iushrn(1),re.iushrn(1);for(var be=0,Me=1;!(j.words[0]&Me)&&be<26;++be,Me<<=1);if(be>0)for(j.iushrn(be);be-- >0;)(ae.isOdd()||se.isOdd())&&(ae.iadd(_),se.isub(te)),ae.iushrn(1),se.iushrn(1);b.cmp(j)>=0?(b.isub(j),Z.isub(ae),re.isub(se)):(j.isub(b),ae.isub(Z),se.isub(re))}return{a:ae,b:se,gcd:j.iushln(ee)}},d.prototype._invmp=function(c){h(c.negative===0),h(!c.isZero());var b=this,j=c.clone();b.negative!==0?b=b.umod(c):b=b.clone();for(var Z=new d(1),re=new d(0),ae=j.clone();b.cmpn(1)>0&&j.cmpn(1)>0;){for(var se=0,ee=1;!(b.words[0]&ee)&&se<26;++se,ee<<=1);if(se>0)for(b.iushrn(se);se-- >0;)Z.isOdd()&&Z.iadd(ae),Z.iushrn(1);for(var _=0,te=1;!(j.words[0]&te)&&_<26;++_,te<<=1);if(_>0)for(j.iushrn(_);_-- >0;)re.isOdd()&&re.iadd(ae),re.iushrn(1);b.cmp(j)>=0?(b.isub(j),Z.isub(re)):(j.isub(b),re.isub(Z))}var ue;return b.cmpn(1)===0?ue=Z:ue=re,ue.cmpn(0)<0&&ue.iadd(c),ue},d.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var b=this.clone(),j=c.clone();b.negative=0,j.negative=0;for(var Z=0;b.isEven()&&j.isEven();Z++)b.iushrn(1),j.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;j.isEven();)j.iushrn(1);var re=b.cmp(j);if(re<0){var ae=b;b=j,j=ae}else if(re===0||j.cmpn(1)===0)break;b.isub(j)}while(!0);return j.iushln(Z)},d.prototype.invm=function(c){return this.egcd(c).a.umod(c)},d.prototype.isEven=function(){return(this.words[0]&1)===0},d.prototype.isOdd=function(){return(this.words[0]&1)===1},d.prototype.andln=function(c){return this.words[0]&c},d.prototype.bincn=function(c){h(typeof c=="number");var b=c%26,j=(c-b)/26,Z=1<<b;if(this.length<=j)return this._expand(j+1),this.words[j]|=Z,this;for(var re=Z,ae=j;re!==0&&ae<this.length;ae++){var se=this.words[ae]|0;se+=re,re=se>>>26,se&=67108863,this.words[ae]=se}return re!==0&&(this.words[ae]=re,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(c){var b=c<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this.strip();var j;if(this.length>1)j=1;else{b&&(c=-c),h(c<=67108863,"Number is too big");var Z=this.words[0]|0;j=Z===c?0:Z<c?-1:1}return this.negative!==0?-j|0:j},d.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var b=this.ucmp(c);return this.negative!==0?-b|0:b},d.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var b=0,j=this.length-1;j>=0;j--){var Z=this.words[j]|0,re=c.words[j]|0;if(Z!==re){Z<re?b=-1:Z>re&&(b=1);break}}return b},d.prototype.gtn=function(c){return this.cmpn(c)===1},d.prototype.gt=function(c){return this.cmp(c)===1},d.prototype.gten=function(c){return this.cmpn(c)>=0},d.prototype.gte=function(c){return this.cmp(c)>=0},d.prototype.ltn=function(c){return this.cmpn(c)===-1},d.prototype.lt=function(c){return this.cmp(c)===-1},d.prototype.lten=function(c){return this.cmpn(c)<=0},d.prototype.lte=function(c){return this.cmp(c)<=0},d.prototype.eqn=function(c){return this.cmpn(c)===0},d.prototype.eq=function(c){return this.cmp(c)===0},d.red=function(c){return new Ce(c)},d.prototype.toRed=function(c){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},d.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(c){return this.red=c,this},d.prototype.forceRed=function(c){return h(!this.red,"Already a number in reduction context"),this._forceRed(c)},d.prototype.redAdd=function(c){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},d.prototype.redIAdd=function(c){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},d.prototype.redSub=function(c){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},d.prototype.redISub=function(c){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},d.prototype.redShl=function(c){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},d.prototype.redMul=function(c){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},d.prototype.redIMul=function(c){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},d.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(c){return h(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var pe={k256:null,p224:null,p192:null,p25519:null};function me(oe,c){this.name=oe,this.p=new d(c,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}me.prototype._tmp=function(){var c=new d(null);return c.words=new Array(Math.ceil(this.n/13)),c},me.prototype.ireduce=function(c){var b=c,j;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),j=b.bitLength();while(j>this.n);var Z=j<this.n?-1:b.ucmp(this.p);return Z===0?(b.words[0]=0,b.length=1):Z>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},me.prototype.split=function(c,b){c.iushrn(this.n,0,b)},me.prototype.imulK=function(c){return c.imul(this.k)};function Te(){me.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$(Te,me),Te.prototype.split=function(c,b){for(var j=4194303,Z=Math.min(c.length,9),re=0;re<Z;re++)b.words[re]=c.words[re];if(b.length=Z,c.length<=9){c.words[0]=0,c.length=1;return}var ae=c.words[9];for(b.words[b.length++]=ae&j,re=10;re<c.length;re++){var se=c.words[re]|0;c.words[re-10]=(se&j)<<4|ae>>>22,ae=se}ae>>>=22,c.words[re-10]=ae,ae===0&&c.length>10?c.length-=10:c.length-=9},Te.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var b=0,j=0;j<c.length;j++){var Z=c.words[j]|0;b+=Z*977,c.words[j]=b&67108863,b=Z*64+(b/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function Pe(){me.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$(Pe,me);function Le(){me.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$(Le,me);function qe(){me.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$(qe,me),qe.prototype.imulK=function(c){for(var b=0,j=0;j<c.length;j++){var Z=(c.words[j]|0)*19+b,re=Z&67108863;Z>>>=26,c.words[j]=re,b=Z}return b!==0&&(c.words[c.length++]=b),c},d._prime=function(c){if(pe[c])return pe[c];var b;if(c==="k256")b=new Te;else if(c==="p224")b=new Pe;else if(c==="p192")b=new Le;else if(c==="p25519")b=new qe;else throw new Error("Unknown prime "+c);return pe[c]=b,b};function Ce(oe){if(typeof oe=="string"){var c=d._prime(oe);this.m=c.p,this.prime=c}else h(oe.gtn(1),"modulus must be greater than 1"),this.m=oe,this.prime=null}Ce.prototype._verify1=function(c){h(c.negative===0,"red works only with positives"),h(c.red,"red works only with red numbers")},Ce.prototype._verify2=function(c,b){h((c.negative|b.negative)===0,"red works only with positives"),h(c.red&&c.red===b.red,"red works only with red numbers")},Ce.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},Ce.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},Ce.prototype.add=function(c,b){this._verify2(c,b);var j=c.add(b);return j.cmp(this.m)>=0&&j.isub(this.m),j._forceRed(this)},Ce.prototype.iadd=function(c,b){this._verify2(c,b);var j=c.iadd(b);return j.cmp(this.m)>=0&&j.isub(this.m),j},Ce.prototype.sub=function(c,b){this._verify2(c,b);var j=c.sub(b);return j.cmpn(0)<0&&j.iadd(this.m),j._forceRed(this)},Ce.prototype.isub=function(c,b){this._verify2(c,b);var j=c.isub(b);return j.cmpn(0)<0&&j.iadd(this.m),j},Ce.prototype.shl=function(c,b){return this._verify1(c),this.imod(c.ushln(b))},Ce.prototype.imul=function(c,b){return this._verify2(c,b),this.imod(c.imul(b))},Ce.prototype.mul=function(c,b){return this._verify2(c,b),this.imod(c.mul(b))},Ce.prototype.isqr=function(c){return this.imul(c,c.clone())},Ce.prototype.sqr=function(c){return this.mul(c,c)},Ce.prototype.sqrt=function(c){if(c.isZero())return c.clone();var b=this.m.andln(3);if(h(b%2===1),b===3){var j=this.m.add(new d(1)).iushrn(2);return this.pow(c,j)}for(var Z=this.m.subn(1),re=0;!Z.isZero()&&Z.andln(1)===0;)re++,Z.iushrn(1);h(!Z.isZero());var ae=new d(1).toRed(this),se=ae.redNeg(),ee=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new d(2*_*_).toRed(this);this.pow(_,ee).cmp(se)!==0;)_.redIAdd(se);for(var te=this.pow(_,Z),ue=this.pow(c,Z.addn(1).iushrn(1)),ve=this.pow(c,Z),be=re;ve.cmp(ae)!==0;){for(var Me=ve,Se=0;Me.cmp(ae)!==0;Se++)Me=Me.redSqr();h(Se<be);var _e=this.pow(te,new d(1).iushln(be-Se-1));ue=ue.redMul(_e),te=_e.redSqr(),ve=ve.redMul(te),be=Se}return ue},Ce.prototype.invm=function(c){var b=c._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},Ce.prototype.pow=function(c,b){if(b.isZero())return new d(1).toRed(this);if(b.cmpn(1)===0)return c.clone();var j=4,Z=new Array(1<<j);Z[0]=new d(1).toRed(this),Z[1]=c;for(var re=2;re<Z.length;re++)Z[re]=this.mul(Z[re-1],c);var ae=Z[0],se=0,ee=0,_=b.bitLength()%26;for(_===0&&(_=26),re=b.length-1;re>=0;re--){for(var te=b.words[re],ue=_-1;ue>=0;ue--){var ve=te>>ue&1;if(ae!==Z[0]&&(ae=this.sqr(ae)),ve===0&&se===0){ee=0;continue}se<<=1,se|=ve,ee++,!(ee!==j&&(re!==0||ue!==0))&&(ae=this.mul(ae,Z[se]),ee=0,se=0)}_=26}return ae},Ce.prototype.convertTo=function(c){var b=c.umod(this.m);return b===c?b.clone():b},Ce.prototype.convertFrom=function(c){var b=c.clone();return b.red=null,b},d.mont=function(c){return new ze(c)};function ze(oe){Ce.call(this,oe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$(ze,Ce),ze.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},ze.prototype.convertFrom=function(c){var b=this.imod(c.mul(this.rinv));return b.red=null,b},ze.prototype.imul=function(c,b){if(c.isZero()||b.isZero())return c.words[0]=0,c.length=1,c;var j=c.imul(b),Z=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=j.isub(Z).iushrn(this.shift),ae=re;return re.cmp(this.m)>=0?ae=re.isub(this.m):re.cmpn(0)<0&&(ae=re.iadd(this.m)),ae._forceRed(this)},ze.prototype.mul=function(c,b){if(c.isZero()||b.isZero())return new d(0)._forceRed(this);var j=c.mul(b),Z=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=j.isub(Z).iushrn(this.shift),ae=re;return re.cmp(this.m)>=0?ae=re.isub(this.m):re.cmpn(0)<0&&(ae=re.iadd(this.m)),ae._forceRed(this)},ze.prototype.invm=function(c){var b=this.imod(c._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(a,commonjsGlobal)})(bn$6);var bnExports$6=bn$6.exports,bn$5={exports:{}};bn$5.exports;(function(a){(function(e,o){function h(oe,c){if(!oe)throw new Error(c||"Assertion failed")}function $(oe,c){oe.super_=c;var b=function(){};b.prototype=c.prototype,oe.prototype=new b,oe.prototype.constructor=oe}function d(oe,c,b){if(d.isBN(oe))return oe;this.negative=0,this.words=null,this.length=0,this.red=null,oe!==null&&((c==="le"||c==="be")&&(b=c,c=10),this._init(oe||0,c||10,b||"be"))}typeof e=="object"?e.exports=d:o.BN=d,d.BN=d,d.wordSize=26;var Y;try{typeof window<"u"&&typeof window.Buffer<"u"?Y=window.Buffer:Y=require$$0$3.Buffer}catch{}d.isBN=function(c){return c instanceof d?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===d.wordSize&&Array.isArray(c.words)},d.max=function(c,b){return c.cmp(b)>0?c:b},d.min=function(c,b){return c.cmp(b)<0?c:b},d.prototype._init=function(c,b,j){if(typeof c=="number")return this._initNumber(c,b,j);if(typeof c=="object")return this._initArray(c,b,j);b==="hex"&&(b=16),h(b===(b|0)&&b>=2&&b<=36),c=c.toString().replace(/\s+/g,"");var Z=0;c[0]==="-"&&(Z++,this.negative=1),Z<c.length&&(b===16?this._parseHex(c,Z,j):(this._parseBase(c,b,Z),j==="le"&&this._initArray(this.toArray(),b,j)))},d.prototype._initNumber=function(c,b,j){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(h(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),j==="le"&&this._initArray(this.toArray(),b,j)},d.prototype._initArray=function(c,b,j){if(h(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var Z=0;Z<this.length;Z++)this.words[Z]=0;var re,ae,se=0;if(j==="be")for(Z=c.length-1,re=0;Z>=0;Z-=3)ae=c[Z]|c[Z-1]<<8|c[Z-2]<<16,this.words[re]|=ae<<se&67108863,this.words[re+1]=ae>>>26-se&67108863,se+=24,se>=26&&(se-=26,re++);else if(j==="le")for(Z=0,re=0;Z<c.length;Z+=3)ae=c[Z]|c[Z+1]<<8|c[Z+2]<<16,this.words[re]|=ae<<se&67108863,this.words[re+1]=ae>>>26-se&67108863,se+=24,se>=26&&(se-=26,re++);return this.strip()};function ie(oe,c){var b=oe.charCodeAt(c);return b>=65&&b<=70?b-55:b>=97&&b<=102?b-87:b-48&15}function fe(oe,c,b){var j=ie(oe,b);return b-1>=c&&(j|=ie(oe,b-1)<<4),j}d.prototype._parseHex=function(c,b,j){this.length=Math.ceil((c.length-b)/6),this.words=new Array(this.length);for(var Z=0;Z<this.length;Z++)this.words[Z]=0;var re=0,ae=0,se;if(j==="be")for(Z=c.length-1;Z>=b;Z-=2)se=fe(c,b,Z)<<re,this.words[ae]|=se&67108863,re>=18?(re-=18,ae+=1,this.words[ae]|=se>>>26):re+=8;else{var ee=c.length-b;for(Z=ee%2===0?b+1:b;Z<c.length;Z+=2)se=fe(c,b,Z)<<re,this.words[ae]|=se&67108863,re>=18?(re-=18,ae+=1,this.words[ae]|=se>>>26):re+=8}this.strip()};function he(oe,c,b,j){for(var Z=0,re=Math.min(oe.length,b),ae=c;ae<re;ae++){var se=oe.charCodeAt(ae)-48;Z*=j,se>=49?Z+=se-49+10:se>=17?Z+=se-17+10:Z+=se}return Z}d.prototype._parseBase=function(c,b,j){this.words=[0],this.length=1;for(var Z=0,re=1;re<=67108863;re*=b)Z++;Z--,re=re/b|0;for(var ae=c.length-j,se=ae%Z,ee=Math.min(ae,ae-se)+j,_=0,te=j;te<ee;te+=Z)_=he(c,te,te+Z,b),this.imuln(re),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(se!==0){var ue=1;for(_=he(c,te,c.length,b),te=0;te<se;te++)ue*=b;this.imuln(ue),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this.strip()},d.prototype.copy=function(c){c.words=new Array(this.length);for(var b=0;b<this.length;b++)c.words[b]=this.words[b];c.length=this.length,c.negative=this.negative,c.red=this.red},d.prototype.clone=function(){var c=new d(null);return this.copy(c),c},d.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},d.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},d.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ne=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],le=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],de=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(c,b){c=c||10,b=b|0||1;var j;if(c===16||c==="hex"){j="";for(var Z=0,re=0,ae=0;ae<this.length;ae++){var se=this.words[ae],ee=((se<<Z|re)&16777215).toString(16);re=se>>>24-Z&16777215,Z+=2,Z>=26&&(Z-=26,ae--),re!==0||ae!==this.length-1?j=ne[6-ee.length]+ee+j:j=ee+j}for(re!==0&&(j=re.toString(16)+j);j.length%b!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(c===(c|0)&&c>=2&&c<=36){var _=le[c],te=de[c];j="";var ue=this.clone();for(ue.negative=0;!ue.isZero();){var ve=ue.modn(te).toString(c);ue=ue.idivn(te),ue.isZero()?j=ve+j:j=ne[_-ve.length]+ve+j}for(this.isZero()&&(j="0"+j);j.length%b!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}h(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},d.prototype.toJSON=function(){return this.toString(16)},d.prototype.toBuffer=function(c,b){return h(typeof Y<"u"),this.toArrayLike(Y,c,b)},d.prototype.toArray=function(c,b){return this.toArrayLike(Array,c,b)},d.prototype.toArrayLike=function(c,b,j){var Z=this.byteLength(),re=j||Math.max(1,Z);h(Z<=re,"byte array longer than desired length"),h(re>0,"Requested array length <= 0"),this.strip();var ae=b==="le",se=new c(re),ee,_,te=this.clone();if(ae){for(_=0;!te.isZero();_++)ee=te.andln(255),te.iushrn(8),se[_]=ee;for(;_<re;_++)se[_]=0}else{for(_=0;_<re-Z;_++)se[_]=0;for(_=0;!te.isZero();_++)ee=te.andln(255),te.iushrn(8),se[re-_-1]=ee}return se},Math.clz32?d.prototype._countBits=function(c){return 32-Math.clz32(c)}:d.prototype._countBits=function(c){var b=c,j=0;return b>=4096&&(j+=13,b>>>=13),b>=64&&(j+=7,b>>>=7),b>=8&&(j+=4,b>>>=4),b>=2&&(j+=2,b>>>=2),j+b},d.prototype._zeroBits=function(c){if(c===0)return 26;var b=c,j=0;return b&8191||(j+=13,b>>>=13),b&127||(j+=7,b>>>=7),b&15||(j+=4,b>>>=4),b&3||(j+=2,b>>>=2),b&1||j++,j},d.prototype.bitLength=function(){var c=this.words[this.length-1],b=this._countBits(c);return(this.length-1)*26+b};function ce(oe){for(var c=new Array(oe.bitLength()),b=0;b<c.length;b++){var j=b/26|0,Z=b%26;c[b]=(oe.words[j]&1<<Z)>>>Z}return c}d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,b=0;b<this.length;b++){var j=this._zeroBits(this.words[b]);if(c+=j,j!==26)break}return c},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},d.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var b=0;b<c.length;b++)this.words[b]=this.words[b]|c.words[b];return this.strip()},d.prototype.ior=function(c){return h((this.negative|c.negative)===0),this.iuor(c)},d.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},d.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},d.prototype.iuand=function(c){var b;this.length>c.length?b=c:b=this;for(var j=0;j<b.length;j++)this.words[j]=this.words[j]&c.words[j];return this.length=b.length,this.strip()},d.prototype.iand=function(c){return h((this.negative|c.negative)===0),this.iuand(c)},d.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},d.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},d.prototype.iuxor=function(c){var b,j;this.length>c.length?(b=this,j=c):(b=c,j=this);for(var Z=0;Z<j.length;Z++)this.words[Z]=b.words[Z]^j.words[Z];if(this!==b)for(;Z<b.length;Z++)this.words[Z]=b.words[Z];return this.length=b.length,this.strip()},d.prototype.ixor=function(c){return h((this.negative|c.negative)===0),this.iuxor(c)},d.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},d.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},d.prototype.inotn=function(c){h(typeof c=="number"&&c>=0);var b=Math.ceil(c/26)|0,j=c%26;this._expand(b),j>0&&b--;for(var Z=0;Z<b;Z++)this.words[Z]=~this.words[Z]&67108863;return j>0&&(this.words[Z]=~this.words[Z]&67108863>>26-j),this.strip()},d.prototype.notn=function(c){return this.clone().inotn(c)},d.prototype.setn=function(c,b){h(typeof c=="number"&&c>=0);var j=c/26|0,Z=c%26;return this._expand(j+1),b?this.words[j]=this.words[j]|1<<Z:this.words[j]=this.words[j]&~(1<<Z),this.strip()},d.prototype.iadd=function(c){var b;if(this.negative!==0&&c.negative===0)return this.negative=0,b=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,b=this.isub(c),c.negative=1,b._normSign();var j,Z;this.length>c.length?(j=this,Z=c):(j=c,Z=this);for(var re=0,ae=0;ae<Z.length;ae++)b=(j.words[ae]|0)+(Z.words[ae]|0)+re,this.words[ae]=b&67108863,re=b>>>26;for(;re!==0&&ae<j.length;ae++)b=(j.words[ae]|0)+re,this.words[ae]=b&67108863,re=b>>>26;if(this.length=j.length,re!==0)this.words[this.length]=re,this.length++;else if(j!==this)for(;ae<j.length;ae++)this.words[ae]=j.words[ae];return this},d.prototype.add=function(c){var b;return c.negative!==0&&this.negative===0?(c.negative=0,b=this.sub(c),c.negative^=1,b):c.negative===0&&this.negative!==0?(this.negative=0,b=c.sub(this),this.negative=1,b):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},d.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var b=this.iadd(c);return c.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var j=this.cmp(c);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Z,re;j>0?(Z=this,re=c):(Z=c,re=this);for(var ae=0,se=0;se<re.length;se++)b=(Z.words[se]|0)-(re.words[se]|0)+ae,ae=b>>26,this.words[se]=b&67108863;for(;ae!==0&&se<Z.length;se++)b=(Z.words[se]|0)+ae,ae=b>>26,this.words[se]=b&67108863;if(ae===0&&se<Z.length&&Z!==this)for(;se<Z.length;se++)this.words[se]=Z.words[se];return this.length=Math.max(this.length,se),Z!==this&&(this.negative=1),this.strip()},d.prototype.sub=function(c){return this.clone().isub(c)};function ge(oe,c,b){b.negative=c.negative^oe.negative;var j=oe.length+c.length|0;b.length=j,j=j-1|0;var Z=oe.words[0]|0,re=c.words[0]|0,ae=Z*re,se=ae&67108863,ee=ae/67108864|0;b.words[0]=se;for(var _=1;_<j;_++){for(var te=ee>>>26,ue=ee&67108863,ve=Math.min(_,c.length-1),be=Math.max(0,_-oe.length+1);be<=ve;be++){var Me=_-be|0;Z=oe.words[Me]|0,re=c.words[be]|0,ae=Z*re+ue,te+=ae/67108864|0,ue=ae&67108863}b.words[_]=ue|0,ee=te|0}return ee!==0?b.words[_]=ee|0:b.length--,b.strip()}var xe=function(c,b,j){var Z=c.words,re=b.words,ae=j.words,se=0,ee,_,te,ue=Z[0]|0,ve=ue&8191,be=ue>>>13,Me=Z[1]|0,Se=Me&8191,_e=Me>>>13,Re=Z[2]|0,Ie=Re&8191,Ne=Re>>>13,Oe=Z[3]|0,ke=Oe&8191,He=Oe>>>13,ct=Z[4]|0,Ve=ct&8191,Ye=ct>>>13,wt=Z[5]|0,Qe=wt&8191,Ge=wt>>>13,$t=Z[6]|0,tt=$t&8191,ut=$t>>>13,St=Z[7]|0,Ue=St&8191,je=St>>>13,bt=Z[8]|0,Ke=bt&8191,Ze=bt>>>13,Et=Z[9]|0,Be=Et&8191,ye=Et>>>13,$e=re[0]|0,De=$e&8191,Fe=$e>>>13,Xe=re[1]|0,We=Xe&8191,et=Xe>>>13,xt=re[2]|0,Je=xt&8191,rt=xt>>>13,Mt=re[3]|0,it=Mt&8191,dt=Mt>>>13,Bt=re[4]|0,nt=Bt&8191,pt=Bt>>>13,Rt=re[5]|0,at=Rt&8191,mt=Rt>>>13,kt=re[6]|0,ot=kt&8191,vt=kt>>>13,It=re[7]|0,st=It&8191,gt=It>>>13,Ct=re[8]|0,ht=Ct&8191,yt=Ct>>>13,Dt=re[9]|0,lt=Dt&8191,_t=Dt>>>13;j.negative=c.negative^b.negative,j.length=19,ee=Math.imul(ve,De),_=Math.imul(ve,Fe),_=_+Math.imul(be,De)|0,te=Math.imul(be,Fe);var At=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(At>>>26)|0,At&=67108863,ee=Math.imul(Se,De),_=Math.imul(Se,Fe),_=_+Math.imul(_e,De)|0,te=Math.imul(_e,Fe),ee=ee+Math.imul(ve,We)|0,_=_+Math.imul(ve,et)|0,_=_+Math.imul(be,We)|0,te=te+Math.imul(be,et)|0;var Tt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,ee=Math.imul(Ie,De),_=Math.imul(Ie,Fe),_=_+Math.imul(Ne,De)|0,te=Math.imul(Ne,Fe),ee=ee+Math.imul(Se,We)|0,_=_+Math.imul(Se,et)|0,_=_+Math.imul(_e,We)|0,te=te+Math.imul(_e,et)|0,ee=ee+Math.imul(ve,Je)|0,_=_+Math.imul(ve,rt)|0,_=_+Math.imul(be,Je)|0,te=te+Math.imul(be,rt)|0;var Pt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,ee=Math.imul(ke,De),_=Math.imul(ke,Fe),_=_+Math.imul(He,De)|0,te=Math.imul(He,Fe),ee=ee+Math.imul(Ie,We)|0,_=_+Math.imul(Ie,et)|0,_=_+Math.imul(Ne,We)|0,te=te+Math.imul(Ne,et)|0,ee=ee+Math.imul(Se,Je)|0,_=_+Math.imul(Se,rt)|0,_=_+Math.imul(_e,Je)|0,te=te+Math.imul(_e,rt)|0,ee=ee+Math.imul(ve,it)|0,_=_+Math.imul(ve,dt)|0,_=_+Math.imul(be,it)|0,te=te+Math.imul(be,dt)|0;var Ot=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,ee=Math.imul(Ve,De),_=Math.imul(Ve,Fe),_=_+Math.imul(Ye,De)|0,te=Math.imul(Ye,Fe),ee=ee+Math.imul(ke,We)|0,_=_+Math.imul(ke,et)|0,_=_+Math.imul(He,We)|0,te=te+Math.imul(He,et)|0,ee=ee+Math.imul(Ie,Je)|0,_=_+Math.imul(Ie,rt)|0,_=_+Math.imul(Ne,Je)|0,te=te+Math.imul(Ne,rt)|0,ee=ee+Math.imul(Se,it)|0,_=_+Math.imul(Se,dt)|0,_=_+Math.imul(_e,it)|0,te=te+Math.imul(_e,dt)|0,ee=ee+Math.imul(ve,nt)|0,_=_+Math.imul(ve,pt)|0,_=_+Math.imul(be,nt)|0,te=te+Math.imul(be,pt)|0;var Nt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,ee=Math.imul(Qe,De),_=Math.imul(Qe,Fe),_=_+Math.imul(Ge,De)|0,te=Math.imul(Ge,Fe),ee=ee+Math.imul(Ve,We)|0,_=_+Math.imul(Ve,et)|0,_=_+Math.imul(Ye,We)|0,te=te+Math.imul(Ye,et)|0,ee=ee+Math.imul(ke,Je)|0,_=_+Math.imul(ke,rt)|0,_=_+Math.imul(He,Je)|0,te=te+Math.imul(He,rt)|0,ee=ee+Math.imul(Ie,it)|0,_=_+Math.imul(Ie,dt)|0,_=_+Math.imul(Ne,it)|0,te=te+Math.imul(Ne,dt)|0,ee=ee+Math.imul(Se,nt)|0,_=_+Math.imul(Se,pt)|0,_=_+Math.imul(_e,nt)|0,te=te+Math.imul(_e,pt)|0,ee=ee+Math.imul(ve,at)|0,_=_+Math.imul(ve,mt)|0,_=_+Math.imul(be,at)|0,te=te+Math.imul(be,mt)|0;var Lt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,ee=Math.imul(tt,De),_=Math.imul(tt,Fe),_=_+Math.imul(ut,De)|0,te=Math.imul(ut,Fe),ee=ee+Math.imul(Qe,We)|0,_=_+Math.imul(Qe,et)|0,_=_+Math.imul(Ge,We)|0,te=te+Math.imul(Ge,et)|0,ee=ee+Math.imul(Ve,Je)|0,_=_+Math.imul(Ve,rt)|0,_=_+Math.imul(Ye,Je)|0,te=te+Math.imul(Ye,rt)|0,ee=ee+Math.imul(ke,it)|0,_=_+Math.imul(ke,dt)|0,_=_+Math.imul(He,it)|0,te=te+Math.imul(He,dt)|0,ee=ee+Math.imul(Ie,nt)|0,_=_+Math.imul(Ie,pt)|0,_=_+Math.imul(Ne,nt)|0,te=te+Math.imul(Ne,pt)|0,ee=ee+Math.imul(Se,at)|0,_=_+Math.imul(Se,mt)|0,_=_+Math.imul(_e,at)|0,te=te+Math.imul(_e,mt)|0,ee=ee+Math.imul(ve,ot)|0,_=_+Math.imul(ve,vt)|0,_=_+Math.imul(be,ot)|0,te=te+Math.imul(be,vt)|0;var Ut=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,ee=Math.imul(Ue,De),_=Math.imul(Ue,Fe),_=_+Math.imul(je,De)|0,te=Math.imul(je,Fe),ee=ee+Math.imul(tt,We)|0,_=_+Math.imul(tt,et)|0,_=_+Math.imul(ut,We)|0,te=te+Math.imul(ut,et)|0,ee=ee+Math.imul(Qe,Je)|0,_=_+Math.imul(Qe,rt)|0,_=_+Math.imul(Ge,Je)|0,te=te+Math.imul(Ge,rt)|0,ee=ee+Math.imul(Ve,it)|0,_=_+Math.imul(Ve,dt)|0,_=_+Math.imul(Ye,it)|0,te=te+Math.imul(Ye,dt)|0,ee=ee+Math.imul(ke,nt)|0,_=_+Math.imul(ke,pt)|0,_=_+Math.imul(He,nt)|0,te=te+Math.imul(He,pt)|0,ee=ee+Math.imul(Ie,at)|0,_=_+Math.imul(Ie,mt)|0,_=_+Math.imul(Ne,at)|0,te=te+Math.imul(Ne,mt)|0,ee=ee+Math.imul(Se,ot)|0,_=_+Math.imul(Se,vt)|0,_=_+Math.imul(_e,ot)|0,te=te+Math.imul(_e,vt)|0,ee=ee+Math.imul(ve,st)|0,_=_+Math.imul(ve,gt)|0,_=_+Math.imul(be,st)|0,te=te+Math.imul(be,gt)|0;var Ft=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,ee=Math.imul(Ke,De),_=Math.imul(Ke,Fe),_=_+Math.imul(Ze,De)|0,te=Math.imul(Ze,Fe),ee=ee+Math.imul(Ue,We)|0,_=_+Math.imul(Ue,et)|0,_=_+Math.imul(je,We)|0,te=te+Math.imul(je,et)|0,ee=ee+Math.imul(tt,Je)|0,_=_+Math.imul(tt,rt)|0,_=_+Math.imul(ut,Je)|0,te=te+Math.imul(ut,rt)|0,ee=ee+Math.imul(Qe,it)|0,_=_+Math.imul(Qe,dt)|0,_=_+Math.imul(Ge,it)|0,te=te+Math.imul(Ge,dt)|0,ee=ee+Math.imul(Ve,nt)|0,_=_+Math.imul(Ve,pt)|0,_=_+Math.imul(Ye,nt)|0,te=te+Math.imul(Ye,pt)|0,ee=ee+Math.imul(ke,at)|0,_=_+Math.imul(ke,mt)|0,_=_+Math.imul(He,at)|0,te=te+Math.imul(He,mt)|0,ee=ee+Math.imul(Ie,ot)|0,_=_+Math.imul(Ie,vt)|0,_=_+Math.imul(Ne,ot)|0,te=te+Math.imul(Ne,vt)|0,ee=ee+Math.imul(Se,st)|0,_=_+Math.imul(Se,gt)|0,_=_+Math.imul(_e,st)|0,te=te+Math.imul(_e,gt)|0,ee=ee+Math.imul(ve,ht)|0,_=_+Math.imul(ve,yt)|0,_=_+Math.imul(be,ht)|0,te=te+Math.imul(be,yt)|0;var qt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(qt>>>26)|0,qt&=67108863,ee=Math.imul(Be,De),_=Math.imul(Be,Fe),_=_+Math.imul(ye,De)|0,te=Math.imul(ye,Fe),ee=ee+Math.imul(Ke,We)|0,_=_+Math.imul(Ke,et)|0,_=_+Math.imul(Ze,We)|0,te=te+Math.imul(Ze,et)|0,ee=ee+Math.imul(Ue,Je)|0,_=_+Math.imul(Ue,rt)|0,_=_+Math.imul(je,Je)|0,te=te+Math.imul(je,rt)|0,ee=ee+Math.imul(tt,it)|0,_=_+Math.imul(tt,dt)|0,_=_+Math.imul(ut,it)|0,te=te+Math.imul(ut,dt)|0,ee=ee+Math.imul(Qe,nt)|0,_=_+Math.imul(Qe,pt)|0,_=_+Math.imul(Ge,nt)|0,te=te+Math.imul(Ge,pt)|0,ee=ee+Math.imul(Ve,at)|0,_=_+Math.imul(Ve,mt)|0,_=_+Math.imul(Ye,at)|0,te=te+Math.imul(Ye,mt)|0,ee=ee+Math.imul(ke,ot)|0,_=_+Math.imul(ke,vt)|0,_=_+Math.imul(He,ot)|0,te=te+Math.imul(He,vt)|0,ee=ee+Math.imul(Ie,st)|0,_=_+Math.imul(Ie,gt)|0,_=_+Math.imul(Ne,st)|0,te=te+Math.imul(Ne,gt)|0,ee=ee+Math.imul(Se,ht)|0,_=_+Math.imul(Se,yt)|0,_=_+Math.imul(_e,ht)|0,te=te+Math.imul(_e,yt)|0,ee=ee+Math.imul(ve,lt)|0,_=_+Math.imul(ve,_t)|0,_=_+Math.imul(be,lt)|0,te=te+Math.imul(be,_t)|0;var Ht=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,ee=Math.imul(Be,We),_=Math.imul(Be,et),_=_+Math.imul(ye,We)|0,te=Math.imul(ye,et),ee=ee+Math.imul(Ke,Je)|0,_=_+Math.imul(Ke,rt)|0,_=_+Math.imul(Ze,Je)|0,te=te+Math.imul(Ze,rt)|0,ee=ee+Math.imul(Ue,it)|0,_=_+Math.imul(Ue,dt)|0,_=_+Math.imul(je,it)|0,te=te+Math.imul(je,dt)|0,ee=ee+Math.imul(tt,nt)|0,_=_+Math.imul(tt,pt)|0,_=_+Math.imul(ut,nt)|0,te=te+Math.imul(ut,pt)|0,ee=ee+Math.imul(Qe,at)|0,_=_+Math.imul(Qe,mt)|0,_=_+Math.imul(Ge,at)|0,te=te+Math.imul(Ge,mt)|0,ee=ee+Math.imul(Ve,ot)|0,_=_+Math.imul(Ve,vt)|0,_=_+Math.imul(Ye,ot)|0,te=te+Math.imul(Ye,vt)|0,ee=ee+Math.imul(ke,st)|0,_=_+Math.imul(ke,gt)|0,_=_+Math.imul(He,st)|0,te=te+Math.imul(He,gt)|0,ee=ee+Math.imul(Ie,ht)|0,_=_+Math.imul(Ie,yt)|0,_=_+Math.imul(Ne,ht)|0,te=te+Math.imul(Ne,yt)|0,ee=ee+Math.imul(Se,lt)|0,_=_+Math.imul(Se,_t)|0,_=_+Math.imul(_e,lt)|0,te=te+Math.imul(_e,_t)|0;var jt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(jt>>>26)|0,jt&=67108863,ee=Math.imul(Be,Je),_=Math.imul(Be,rt),_=_+Math.imul(ye,Je)|0,te=Math.imul(ye,rt),ee=ee+Math.imul(Ke,it)|0,_=_+Math.imul(Ke,dt)|0,_=_+Math.imul(Ze,it)|0,te=te+Math.imul(Ze,dt)|0,ee=ee+Math.imul(Ue,nt)|0,_=_+Math.imul(Ue,pt)|0,_=_+Math.imul(je,nt)|0,te=te+Math.imul(je,pt)|0,ee=ee+Math.imul(tt,at)|0,_=_+Math.imul(tt,mt)|0,_=_+Math.imul(ut,at)|0,te=te+Math.imul(ut,mt)|0,ee=ee+Math.imul(Qe,ot)|0,_=_+Math.imul(Qe,vt)|0,_=_+Math.imul(Ge,ot)|0,te=te+Math.imul(Ge,vt)|0,ee=ee+Math.imul(Ve,st)|0,_=_+Math.imul(Ve,gt)|0,_=_+Math.imul(Ye,st)|0,te=te+Math.imul(Ye,gt)|0,ee=ee+Math.imul(ke,ht)|0,_=_+Math.imul(ke,yt)|0,_=_+Math.imul(He,ht)|0,te=te+Math.imul(He,yt)|0,ee=ee+Math.imul(Ie,lt)|0,_=_+Math.imul(Ie,_t)|0,_=_+Math.imul(Ne,lt)|0,te=te+Math.imul(Ne,_t)|0;var zt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863,ee=Math.imul(Be,it),_=Math.imul(Be,dt),_=_+Math.imul(ye,it)|0,te=Math.imul(ye,dt),ee=ee+Math.imul(Ke,nt)|0,_=_+Math.imul(Ke,pt)|0,_=_+Math.imul(Ze,nt)|0,te=te+Math.imul(Ze,pt)|0,ee=ee+Math.imul(Ue,at)|0,_=_+Math.imul(Ue,mt)|0,_=_+Math.imul(je,at)|0,te=te+Math.imul(je,mt)|0,ee=ee+Math.imul(tt,ot)|0,_=_+Math.imul(tt,vt)|0,_=_+Math.imul(ut,ot)|0,te=te+Math.imul(ut,vt)|0,ee=ee+Math.imul(Qe,st)|0,_=_+Math.imul(Qe,gt)|0,_=_+Math.imul(Ge,st)|0,te=te+Math.imul(Ge,gt)|0,ee=ee+Math.imul(Ve,ht)|0,_=_+Math.imul(Ve,yt)|0,_=_+Math.imul(Ye,ht)|0,te=te+Math.imul(Ye,yt)|0,ee=ee+Math.imul(ke,lt)|0,_=_+Math.imul(ke,_t)|0,_=_+Math.imul(He,lt)|0,te=te+Math.imul(He,_t)|0;var Wt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,ee=Math.imul(Be,nt),_=Math.imul(Be,pt),_=_+Math.imul(ye,nt)|0,te=Math.imul(ye,pt),ee=ee+Math.imul(Ke,at)|0,_=_+Math.imul(Ke,mt)|0,_=_+Math.imul(Ze,at)|0,te=te+Math.imul(Ze,mt)|0,ee=ee+Math.imul(Ue,ot)|0,_=_+Math.imul(Ue,vt)|0,_=_+Math.imul(je,ot)|0,te=te+Math.imul(je,vt)|0,ee=ee+Math.imul(tt,st)|0,_=_+Math.imul(tt,gt)|0,_=_+Math.imul(ut,st)|0,te=te+Math.imul(ut,gt)|0,ee=ee+Math.imul(Qe,ht)|0,_=_+Math.imul(Qe,yt)|0,_=_+Math.imul(Ge,ht)|0,te=te+Math.imul(Ge,yt)|0,ee=ee+Math.imul(Ve,lt)|0,_=_+Math.imul(Ve,_t)|0,_=_+Math.imul(Ye,lt)|0,te=te+Math.imul(Ye,_t)|0;var Gt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,ee=Math.imul(Be,at),_=Math.imul(Be,mt),_=_+Math.imul(ye,at)|0,te=Math.imul(ye,mt),ee=ee+Math.imul(Ke,ot)|0,_=_+Math.imul(Ke,vt)|0,_=_+Math.imul(Ze,ot)|0,te=te+Math.imul(Ze,vt)|0,ee=ee+Math.imul(Ue,st)|0,_=_+Math.imul(Ue,gt)|0,_=_+Math.imul(je,st)|0,te=te+Math.imul(je,gt)|0,ee=ee+Math.imul(tt,ht)|0,_=_+Math.imul(tt,yt)|0,_=_+Math.imul(ut,ht)|0,te=te+Math.imul(ut,yt)|0,ee=ee+Math.imul(Qe,lt)|0,_=_+Math.imul(Qe,_t)|0,_=_+Math.imul(Ge,lt)|0,te=te+Math.imul(Ge,_t)|0;var Kt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,ee=Math.imul(Be,ot),_=Math.imul(Be,vt),_=_+Math.imul(ye,ot)|0,te=Math.imul(ye,vt),ee=ee+Math.imul(Ke,st)|0,_=_+Math.imul(Ke,gt)|0,_=_+Math.imul(Ze,st)|0,te=te+Math.imul(Ze,gt)|0,ee=ee+Math.imul(Ue,ht)|0,_=_+Math.imul(Ue,yt)|0,_=_+Math.imul(je,ht)|0,te=te+Math.imul(je,yt)|0,ee=ee+Math.imul(tt,lt)|0,_=_+Math.imul(tt,_t)|0,_=_+Math.imul(ut,lt)|0,te=te+Math.imul(ut,_t)|0;var Zt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,ee=Math.imul(Be,st),_=Math.imul(Be,gt),_=_+Math.imul(ye,st)|0,te=Math.imul(ye,gt),ee=ee+Math.imul(Ke,ht)|0,_=_+Math.imul(Ke,yt)|0,_=_+Math.imul(Ze,ht)|0,te=te+Math.imul(Ze,yt)|0,ee=ee+Math.imul(Ue,lt)|0,_=_+Math.imul(Ue,_t)|0,_=_+Math.imul(je,lt)|0,te=te+Math.imul(je,_t)|0;var Vt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,ee=Math.imul(Be,ht),_=Math.imul(Be,yt),_=_+Math.imul(ye,ht)|0,te=Math.imul(ye,yt),ee=ee+Math.imul(Ke,lt)|0,_=_+Math.imul(Ke,_t)|0,_=_+Math.imul(Ze,lt)|0,te=te+Math.imul(Ze,_t)|0;var Yt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,ee=Math.imul(Be,lt),_=Math.imul(Be,_t),_=_+Math.imul(ye,lt)|0,te=Math.imul(ye,_t);var Xt=(se+ee|0)+((_&8191)<<13)|0;return se=(te+(_>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,ae[0]=At,ae[1]=Tt,ae[2]=Pt,ae[3]=Ot,ae[4]=Nt,ae[5]=Lt,ae[6]=Ut,ae[7]=Ft,ae[8]=qt,ae[9]=Ht,ae[10]=jt,ae[11]=zt,ae[12]=Wt,ae[13]=Gt,ae[14]=Kt,ae[15]=Zt,ae[16]=Vt,ae[17]=Yt,ae[18]=Xt,se!==0&&(ae[19]=se,j.length++),j};Math.imul||(xe=ge);function Ae(oe,c,b){b.negative=c.negative^oe.negative,b.length=oe.length+c.length;for(var j=0,Z=0,re=0;re<b.length-1;re++){var ae=Z;Z=0;for(var se=j&67108863,ee=Math.min(re,c.length-1),_=Math.max(0,re-oe.length+1);_<=ee;_++){var te=re-_,ue=oe.words[te]|0,ve=c.words[_]|0,be=ue*ve,Me=be&67108863;ae=ae+(be/67108864|0)|0,Me=Me+se|0,se=Me&67108863,ae=ae+(Me>>>26)|0,Z+=ae>>>26,ae&=67108863}b.words[re]=se,j=ae,ae=Z}return j!==0?b.words[re]=j:b.length--,b.strip()}function Ee(oe,c,b){var j=new we;return j.mulp(oe,c,b)}d.prototype.mulTo=function(c,b){var j,Z=this.length+c.length;return this.length===10&&c.length===10?j=xe(this,c,b):Z<63?j=ge(this,c,b):Z<1024?j=Ae(this,c,b):j=Ee(this,c,b),j};function we(oe,c){this.x=oe,this.y=c}we.prototype.makeRBT=function(c){for(var b=new Array(c),j=d.prototype._countBits(c)-1,Z=0;Z<c;Z++)b[Z]=this.revBin(Z,j,c);return b},we.prototype.revBin=function(c,b,j){if(c===0||c===j-1)return c;for(var Z=0,re=0;re<b;re++)Z|=(c&1)<<b-re-1,c>>=1;return Z},we.prototype.permute=function(c,b,j,Z,re,ae){for(var se=0;se<ae;se++)Z[se]=b[c[se]],re[se]=j[c[se]]},we.prototype.transform=function(c,b,j,Z,re,ae){this.permute(ae,c,b,j,Z,re);for(var se=1;se<re;se<<=1)for(var ee=se<<1,_=Math.cos(2*Math.PI/ee),te=Math.sin(2*Math.PI/ee),ue=0;ue<re;ue+=ee)for(var ve=_,be=te,Me=0;Me<se;Me++){var Se=j[ue+Me],_e=Z[ue+Me],Re=j[ue+Me+se],Ie=Z[ue+Me+se],Ne=ve*Re-be*Ie;Ie=ve*Ie+be*Re,Re=Ne,j[ue+Me]=Se+Re,Z[ue+Me]=_e+Ie,j[ue+Me+se]=Se-Re,Z[ue+Me+se]=_e-Ie,Me!==ee&&(Ne=_*ve-te*be,be=_*be+te*ve,ve=Ne)}},we.prototype.guessLen13b=function(c,b){var j=Math.max(b,c)|1,Z=j&1,re=0;for(j=j/2|0;j;j=j>>>1)re++;return 1<<re+1+Z},we.prototype.conjugate=function(c,b,j){if(!(j<=1))for(var Z=0;Z<j/2;Z++){var re=c[Z];c[Z]=c[j-Z-1],c[j-Z-1]=re,re=b[Z],b[Z]=-b[j-Z-1],b[j-Z-1]=-re}},we.prototype.normalize13b=function(c,b){for(var j=0,Z=0;Z<b/2;Z++){var re=Math.round(c[2*Z+1]/b)*8192+Math.round(c[2*Z]/b)+j;c[Z]=re&67108863,re<67108864?j=0:j=re/67108864|0}return c},we.prototype.convert13b=function(c,b,j,Z){for(var re=0,ae=0;ae<b;ae++)re=re+(c[ae]|0),j[2*ae]=re&8191,re=re>>>13,j[2*ae+1]=re&8191,re=re>>>13;for(ae=2*b;ae<Z;++ae)j[ae]=0;h(re===0),h((re&-8192)===0)},we.prototype.stub=function(c){for(var b=new Array(c),j=0;j<c;j++)b[j]=0;return b},we.prototype.mulp=function(c,b,j){var Z=2*this.guessLen13b(c.length,b.length),re=this.makeRBT(Z),ae=this.stub(Z),se=new Array(Z),ee=new Array(Z),_=new Array(Z),te=new Array(Z),ue=new Array(Z),ve=new Array(Z),be=j.words;be.length=Z,this.convert13b(c.words,c.length,se,Z),this.convert13b(b.words,b.length,te,Z),this.transform(se,ae,ee,_,Z,re),this.transform(te,ae,ue,ve,Z,re);for(var Me=0;Me<Z;Me++){var Se=ee[Me]*ue[Me]-_[Me]*ve[Me];_[Me]=ee[Me]*ve[Me]+_[Me]*ue[Me],ee[Me]=Se}return this.conjugate(ee,_,Z),this.transform(ee,_,be,ae,Z,re),this.conjugate(be,ae,Z),this.normalize13b(be,Z),j.negative=c.negative^b.negative,j.length=c.length+b.length,j.strip()},d.prototype.mul=function(c){var b=new d(null);return b.words=new Array(this.length+c.length),this.mulTo(c,b)},d.prototype.mulf=function(c){var b=new d(null);return b.words=new Array(this.length+c.length),Ee(this,c,b)},d.prototype.imul=function(c){return this.clone().mulTo(c,this)},d.prototype.imuln=function(c){h(typeof c=="number"),h(c<67108864);for(var b=0,j=0;j<this.length;j++){var Z=(this.words[j]|0)*c,re=(Z&67108863)+(b&67108863);b>>=26,b+=Z/67108864|0,b+=re>>>26,this.words[j]=re&67108863}return b!==0&&(this.words[j]=b,this.length++),this.length=c===0?1:this.length,this},d.prototype.muln=function(c){return this.clone().imuln(c)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(c){var b=ce(c);if(b.length===0)return new d(1);for(var j=this,Z=0;Z<b.length&&b[Z]===0;Z++,j=j.sqr());if(++Z<b.length)for(var re=j.sqr();Z<b.length;Z++,re=re.sqr())b[Z]!==0&&(j=j.mul(re));return j},d.prototype.iushln=function(c){h(typeof c=="number"&&c>=0);var b=c%26,j=(c-b)/26,Z=67108863>>>26-b<<26-b,re;if(b!==0){var ae=0;for(re=0;re<this.length;re++){var se=this.words[re]&Z,ee=(this.words[re]|0)-se<<b;this.words[re]=ee|ae,ae=se>>>26-b}ae&&(this.words[re]=ae,this.length++)}if(j!==0){for(re=this.length-1;re>=0;re--)this.words[re+j]=this.words[re];for(re=0;re<j;re++)this.words[re]=0;this.length+=j}return this.strip()},d.prototype.ishln=function(c){return h(this.negative===0),this.iushln(c)},d.prototype.iushrn=function(c,b,j){h(typeof c=="number"&&c>=0);var Z;b?Z=(b-b%26)/26:Z=0;var re=c%26,ae=Math.min((c-re)/26,this.length),se=67108863^67108863>>>re<<re,ee=j;if(Z-=ae,Z=Math.max(0,Z),ee){for(var _=0;_<ae;_++)ee.words[_]=this.words[_];ee.length=ae}if(ae!==0)if(this.length>ae)for(this.length-=ae,_=0;_<this.length;_++)this.words[_]=this.words[_+ae];else this.words[0]=0,this.length=1;var te=0;for(_=this.length-1;_>=0&&(te!==0||_>=Z);_--){var ue=this.words[_]|0;this.words[_]=te<<26-re|ue>>>re,te=ue&se}return ee&&te!==0&&(ee.words[ee.length++]=te),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function(c,b,j){return h(this.negative===0),this.iushrn(c,b,j)},d.prototype.shln=function(c){return this.clone().ishln(c)},d.prototype.ushln=function(c){return this.clone().iushln(c)},d.prototype.shrn=function(c){return this.clone().ishrn(c)},d.prototype.ushrn=function(c){return this.clone().iushrn(c)},d.prototype.testn=function(c){h(typeof c=="number"&&c>=0);var b=c%26,j=(c-b)/26,Z=1<<b;if(this.length<=j)return!1;var re=this.words[j];return!!(re&Z)},d.prototype.imaskn=function(c){h(typeof c=="number"&&c>=0);var b=c%26,j=(c-b)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(b!==0&&j++,this.length=Math.min(j,this.length),b!==0){var Z=67108863^67108863>>>b<<b;this.words[this.length-1]&=Z}return this.strip()},d.prototype.maskn=function(c){return this.clone().imaskn(c)},d.prototype.iaddn=function(c){return h(typeof c=="number"),h(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},d.prototype._iaddn=function(c){this.words[0]+=c;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},d.prototype.isubn=function(c){if(h(typeof c=="number"),h(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this.strip()},d.prototype.addn=function(c){return this.clone().iaddn(c)},d.prototype.subn=function(c){return this.clone().isubn(c)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(c,b,j){var Z=c.length+j,re;this._expand(Z);var ae,se=0;for(re=0;re<c.length;re++){ae=(this.words[re+j]|0)+se;var ee=(c.words[re]|0)*b;ae-=ee&67108863,se=(ae>>26)-(ee/67108864|0),this.words[re+j]=ae&67108863}for(;re<this.length-j;re++)ae=(this.words[re+j]|0)+se,se=ae>>26,this.words[re+j]=ae&67108863;if(se===0)return this.strip();for(h(se===-1),se=0,re=0;re<this.length;re++)ae=-(this.words[re]|0)+se,se=ae>>26,this.words[re]=ae&67108863;return this.negative=1,this.strip()},d.prototype._wordDiv=function(c,b){var j=this.length-c.length,Z=this.clone(),re=c,ae=re.words[re.length-1]|0,se=this._countBits(ae);j=26-se,j!==0&&(re=re.ushln(j),Z.iushln(j),ae=re.words[re.length-1]|0);var ee=Z.length-re.length,_;if(b!=="mod"){_=new d(null),_.length=ee+1,_.words=new Array(_.length);for(var te=0;te<_.length;te++)_.words[te]=0}var ue=Z.clone()._ishlnsubmul(re,1,ee);ue.negative===0&&(Z=ue,_&&(_.words[ee]=1));for(var ve=ee-1;ve>=0;ve--){var be=(Z.words[re.length+ve]|0)*67108864+(Z.words[re.length+ve-1]|0);for(be=Math.min(be/ae|0,67108863),Z._ishlnsubmul(re,be,ve);Z.negative!==0;)be--,Z.negative=0,Z._ishlnsubmul(re,1,ve),Z.isZero()||(Z.negative^=1);_&&(_.words[ve]=be)}return _&&_.strip(),Z.strip(),b!=="div"&&j!==0&&Z.iushrn(j),{div:_||null,mod:Z}},d.prototype.divmod=function(c,b,j){if(h(!c.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var Z,re,ae;return this.negative!==0&&c.negative===0?(ae=this.neg().divmod(c,b),b!=="mod"&&(Z=ae.div.neg()),b!=="div"&&(re=ae.mod.neg(),j&&re.negative!==0&&re.iadd(c)),{div:Z,mod:re}):this.negative===0&&c.negative!==0?(ae=this.divmod(c.neg(),b),b!=="mod"&&(Z=ae.div.neg()),{div:Z,mod:ae.mod}):this.negative&c.negative?(ae=this.neg().divmod(c.neg(),b),b!=="div"&&(re=ae.mod.neg(),j&&re.negative!==0&&re.isub(c)),{div:ae.div,mod:re}):c.length>this.length||this.cmp(c)<0?{div:new d(0),mod:this}:c.length===1?b==="div"?{div:this.divn(c.words[0]),mod:null}:b==="mod"?{div:null,mod:new d(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new d(this.modn(c.words[0]))}:this._wordDiv(c,b)},d.prototype.div=function(c){return this.divmod(c,"div",!1).div},d.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},d.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},d.prototype.divRound=function(c){var b=this.divmod(c);if(b.mod.isZero())return b.div;var j=b.div.negative!==0?b.mod.isub(c):b.mod,Z=c.ushrn(1),re=c.andln(1),ae=j.cmp(Z);return ae<0||re===1&&ae===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},d.prototype.modn=function(c){h(c<=67108863);for(var b=(1<<26)%c,j=0,Z=this.length-1;Z>=0;Z--)j=(b*j+(this.words[Z]|0))%c;return j},d.prototype.idivn=function(c){h(c<=67108863);for(var b=0,j=this.length-1;j>=0;j--){var Z=(this.words[j]|0)+b*67108864;this.words[j]=Z/c|0,b=Z%c}return this.strip()},d.prototype.divn=function(c){return this.clone().idivn(c)},d.prototype.egcd=function(c){h(c.negative===0),h(!c.isZero());var b=this,j=c.clone();b.negative!==0?b=b.umod(c):b=b.clone();for(var Z=new d(1),re=new d(0),ae=new d(0),se=new d(1),ee=0;b.isEven()&&j.isEven();)b.iushrn(1),j.iushrn(1),++ee;for(var _=j.clone(),te=b.clone();!b.isZero();){for(var ue=0,ve=1;!(b.words[0]&ve)&&ue<26;++ue,ve<<=1);if(ue>0)for(b.iushrn(ue);ue-- >0;)(Z.isOdd()||re.isOdd())&&(Z.iadd(_),re.isub(te)),Z.iushrn(1),re.iushrn(1);for(var be=0,Me=1;!(j.words[0]&Me)&&be<26;++be,Me<<=1);if(be>0)for(j.iushrn(be);be-- >0;)(ae.isOdd()||se.isOdd())&&(ae.iadd(_),se.isub(te)),ae.iushrn(1),se.iushrn(1);b.cmp(j)>=0?(b.isub(j),Z.isub(ae),re.isub(se)):(j.isub(b),ae.isub(Z),se.isub(re))}return{a:ae,b:se,gcd:j.iushln(ee)}},d.prototype._invmp=function(c){h(c.negative===0),h(!c.isZero());var b=this,j=c.clone();b.negative!==0?b=b.umod(c):b=b.clone();for(var Z=new d(1),re=new d(0),ae=j.clone();b.cmpn(1)>0&&j.cmpn(1)>0;){for(var se=0,ee=1;!(b.words[0]&ee)&&se<26;++se,ee<<=1);if(se>0)for(b.iushrn(se);se-- >0;)Z.isOdd()&&Z.iadd(ae),Z.iushrn(1);for(var _=0,te=1;!(j.words[0]&te)&&_<26;++_,te<<=1);if(_>0)for(j.iushrn(_);_-- >0;)re.isOdd()&&re.iadd(ae),re.iushrn(1);b.cmp(j)>=0?(b.isub(j),Z.isub(re)):(j.isub(b),re.isub(Z))}var ue;return b.cmpn(1)===0?ue=Z:ue=re,ue.cmpn(0)<0&&ue.iadd(c),ue},d.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var b=this.clone(),j=c.clone();b.negative=0,j.negative=0;for(var Z=0;b.isEven()&&j.isEven();Z++)b.iushrn(1),j.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;j.isEven();)j.iushrn(1);var re=b.cmp(j);if(re<0){var ae=b;b=j,j=ae}else if(re===0||j.cmpn(1)===0)break;b.isub(j)}while(!0);return j.iushln(Z)},d.prototype.invm=function(c){return this.egcd(c).a.umod(c)},d.prototype.isEven=function(){return(this.words[0]&1)===0},d.prototype.isOdd=function(){return(this.words[0]&1)===1},d.prototype.andln=function(c){return this.words[0]&c},d.prototype.bincn=function(c){h(typeof c=="number");var b=c%26,j=(c-b)/26,Z=1<<b;if(this.length<=j)return this._expand(j+1),this.words[j]|=Z,this;for(var re=Z,ae=j;re!==0&&ae<this.length;ae++){var se=this.words[ae]|0;se+=re,re=se>>>26,se&=67108863,this.words[ae]=se}return re!==0&&(this.words[ae]=re,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(c){var b=c<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this.strip();var j;if(this.length>1)j=1;else{b&&(c=-c),h(c<=67108863,"Number is too big");var Z=this.words[0]|0;j=Z===c?0:Z<c?-1:1}return this.negative!==0?-j|0:j},d.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var b=this.ucmp(c);return this.negative!==0?-b|0:b},d.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var b=0,j=this.length-1;j>=0;j--){var Z=this.words[j]|0,re=c.words[j]|0;if(Z!==re){Z<re?b=-1:Z>re&&(b=1);break}}return b},d.prototype.gtn=function(c){return this.cmpn(c)===1},d.prototype.gt=function(c){return this.cmp(c)===1},d.prototype.gten=function(c){return this.cmpn(c)>=0},d.prototype.gte=function(c){return this.cmp(c)>=0},d.prototype.ltn=function(c){return this.cmpn(c)===-1},d.prototype.lt=function(c){return this.cmp(c)===-1},d.prototype.lten=function(c){return this.cmpn(c)<=0},d.prototype.lte=function(c){return this.cmp(c)<=0},d.prototype.eqn=function(c){return this.cmpn(c)===0},d.prototype.eq=function(c){return this.cmp(c)===0},d.red=function(c){return new Ce(c)},d.prototype.toRed=function(c){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},d.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(c){return this.red=c,this},d.prototype.forceRed=function(c){return h(!this.red,"Already a number in reduction context"),this._forceRed(c)},d.prototype.redAdd=function(c){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},d.prototype.redIAdd=function(c){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},d.prototype.redSub=function(c){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},d.prototype.redISub=function(c){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},d.prototype.redShl=function(c){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},d.prototype.redMul=function(c){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},d.prototype.redIMul=function(c){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},d.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(c){return h(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var pe={k256:null,p224:null,p192:null,p25519:null};function me(oe,c){this.name=oe,this.p=new d(c,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}me.prototype._tmp=function(){var c=new d(null);return c.words=new Array(Math.ceil(this.n/13)),c},me.prototype.ireduce=function(c){var b=c,j;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),j=b.bitLength();while(j>this.n);var Z=j<this.n?-1:b.ucmp(this.p);return Z===0?(b.words[0]=0,b.length=1):Z>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},me.prototype.split=function(c,b){c.iushrn(this.n,0,b)},me.prototype.imulK=function(c){return c.imul(this.k)};function Te(){me.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$(Te,me),Te.prototype.split=function(c,b){for(var j=4194303,Z=Math.min(c.length,9),re=0;re<Z;re++)b.words[re]=c.words[re];if(b.length=Z,c.length<=9){c.words[0]=0,c.length=1;return}var ae=c.words[9];for(b.words[b.length++]=ae&j,re=10;re<c.length;re++){var se=c.words[re]|0;c.words[re-10]=(se&j)<<4|ae>>>22,ae=se}ae>>>=22,c.words[re-10]=ae,ae===0&&c.length>10?c.length-=10:c.length-=9},Te.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var b=0,j=0;j<c.length;j++){var Z=c.words[j]|0;b+=Z*977,c.words[j]=b&67108863,b=Z*64+(b/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function Pe(){me.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$(Pe,me);function Le(){me.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$(Le,me);function qe(){me.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$(qe,me),qe.prototype.imulK=function(c){for(var b=0,j=0;j<c.length;j++){var Z=(c.words[j]|0)*19+b,re=Z&67108863;Z>>>=26,c.words[j]=re,b=Z}return b!==0&&(c.words[c.length++]=b),c},d._prime=function(c){if(pe[c])return pe[c];var b;if(c==="k256")b=new Te;else if(c==="p224")b=new Pe;else if(c==="p192")b=new Le;else if(c==="p25519")b=new qe;else throw new Error("Unknown prime "+c);return pe[c]=b,b};function Ce(oe){if(typeof oe=="string"){var c=d._prime(oe);this.m=c.p,this.prime=c}else h(oe.gtn(1),"modulus must be greater than 1"),this.m=oe,this.prime=null}Ce.prototype._verify1=function(c){h(c.negative===0,"red works only with positives"),h(c.red,"red works only with red numbers")},Ce.prototype._verify2=function(c,b){h((c.negative|b.negative)===0,"red works only with positives"),h(c.red&&c.red===b.red,"red works only with red numbers")},Ce.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},Ce.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},Ce.prototype.add=function(c,b){this._verify2(c,b);var j=c.add(b);return j.cmp(this.m)>=0&&j.isub(this.m),j._forceRed(this)},Ce.prototype.iadd=function(c,b){this._verify2(c,b);var j=c.iadd(b);return j.cmp(this.m)>=0&&j.isub(this.m),j},Ce.prototype.sub=function(c,b){this._verify2(c,b);var j=c.sub(b);return j.cmpn(0)<0&&j.iadd(this.m),j._forceRed(this)},Ce.prototype.isub=function(c,b){this._verify2(c,b);var j=c.isub(b);return j.cmpn(0)<0&&j.iadd(this.m),j},Ce.prototype.shl=function(c,b){return this._verify1(c),this.imod(c.ushln(b))},Ce.prototype.imul=function(c,b){return this._verify2(c,b),this.imod(c.imul(b))},Ce.prototype.mul=function(c,b){return this._verify2(c,b),this.imod(c.mul(b))},Ce.prototype.isqr=function(c){return this.imul(c,c.clone())},Ce.prototype.sqr=function(c){return this.mul(c,c)},Ce.prototype.sqrt=function(c){if(c.isZero())return c.clone();var b=this.m.andln(3);if(h(b%2===1),b===3){var j=this.m.add(new d(1)).iushrn(2);return this.pow(c,j)}for(var Z=this.m.subn(1),re=0;!Z.isZero()&&Z.andln(1)===0;)re++,Z.iushrn(1);h(!Z.isZero());var ae=new d(1).toRed(this),se=ae.redNeg(),ee=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new d(2*_*_).toRed(this);this.pow(_,ee).cmp(se)!==0;)_.redIAdd(se);for(var te=this.pow(_,Z),ue=this.pow(c,Z.addn(1).iushrn(1)),ve=this.pow(c,Z),be=re;ve.cmp(ae)!==0;){for(var Me=ve,Se=0;Me.cmp(ae)!==0;Se++)Me=Me.redSqr();h(Se<be);var _e=this.pow(te,new d(1).iushln(be-Se-1));ue=ue.redMul(_e),te=_e.redSqr(),ve=ve.redMul(te),be=Se}return ue},Ce.prototype.invm=function(c){var b=c._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},Ce.prototype.pow=function(c,b){if(b.isZero())return new d(1).toRed(this);if(b.cmpn(1)===0)return c.clone();var j=4,Z=new Array(1<<j);Z[0]=new d(1).toRed(this),Z[1]=c;for(var re=2;re<Z.length;re++)Z[re]=this.mul(Z[re-1],c);var ae=Z[0],se=0,ee=0,_=b.bitLength()%26;for(_===0&&(_=26),re=b.length-1;re>=0;re--){for(var te=b.words[re],ue=_-1;ue>=0;ue--){var ve=te>>ue&1;if(ae!==Z[0]&&(ae=this.sqr(ae)),ve===0&&se===0){ee=0;continue}se<<=1,se|=ve,ee++,!(ee!==j&&(re!==0||ue!==0))&&(ae=this.mul(ae,Z[se]),ee=0,se=0)}_=26}return ae},Ce.prototype.convertTo=function(c){var b=c.umod(this.m);return b===c?b.clone():b},Ce.prototype.convertFrom=function(c){var b=c.clone();return b.red=null,b},d.mont=function(c){return new ze(c)};function ze(oe){Ce.call(this,oe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$(ze,Ce),ze.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},ze.prototype.convertFrom=function(c){var b=this.imod(c.mul(this.rinv));return b.red=null,b},ze.prototype.imul=function(c,b){if(c.isZero()||b.isZero())return c.words[0]=0,c.length=1,c;var j=c.imul(b),Z=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=j.isub(Z).iushrn(this.shift),ae=re;return re.cmp(this.m)>=0?ae=re.isub(this.m):re.cmpn(0)<0&&(ae=re.iadd(this.m)),ae._forceRed(this)},ze.prototype.mul=function(c,b){if(c.isZero()||b.isZero())return new d(0)._forceRed(this);var j=c.mul(b),Z=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=j.isub(Z).iushrn(this.shift),ae=re;return re.cmp(this.m)>=0?ae=re.isub(this.m):re.cmpn(0)<0&&(ae=re.iadd(this.m)),ae._forceRed(this)},ze.prototype.invm=function(c){var b=this.imod(c._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(a,commonjsGlobal)})(bn$5);var bnExports$5=bn$5.exports,brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var a;brorand.exports=function($){return a||(a=new e(null)),a.generate($)};function e(h){this.rand=h}if(brorand.exports.Rand=e,e.prototype.generate=function($){return this._rand($)},e.prototype._rand=function($){if(this.rand.getBytes)return this.rand.getBytes($);for(var d=new Uint8Array($),Y=0;Y<d.length;Y++)d[Y]=this.rand.getByte();return d},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function($){var d=new Uint8Array($);return self.crypto.getRandomValues(d),d}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function($){var d=new Uint8Array($);return self.msCrypto.getRandomValues(d),d}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=requireCryptoBrowserify();if(typeof o.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function($){return o.randomBytes($)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var a=bnExports$5,e=requireBrorand();function o(h){this.rand=h||new e.Rand}return mr=o,o.create=function($){return new o($)},o.prototype._randbelow=function($){var d=$.bitLength(),Y=Math.ceil(d/8);do var ie=new a(this.rand.generate(Y));while(ie.cmp($)>=0);return ie},o.prototype._randrange=function($,d){var Y=d.sub($);return $.add(this._randbelow(Y))},o.prototype.test=function($,d,Y){var ie=$.bitLength(),fe=a.mont($),he=new a(1).toRed(fe);d||(d=Math.max(1,ie/48|0));for(var ne=$.subn(1),le=0;!ne.testn(le);le++);for(var de=$.shrn(le),ce=ne.toRed(fe),ge=!0;d>0;d--){var xe=this._randrange(new a(2),ne);Y&&Y(xe);var Ae=xe.toRed(fe).redPow(de);if(!(Ae.cmp(he)===0||Ae.cmp(ce)===0)){for(var Ee=1;Ee<le;Ee++){if(Ae=Ae.redSqr(),Ae.cmp(he)===0)return!1;if(Ae.cmp(ce)===0)break}if(Ee===le)return!1}}return ge},o.prototype.getDivisor=function($,d){var Y=$.bitLength(),ie=a.mont($),fe=new a(1).toRed(ie);d||(d=Math.max(1,Y/48|0));for(var he=$.subn(1),ne=0;!he.testn(ne);ne++);for(var le=$.shrn(ne),de=he.toRed(ie);d>0;d--){var ce=this._randrange(new a(2),he),ge=$.gcd(ce);if(ge.cmpn(1)!==0)return ge;var xe=ce.toRed(ie).redPow(le);if(!(xe.cmp(fe)===0||xe.cmp(de)===0)){for(var Ae=1;Ae<ne;Ae++){if(xe=xe.redSqr(),xe.cmp(fe)===0)return xe.fromRed().subn(1).gcd($);if(xe.cmp(de)===0)break}if(Ae===ne)return xe=xe.redSqr(),xe.fromRed().subn(1).gcd($)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var a=browserExports;generatePrime=Ae,Ae.simpleSieve=ge,Ae.fermatTest=xe;var e=bnExports$6,o=new e(24),h=requireMr(),$=new h,d=new e(1),Y=new e(2),ie=new e(5);new e(16),new e(8);var fe=new e(10),he=new e(3);new e(7);var ne=new e(11),le=new e(4);new e(12);var de=null;function ce(){if(de!==null)return de;var Ee=1048576,we=[];we[0]=2;for(var pe=1,me=3;me<Ee;me+=2){for(var Te=Math.ceil(Math.sqrt(me)),Pe=0;Pe<pe&&we[Pe]<=Te&&me%we[Pe]!==0;Pe++);pe!==Pe&&we[Pe]<=Te||(we[pe++]=me)}return de=we,we}function ge(Ee){for(var we=ce(),pe=0;pe<we.length;pe++)if(Ee.modn(we[pe])===0)return Ee.cmpn(we[pe])===0;return!0}function xe(Ee){var we=e.mont(Ee);return Y.toRed(we).redPow(Ee.subn(1)).fromRed().cmpn(1)===0}function Ae(Ee,we){if(Ee<16)return we===2||we===5?new e([140,123]):new e([140,39]);we=new e(we);for(var pe,me;;){for(pe=new e(a(Math.ceil(Ee/8)));pe.bitLength()>Ee;)pe.ishrn(1);if(pe.isEven()&&pe.iadd(d),pe.testn(1)||pe.iadd(Y),we.cmp(Y)){if(!we.cmp(ie))for(;pe.mod(fe).cmp(he);)pe.iadd(le)}else for(;pe.mod(o).cmp(ne);)pe.iadd(le);if(me=pe.shrn(1),ge(me)&&ge(pe)&&xe(me)&&xe(pe)&&$.test(me)&&$.test(pe))return pe}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var a=bnExports$6,e=requireMr(),o=new e,h=new a(24),$=new a(11),d=new a(10),Y=new a(3),ie=new a(7),fe=requireGeneratePrime(),he=browserExports;dh=ge;function ne(Ae,Ee){return Ee=Ee||"utf8",Buffer$E.isBuffer(Ae)||(Ae=new Buffer$E(Ae,Ee)),this._pub=new a(Ae),this}function le(Ae,Ee){return Ee=Ee||"utf8",Buffer$E.isBuffer(Ae)||(Ae=new Buffer$E(Ae,Ee)),this._priv=new a(Ae),this}var de={};function ce(Ae,Ee){var we=Ee.toString("hex"),pe=[we,Ae.toString(16)].join("_");if(pe in de)return de[pe];var me=0;if(Ae.isEven()||!fe.simpleSieve||!fe.fermatTest(Ae)||!o.test(Ae))return me+=1,we==="02"||we==="05"?me+=8:me+=4,de[pe]=me,me;o.test(Ae.shrn(1))||(me+=2);var Te;switch(we){case"02":Ae.mod(h).cmp($)&&(me+=8);break;case"05":Te=Ae.mod(d),Te.cmp(Y)&&Te.cmp(ie)&&(me+=8);break;default:me+=4}return de[pe]=me,me}function ge(Ae,Ee,we){this.setGenerator(Ee),this.__prime=new a(Ae),this._prime=a.mont(this.__prime),this._primeLen=Ae.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,we?(this.setPublicKey=ne,this.setPrivateKey=le):this._primeCode=8}Object.defineProperty(ge.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=ce(this.__prime,this.__gen)),this._primeCode}}),ge.prototype.generateKeys=function(){return this._priv||(this._priv=new a(he(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},ge.prototype.computeSecret=function(Ae){Ae=new a(Ae),Ae=Ae.toRed(this._prime);var Ee=Ae.redPow(this._priv).fromRed(),we=new Buffer$E(Ee.toArray()),pe=this.getPrime();if(we.length<pe.length){var me=new Buffer$E(pe.length-we.length);me.fill(0),we=Buffer$E.concat([me,we])}return we},ge.prototype.getPublicKey=function(Ee){return xe(this._pub,Ee)},ge.prototype.getPrivateKey=function(Ee){return xe(this._priv,Ee)},ge.prototype.getPrime=function(Ae){return xe(this.__prime,Ae)},ge.prototype.getGenerator=function(Ae){return xe(this._gen,Ae)},ge.prototype.setGenerator=function(Ae,Ee){return Ee=Ee||"utf8",Buffer$E.isBuffer(Ae)||(Ae=new Buffer$E(Ae,Ee)),this.__gen=Ae,this._gen=new a(Ae),this};function xe(Ae,Ee){var we=new Buffer$E(Ae.toArray());return Ee?we.toString(Ee):we}return dh}var hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$4;hasRequiredBrowser$2=1;var a=requireGeneratePrime(),e=require$$1$1,o=requireDh();function h(Y){var ie=new Buffer$E(e[Y].prime,"hex"),fe=new Buffer$E(e[Y].gen,"hex");return new o(ie,fe)}var $={binary:!0,hex:!0,base64:!0};function d(Y,ie,fe,he){return Buffer$E.isBuffer(ie)||$[ie]===void 0?d(Y,"binary",ie,fe):(ie=ie||"binary",he=he||"binary",fe=fe||new Buffer$E([2]),Buffer$E.isBuffer(fe)||(fe=new Buffer$E(fe,he)),typeof Y=="number"?new o(a(Y,fe),fe,!0):(Buffer$E.isBuffer(Y)||(Y=new Buffer$E(Y,ie)),new o(Y,fe,!0)))}return browser$4.DiffieHellmanGroup=browser$4.createDiffieHellmanGroup=browser$4.getDiffieHellman=h,browser$4.createDiffieHellman=browser$4.DiffieHellman=d,browser$4}var readableBrowser={exports:{}},processNextickArgs={exports:{}};typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick}:processNextickArgs.exports=process$1;function nextTick(a,e,o,h){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var $=arguments.length,d,Y;switch($){case 0:case 1:return process$1.nextTick(a);case 2:return process$1.nextTick(function(){a.call(null,e)});case 3:return process$1.nextTick(function(){a.call(null,e,o)});case 4:return process$1.nextTick(function(){a.call(null,e,o,h)});default:for(d=new Array($-1),Y=0;Y<d.length;)d[Y++]=arguments[Y];return process$1.nextTick(function(){a.apply(null,d)})}}var processNextickArgsExports=processNextickArgs.exports,toString={}.toString,isarray=Array.isArray||function(a){return toString.call(a)=="[object Array]"},streamBrowser=eventsExports.EventEmitter,safeBuffer$1={exports:{}};(function(a,e){var o=require$$0$3,h=o.Buffer;function $(Y,ie){for(var fe in Y)ie[fe]=Y[fe]}h.from&&h.alloc&&h.allocUnsafe&&h.allocUnsafeSlow?a.exports=o:($(o,e),e.Buffer=d);function d(Y,ie,fe){return h(Y,ie,fe)}$(h,d),d.from=function(Y,ie,fe){if(typeof Y=="number")throw new TypeError("Argument must not be a number");return h(Y,ie,fe)},d.alloc=function(Y,ie,fe){if(typeof Y!="number")throw new TypeError("Argument must be a number");var he=h(Y);return ie!==void 0?typeof fe=="string"?he.fill(ie,fe):he.fill(ie):he.fill(0),he},d.allocUnsafe=function(Y){if(typeof Y!="number")throw new TypeError("Argument must be a number");return h(Y)},d.allocUnsafeSlow=function(Y){if(typeof Y!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(Y)}})(safeBuffer$1,safeBuffer$1.exports);var safeBufferExports=safeBuffer$1.exports,util$2={};function isArray(a){return Array.isArray?Array.isArray(a):objectToString(a)==="[object Array]"}util$2.isArray=isArray;function isBoolean(a){return typeof a=="boolean"}util$2.isBoolean=isBoolean;function isNull(a){return a===null}util$2.isNull=isNull;function isNullOrUndefined(a){return a==null}util$2.isNullOrUndefined=isNullOrUndefined;function isNumber(a){return typeof a=="number"}util$2.isNumber=isNumber;function isString(a){return typeof a=="string"}util$2.isString=isString;function isSymbol(a){return typeof a=="symbol"}util$2.isSymbol=isSymbol;function isUndefined(a){return a===void 0}util$2.isUndefined=isUndefined;function isRegExp(a){return objectToString(a)==="[object RegExp]"}util$2.isRegExp=isRegExp;function isObject(a){return typeof a=="object"&&a!==null}util$2.isObject=isObject;function isDate(a){return objectToString(a)==="[object Date]"}util$2.isDate=isDate;function isError(a){return objectToString(a)==="[object Error]"||a instanceof Error}util$2.isError=isError;function isFunction(a){return typeof a=="function"}util$2.isFunction=isFunction;function isPrimitive(a){return a===null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||typeof a=="symbol"||typeof a>"u"}util$2.isPrimitive=isPrimitive;util$2.isBuffer=require$$0$3.Buffer.isBuffer;function objectToString(a){return Object.prototype.toString.call(a)}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(a){function e(d,Y){if(!(d instanceof Y))throw new TypeError("Cannot call a class as a function")}var o=safeBufferExports.Buffer,h=util$3;function $(d,Y,ie){d.copy(Y,ie)}a.exports=function(){function d(){e(this,d),this.head=null,this.tail=null,this.length=0}return d.prototype.push=function(ie){var fe={data:ie,next:null};this.length>0?this.tail.next=fe:this.head=fe,this.tail=fe,++this.length},d.prototype.unshift=function(ie){var fe={data:ie,next:this.head};this.length===0&&(this.tail=fe),this.head=fe,++this.length},d.prototype.shift=function(){if(this.length!==0){var ie=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,ie}},d.prototype.clear=function(){this.head=this.tail=null,this.length=0},d.prototype.join=function(ie){if(this.length===0)return"";for(var fe=this.head,he=""+fe.data;fe=fe.next;)he+=ie+fe.data;return he},d.prototype.concat=function(ie){if(this.length===0)return o.alloc(0);for(var fe=o.allocUnsafe(ie>>>0),he=this.head,ne=0;he;)$(he.data,fe,ne),ne+=he.data.length,he=he.next;return fe},d}(),h&&h.inspect&&h.inspect.custom&&(a.exports.prototype[h.inspect.custom]=function(){var d=h.inspect({length:this.length});return this.constructor.name+" "+d})}(BufferList)),BufferList.exports}var pna=processNextickArgsExports;function destroy(a,e){var o=this,h=this._readableState&&this._readableState.destroyed,$=this._writableState&&this._writableState.destroyed;return h||$?(e?e(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,pna.nextTick(emitErrorNT,this,a)):pna.nextTick(emitErrorNT,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(d){!e&&d?o._writableState?o._writableState.errorEmitted||(o._writableState.errorEmitted=!0,pna.nextTick(emitErrorNT,o,d)):pna.nextTick(emitErrorNT,o,d):e&&e(d)}),this)}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(a,e){a.emit("error",e)}var destroy_1={destroy,undestroy},_stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var a=processNextickArgsExports;_stream_writable=xe;function e(ae){var se=this;this.next=null,this.entry=null,this.finish=function(){re(se,ae)}}var o=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:a.nextTick,h;xe.WritableState=ce;var $=Object.create(util$2);$.inherits=inherits_browserExports;var d={deprecate:browser$e},Y=streamBrowser,ie=safeBufferExports.Buffer,fe=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function he(ae){return ie.from(ae)}function ne(ae){return ie.isBuffer(ae)||ae instanceof fe}var le=destroy_1;$.inherits(xe,Y);function de(){}function ce(ae,se){h=h||require_stream_duplex(),ae=ae||{};var ee=se instanceof h;this.objectMode=!!ae.objectMode,ee&&(this.objectMode=this.objectMode||!!ae.writableObjectMode);var _=ae.highWaterMark,te=ae.writableHighWaterMark,ue=this.objectMode?16:16*1024;_||_===0?this.highWaterMark=_:ee&&(te||te===0)?this.highWaterMark=te:this.highWaterMark=ue,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ve=ae.decodeStrings===!1;this.decodeStrings=!ve,this.defaultEncoding=ae.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(be){Le(se,be)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}ce.prototype.getBuffer=function(){for(var se=this.bufferedRequest,ee=[];se;)ee.push(se),se=se.next;return ee},function(){try{Object.defineProperty(ce.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ge;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ge=Function.prototype[Symbol.hasInstance],Object.defineProperty(xe,Symbol.hasInstance,{value:function(ae){return ge.call(this,ae)?!0:this!==xe?!1:ae&&ae._writableState instanceof ce}})):ge=function(ae){return ae instanceof this};function xe(ae){if(h=h||require_stream_duplex(),!ge.call(xe,this)&&!(this instanceof h))return new xe(ae);this._writableState=new ce(ae,this),this.writable=!0,ae&&(typeof ae.write=="function"&&(this._write=ae.write),typeof ae.writev=="function"&&(this._writev=ae.writev),typeof ae.destroy=="function"&&(this._destroy=ae.destroy),typeof ae.final=="function"&&(this._final=ae.final)),Y.call(this)}xe.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Ae(ae,se){var ee=new Error("write after end");ae.emit("error",ee),a.nextTick(se,ee)}function Ee(ae,se,ee,_){var te=!0,ue=!1;return ee===null?ue=new TypeError("May not write null values to stream"):typeof ee!="string"&&ee!==void 0&&!se.objectMode&&(ue=new TypeError("Invalid non-string/buffer chunk")),ue&&(ae.emit("error",ue),a.nextTick(_,ue),te=!1),te}xe.prototype.write=function(ae,se,ee){var _=this._writableState,te=!1,ue=!_.objectMode&&ne(ae);return ue&&!ie.isBuffer(ae)&&(ae=he(ae)),typeof se=="function"&&(ee=se,se=null),ue?se="buffer":se||(se=_.defaultEncoding),typeof ee!="function"&&(ee=de),_.ended?Ae(this,ee):(ue||Ee(this,_,ae,ee))&&(_.pendingcb++,te=pe(this,_,ue,ae,se,ee)),te},xe.prototype.cork=function(){var ae=this._writableState;ae.corked++},xe.prototype.uncork=function(){var ae=this._writableState;ae.corked&&(ae.corked--,!ae.writing&&!ae.corked&&!ae.bufferProcessing&&ae.bufferedRequest&&ze(this,ae))},xe.prototype.setDefaultEncoding=function(se){if(typeof se=="string"&&(se=se.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((se+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+se);return this._writableState.defaultEncoding=se,this};function we(ae,se,ee){return!ae.objectMode&&ae.decodeStrings!==!1&&typeof se=="string"&&(se=ie.from(se,ee)),se}Object.defineProperty(xe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function pe(ae,se,ee,_,te,ue){if(!ee){var ve=we(se,_,te);_!==ve&&(ee=!0,te="buffer",_=ve)}var be=se.objectMode?1:_.length;se.length+=be;var Me=se.length<se.highWaterMark;if(Me||(se.needDrain=!0),se.writing||se.corked){var Se=se.lastBufferedRequest;se.lastBufferedRequest={chunk:_,encoding:te,isBuf:ee,callback:ue,next:null},Se?Se.next=se.lastBufferedRequest:se.bufferedRequest=se.lastBufferedRequest,se.bufferedRequestCount+=1}else me(ae,se,!1,be,_,te,ue);return Me}function me(ae,se,ee,_,te,ue,ve){se.writelen=_,se.writecb=ve,se.writing=!0,se.sync=!0,ee?ae._writev(te,se.onwrite):ae._write(te,ue,se.onwrite),se.sync=!1}function Te(ae,se,ee,_,te){--se.pendingcb,ee?(a.nextTick(te,_),a.nextTick(j,ae,se),ae._writableState.errorEmitted=!0,ae.emit("error",_)):(te(_),ae._writableState.errorEmitted=!0,ae.emit("error",_),j(ae,se))}function Pe(ae){ae.writing=!1,ae.writecb=null,ae.length-=ae.writelen,ae.writelen=0}function Le(ae,se){var ee=ae._writableState,_=ee.sync,te=ee.writecb;if(Pe(ee),se)Te(ae,ee,_,se,te);else{var ue=oe(ee);!ue&&!ee.corked&&!ee.bufferProcessing&&ee.bufferedRequest&&ze(ae,ee),_?o(qe,ae,ee,ue,te):qe(ae,ee,ue,te)}}function qe(ae,se,ee,_){ee||Ce(ae,se),se.pendingcb--,_(),j(ae,se)}function Ce(ae,se){se.length===0&&se.needDrain&&(se.needDrain=!1,ae.emit("drain"))}function ze(ae,se){se.bufferProcessing=!0;var ee=se.bufferedRequest;if(ae._writev&&ee&&ee.next){var _=se.bufferedRequestCount,te=new Array(_),ue=se.corkedRequestsFree;ue.entry=ee;for(var ve=0,be=!0;ee;)te[ve]=ee,ee.isBuf||(be=!1),ee=ee.next,ve+=1;te.allBuffers=be,me(ae,se,!0,se.length,te,"",ue.finish),se.pendingcb++,se.lastBufferedRequest=null,ue.next?(se.corkedRequestsFree=ue.next,ue.next=null):se.corkedRequestsFree=new e(se),se.bufferedRequestCount=0}else{for(;ee;){var Me=ee.chunk,Se=ee.encoding,_e=ee.callback,Re=se.objectMode?1:Me.length;if(me(ae,se,!1,Re,Me,Se,_e),ee=ee.next,se.bufferedRequestCount--,se.writing)break}ee===null&&(se.lastBufferedRequest=null)}se.bufferedRequest=ee,se.bufferProcessing=!1}xe.prototype._write=function(ae,se,ee){ee(new Error("_write() is not implemented"))},xe.prototype._writev=null,xe.prototype.end=function(ae,se,ee){var _=this._writableState;typeof ae=="function"?(ee=ae,ae=null,se=null):typeof se=="function"&&(ee=se,se=null),ae!=null&&this.write(ae,se),_.corked&&(_.corked=1,this.uncork()),_.ending||Z(this,_,ee)};function oe(ae){return ae.ending&&ae.length===0&&ae.bufferedRequest===null&&!ae.finished&&!ae.writing}function c(ae,se){ae._final(function(ee){se.pendingcb--,ee&&ae.emit("error",ee),se.prefinished=!0,ae.emit("prefinish"),j(ae,se)})}function b(ae,se){!se.prefinished&&!se.finalCalled&&(typeof ae._final=="function"?(se.pendingcb++,se.finalCalled=!0,a.nextTick(c,ae,se)):(se.prefinished=!0,ae.emit("prefinish")))}function j(ae,se){var ee=oe(se);return ee&&(b(ae,se),se.pendingcb===0&&(se.finished=!0,ae.emit("finish"))),ee}function Z(ae,se,ee){se.ending=!0,j(ae,se),ee&&(se.finished?a.nextTick(ee):ae.once("finish",ee)),se.ended=!0,ae.writable=!1}function re(ae,se,ee){var _=ae.entry;for(ae.entry=null;_;){var te=_.callback;se.pendingcb--,te(ee),_=_.next}se.corkedRequestsFree.next=ae}return Object.defineProperty(xe.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ae){this._writableState&&(this._writableState.destroyed=ae)}}),xe.prototype.destroy=le.destroy,xe.prototype._undestroy=le.undestroy,xe.prototype._destroy=function(ae,se){this.end(),se(ae)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var a=processNextickArgsExports,e=Object.keys||function(le){var de=[];for(var ce in le)de.push(ce);return de};_stream_duplex=fe;var o=Object.create(util$2);o.inherits=inherits_browserExports;var h=require_stream_readable(),$=require_stream_writable();o.inherits(fe,h);for(var d=e($.prototype),Y=0;Y<d.length;Y++){var ie=d[Y];fe.prototype[ie]||(fe.prototype[ie]=$.prototype[ie])}function fe(le){if(!(this instanceof fe))return new fe(le);h.call(this,le),$.call(this,le),le&&le.readable===!1&&(this.readable=!1),le&&le.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,le&&le.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",he)}Object.defineProperty(fe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function he(){this.allowHalfOpen||this._writableState.ended||a.nextTick(ne,this)}function ne(le){le.end()}return Object.defineProperty(fe.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(le){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=le,this._writableState.destroyed=le)}}),fe.prototype._destroy=function(le,de){this.push(null),this.end(),a.nextTick(de,le)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var a=processNextickArgsExports;_stream_readable=we;var e=isarray,o;we.ReadableState=Ee,eventsExports.EventEmitter;var h=function(_e,Re){return _e.listeners(Re).length},$=streamBrowser,d=safeBufferExports.Buffer,Y=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ie(_e){return d.from(_e)}function fe(_e){return d.isBuffer(_e)||_e instanceof Y}var he=Object.create(util$2);he.inherits=inherits_browserExports;var ne=util$3,le=void 0;ne&&ne.debuglog?le=ne.debuglog("stream"):le=function(){};var de=requireBufferList(),ce=destroy_1,ge;he.inherits(we,$);var xe=["error","close","destroy","pause","resume"];function Ae(_e,Re,Ie){if(typeof _e.prependListener=="function")return _e.prependListener(Re,Ie);!_e._events||!_e._events[Re]?_e.on(Re,Ie):e(_e._events[Re])?_e._events[Re].unshift(Ie):_e._events[Re]=[Ie,_e._events[Re]]}function Ee(_e,Re){o=o||require_stream_duplex(),_e=_e||{};var Ie=Re instanceof o;this.objectMode=!!_e.objectMode,Ie&&(this.objectMode=this.objectMode||!!_e.readableObjectMode);var Ne=_e.highWaterMark,Oe=_e.readableHighWaterMark,ke=this.objectMode?16:16*1024;Ne||Ne===0?this.highWaterMark=Ne:Ie&&(Oe||Oe===0)?this.highWaterMark=Oe:this.highWaterMark=ke,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new de,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=_e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_e.encoding&&(ge||(ge=requireString_decoder().StringDecoder),this.decoder=new ge(_e.encoding),this.encoding=_e.encoding)}function we(_e){if(o=o||require_stream_duplex(),!(this instanceof we))return new we(_e);this._readableState=new Ee(_e,this),this.readable=!0,_e&&(typeof _e.read=="function"&&(this._read=_e.read),typeof _e.destroy=="function"&&(this._destroy=_e.destroy)),$.call(this)}Object.defineProperty(we.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(_e){this._readableState&&(this._readableState.destroyed=_e)}}),we.prototype.destroy=ce.destroy,we.prototype._undestroy=ce.undestroy,we.prototype._destroy=function(_e,Re){this.push(null),Re(_e)},we.prototype.push=function(_e,Re){var Ie=this._readableState,Ne;return Ie.objectMode?Ne=!0:typeof _e=="string"&&(Re=Re||Ie.defaultEncoding,Re!==Ie.encoding&&(_e=d.from(_e,Re),Re=""),Ne=!0),pe(this,_e,Re,!1,Ne)},we.prototype.unshift=function(_e){return pe(this,_e,null,!0,!1)};function pe(_e,Re,Ie,Ne,Oe){var ke=_e._readableState;if(Re===null)ke.reading=!1,ze(_e,ke);else{var He;Oe||(He=Te(ke,Re)),He?_e.emit("error",He):ke.objectMode||Re&&Re.length>0?(typeof Re!="string"&&!ke.objectMode&&Object.getPrototypeOf(Re)!==d.prototype&&(Re=ie(Re)),Ne?ke.endEmitted?_e.emit("error",new Error("stream.unshift() after end event")):me(_e,ke,Re,!0):ke.ended?_e.emit("error",new Error("stream.push() after EOF")):(ke.reading=!1,ke.decoder&&!Ie?(Re=ke.decoder.write(Re),ke.objectMode||Re.length!==0?me(_e,ke,Re,!1):b(_e,ke)):me(_e,ke,Re,!1))):Ne||(ke.reading=!1)}return Pe(ke)}function me(_e,Re,Ie,Ne){Re.flowing&&Re.length===0&&!Re.sync?(_e.emit("data",Ie),_e.read(0)):(Re.length+=Re.objectMode?1:Ie.length,Ne?Re.buffer.unshift(Ie):Re.buffer.push(Ie),Re.needReadable&&oe(_e)),b(_e,Re)}function Te(_e,Re){var Ie;return!fe(Re)&&typeof Re!="string"&&Re!==void 0&&!_e.objectMode&&(Ie=new TypeError("Invalid non-string/buffer chunk")),Ie}function Pe(_e){return!_e.ended&&(_e.needReadable||_e.length<_e.highWaterMark||_e.length===0)}we.prototype.isPaused=function(){return this._readableState.flowing===!1},we.prototype.setEncoding=function(_e){return ge||(ge=requireString_decoder().StringDecoder),this._readableState.decoder=new ge(_e),this._readableState.encoding=_e,this};var Le=8388608;function qe(_e){return _e>=Le?_e=Le:(_e--,_e|=_e>>>1,_e|=_e>>>2,_e|=_e>>>4,_e|=_e>>>8,_e|=_e>>>16,_e++),_e}function Ce(_e,Re){return _e<=0||Re.length===0&&Re.ended?0:Re.objectMode?1:_e!==_e?Re.flowing&&Re.length?Re.buffer.head.data.length:Re.length:(_e>Re.highWaterMark&&(Re.highWaterMark=qe(_e)),_e<=Re.length?_e:Re.ended?Re.length:(Re.needReadable=!0,0))}we.prototype.read=function(_e){le("read",_e),_e=parseInt(_e,10);var Re=this._readableState,Ie=_e;if(_e!==0&&(Re.emittedReadable=!1),_e===0&&Re.needReadable&&(Re.length>=Re.highWaterMark||Re.ended))return le("read: emitReadable",Re.length,Re.ended),Re.length===0&&Re.ended?be(this):oe(this),null;if(_e=Ce(_e,Re),_e===0&&Re.ended)return Re.length===0&&be(this),null;var Ne=Re.needReadable;le("need readable",Ne),(Re.length===0||Re.length-_e<Re.highWaterMark)&&(Ne=!0,le("length less than watermark",Ne)),Re.ended||Re.reading?(Ne=!1,le("reading or ended",Ne)):Ne&&(le("do read"),Re.reading=!0,Re.sync=!0,Re.length===0&&(Re.needReadable=!0),this._read(Re.highWaterMark),Re.sync=!1,Re.reading||(_e=Ce(Ie,Re)));var Oe;return _e>0?Oe=_(_e,Re):Oe=null,Oe===null?(Re.needReadable=!0,_e=0):Re.length-=_e,Re.length===0&&(Re.ended||(Re.needReadable=!0),Ie!==_e&&Re.ended&&be(this)),Oe!==null&&this.emit("data",Oe),Oe};function ze(_e,Re){if(!Re.ended){if(Re.decoder){var Ie=Re.decoder.end();Ie&&Ie.length&&(Re.buffer.push(Ie),Re.length+=Re.objectMode?1:Ie.length)}Re.ended=!0,oe(_e)}}function oe(_e){var Re=_e._readableState;Re.needReadable=!1,Re.emittedReadable||(le("emitReadable",Re.flowing),Re.emittedReadable=!0,Re.sync?a.nextTick(c,_e):c(_e))}function c(_e){le("emit readable"),_e.emit("readable"),ee(_e)}function b(_e,Re){Re.readingMore||(Re.readingMore=!0,a.nextTick(j,_e,Re))}function j(_e,Re){for(var Ie=Re.length;!Re.reading&&!Re.flowing&&!Re.ended&&Re.length<Re.highWaterMark&&(le("maybeReadMore read 0"),_e.read(0),Ie!==Re.length);)Ie=Re.length;Re.readingMore=!1}we.prototype._read=function(_e){this.emit("error",new Error("_read() is not implemented"))},we.prototype.pipe=function(_e,Re){var Ie=this,Ne=this._readableState;switch(Ne.pipesCount){case 0:Ne.pipes=_e;break;case 1:Ne.pipes=[Ne.pipes,_e];break;default:Ne.pipes.push(_e);break}Ne.pipesCount+=1,le("pipe count=%d opts=%j",Ne.pipesCount,Re);var Oe=(!Re||Re.end!==!1)&&_e!==process$1.stdout&&_e!==process$1.stderr,ke=Oe?ct:St;Ne.endEmitted?a.nextTick(ke):Ie.once("end",ke),_e.on("unpipe",He);function He(Ue,je){le("onunpipe"),Ue===Ie&&je&&je.hasUnpiped===!1&&(je.hasUnpiped=!0,wt())}function ct(){le("onend"),_e.end()}var Ve=Z(Ie);_e.on("drain",Ve);var Ye=!1;function wt(){le("cleanup"),_e.removeListener("close",tt),_e.removeListener("finish",ut),_e.removeListener("drain",Ve),_e.removeListener("error",$t),_e.removeListener("unpipe",He),Ie.removeListener("end",ct),Ie.removeListener("end",St),Ie.removeListener("data",Ge),Ye=!0,Ne.awaitDrain&&(!_e._writableState||_e._writableState.needDrain)&&Ve()}var Qe=!1;Ie.on("data",Ge);function Ge(Ue){le("ondata"),Qe=!1;var je=_e.write(Ue);je===!1&&!Qe&&((Ne.pipesCount===1&&Ne.pipes===_e||Ne.pipesCount>1&&Se(Ne.pipes,_e)!==-1)&&!Ye&&(le("false write response, pause",Ne.awaitDrain),Ne.awaitDrain++,Qe=!0),Ie.pause())}function $t(Ue){le("onerror",Ue),St(),_e.removeListener("error",$t),h(_e,"error")===0&&_e.emit("error",Ue)}Ae(_e,"error",$t);function tt(){_e.removeListener("finish",ut),St()}_e.once("close",tt);function ut(){le("onfinish"),_e.removeListener("close",tt),St()}_e.once("finish",ut);function St(){le("unpipe"),Ie.unpipe(_e)}return _e.emit("pipe",Ie),Ne.flowing||(le("pipe resume"),Ie.resume()),_e};function Z(_e){return function(){var Re=_e._readableState;le("pipeOnDrain",Re.awaitDrain),Re.awaitDrain&&Re.awaitDrain--,Re.awaitDrain===0&&h(_e,"data")&&(Re.flowing=!0,ee(_e))}}we.prototype.unpipe=function(_e){var Re=this._readableState,Ie={hasUnpiped:!1};if(Re.pipesCount===0)return this;if(Re.pipesCount===1)return _e&&_e!==Re.pipes?this:(_e||(_e=Re.pipes),Re.pipes=null,Re.pipesCount=0,Re.flowing=!1,_e&&_e.emit("unpipe",this,Ie),this);if(!_e){var Ne=Re.pipes,Oe=Re.pipesCount;Re.pipes=null,Re.pipesCount=0,Re.flowing=!1;for(var ke=0;ke<Oe;ke++)Ne[ke].emit("unpipe",this,{hasUnpiped:!1});return this}var He=Se(Re.pipes,_e);return He===-1?this:(Re.pipes.splice(He,1),Re.pipesCount-=1,Re.pipesCount===1&&(Re.pipes=Re.pipes[0]),_e.emit("unpipe",this,Ie),this)},we.prototype.on=function(_e,Re){var Ie=$.prototype.on.call(this,_e,Re);if(_e==="data")this._readableState.flowing!==!1&&this.resume();else if(_e==="readable"){var Ne=this._readableState;!Ne.endEmitted&&!Ne.readableListening&&(Ne.readableListening=Ne.needReadable=!0,Ne.emittedReadable=!1,Ne.reading?Ne.length&&oe(this):a.nextTick(re,this))}return Ie},we.prototype.addListener=we.prototype.on;function re(_e){le("readable nexttick read 0"),_e.read(0)}we.prototype.resume=function(){var _e=this._readableState;return _e.flowing||(le("resume"),_e.flowing=!0,ae(this,_e)),this};function ae(_e,Re){Re.resumeScheduled||(Re.resumeScheduled=!0,a.nextTick(se,_e,Re))}function se(_e,Re){Re.reading||(le("resume read 0"),_e.read(0)),Re.resumeScheduled=!1,Re.awaitDrain=0,_e.emit("resume"),ee(_e),Re.flowing&&!Re.reading&&_e.read(0)}we.prototype.pause=function(){return le("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(le("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function ee(_e){var Re=_e._readableState;for(le("flow",Re.flowing);Re.flowing&&_e.read()!==null;);}we.prototype.wrap=function(_e){var Re=this,Ie=this._readableState,Ne=!1;_e.on("end",function(){if(le("wrapped end"),Ie.decoder&&!Ie.ended){var He=Ie.decoder.end();He&&He.length&&Re.push(He)}Re.push(null)}),_e.on("data",function(He){if(le("wrapped data"),Ie.decoder&&(He=Ie.decoder.write(He)),!(Ie.objectMode&&He==null)&&!(!Ie.objectMode&&(!He||!He.length))){var ct=Re.push(He);ct||(Ne=!0,_e.pause())}});for(var Oe in _e)this[Oe]===void 0&&typeof _e[Oe]=="function"&&(this[Oe]=function(He){return function(){return _e[He].apply(_e,arguments)}}(Oe));for(var ke=0;ke<xe.length;ke++)_e.on(xe[ke],this.emit.bind(this,xe[ke]));return this._read=function(He){le("wrapped _read",He),Ne&&(Ne=!1,_e.resume())},this},Object.defineProperty(we.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),we._fromList=_;function _(_e,Re){if(Re.length===0)return null;var Ie;return Re.objectMode?Ie=Re.buffer.shift():!_e||_e>=Re.length?(Re.decoder?Ie=Re.buffer.join(""):Re.buffer.length===1?Ie=Re.buffer.head.data:Ie=Re.buffer.concat(Re.length),Re.buffer.clear()):Ie=te(_e,Re.buffer,Re.decoder),Ie}function te(_e,Re,Ie){var Ne;return _e<Re.head.data.length?(Ne=Re.head.data.slice(0,_e),Re.head.data=Re.head.data.slice(_e)):_e===Re.head.data.length?Ne=Re.shift():Ne=Ie?ue(_e,Re):ve(_e,Re),Ne}function ue(_e,Re){var Ie=Re.head,Ne=1,Oe=Ie.data;for(_e-=Oe.length;Ie=Ie.next;){var ke=Ie.data,He=_e>ke.length?ke.length:_e;if(He===ke.length?Oe+=ke:Oe+=ke.slice(0,_e),_e-=He,_e===0){He===ke.length?(++Ne,Ie.next?Re.head=Ie.next:Re.head=Re.tail=null):(Re.head=Ie,Ie.data=ke.slice(He));break}++Ne}return Re.length-=Ne,Oe}function ve(_e,Re){var Ie=d.allocUnsafe(_e),Ne=Re.head,Oe=1;for(Ne.data.copy(Ie),_e-=Ne.data.length;Ne=Ne.next;){var ke=Ne.data,He=_e>ke.length?ke.length:_e;if(ke.copy(Ie,Ie.length-_e,0,He),_e-=He,_e===0){He===ke.length?(++Oe,Ne.next?Re.head=Ne.next:Re.head=Re.tail=null):(Re.head=Ne,Ne.data=ke.slice(He));break}++Oe}return Re.length-=Oe,Ie}function be(_e){var Re=_e._readableState;if(Re.length>0)throw new Error('"endReadable()" called on non-empty stream');Re.endEmitted||(Re.ended=!0,a.nextTick(Me,Re,_e))}function Me(_e,Re){!_e.endEmitted&&_e.length===0&&(_e.endEmitted=!0,Re.readable=!1,Re.emit("end"))}function Se(_e,Re){for(var Ie=0,Ne=_e.length;Ie<Ne;Ie++)if(_e[Ie]===Re)return Ie;return-1}return _stream_readable}var _stream_transform=Transform$2,Duplex=require_stream_duplex(),util$1=Object.create(util$2);util$1.inherits=inherits_browserExports;util$1.inherits(Transform$2,Duplex);function afterTransform(a,e){var o=this._transformState;o.transforming=!1;var h=o.writecb;if(!h)return this.emit("error",new Error("write callback called multiple times"));o.writechunk=null,o.writecb=null,e!=null&&this.push(e),h(a);var $=this._readableState;$.reading=!1,($.needReadable||$.length<$.highWaterMark)&&this._read($.highWaterMark)}function Transform$2(a){if(!(this instanceof Transform$2))return new Transform$2(a);Duplex.call(this,a),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&(typeof a.transform=="function"&&(this._transform=a.transform),typeof a.flush=="function"&&(this._flush=a.flush)),this.on("prefinish",prefinish)}function prefinish(){var a=this;typeof this._flush=="function"?this._flush(function(e,o){done(a,e,o)}):done(this,null,null)}Transform$2.prototype.push=function(a,e){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,a,e)};Transform$2.prototype._transform=function(a,e,o){throw new Error("_transform() is not implemented")};Transform$2.prototype._write=function(a,e,o){var h=this._transformState;if(h.writecb=o,h.writechunk=a,h.writeencoding=e,!h.transforming){var $=this._readableState;(h.needTransform||$.needReadable||$.length<$.highWaterMark)&&this._read($.highWaterMark)}};Transform$2.prototype._read=function(a){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Transform$2.prototype._destroy=function(a,e){var o=this;Duplex.prototype._destroy.call(this,a,function(h){e(h),o.emit("close")})};function done(a,e,o){if(e)return a.emit("error",e);if(o!=null&&a.push(o),a._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(a._transformState.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}var _stream_passthrough=PassThrough,Transform$1=_stream_transform,util=Object.create(util$2);util.inherits=inherits_browserExports;util.inherits(PassThrough,Transform$1);function PassThrough(a){if(!(this instanceof PassThrough))return new PassThrough(a);Transform$1.call(this,a)}PassThrough.prototype._transform=function(a,e,o){o(null,a)};(function(a,e){e=a.exports=require_stream_readable(),e.Stream=e,e.Readable=e,e.Writable=require_stream_writable(),e.Duplex=require_stream_duplex(),e.Transform=_stream_transform,e.PassThrough=_stream_passthrough})(readableBrowser,readableBrowser.exports);var readableBrowserExports=readableBrowser.exports,sign={exports:{}},bn$4={exports:{}};bn$4.exports;(function(a){(function(e,o){function h(b,j){if(!b)throw new Error(j||"Assertion failed")}function $(b,j){b.super_=j;var Z=function(){};Z.prototype=j.prototype,b.prototype=new Z,b.prototype.constructor=b}function d(b,j,Z){if(d.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((j==="le"||j==="be")&&(Z=j,j=10),this._init(b||0,j||10,Z||"be"))}typeof e=="object"?e.exports=d:o.BN=d,d.BN=d,d.wordSize=26;var Y;try{typeof window<"u"&&typeof window.Buffer<"u"?Y=window.Buffer:Y=require$$0$3.Buffer}catch{}d.isBN=function(j){return j instanceof d?!0:j!==null&&typeof j=="object"&&j.constructor.wordSize===d.wordSize&&Array.isArray(j.words)},d.max=function(j,Z){return j.cmp(Z)>0?j:Z},d.min=function(j,Z){return j.cmp(Z)<0?j:Z},d.prototype._init=function(j,Z,re){if(typeof j=="number")return this._initNumber(j,Z,re);if(typeof j=="object")return this._initArray(j,Z,re);Z==="hex"&&(Z=16),h(Z===(Z|0)&&Z>=2&&Z<=36),j=j.toString().replace(/\s+/g,"");var ae=0;j[0]==="-"&&(ae++,this.negative=1),ae<j.length&&(Z===16?this._parseHex(j,ae,re):(this._parseBase(j,Z,ae),re==="le"&&this._initArray(this.toArray(),Z,re)))},d.prototype._initNumber=function(j,Z,re){j<0&&(this.negative=1,j=-j),j<67108864?(this.words=[j&67108863],this.length=1):j<4503599627370496?(this.words=[j&67108863,j/67108864&67108863],this.length=2):(h(j<9007199254740992),this.words=[j&67108863,j/67108864&67108863,1],this.length=3),re==="le"&&this._initArray(this.toArray(),Z,re)},d.prototype._initArray=function(j,Z,re){if(h(typeof j.length=="number"),j.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(j.length/3),this.words=new Array(this.length);for(var ae=0;ae<this.length;ae++)this.words[ae]=0;var se,ee,_=0;if(re==="be")for(ae=j.length-1,se=0;ae>=0;ae-=3)ee=j[ae]|j[ae-1]<<8|j[ae-2]<<16,this.words[se]|=ee<<_&67108863,this.words[se+1]=ee>>>26-_&67108863,_+=24,_>=26&&(_-=26,se++);else if(re==="le")for(ae=0,se=0;ae<j.length;ae+=3)ee=j[ae]|j[ae+1]<<8|j[ae+2]<<16,this.words[se]|=ee<<_&67108863,this.words[se+1]=ee>>>26-_&67108863,_+=24,_>=26&&(_-=26,se++);return this._strip()};function ie(b,j){var Z=b.charCodeAt(j);if(Z>=48&&Z<=57)return Z-48;if(Z>=65&&Z<=70)return Z-55;if(Z>=97&&Z<=102)return Z-87;h(!1,"Invalid character in "+b)}function fe(b,j,Z){var re=ie(b,Z);return Z-1>=j&&(re|=ie(b,Z-1)<<4),re}d.prototype._parseHex=function(j,Z,re){this.length=Math.ceil((j.length-Z)/6),this.words=new Array(this.length);for(var ae=0;ae<this.length;ae++)this.words[ae]=0;var se=0,ee=0,_;if(re==="be")for(ae=j.length-1;ae>=Z;ae-=2)_=fe(j,Z,ae)<<se,this.words[ee]|=_&67108863,se>=18?(se-=18,ee+=1,this.words[ee]|=_>>>26):se+=8;else{var te=j.length-Z;for(ae=te%2===0?Z+1:Z;ae<j.length;ae+=2)_=fe(j,Z,ae)<<se,this.words[ee]|=_&67108863,se>=18?(se-=18,ee+=1,this.words[ee]|=_>>>26):se+=8}this._strip()};function he(b,j,Z,re){for(var ae=0,se=0,ee=Math.min(b.length,Z),_=j;_<ee;_++){var te=b.charCodeAt(_)-48;ae*=re,te>=49?se=te-49+10:te>=17?se=te-17+10:se=te,h(te>=0&&se<re,"Invalid character"),ae+=se}return ae}d.prototype._parseBase=function(j,Z,re){this.words=[0],this.length=1;for(var ae=0,se=1;se<=67108863;se*=Z)ae++;ae--,se=se/Z|0;for(var ee=j.length-re,_=ee%ae,te=Math.min(ee,ee-_)+re,ue=0,ve=re;ve<te;ve+=ae)ue=he(j,ve,ve+ae,Z),this.imuln(se),this.words[0]+ue<67108864?this.words[0]+=ue:this._iaddn(ue);if(_!==0){var be=1;for(ue=he(j,ve,j.length,Z),ve=0;ve<_;ve++)be*=Z;this.imuln(be),this.words[0]+ue<67108864?this.words[0]+=ue:this._iaddn(ue)}this._strip()},d.prototype.copy=function(j){j.words=new Array(this.length);for(var Z=0;Z<this.length;Z++)j.words[Z]=this.words[Z];j.length=this.length,j.negative=this.negative,j.red=this.red};function ne(b,j){b.words=j.words,b.length=j.length,b.negative=j.negative,b.red=j.red}if(d.prototype._move=function(j){ne(j,this)},d.prototype.clone=function(){var j=new d(null);return this.copy(j),j},d.prototype._expand=function(j){for(;this.length<j;)this.words[this.length++]=0;return this},d.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{d.prototype[Symbol.for("nodejs.util.inspect.custom")]=le}catch{d.prototype.inspect=le}else d.prototype.inspect=le;function le(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var de=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ce=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ge=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(j,Z){j=j||10,Z=Z|0||1;var re;if(j===16||j==="hex"){re="";for(var ae=0,se=0,ee=0;ee<this.length;ee++){var _=this.words[ee],te=((_<<ae|se)&16777215).toString(16);se=_>>>24-ae&16777215,ae+=2,ae>=26&&(ae-=26,ee--),se!==0||ee!==this.length-1?re=de[6-te.length]+te+re:re=te+re}for(se!==0&&(re=se.toString(16)+re);re.length%Z!==0;)re="0"+re;return this.negative!==0&&(re="-"+re),re}if(j===(j|0)&&j>=2&&j<=36){var ue=ce[j],ve=ge[j];re="";var be=this.clone();for(be.negative=0;!be.isZero();){var Me=be.modrn(ve).toString(j);be=be.idivn(ve),be.isZero()?re=Me+re:re=de[ue-Me.length]+Me+re}for(this.isZero()&&(re="0"+re);re.length%Z!==0;)re="0"+re;return this.negative!==0&&(re="-"+re),re}h(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var j=this.words[0];return this.length===2?j+=this.words[1]*67108864:this.length===3&&this.words[2]===1?j+=4503599627370496+this.words[1]*67108864:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-j:j},d.prototype.toJSON=function(){return this.toString(16,2)},Y&&(d.prototype.toBuffer=function(j,Z){return this.toArrayLike(Y,j,Z)}),d.prototype.toArray=function(j,Z){return this.toArrayLike(Array,j,Z)};var xe=function(j,Z){return j.allocUnsafe?j.allocUnsafe(Z):new j(Z)};d.prototype.toArrayLike=function(j,Z,re){this._strip();var ae=this.byteLength(),se=re||Math.max(1,ae);h(ae<=se,"byte array longer than desired length"),h(se>0,"Requested array length <= 0");var ee=xe(j,se),_=Z==="le"?"LE":"BE";return this["_toArrayLike"+_](ee,ae),ee},d.prototype._toArrayLikeLE=function(j,Z){for(var re=0,ae=0,se=0,ee=0;se<this.length;se++){var _=this.words[se]<<ee|ae;j[re++]=_&255,re<j.length&&(j[re++]=_>>8&255),re<j.length&&(j[re++]=_>>16&255),ee===6?(re<j.length&&(j[re++]=_>>24&255),ae=0,ee=0):(ae=_>>>24,ee+=2)}if(re<j.length)for(j[re++]=ae;re<j.length;)j[re++]=0},d.prototype._toArrayLikeBE=function(j,Z){for(var re=j.length-1,ae=0,se=0,ee=0;se<this.length;se++){var _=this.words[se]<<ee|ae;j[re--]=_&255,re>=0&&(j[re--]=_>>8&255),re>=0&&(j[re--]=_>>16&255),ee===6?(re>=0&&(j[re--]=_>>24&255),ae=0,ee=0):(ae=_>>>24,ee+=2)}if(re>=0)for(j[re--]=ae;re>=0;)j[re--]=0},Math.clz32?d.prototype._countBits=function(j){return 32-Math.clz32(j)}:d.prototype._countBits=function(j){var Z=j,re=0;return Z>=4096&&(re+=13,Z>>>=13),Z>=64&&(re+=7,Z>>>=7),Z>=8&&(re+=4,Z>>>=4),Z>=2&&(re+=2,Z>>>=2),re+Z},d.prototype._zeroBits=function(j){if(j===0)return 26;var Z=j,re=0;return Z&8191||(re+=13,Z>>>=13),Z&127||(re+=7,Z>>>=7),Z&15||(re+=4,Z>>>=4),Z&3||(re+=2,Z>>>=2),Z&1||re++,re},d.prototype.bitLength=function(){var j=this.words[this.length-1],Z=this._countBits(j);return(this.length-1)*26+Z};function Ae(b){for(var j=new Array(b.bitLength()),Z=0;Z<j.length;Z++){var re=Z/26|0,ae=Z%26;j[Z]=b.words[re]>>>ae&1}return j}d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var j=0,Z=0;Z<this.length;Z++){var re=this._zeroBits(this.words[Z]);if(j+=re,re!==26)break}return j},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(j){return this.negative!==0?this.abs().inotn(j).iaddn(1):this.clone()},d.prototype.fromTwos=function(j){return this.testn(j-1)?this.notn(j).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(j){for(;this.length<j.length;)this.words[this.length++]=0;for(var Z=0;Z<j.length;Z++)this.words[Z]=this.words[Z]|j.words[Z];return this._strip()},d.prototype.ior=function(j){return h((this.negative|j.negative)===0),this.iuor(j)},d.prototype.or=function(j){return this.length>j.length?this.clone().ior(j):j.clone().ior(this)},d.prototype.uor=function(j){return this.length>j.length?this.clone().iuor(j):j.clone().iuor(this)},d.prototype.iuand=function(j){var Z;this.length>j.length?Z=j:Z=this;for(var re=0;re<Z.length;re++)this.words[re]=this.words[re]&j.words[re];return this.length=Z.length,this._strip()},d.prototype.iand=function(j){return h((this.negative|j.negative)===0),this.iuand(j)},d.prototype.and=function(j){return this.length>j.length?this.clone().iand(j):j.clone().iand(this)},d.prototype.uand=function(j){return this.length>j.length?this.clone().iuand(j):j.clone().iuand(this)},d.prototype.iuxor=function(j){var Z,re;this.length>j.length?(Z=this,re=j):(Z=j,re=this);for(var ae=0;ae<re.length;ae++)this.words[ae]=Z.words[ae]^re.words[ae];if(this!==Z)for(;ae<Z.length;ae++)this.words[ae]=Z.words[ae];return this.length=Z.length,this._strip()},d.prototype.ixor=function(j){return h((this.negative|j.negative)===0),this.iuxor(j)},d.prototype.xor=function(j){return this.length>j.length?this.clone().ixor(j):j.clone().ixor(this)},d.prototype.uxor=function(j){return this.length>j.length?this.clone().iuxor(j):j.clone().iuxor(this)},d.prototype.inotn=function(j){h(typeof j=="number"&&j>=0);var Z=Math.ceil(j/26)|0,re=j%26;this._expand(Z),re>0&&Z--;for(var ae=0;ae<Z;ae++)this.words[ae]=~this.words[ae]&67108863;return re>0&&(this.words[ae]=~this.words[ae]&67108863>>26-re),this._strip()},d.prototype.notn=function(j){return this.clone().inotn(j)},d.prototype.setn=function(j,Z){h(typeof j=="number"&&j>=0);var re=j/26|0,ae=j%26;return this._expand(re+1),Z?this.words[re]=this.words[re]|1<<ae:this.words[re]=this.words[re]&~(1<<ae),this._strip()},d.prototype.iadd=function(j){var Z;if(this.negative!==0&&j.negative===0)return this.negative=0,Z=this.isub(j),this.negative^=1,this._normSign();if(this.negative===0&&j.negative!==0)return j.negative=0,Z=this.isub(j),j.negative=1,Z._normSign();var re,ae;this.length>j.length?(re=this,ae=j):(re=j,ae=this);for(var se=0,ee=0;ee<ae.length;ee++)Z=(re.words[ee]|0)+(ae.words[ee]|0)+se,this.words[ee]=Z&67108863,se=Z>>>26;for(;se!==0&&ee<re.length;ee++)Z=(re.words[ee]|0)+se,this.words[ee]=Z&67108863,se=Z>>>26;if(this.length=re.length,se!==0)this.words[this.length]=se,this.length++;else if(re!==this)for(;ee<re.length;ee++)this.words[ee]=re.words[ee];return this},d.prototype.add=function(j){var Z;return j.negative!==0&&this.negative===0?(j.negative=0,Z=this.sub(j),j.negative^=1,Z):j.negative===0&&this.negative!==0?(this.negative=0,Z=j.sub(this),this.negative=1,Z):this.length>j.length?this.clone().iadd(j):j.clone().iadd(this)},d.prototype.isub=function(j){if(j.negative!==0){j.negative=0;var Z=this.iadd(j);return j.negative=1,Z._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(j),this.negative=1,this._normSign();var re=this.cmp(j);if(re===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ae,se;re>0?(ae=this,se=j):(ae=j,se=this);for(var ee=0,_=0;_<se.length;_++)Z=(ae.words[_]|0)-(se.words[_]|0)+ee,ee=Z>>26,this.words[_]=Z&67108863;for(;ee!==0&&_<ae.length;_++)Z=(ae.words[_]|0)+ee,ee=Z>>26,this.words[_]=Z&67108863;if(ee===0&&_<ae.length&&ae!==this)for(;_<ae.length;_++)this.words[_]=ae.words[_];return this.length=Math.max(this.length,_),ae!==this&&(this.negative=1),this._strip()},d.prototype.sub=function(j){return this.clone().isub(j)};function Ee(b,j,Z){Z.negative=j.negative^b.negative;var re=b.length+j.length|0;Z.length=re,re=re-1|0;var ae=b.words[0]|0,se=j.words[0]|0,ee=ae*se,_=ee&67108863,te=ee/67108864|0;Z.words[0]=_;for(var ue=1;ue<re;ue++){for(var ve=te>>>26,be=te&67108863,Me=Math.min(ue,j.length-1),Se=Math.max(0,ue-b.length+1);Se<=Me;Se++){var _e=ue-Se|0;ae=b.words[_e]|0,se=j.words[Se]|0,ee=ae*se+be,ve+=ee/67108864|0,be=ee&67108863}Z.words[ue]=be|0,te=ve|0}return te!==0?Z.words[ue]=te|0:Z.length--,Z._strip()}var we=function(j,Z,re){var ae=j.words,se=Z.words,ee=re.words,_=0,te,ue,ve,be=ae[0]|0,Me=be&8191,Se=be>>>13,_e=ae[1]|0,Re=_e&8191,Ie=_e>>>13,Ne=ae[2]|0,Oe=Ne&8191,ke=Ne>>>13,He=ae[3]|0,ct=He&8191,Ve=He>>>13,Ye=ae[4]|0,wt=Ye&8191,Qe=Ye>>>13,Ge=ae[5]|0,$t=Ge&8191,tt=Ge>>>13,ut=ae[6]|0,St=ut&8191,Ue=ut>>>13,je=ae[7]|0,bt=je&8191,Ke=je>>>13,Ze=ae[8]|0,Et=Ze&8191,Be=Ze>>>13,ye=ae[9]|0,$e=ye&8191,De=ye>>>13,Fe=se[0]|0,Xe=Fe&8191,We=Fe>>>13,et=se[1]|0,xt=et&8191,Je=et>>>13,rt=se[2]|0,Mt=rt&8191,it=rt>>>13,dt=se[3]|0,Bt=dt&8191,nt=dt>>>13,pt=se[4]|0,Rt=pt&8191,at=pt>>>13,mt=se[5]|0,kt=mt&8191,ot=mt>>>13,vt=se[6]|0,It=vt&8191,st=vt>>>13,gt=se[7]|0,Ct=gt&8191,ht=gt>>>13,yt=se[8]|0,Dt=yt&8191,lt=yt>>>13,_t=se[9]|0,At=_t&8191,Tt=_t>>>13;re.negative=j.negative^Z.negative,re.length=19,te=Math.imul(Me,Xe),ue=Math.imul(Me,We),ue=ue+Math.imul(Se,Xe)|0,ve=Math.imul(Se,We);var Pt=(_+te|0)+((ue&8191)<<13)|0;_=(ve+(ue>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,te=Math.imul(Re,Xe),ue=Math.imul(Re,We),ue=ue+Math.imul(Ie,Xe)|0,ve=Math.imul(Ie,We),te=te+Math.imul(Me,xt)|0,ue=ue+Math.imul(Me,Je)|0,ue=ue+Math.imul(Se,xt)|0,ve=ve+Math.imul(Se,Je)|0;var Ot=(_+te|0)+((ue&8191)<<13)|0;_=(ve+(ue>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,te=Math.imul(Oe,Xe),ue=Math.imul(Oe,We),ue=ue+Math.imul(ke,Xe)|0,ve=Math.imul(ke,We),te=te+Math.imul(Re,xt)|0,ue=ue+Math.imul(Re,Je)|0,ue=ue+Math.imul(Ie,xt)|0,ve=ve+Math.imul(Ie,Je)|0,te=te+Math.imul(Me,Mt)|0,ue=ue+Math.imul(Me,it)|0,ue=ue+Math.imul(Se,Mt)|0,ve=ve+Math.imul(Se,it)|0;var Nt=(_+te|0)+((ue&8191)<<13)|0;_=(ve+(ue>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,te=Math.imul(ct,Xe),ue=Math.imul(ct,We),ue=ue+Math.imul(Ve,Xe)|0,ve=Math.imul(Ve,We),te=te+Math.imul(Oe,xt)|0,ue=ue+Math.imul(Oe,Je)|0,ue=ue+Math.imul(ke,xt)|0,ve=ve+Math.imul(ke,Je)|0,te=te+Math.imul(Re,Mt)|0,ue=ue+Math.imul(Re,it)|0,ue=ue+Math.imul(Ie,Mt)|0,ve=ve+Math.imul(Ie,it)|0,te=te+Math.imul(Me,Bt)|0,ue=ue+Math.imul(Me,nt)|0,ue=ue+Math.imul(Se,Bt)|0,ve=ve+Math.imul(Se,nt)|0;var Lt=(_+te|0)+((ue&8191)<<13)|0;_=(ve+(ue>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,te=Math.imul(wt,Xe),ue=Math.imul(wt,We),ue=ue+Math.imul(Qe,Xe)|0,ve=Math.imul(Qe,We),te=te+Math.imul(ct,xt)|0,ue=ue+Math.imul(ct,Je)|0,ue=ue+Math.imul(Ve,xt)|0,ve=ve+Math.imul(Ve,Je)|0,te=te+Math.imul(Oe,Mt)|0,ue=ue+Math.imul(Oe,it)|0,ue=ue+Math.imul(ke,Mt)|0,ve=ve+Math.imul(ke,it)|0,te=te+Math.imul(Re,Bt)|0,ue=ue+Math.imul(Re,nt)|0,ue=ue+Math.imul(Ie,Bt)|0,ve=ve+Math.imul(Ie,nt)|0,te=te+Math.imul(Me,Rt)|0,ue=ue+Math.imul(Me,at)|0,ue=ue+Math.imul(Se,Rt)|0,ve=ve+Math.imul(Se,at)|0;var Ut=(_+te|0)+((ue&8191)<<13)|0;_=(ve+(ue>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,te=Math.imul($t,Xe),ue=Math.imul($t,We),ue=ue+Math.imul(tt,Xe)|0,ve=Math.imul(tt,We),te=te+Math.imul(wt,xt)|0,ue=ue+Math.imul(wt,Je)|0,ue=ue+Math.imul(Qe,xt)|0,ve=ve+Math.imul(Qe,Je)|0,te=te+Math.imul(ct,Mt)|0,ue=ue+Math.imul(ct,it)|0,ue=ue+Math.imul(Ve,Mt)|0,ve=ve+Math.imul(Ve,it)|0,te=te+Math.imul(Oe,Bt)|0,ue=ue+Math.imul(Oe,nt)|0,ue=ue+Math.imul(ke,Bt)|0,ve=ve+Math.imul(ke,nt)|0,te=te+Math.imul(Re,Rt)|0,ue=ue+Math.imul(Re,at)|0,ue=ue+Math.imul(Ie,Rt)|0,ve=ve+Math.imul(Ie,at)|0,te=te+Math.imul(Me,kt)|0,ue=ue+Math.imul(Me,ot)|0,ue=ue+Math.imul(Se,kt)|0,ve=ve+Math.imul(Se,ot)|0;var Ft=(_+te|0)+((ue&8191)<<13)|0;_=(ve+(ue>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,te=Math.imul(St,Xe),ue=Math.imul(St,We),ue=ue+Math.imul(Ue,Xe)|0,ve=Math.imul(Ue,We),te=te+Math.imul($t,xt)|0,ue=ue+Math.imul($t,Je)|0,ue=ue+Math.imul(tt,xt)|0,ve=ve+Math.imul(tt,Je)|0,te=te+Math.imul(wt,Mt)|0,ue=ue+Math.imul(wt,it)|0,ue=ue+Math.imul(Qe,Mt)|0,ve=ve+Math.imul(Qe,it)|0,te=te+Math.imul(ct,Bt)|0,ue=ue+Math.imul(ct,nt)|0,ue=ue+Math.imul(Ve,Bt)|0,ve=ve+Math.imul(Ve,nt)|0,te=te+Math.imul(Oe,Rt)|0,ue=ue+Math.imul(Oe,at)|0,ue=ue+Math.imul(ke,Rt)|0,ve=ve+Math.imul(ke,at)|0,te=te+Math.imul(Re,kt)|0,ue=ue+Math.imul(Re,ot)|0,ue=ue+Math.imul(Ie,kt)|0,ve=ve+Math.imul(Ie,ot)|0,te=te+Math.imul(Me,It)|0,ue=ue+Math.imul(Me,st)|0,ue=ue+Math.imul(Se,It)|0,ve=ve+Math.imul(Se,st)|0;var qt=(_+te|0)+((ue&8191)<<13)|0;_=(ve+(ue>>>13)|0)+(qt>>>26)|0,qt&=67108863,te=Math.imul(bt,Xe),ue=Math.imul(bt,We),ue=ue+Math.imul(Ke,Xe)|0,ve=Math.imul(Ke,We),te=te+Math.imul(St,xt)|0,ue=ue+Math.imul(St,Je)|0,ue=ue+Math.imul(Ue,xt)|0,ve=ve+Math.imul(Ue,Je)|0,te=te+Math.imul($t,Mt)|0,ue=ue+Math.imul($t,it)|0,ue=ue+Math.imul(tt,Mt)|0,ve=ve+Math.imul(tt,it)|0,te=te+Math.imul(wt,Bt)|0,ue=ue+Math.imul(wt,nt)|0,ue=ue+Math.imul(Qe,Bt)|0,ve=ve+Math.imul(Qe,nt)|0,te=te+Math.imul(ct,Rt)|0,ue=ue+Math.imul(ct,at)|0,ue=ue+Math.imul(Ve,Rt)|0,ve=ve+Math.imul(Ve,at)|0,te=te+Math.imul(Oe,kt)|0,ue=ue+Math.imul(Oe,ot)|0,ue=ue+Math.imul(ke,kt)|0,ve=ve+Math.imul(ke,ot)|0,te=te+Math.imul(Re,It)|0,ue=ue+Math.imul(Re,st)|0,ue=ue+Math.imul(Ie,It)|0,ve=ve+Math.imul(Ie,st)|0,te=te+Math.imul(Me,Ct)|0,ue=ue+Math.imul(Me,ht)|0,ue=ue+Math.imul(Se,Ct)|0,ve=ve+Math.imul(Se,ht)|0;var Ht=(_+te|0)+((ue&8191)<<13)|0;_=(ve+(ue>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,te=Math.imul(Et,Xe),ue=Math.imul(Et,We),ue=ue+Math.imul(Be,Xe)|0,ve=Math.imul(Be,We),te=te+Math.imul(bt,xt)|0,ue=ue+Math.imul(bt,Je)|0,ue=ue+Math.imul(Ke,xt)|0,ve=ve+Math.imul(Ke,Je)|0,te=te+Math.imul(St,Mt)|0,ue=ue+Math.imul(St,it)|0,ue=ue+Math.imul(Ue,Mt)|0,ve=ve+Math.imul(Ue,it)|0,te=te+Math.imul($t,Bt)|0,ue=ue+Math.imul($t,nt)|0,ue=ue+Math.imul(tt,Bt)|0,ve=ve+Math.imul(tt,nt)|0,te=te+Math.imul(wt,Rt)|0,ue=ue+Math.imul(wt,at)|0,ue=ue+Math.imul(Qe,Rt)|0,ve=ve+Math.imul(Qe,at)|0,te=te+Math.imul(ct,kt)|0,ue=ue+Math.imul(ct,ot)|0,ue=ue+Math.imul(Ve,kt)|0,ve=ve+Math.imul(Ve,ot)|0,te=te+Math.imul(Oe,It)|0,ue=ue+Math.imul(Oe,st)|0,ue=ue+Math.imul(ke,It)|0,ve=ve+Math.imul(ke,st)|0,te=te+Math.imul(Re,Ct)|0,ue=ue+Math.imul(Re,ht)|0,ue=ue+Math.imul(Ie,Ct)|0,ve=ve+Math.imul(Ie,ht)|0,te=te+Math.imul(Me,Dt)|0,ue=ue+Math.imul(Me,lt)|0,ue=ue+Math.imul(Se,Dt)|0,ve=ve+Math.imul(Se,lt)|0;var jt=(_+te|0)+((ue&8191)<<13)|0;_=(ve+(ue>>>13)|0)+(jt>>>26)|0,jt&=67108863,te=Math.imul($e,Xe),ue=Math.imul($e,We),ue=ue+Math.imul(De,Xe)|0,ve=Math.imul(De,We),te=te+Math.imul(Et,xt)|0,ue=ue+Math.imul(Et,Je)|0,ue=ue+Math.imul(Be,xt)|0,ve=ve+Math.imul(Be,Je)|0,te=te+Math.imul(bt,Mt)|0,ue=ue+Math.imul(bt,it)|0,ue=ue+Math.imul(Ke,Mt)|0,ve=ve+Math.imul(Ke,it)|0,te=te+Math.imul(St,Bt)|0,ue=ue+Math.imul(St,nt)|0,ue=ue+Math.imul(Ue,Bt)|0,ve=ve+Math.imul(Ue,nt)|0,te=te+Math.imul($t,Rt)|0,ue=ue+Math.imul($t,at)|0,ue=ue+Math.imul(tt,Rt)|0,ve=ve+Math.imul(tt,at)|0,te=te+Math.imul(wt,kt)|0,ue=ue+Math.imul(wt,ot)|0,ue=ue+Math.imul(Qe,kt)|0,ve=ve+Math.imul(Qe,ot)|0,te=te+Math.imul(ct,It)|0,ue=ue+Math.imul(ct,st)|0,ue=ue+Math.imul(Ve,It)|0,ve=ve+Math.imul(Ve,st)|0,te=te+Math.imul(Oe,Ct)|0,ue=ue+Math.imul(Oe,ht)|0,ue=ue+Math.imul(ke,Ct)|0,ve=ve+Math.imul(ke,ht)|0,te=te+Math.imul(Re,Dt)|0,ue=ue+Math.imul(Re,lt)|0,ue=ue+Math.imul(Ie,Dt)|0,ve=ve+Math.imul(Ie,lt)|0,te=te+Math.imul(Me,At)|0,ue=ue+Math.imul(Me,Tt)|0,ue=ue+Math.imul(Se,At)|0,ve=ve+Math.imul(Se,Tt)|0;var zt=(_+te|0)+((ue&8191)<<13)|0;_=(ve+(ue>>>13)|0)+(zt>>>26)|0,zt&=67108863,te=Math.imul($e,xt),ue=Math.imul($e,Je),ue=ue+Math.imul(De,xt)|0,ve=Math.imul(De,Je),te=te+Math.imul(Et,Mt)|0,ue=ue+Math.imul(Et,it)|0,ue=ue+Math.imul(Be,Mt)|0,ve=ve+Math.imul(Be,it)|0,te=te+Math.imul(bt,Bt)|0,ue=ue+Math.imul(bt,nt)|0,ue=ue+Math.imul(Ke,Bt)|0,ve=ve+Math.imul(Ke,nt)|0,te=te+Math.imul(St,Rt)|0,ue=ue+Math.imul(St,at)|0,ue=ue+Math.imul(Ue,Rt)|0,ve=ve+Math.imul(Ue,at)|0,te=te+Math.imul($t,kt)|0,ue=ue+Math.imul($t,ot)|0,ue=ue+Math.imul(tt,kt)|0,ve=ve+Math.imul(tt,ot)|0,te=te+Math.imul(wt,It)|0,ue=ue+Math.imul(wt,st)|0,ue=ue+Math.imul(Qe,It)|0,ve=ve+Math.imul(Qe,st)|0,te=te+Math.imul(ct,Ct)|0,ue=ue+Math.imul(ct,ht)|0,ue=ue+Math.imul(Ve,Ct)|0,ve=ve+Math.imul(Ve,ht)|0,te=te+Math.imul(Oe,Dt)|0,ue=ue+Math.imul(Oe,lt)|0,ue=ue+Math.imul(ke,Dt)|0,ve=ve+Math.imul(ke,lt)|0,te=te+Math.imul(Re,At)|0,ue=ue+Math.imul(Re,Tt)|0,ue=ue+Math.imul(Ie,At)|0,ve=ve+Math.imul(Ie,Tt)|0;var Wt=(_+te|0)+((ue&8191)<<13)|0;_=(ve+(ue>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,te=Math.imul($e,Mt),ue=Math.imul($e,it),ue=ue+Math.imul(De,Mt)|0,ve=Math.imul(De,it),te=te+Math.imul(Et,Bt)|0,ue=ue+Math.imul(Et,nt)|0,ue=ue+Math.imul(Be,Bt)|0,ve=ve+Math.imul(Be,nt)|0,te=te+Math.imul(bt,Rt)|0,ue=ue+Math.imul(bt,at)|0,ue=ue+Math.imul(Ke,Rt)|0,ve=ve+Math.imul(Ke,at)|0,te=te+Math.imul(St,kt)|0,ue=ue+Math.imul(St,ot)|0,ue=ue+Math.imul(Ue,kt)|0,ve=ve+Math.imul(Ue,ot)|0,te=te+Math.imul($t,It)|0,ue=ue+Math.imul($t,st)|0,ue=ue+Math.imul(tt,It)|0,ve=ve+Math.imul(tt,st)|0,te=te+Math.imul(wt,Ct)|0,ue=ue+Math.imul(wt,ht)|0,ue=ue+Math.imul(Qe,Ct)|0,ve=ve+Math.imul(Qe,ht)|0,te=te+Math.imul(ct,Dt)|0,ue=ue+Math.imul(ct,lt)|0,ue=ue+Math.imul(Ve,Dt)|0,ve=ve+Math.imul(Ve,lt)|0,te=te+Math.imul(Oe,At)|0,ue=ue+Math.imul(Oe,Tt)|0,ue=ue+Math.imul(ke,At)|0,ve=ve+Math.imul(ke,Tt)|0;var Gt=(_+te|0)+((ue&8191)<<13)|0;_=(ve+(ue>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,te=Math.imul($e,Bt),ue=Math.imul($e,nt),ue=ue+Math.imul(De,Bt)|0,ve=Math.imul(De,nt),te=te+Math.imul(Et,Rt)|0,ue=ue+Math.imul(Et,at)|0,ue=ue+Math.imul(Be,Rt)|0,ve=ve+Math.imul(Be,at)|0,te=te+Math.imul(bt,kt)|0,ue=ue+Math.imul(bt,ot)|0,ue=ue+Math.imul(Ke,kt)|0,ve=ve+Math.imul(Ke,ot)|0,te=te+Math.imul(St,It)|0,ue=ue+Math.imul(St,st)|0,ue=ue+Math.imul(Ue,It)|0,ve=ve+Math.imul(Ue,st)|0,te=te+Math.imul($t,Ct)|0,ue=ue+Math.imul($t,ht)|0,ue=ue+Math.imul(tt,Ct)|0,ve=ve+Math.imul(tt,ht)|0,te=te+Math.imul(wt,Dt)|0,ue=ue+Math.imul(wt,lt)|0,ue=ue+Math.imul(Qe,Dt)|0,ve=ve+Math.imul(Qe,lt)|0,te=te+Math.imul(ct,At)|0,ue=ue+Math.imul(ct,Tt)|0,ue=ue+Math.imul(Ve,At)|0,ve=ve+Math.imul(Ve,Tt)|0;var Kt=(_+te|0)+((ue&8191)<<13)|0;_=(ve+(ue>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,te=Math.imul($e,Rt),ue=Math.imul($e,at),ue=ue+Math.imul(De,Rt)|0,ve=Math.imul(De,at),te=te+Math.imul(Et,kt)|0,ue=ue+Math.imul(Et,ot)|0,ue=ue+Math.imul(Be,kt)|0,ve=ve+Math.imul(Be,ot)|0,te=te+Math.imul(bt,It)|0,ue=ue+Math.imul(bt,st)|0,ue=ue+Math.imul(Ke,It)|0,ve=ve+Math.imul(Ke,st)|0,te=te+Math.imul(St,Ct)|0,ue=ue+Math.imul(St,ht)|0,ue=ue+Math.imul(Ue,Ct)|0,ve=ve+Math.imul(Ue,ht)|0,te=te+Math.imul($t,Dt)|0,ue=ue+Math.imul($t,lt)|0,ue=ue+Math.imul(tt,Dt)|0,ve=ve+Math.imul(tt,lt)|0,te=te+Math.imul(wt,At)|0,ue=ue+Math.imul(wt,Tt)|0,ue=ue+Math.imul(Qe,At)|0,ve=ve+Math.imul(Qe,Tt)|0;var Zt=(_+te|0)+((ue&8191)<<13)|0;_=(ve+(ue>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,te=Math.imul($e,kt),ue=Math.imul($e,ot),ue=ue+Math.imul(De,kt)|0,ve=Math.imul(De,ot),te=te+Math.imul(Et,It)|0,ue=ue+Math.imul(Et,st)|0,ue=ue+Math.imul(Be,It)|0,ve=ve+Math.imul(Be,st)|0,te=te+Math.imul(bt,Ct)|0,ue=ue+Math.imul(bt,ht)|0,ue=ue+Math.imul(Ke,Ct)|0,ve=ve+Math.imul(Ke,ht)|0,te=te+Math.imul(St,Dt)|0,ue=ue+Math.imul(St,lt)|0,ue=ue+Math.imul(Ue,Dt)|0,ve=ve+Math.imul(Ue,lt)|0,te=te+Math.imul($t,At)|0,ue=ue+Math.imul($t,Tt)|0,ue=ue+Math.imul(tt,At)|0,ve=ve+Math.imul(tt,Tt)|0;var Vt=(_+te|0)+((ue&8191)<<13)|0;_=(ve+(ue>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,te=Math.imul($e,It),ue=Math.imul($e,st),ue=ue+Math.imul(De,It)|0,ve=Math.imul(De,st),te=te+Math.imul(Et,Ct)|0,ue=ue+Math.imul(Et,ht)|0,ue=ue+Math.imul(Be,Ct)|0,ve=ve+Math.imul(Be,ht)|0,te=te+Math.imul(bt,Dt)|0,ue=ue+Math.imul(bt,lt)|0,ue=ue+Math.imul(Ke,Dt)|0,ve=ve+Math.imul(Ke,lt)|0,te=te+Math.imul(St,At)|0,ue=ue+Math.imul(St,Tt)|0,ue=ue+Math.imul(Ue,At)|0,ve=ve+Math.imul(Ue,Tt)|0;var Yt=(_+te|0)+((ue&8191)<<13)|0;_=(ve+(ue>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,te=Math.imul($e,Ct),ue=Math.imul($e,ht),ue=ue+Math.imul(De,Ct)|0,ve=Math.imul(De,ht),te=te+Math.imul(Et,Dt)|0,ue=ue+Math.imul(Et,lt)|0,ue=ue+Math.imul(Be,Dt)|0,ve=ve+Math.imul(Be,lt)|0,te=te+Math.imul(bt,At)|0,ue=ue+Math.imul(bt,Tt)|0,ue=ue+Math.imul(Ke,At)|0,ve=ve+Math.imul(Ke,Tt)|0;var Xt=(_+te|0)+((ue&8191)<<13)|0;_=(ve+(ue>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,te=Math.imul($e,Dt),ue=Math.imul($e,lt),ue=ue+Math.imul(De,Dt)|0,ve=Math.imul(De,lt),te=te+Math.imul(Et,At)|0,ue=ue+Math.imul(Et,Tt)|0,ue=ue+Math.imul(Be,At)|0,ve=ve+Math.imul(Be,Tt)|0;var Jt=(_+te|0)+((ue&8191)<<13)|0;_=(ve+(ue>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,te=Math.imul($e,At),ue=Math.imul($e,Tt),ue=ue+Math.imul(De,At)|0,ve=Math.imul(De,Tt);var Qt=(_+te|0)+((ue&8191)<<13)|0;return _=(ve+(ue>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,ee[0]=Pt,ee[1]=Ot,ee[2]=Nt,ee[3]=Lt,ee[4]=Ut,ee[5]=Ft,ee[6]=qt,ee[7]=Ht,ee[8]=jt,ee[9]=zt,ee[10]=Wt,ee[11]=Gt,ee[12]=Kt,ee[13]=Zt,ee[14]=Vt,ee[15]=Yt,ee[16]=Xt,ee[17]=Jt,ee[18]=Qt,_!==0&&(ee[19]=_,re.length++),re};Math.imul||(we=Ee);function pe(b,j,Z){Z.negative=j.negative^b.negative,Z.length=b.length+j.length;for(var re=0,ae=0,se=0;se<Z.length-1;se++){var ee=ae;ae=0;for(var _=re&67108863,te=Math.min(se,j.length-1),ue=Math.max(0,se-b.length+1);ue<=te;ue++){var ve=se-ue,be=b.words[ve]|0,Me=j.words[ue]|0,Se=be*Me,_e=Se&67108863;ee=ee+(Se/67108864|0)|0,_e=_e+_|0,_=_e&67108863,ee=ee+(_e>>>26)|0,ae+=ee>>>26,ee&=67108863}Z.words[se]=_,re=ee,ee=ae}return re!==0?Z.words[se]=re:Z.length--,Z._strip()}function me(b,j,Z){return pe(b,j,Z)}d.prototype.mulTo=function(j,Z){var re,ae=this.length+j.length;return this.length===10&&j.length===10?re=we(this,j,Z):ae<63?re=Ee(this,j,Z):ae<1024?re=pe(this,j,Z):re=me(this,j,Z),re},d.prototype.mul=function(j){var Z=new d(null);return Z.words=new Array(this.length+j.length),this.mulTo(j,Z)},d.prototype.mulf=function(j){var Z=new d(null);return Z.words=new Array(this.length+j.length),me(this,j,Z)},d.prototype.imul=function(j){return this.clone().mulTo(j,this)},d.prototype.imuln=function(j){var Z=j<0;Z&&(j=-j),h(typeof j=="number"),h(j<67108864);for(var re=0,ae=0;ae<this.length;ae++){var se=(this.words[ae]|0)*j,ee=(se&67108863)+(re&67108863);re>>=26,re+=se/67108864|0,re+=ee>>>26,this.words[ae]=ee&67108863}return re!==0&&(this.words[ae]=re,this.length++),this.length=j===0?1:this.length,Z?this.ineg():this},d.prototype.muln=function(j){return this.clone().imuln(j)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(j){var Z=Ae(j);if(Z.length===0)return new d(1);for(var re=this,ae=0;ae<Z.length&&Z[ae]===0;ae++,re=re.sqr());if(++ae<Z.length)for(var se=re.sqr();ae<Z.length;ae++,se=se.sqr())Z[ae]!==0&&(re=re.mul(se));return re},d.prototype.iushln=function(j){h(typeof j=="number"&&j>=0);var Z=j%26,re=(j-Z)/26,ae=67108863>>>26-Z<<26-Z,se;if(Z!==0){var ee=0;for(se=0;se<this.length;se++){var _=this.words[se]&ae,te=(this.words[se]|0)-_<<Z;this.words[se]=te|ee,ee=_>>>26-Z}ee&&(this.words[se]=ee,this.length++)}if(re!==0){for(se=this.length-1;se>=0;se--)this.words[se+re]=this.words[se];for(se=0;se<re;se++)this.words[se]=0;this.length+=re}return this._strip()},d.prototype.ishln=function(j){return h(this.negative===0),this.iushln(j)},d.prototype.iushrn=function(j,Z,re){h(typeof j=="number"&&j>=0);var ae;Z?ae=(Z-Z%26)/26:ae=0;var se=j%26,ee=Math.min((j-se)/26,this.length),_=67108863^67108863>>>se<<se,te=re;if(ae-=ee,ae=Math.max(0,ae),te){for(var ue=0;ue<ee;ue++)te.words[ue]=this.words[ue];te.length=ee}if(ee!==0)if(this.length>ee)for(this.length-=ee,ue=0;ue<this.length;ue++)this.words[ue]=this.words[ue+ee];else this.words[0]=0,this.length=1;var ve=0;for(ue=this.length-1;ue>=0&&(ve!==0||ue>=ae);ue--){var be=this.words[ue]|0;this.words[ue]=ve<<26-se|be>>>se,ve=be&_}return te&&ve!==0&&(te.words[te.length++]=ve),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},d.prototype.ishrn=function(j,Z,re){return h(this.negative===0),this.iushrn(j,Z,re)},d.prototype.shln=function(j){return this.clone().ishln(j)},d.prototype.ushln=function(j){return this.clone().iushln(j)},d.prototype.shrn=function(j){return this.clone().ishrn(j)},d.prototype.ushrn=function(j){return this.clone().iushrn(j)},d.prototype.testn=function(j){h(typeof j=="number"&&j>=0);var Z=j%26,re=(j-Z)/26,ae=1<<Z;if(this.length<=re)return!1;var se=this.words[re];return!!(se&ae)},d.prototype.imaskn=function(j){h(typeof j=="number"&&j>=0);var Z=j%26,re=(j-Z)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=re)return this;if(Z!==0&&re++,this.length=Math.min(re,this.length),Z!==0){var ae=67108863^67108863>>>Z<<Z;this.words[this.length-1]&=ae}return this._strip()},d.prototype.maskn=function(j){return this.clone().imaskn(j)},d.prototype.iaddn=function(j){return h(typeof j=="number"),h(j<67108864),j<0?this.isubn(-j):this.negative!==0?this.length===1&&(this.words[0]|0)<=j?(this.words[0]=j-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(j),this.negative=1,this):this._iaddn(j)},d.prototype._iaddn=function(j){this.words[0]+=j;for(var Z=0;Z<this.length&&this.words[Z]>=67108864;Z++)this.words[Z]-=67108864,Z===this.length-1?this.words[Z+1]=1:this.words[Z+1]++;return this.length=Math.max(this.length,Z+1),this},d.prototype.isubn=function(j){if(h(typeof j=="number"),h(j<67108864),j<0)return this.iaddn(-j);if(this.negative!==0)return this.negative=0,this.iaddn(j),this.negative=1,this;if(this.words[0]-=j,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Z=0;Z<this.length&&this.words[Z]<0;Z++)this.words[Z]+=67108864,this.words[Z+1]-=1;return this._strip()},d.prototype.addn=function(j){return this.clone().iaddn(j)},d.prototype.subn=function(j){return this.clone().isubn(j)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(j,Z,re){var ae=j.length+re,se;this._expand(ae);var ee,_=0;for(se=0;se<j.length;se++){ee=(this.words[se+re]|0)+_;var te=(j.words[se]|0)*Z;ee-=te&67108863,_=(ee>>26)-(te/67108864|0),this.words[se+re]=ee&67108863}for(;se<this.length-re;se++)ee=(this.words[se+re]|0)+_,_=ee>>26,this.words[se+re]=ee&67108863;if(_===0)return this._strip();for(h(_===-1),_=0,se=0;se<this.length;se++)ee=-(this.words[se]|0)+_,_=ee>>26,this.words[se]=ee&67108863;return this.negative=1,this._strip()},d.prototype._wordDiv=function(j,Z){var re=this.length-j.length,ae=this.clone(),se=j,ee=se.words[se.length-1]|0,_=this._countBits(ee);re=26-_,re!==0&&(se=se.ushln(re),ae.iushln(re),ee=se.words[se.length-1]|0);var te=ae.length-se.length,ue;if(Z!=="mod"){ue=new d(null),ue.length=te+1,ue.words=new Array(ue.length);for(var ve=0;ve<ue.length;ve++)ue.words[ve]=0}var be=ae.clone()._ishlnsubmul(se,1,te);be.negative===0&&(ae=be,ue&&(ue.words[te]=1));for(var Me=te-1;Me>=0;Me--){var Se=(ae.words[se.length+Me]|0)*67108864+(ae.words[se.length+Me-1]|0);for(Se=Math.min(Se/ee|0,67108863),ae._ishlnsubmul(se,Se,Me);ae.negative!==0;)Se--,ae.negative=0,ae._ishlnsubmul(se,1,Me),ae.isZero()||(ae.negative^=1);ue&&(ue.words[Me]=Se)}return ue&&ue._strip(),ae._strip(),Z!=="div"&&re!==0&&ae.iushrn(re),{div:ue||null,mod:ae}},d.prototype.divmod=function(j,Z,re){if(h(!j.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var ae,se,ee;return this.negative!==0&&j.negative===0?(ee=this.neg().divmod(j,Z),Z!=="mod"&&(ae=ee.div.neg()),Z!=="div"&&(se=ee.mod.neg(),re&&se.negative!==0&&se.iadd(j)),{div:ae,mod:se}):this.negative===0&&j.negative!==0?(ee=this.divmod(j.neg(),Z),Z!=="mod"&&(ae=ee.div.neg()),{div:ae,mod:ee.mod}):this.negative&j.negative?(ee=this.neg().divmod(j.neg(),Z),Z!=="div"&&(se=ee.mod.neg(),re&&se.negative!==0&&se.isub(j)),{div:ee.div,mod:se}):j.length>this.length||this.cmp(j)<0?{div:new d(0),mod:this}:j.length===1?Z==="div"?{div:this.divn(j.words[0]),mod:null}:Z==="mod"?{div:null,mod:new d(this.modrn(j.words[0]))}:{div:this.divn(j.words[0]),mod:new d(this.modrn(j.words[0]))}:this._wordDiv(j,Z)},d.prototype.div=function(j){return this.divmod(j,"div",!1).div},d.prototype.mod=function(j){return this.divmod(j,"mod",!1).mod},d.prototype.umod=function(j){return this.divmod(j,"mod",!0).mod},d.prototype.divRound=function(j){var Z=this.divmod(j);if(Z.mod.isZero())return Z.div;var re=Z.div.negative!==0?Z.mod.isub(j):Z.mod,ae=j.ushrn(1),se=j.andln(1),ee=re.cmp(ae);return ee<0||se===1&&ee===0?Z.div:Z.div.negative!==0?Z.div.isubn(1):Z.div.iaddn(1)},d.prototype.modrn=function(j){var Z=j<0;Z&&(j=-j),h(j<=67108863);for(var re=(1<<26)%j,ae=0,se=this.length-1;se>=0;se--)ae=(re*ae+(this.words[se]|0))%j;return Z?-ae:ae},d.prototype.modn=function(j){return this.modrn(j)},d.prototype.idivn=function(j){var Z=j<0;Z&&(j=-j),h(j<=67108863);for(var re=0,ae=this.length-1;ae>=0;ae--){var se=(this.words[ae]|0)+re*67108864;this.words[ae]=se/j|0,re=se%j}return this._strip(),Z?this.ineg():this},d.prototype.divn=function(j){return this.clone().idivn(j)},d.prototype.egcd=function(j){h(j.negative===0),h(!j.isZero());var Z=this,re=j.clone();Z.negative!==0?Z=Z.umod(j):Z=Z.clone();for(var ae=new d(1),se=new d(0),ee=new d(0),_=new d(1),te=0;Z.isEven()&&re.isEven();)Z.iushrn(1),re.iushrn(1),++te;for(var ue=re.clone(),ve=Z.clone();!Z.isZero();){for(var be=0,Me=1;!(Z.words[0]&Me)&&be<26;++be,Me<<=1);if(be>0)for(Z.iushrn(be);be-- >0;)(ae.isOdd()||se.isOdd())&&(ae.iadd(ue),se.isub(ve)),ae.iushrn(1),se.iushrn(1);for(var Se=0,_e=1;!(re.words[0]&_e)&&Se<26;++Se,_e<<=1);if(Se>0)for(re.iushrn(Se);Se-- >0;)(ee.isOdd()||_.isOdd())&&(ee.iadd(ue),_.isub(ve)),ee.iushrn(1),_.iushrn(1);Z.cmp(re)>=0?(Z.isub(re),ae.isub(ee),se.isub(_)):(re.isub(Z),ee.isub(ae),_.isub(se))}return{a:ee,b:_,gcd:re.iushln(te)}},d.prototype._invmp=function(j){h(j.negative===0),h(!j.isZero());var Z=this,re=j.clone();Z.negative!==0?Z=Z.umod(j):Z=Z.clone();for(var ae=new d(1),se=new d(0),ee=re.clone();Z.cmpn(1)>0&&re.cmpn(1)>0;){for(var _=0,te=1;!(Z.words[0]&te)&&_<26;++_,te<<=1);if(_>0)for(Z.iushrn(_);_-- >0;)ae.isOdd()&&ae.iadd(ee),ae.iushrn(1);for(var ue=0,ve=1;!(re.words[0]&ve)&&ue<26;++ue,ve<<=1);if(ue>0)for(re.iushrn(ue);ue-- >0;)se.isOdd()&&se.iadd(ee),se.iushrn(1);Z.cmp(re)>=0?(Z.isub(re),ae.isub(se)):(re.isub(Z),se.isub(ae))}var be;return Z.cmpn(1)===0?be=ae:be=se,be.cmpn(0)<0&&be.iadd(j),be},d.prototype.gcd=function(j){if(this.isZero())return j.abs();if(j.isZero())return this.abs();var Z=this.clone(),re=j.clone();Z.negative=0,re.negative=0;for(var ae=0;Z.isEven()&&re.isEven();ae++)Z.iushrn(1),re.iushrn(1);do{for(;Z.isEven();)Z.iushrn(1);for(;re.isEven();)re.iushrn(1);var se=Z.cmp(re);if(se<0){var ee=Z;Z=re,re=ee}else if(se===0||re.cmpn(1)===0)break;Z.isub(re)}while(!0);return re.iushln(ae)},d.prototype.invm=function(j){return this.egcd(j).a.umod(j)},d.prototype.isEven=function(){return(this.words[0]&1)===0},d.prototype.isOdd=function(){return(this.words[0]&1)===1},d.prototype.andln=function(j){return this.words[0]&j},d.prototype.bincn=function(j){h(typeof j=="number");var Z=j%26,re=(j-Z)/26,ae=1<<Z;if(this.length<=re)return this._expand(re+1),this.words[re]|=ae,this;for(var se=ae,ee=re;se!==0&&ee<this.length;ee++){var _=this.words[ee]|0;_+=se,se=_>>>26,_&=67108863,this.words[ee]=_}return se!==0&&(this.words[ee]=se,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(j){var Z=j<0;if(this.negative!==0&&!Z)return-1;if(this.negative===0&&Z)return 1;this._strip();var re;if(this.length>1)re=1;else{Z&&(j=-j),h(j<=67108863,"Number is too big");var ae=this.words[0]|0;re=ae===j?0:ae<j?-1:1}return this.negative!==0?-re|0:re},d.prototype.cmp=function(j){if(this.negative!==0&&j.negative===0)return-1;if(this.negative===0&&j.negative!==0)return 1;var Z=this.ucmp(j);return this.negative!==0?-Z|0:Z},d.prototype.ucmp=function(j){if(this.length>j.length)return 1;if(this.length<j.length)return-1;for(var Z=0,re=this.length-1;re>=0;re--){var ae=this.words[re]|0,se=j.words[re]|0;if(ae!==se){ae<se?Z=-1:ae>se&&(Z=1);break}}return Z},d.prototype.gtn=function(j){return this.cmpn(j)===1},d.prototype.gt=function(j){return this.cmp(j)===1},d.prototype.gten=function(j){return this.cmpn(j)>=0},d.prototype.gte=function(j){return this.cmp(j)>=0},d.prototype.ltn=function(j){return this.cmpn(j)===-1},d.prototype.lt=function(j){return this.cmp(j)===-1},d.prototype.lten=function(j){return this.cmpn(j)<=0},d.prototype.lte=function(j){return this.cmp(j)<=0},d.prototype.eqn=function(j){return this.cmpn(j)===0},d.prototype.eq=function(j){return this.cmp(j)===0},d.red=function(j){return new oe(j)},d.prototype.toRed=function(j){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),j.convertTo(this)._forceRed(j)},d.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(j){return this.red=j,this},d.prototype.forceRed=function(j){return h(!this.red,"Already a number in reduction context"),this._forceRed(j)},d.prototype.redAdd=function(j){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,j)},d.prototype.redIAdd=function(j){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,j)},d.prototype.redSub=function(j){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,j)},d.prototype.redISub=function(j){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,j)},d.prototype.redShl=function(j){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,j)},d.prototype.redMul=function(j){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.mul(this,j)},d.prototype.redIMul=function(j){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.imul(this,j)},d.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(j){return h(this.red&&!j.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,j)};var Te={k256:null,p224:null,p192:null,p25519:null};function Pe(b,j){this.name=b,this.p=new d(j,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Pe.prototype._tmp=function(){var j=new d(null);return j.words=new Array(Math.ceil(this.n/13)),j},Pe.prototype.ireduce=function(j){var Z=j,re;do this.split(Z,this.tmp),Z=this.imulK(Z),Z=Z.iadd(this.tmp),re=Z.bitLength();while(re>this.n);var ae=re<this.n?-1:Z.ucmp(this.p);return ae===0?(Z.words[0]=0,Z.length=1):ae>0?Z.isub(this.p):Z.strip!==void 0?Z.strip():Z._strip(),Z},Pe.prototype.split=function(j,Z){j.iushrn(this.n,0,Z)},Pe.prototype.imulK=function(j){return j.imul(this.k)};function Le(){Pe.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$(Le,Pe),Le.prototype.split=function(j,Z){for(var re=4194303,ae=Math.min(j.length,9),se=0;se<ae;se++)Z.words[se]=j.words[se];if(Z.length=ae,j.length<=9){j.words[0]=0,j.length=1;return}var ee=j.words[9];for(Z.words[Z.length++]=ee&re,se=10;se<j.length;se++){var _=j.words[se]|0;j.words[se-10]=(_&re)<<4|ee>>>22,ee=_}ee>>>=22,j.words[se-10]=ee,ee===0&&j.length>10?j.length-=10:j.length-=9},Le.prototype.imulK=function(j){j.words[j.length]=0,j.words[j.length+1]=0,j.length+=2;for(var Z=0,re=0;re<j.length;re++){var ae=j.words[re]|0;Z+=ae*977,j.words[re]=Z&67108863,Z=ae*64+(Z/67108864|0)}return j.words[j.length-1]===0&&(j.length--,j.words[j.length-1]===0&&j.length--),j};function qe(){Pe.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$(qe,Pe);function Ce(){Pe.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$(Ce,Pe);function ze(){Pe.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$(ze,Pe),ze.prototype.imulK=function(j){for(var Z=0,re=0;re<j.length;re++){var ae=(j.words[re]|0)*19+Z,se=ae&67108863;ae>>>=26,j.words[re]=se,Z=ae}return Z!==0&&(j.words[j.length++]=Z),j},d._prime=function(j){if(Te[j])return Te[j];var Z;if(j==="k256")Z=new Le;else if(j==="p224")Z=new qe;else if(j==="p192")Z=new Ce;else if(j==="p25519")Z=new ze;else throw new Error("Unknown prime "+j);return Te[j]=Z,Z};function oe(b){if(typeof b=="string"){var j=d._prime(b);this.m=j.p,this.prime=j}else h(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}oe.prototype._verify1=function(j){h(j.negative===0,"red works only with positives"),h(j.red,"red works only with red numbers")},oe.prototype._verify2=function(j,Z){h((j.negative|Z.negative)===0,"red works only with positives"),h(j.red&&j.red===Z.red,"red works only with red numbers")},oe.prototype.imod=function(j){return this.prime?this.prime.ireduce(j)._forceRed(this):(ne(j,j.umod(this.m)._forceRed(this)),j)},oe.prototype.neg=function(j){return j.isZero()?j.clone():this.m.sub(j)._forceRed(this)},oe.prototype.add=function(j,Z){this._verify2(j,Z);var re=j.add(Z);return re.cmp(this.m)>=0&&re.isub(this.m),re._forceRed(this)},oe.prototype.iadd=function(j,Z){this._verify2(j,Z);var re=j.iadd(Z);return re.cmp(this.m)>=0&&re.isub(this.m),re},oe.prototype.sub=function(j,Z){this._verify2(j,Z);var re=j.sub(Z);return re.cmpn(0)<0&&re.iadd(this.m),re._forceRed(this)},oe.prototype.isub=function(j,Z){this._verify2(j,Z);var re=j.isub(Z);return re.cmpn(0)<0&&re.iadd(this.m),re},oe.prototype.shl=function(j,Z){return this._verify1(j),this.imod(j.ushln(Z))},oe.prototype.imul=function(j,Z){return this._verify2(j,Z),this.imod(j.imul(Z))},oe.prototype.mul=function(j,Z){return this._verify2(j,Z),this.imod(j.mul(Z))},oe.prototype.isqr=function(j){return this.imul(j,j.clone())},oe.prototype.sqr=function(j){return this.mul(j,j)},oe.prototype.sqrt=function(j){if(j.isZero())return j.clone();var Z=this.m.andln(3);if(h(Z%2===1),Z===3){var re=this.m.add(new d(1)).iushrn(2);return this.pow(j,re)}for(var ae=this.m.subn(1),se=0;!ae.isZero()&&ae.andln(1)===0;)se++,ae.iushrn(1);h(!ae.isZero());var ee=new d(1).toRed(this),_=ee.redNeg(),te=this.m.subn(1).iushrn(1),ue=this.m.bitLength();for(ue=new d(2*ue*ue).toRed(this);this.pow(ue,te).cmp(_)!==0;)ue.redIAdd(_);for(var ve=this.pow(ue,ae),be=this.pow(j,ae.addn(1).iushrn(1)),Me=this.pow(j,ae),Se=se;Me.cmp(ee)!==0;){for(var _e=Me,Re=0;_e.cmp(ee)!==0;Re++)_e=_e.redSqr();h(Re<Se);var Ie=this.pow(ve,new d(1).iushln(Se-Re-1));be=be.redMul(Ie),ve=Ie.redSqr(),Me=Me.redMul(ve),Se=Re}return be},oe.prototype.invm=function(j){var Z=j._invmp(this.m);return Z.negative!==0?(Z.negative=0,this.imod(Z).redNeg()):this.imod(Z)},oe.prototype.pow=function(j,Z){if(Z.isZero())return new d(1).toRed(this);if(Z.cmpn(1)===0)return j.clone();var re=4,ae=new Array(1<<re);ae[0]=new d(1).toRed(this),ae[1]=j;for(var se=2;se<ae.length;se++)ae[se]=this.mul(ae[se-1],j);var ee=ae[0],_=0,te=0,ue=Z.bitLength()%26;for(ue===0&&(ue=26),se=Z.length-1;se>=0;se--){for(var ve=Z.words[se],be=ue-1;be>=0;be--){var Me=ve>>be&1;if(ee!==ae[0]&&(ee=this.sqr(ee)),Me===0&&_===0){te=0;continue}_<<=1,_|=Me,te++,!(te!==re&&(se!==0||be!==0))&&(ee=this.mul(ee,ae[_]),te=0,_=0)}ue=26}return ee},oe.prototype.convertTo=function(j){var Z=j.umod(this.m);return Z===j?Z.clone():Z},oe.prototype.convertFrom=function(j){var Z=j.clone();return Z.red=null,Z},d.mont=function(j){return new c(j)};function c(b){oe.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$(c,oe),c.prototype.convertTo=function(j){return this.imod(j.ushln(this.shift))},c.prototype.convertFrom=function(j){var Z=this.imod(j.mul(this.rinv));return Z.red=null,Z},c.prototype.imul=function(j,Z){if(j.isZero()||Z.isZero())return j.words[0]=0,j.length=1,j;var re=j.imul(Z),ae=re.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),se=re.isub(ae).iushrn(this.shift),ee=se;return se.cmp(this.m)>=0?ee=se.isub(this.m):se.cmpn(0)<0&&(ee=se.iadd(this.m)),ee._forceRed(this)},c.prototype.mul=function(j,Z){if(j.isZero()||Z.isZero())return new d(0)._forceRed(this);var re=j.mul(Z),ae=re.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),se=re.isub(ae).iushrn(this.shift),ee=se;return se.cmp(this.m)>=0?ee=se.isub(this.m):se.cmpn(0)<0&&(ee=se.iadd(this.m)),ee._forceRed(this)},c.prototype.invm=function(j){var Z=this.imod(j._invmp(this.m).mul(this.r2));return Z._forceRed(this)}})(a,commonjsGlobal)})(bn$4);var bnExports$4=bn$4.exports,BN$a=bnExports$4,randomBytes$1=browserExports,Buffer$7=safeBufferExports$1.Buffer;function getr(a){var e=a.modulus.byteLength(),o;do o=new BN$a(randomBytes$1(e));while(o.cmp(a.modulus)>=0||!o.umod(a.prime1)||!o.umod(a.prime2));return o}function blind(a){var e=getr(a),o=e.toRed(BN$a.mont(a.modulus)).redPow(new BN$a(a.publicExponent)).fromRed();return{blinder:o,unblinder:e.invm(a.modulus)}}function crt$2(a,e){var o=blind(e),h=e.modulus.byteLength(),$=new BN$a(a).mul(o.blinder).umod(e.modulus),d=$.toRed(BN$a.mont(e.prime1)),Y=$.toRed(BN$a.mont(e.prime2)),ie=e.coefficient,fe=e.prime1,he=e.prime2,ne=d.redPow(e.exponent1).fromRed(),le=Y.redPow(e.exponent2).fromRed(),de=ne.isub(le).imul(ie).umod(fe).imul(he);return le.iadd(de).imul(o.unblinder).umod(e.modulus).toArrayLike(Buffer$7,"be",h)}crt$2.getr=getr;var browserifyRsa=crt$2,elliptic={};const version$1="6.6.1",require$$0={version:version$1};var utils$p={},bn$3={exports:{}};bn$3.exports;(function(a){(function(e,o){function h(oe,c){if(!oe)throw new Error(c||"Assertion failed")}function $(oe,c){oe.super_=c;var b=function(){};b.prototype=c.prototype,oe.prototype=new b,oe.prototype.constructor=oe}function d(oe,c,b){if(d.isBN(oe))return oe;this.negative=0,this.words=null,this.length=0,this.red=null,oe!==null&&((c==="le"||c==="be")&&(b=c,c=10),this._init(oe||0,c||10,b||"be"))}typeof e=="object"?e.exports=d:o.BN=d,d.BN=d,d.wordSize=26;var Y;try{typeof window<"u"&&typeof window.Buffer<"u"?Y=window.Buffer:Y=require$$0$3.Buffer}catch{}d.isBN=function(c){return c instanceof d?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===d.wordSize&&Array.isArray(c.words)},d.max=function(c,b){return c.cmp(b)>0?c:b},d.min=function(c,b){return c.cmp(b)<0?c:b},d.prototype._init=function(c,b,j){if(typeof c=="number")return this._initNumber(c,b,j);if(typeof c=="object")return this._initArray(c,b,j);b==="hex"&&(b=16),h(b===(b|0)&&b>=2&&b<=36),c=c.toString().replace(/\s+/g,"");var Z=0;c[0]==="-"&&(Z++,this.negative=1),Z<c.length&&(b===16?this._parseHex(c,Z,j):(this._parseBase(c,b,Z),j==="le"&&this._initArray(this.toArray(),b,j)))},d.prototype._initNumber=function(c,b,j){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(h(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),j==="le"&&this._initArray(this.toArray(),b,j)},d.prototype._initArray=function(c,b,j){if(h(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var Z=0;Z<this.length;Z++)this.words[Z]=0;var re,ae,se=0;if(j==="be")for(Z=c.length-1,re=0;Z>=0;Z-=3)ae=c[Z]|c[Z-1]<<8|c[Z-2]<<16,this.words[re]|=ae<<se&67108863,this.words[re+1]=ae>>>26-se&67108863,se+=24,se>=26&&(se-=26,re++);else if(j==="le")for(Z=0,re=0;Z<c.length;Z+=3)ae=c[Z]|c[Z+1]<<8|c[Z+2]<<16,this.words[re]|=ae<<se&67108863,this.words[re+1]=ae>>>26-se&67108863,se+=24,se>=26&&(se-=26,re++);return this.strip()};function ie(oe,c){var b=oe.charCodeAt(c);return b>=65&&b<=70?b-55:b>=97&&b<=102?b-87:b-48&15}function fe(oe,c,b){var j=ie(oe,b);return b-1>=c&&(j|=ie(oe,b-1)<<4),j}d.prototype._parseHex=function(c,b,j){this.length=Math.ceil((c.length-b)/6),this.words=new Array(this.length);for(var Z=0;Z<this.length;Z++)this.words[Z]=0;var re=0,ae=0,se;if(j==="be")for(Z=c.length-1;Z>=b;Z-=2)se=fe(c,b,Z)<<re,this.words[ae]|=se&67108863,re>=18?(re-=18,ae+=1,this.words[ae]|=se>>>26):re+=8;else{var ee=c.length-b;for(Z=ee%2===0?b+1:b;Z<c.length;Z+=2)se=fe(c,b,Z)<<re,this.words[ae]|=se&67108863,re>=18?(re-=18,ae+=1,this.words[ae]|=se>>>26):re+=8}this.strip()};function he(oe,c,b,j){for(var Z=0,re=Math.min(oe.length,b),ae=c;ae<re;ae++){var se=oe.charCodeAt(ae)-48;Z*=j,se>=49?Z+=se-49+10:se>=17?Z+=se-17+10:Z+=se}return Z}d.prototype._parseBase=function(c,b,j){this.words=[0],this.length=1;for(var Z=0,re=1;re<=67108863;re*=b)Z++;Z--,re=re/b|0;for(var ae=c.length-j,se=ae%Z,ee=Math.min(ae,ae-se)+j,_=0,te=j;te<ee;te+=Z)_=he(c,te,te+Z,b),this.imuln(re),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(se!==0){var ue=1;for(_=he(c,te,c.length,b),te=0;te<se;te++)ue*=b;this.imuln(ue),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this.strip()},d.prototype.copy=function(c){c.words=new Array(this.length);for(var b=0;b<this.length;b++)c.words[b]=this.words[b];c.length=this.length,c.negative=this.negative,c.red=this.red},d.prototype.clone=function(){var c=new d(null);return this.copy(c),c},d.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},d.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},d.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ne=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],le=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],de=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(c,b){c=c||10,b=b|0||1;var j;if(c===16||c==="hex"){j="";for(var Z=0,re=0,ae=0;ae<this.length;ae++){var se=this.words[ae],ee=((se<<Z|re)&16777215).toString(16);re=se>>>24-Z&16777215,Z+=2,Z>=26&&(Z-=26,ae--),re!==0||ae!==this.length-1?j=ne[6-ee.length]+ee+j:j=ee+j}for(re!==0&&(j=re.toString(16)+j);j.length%b!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(c===(c|0)&&c>=2&&c<=36){var _=le[c],te=de[c];j="";var ue=this.clone();for(ue.negative=0;!ue.isZero();){var ve=ue.modn(te).toString(c);ue=ue.idivn(te),ue.isZero()?j=ve+j:j=ne[_-ve.length]+ve+j}for(this.isZero()&&(j="0"+j);j.length%b!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}h(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},d.prototype.toJSON=function(){return this.toString(16)},d.prototype.toBuffer=function(c,b){return h(typeof Y<"u"),this.toArrayLike(Y,c,b)},d.prototype.toArray=function(c,b){return this.toArrayLike(Array,c,b)},d.prototype.toArrayLike=function(c,b,j){var Z=this.byteLength(),re=j||Math.max(1,Z);h(Z<=re,"byte array longer than desired length"),h(re>0,"Requested array length <= 0"),this.strip();var ae=b==="le",se=new c(re),ee,_,te=this.clone();if(ae){for(_=0;!te.isZero();_++)ee=te.andln(255),te.iushrn(8),se[_]=ee;for(;_<re;_++)se[_]=0}else{for(_=0;_<re-Z;_++)se[_]=0;for(_=0;!te.isZero();_++)ee=te.andln(255),te.iushrn(8),se[re-_-1]=ee}return se},Math.clz32?d.prototype._countBits=function(c){return 32-Math.clz32(c)}:d.prototype._countBits=function(c){var b=c,j=0;return b>=4096&&(j+=13,b>>>=13),b>=64&&(j+=7,b>>>=7),b>=8&&(j+=4,b>>>=4),b>=2&&(j+=2,b>>>=2),j+b},d.prototype._zeroBits=function(c){if(c===0)return 26;var b=c,j=0;return b&8191||(j+=13,b>>>=13),b&127||(j+=7,b>>>=7),b&15||(j+=4,b>>>=4),b&3||(j+=2,b>>>=2),b&1||j++,j},d.prototype.bitLength=function(){var c=this.words[this.length-1],b=this._countBits(c);return(this.length-1)*26+b};function ce(oe){for(var c=new Array(oe.bitLength()),b=0;b<c.length;b++){var j=b/26|0,Z=b%26;c[b]=(oe.words[j]&1<<Z)>>>Z}return c}d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,b=0;b<this.length;b++){var j=this._zeroBits(this.words[b]);if(c+=j,j!==26)break}return c},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},d.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var b=0;b<c.length;b++)this.words[b]=this.words[b]|c.words[b];return this.strip()},d.prototype.ior=function(c){return h((this.negative|c.negative)===0),this.iuor(c)},d.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},d.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},d.prototype.iuand=function(c){var b;this.length>c.length?b=c:b=this;for(var j=0;j<b.length;j++)this.words[j]=this.words[j]&c.words[j];return this.length=b.length,this.strip()},d.prototype.iand=function(c){return h((this.negative|c.negative)===0),this.iuand(c)},d.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},d.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},d.prototype.iuxor=function(c){var b,j;this.length>c.length?(b=this,j=c):(b=c,j=this);for(var Z=0;Z<j.length;Z++)this.words[Z]=b.words[Z]^j.words[Z];if(this!==b)for(;Z<b.length;Z++)this.words[Z]=b.words[Z];return this.length=b.length,this.strip()},d.prototype.ixor=function(c){return h((this.negative|c.negative)===0),this.iuxor(c)},d.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},d.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},d.prototype.inotn=function(c){h(typeof c=="number"&&c>=0);var b=Math.ceil(c/26)|0,j=c%26;this._expand(b),j>0&&b--;for(var Z=0;Z<b;Z++)this.words[Z]=~this.words[Z]&67108863;return j>0&&(this.words[Z]=~this.words[Z]&67108863>>26-j),this.strip()},d.prototype.notn=function(c){return this.clone().inotn(c)},d.prototype.setn=function(c,b){h(typeof c=="number"&&c>=0);var j=c/26|0,Z=c%26;return this._expand(j+1),b?this.words[j]=this.words[j]|1<<Z:this.words[j]=this.words[j]&~(1<<Z),this.strip()},d.prototype.iadd=function(c){var b;if(this.negative!==0&&c.negative===0)return this.negative=0,b=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,b=this.isub(c),c.negative=1,b._normSign();var j,Z;this.length>c.length?(j=this,Z=c):(j=c,Z=this);for(var re=0,ae=0;ae<Z.length;ae++)b=(j.words[ae]|0)+(Z.words[ae]|0)+re,this.words[ae]=b&67108863,re=b>>>26;for(;re!==0&&ae<j.length;ae++)b=(j.words[ae]|0)+re,this.words[ae]=b&67108863,re=b>>>26;if(this.length=j.length,re!==0)this.words[this.length]=re,this.length++;else if(j!==this)for(;ae<j.length;ae++)this.words[ae]=j.words[ae];return this},d.prototype.add=function(c){var b;return c.negative!==0&&this.negative===0?(c.negative=0,b=this.sub(c),c.negative^=1,b):c.negative===0&&this.negative!==0?(this.negative=0,b=c.sub(this),this.negative=1,b):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},d.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var b=this.iadd(c);return c.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var j=this.cmp(c);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Z,re;j>0?(Z=this,re=c):(Z=c,re=this);for(var ae=0,se=0;se<re.length;se++)b=(Z.words[se]|0)-(re.words[se]|0)+ae,ae=b>>26,this.words[se]=b&67108863;for(;ae!==0&&se<Z.length;se++)b=(Z.words[se]|0)+ae,ae=b>>26,this.words[se]=b&67108863;if(ae===0&&se<Z.length&&Z!==this)for(;se<Z.length;se++)this.words[se]=Z.words[se];return this.length=Math.max(this.length,se),Z!==this&&(this.negative=1),this.strip()},d.prototype.sub=function(c){return this.clone().isub(c)};function ge(oe,c,b){b.negative=c.negative^oe.negative;var j=oe.length+c.length|0;b.length=j,j=j-1|0;var Z=oe.words[0]|0,re=c.words[0]|0,ae=Z*re,se=ae&67108863,ee=ae/67108864|0;b.words[0]=se;for(var _=1;_<j;_++){for(var te=ee>>>26,ue=ee&67108863,ve=Math.min(_,c.length-1),be=Math.max(0,_-oe.length+1);be<=ve;be++){var Me=_-be|0;Z=oe.words[Me]|0,re=c.words[be]|0,ae=Z*re+ue,te+=ae/67108864|0,ue=ae&67108863}b.words[_]=ue|0,ee=te|0}return ee!==0?b.words[_]=ee|0:b.length--,b.strip()}var xe=function(c,b,j){var Z=c.words,re=b.words,ae=j.words,se=0,ee,_,te,ue=Z[0]|0,ve=ue&8191,be=ue>>>13,Me=Z[1]|0,Se=Me&8191,_e=Me>>>13,Re=Z[2]|0,Ie=Re&8191,Ne=Re>>>13,Oe=Z[3]|0,ke=Oe&8191,He=Oe>>>13,ct=Z[4]|0,Ve=ct&8191,Ye=ct>>>13,wt=Z[5]|0,Qe=wt&8191,Ge=wt>>>13,$t=Z[6]|0,tt=$t&8191,ut=$t>>>13,St=Z[7]|0,Ue=St&8191,je=St>>>13,bt=Z[8]|0,Ke=bt&8191,Ze=bt>>>13,Et=Z[9]|0,Be=Et&8191,ye=Et>>>13,$e=re[0]|0,De=$e&8191,Fe=$e>>>13,Xe=re[1]|0,We=Xe&8191,et=Xe>>>13,xt=re[2]|0,Je=xt&8191,rt=xt>>>13,Mt=re[3]|0,it=Mt&8191,dt=Mt>>>13,Bt=re[4]|0,nt=Bt&8191,pt=Bt>>>13,Rt=re[5]|0,at=Rt&8191,mt=Rt>>>13,kt=re[6]|0,ot=kt&8191,vt=kt>>>13,It=re[7]|0,st=It&8191,gt=It>>>13,Ct=re[8]|0,ht=Ct&8191,yt=Ct>>>13,Dt=re[9]|0,lt=Dt&8191,_t=Dt>>>13;j.negative=c.negative^b.negative,j.length=19,ee=Math.imul(ve,De),_=Math.imul(ve,Fe),_=_+Math.imul(be,De)|0,te=Math.imul(be,Fe);var At=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(At>>>26)|0,At&=67108863,ee=Math.imul(Se,De),_=Math.imul(Se,Fe),_=_+Math.imul(_e,De)|0,te=Math.imul(_e,Fe),ee=ee+Math.imul(ve,We)|0,_=_+Math.imul(ve,et)|0,_=_+Math.imul(be,We)|0,te=te+Math.imul(be,et)|0;var Tt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,ee=Math.imul(Ie,De),_=Math.imul(Ie,Fe),_=_+Math.imul(Ne,De)|0,te=Math.imul(Ne,Fe),ee=ee+Math.imul(Se,We)|0,_=_+Math.imul(Se,et)|0,_=_+Math.imul(_e,We)|0,te=te+Math.imul(_e,et)|0,ee=ee+Math.imul(ve,Je)|0,_=_+Math.imul(ve,rt)|0,_=_+Math.imul(be,Je)|0,te=te+Math.imul(be,rt)|0;var Pt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,ee=Math.imul(ke,De),_=Math.imul(ke,Fe),_=_+Math.imul(He,De)|0,te=Math.imul(He,Fe),ee=ee+Math.imul(Ie,We)|0,_=_+Math.imul(Ie,et)|0,_=_+Math.imul(Ne,We)|0,te=te+Math.imul(Ne,et)|0,ee=ee+Math.imul(Se,Je)|0,_=_+Math.imul(Se,rt)|0,_=_+Math.imul(_e,Je)|0,te=te+Math.imul(_e,rt)|0,ee=ee+Math.imul(ve,it)|0,_=_+Math.imul(ve,dt)|0,_=_+Math.imul(be,it)|0,te=te+Math.imul(be,dt)|0;var Ot=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,ee=Math.imul(Ve,De),_=Math.imul(Ve,Fe),_=_+Math.imul(Ye,De)|0,te=Math.imul(Ye,Fe),ee=ee+Math.imul(ke,We)|0,_=_+Math.imul(ke,et)|0,_=_+Math.imul(He,We)|0,te=te+Math.imul(He,et)|0,ee=ee+Math.imul(Ie,Je)|0,_=_+Math.imul(Ie,rt)|0,_=_+Math.imul(Ne,Je)|0,te=te+Math.imul(Ne,rt)|0,ee=ee+Math.imul(Se,it)|0,_=_+Math.imul(Se,dt)|0,_=_+Math.imul(_e,it)|0,te=te+Math.imul(_e,dt)|0,ee=ee+Math.imul(ve,nt)|0,_=_+Math.imul(ve,pt)|0,_=_+Math.imul(be,nt)|0,te=te+Math.imul(be,pt)|0;var Nt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,ee=Math.imul(Qe,De),_=Math.imul(Qe,Fe),_=_+Math.imul(Ge,De)|0,te=Math.imul(Ge,Fe),ee=ee+Math.imul(Ve,We)|0,_=_+Math.imul(Ve,et)|0,_=_+Math.imul(Ye,We)|0,te=te+Math.imul(Ye,et)|0,ee=ee+Math.imul(ke,Je)|0,_=_+Math.imul(ke,rt)|0,_=_+Math.imul(He,Je)|0,te=te+Math.imul(He,rt)|0,ee=ee+Math.imul(Ie,it)|0,_=_+Math.imul(Ie,dt)|0,_=_+Math.imul(Ne,it)|0,te=te+Math.imul(Ne,dt)|0,ee=ee+Math.imul(Se,nt)|0,_=_+Math.imul(Se,pt)|0,_=_+Math.imul(_e,nt)|0,te=te+Math.imul(_e,pt)|0,ee=ee+Math.imul(ve,at)|0,_=_+Math.imul(ve,mt)|0,_=_+Math.imul(be,at)|0,te=te+Math.imul(be,mt)|0;var Lt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,ee=Math.imul(tt,De),_=Math.imul(tt,Fe),_=_+Math.imul(ut,De)|0,te=Math.imul(ut,Fe),ee=ee+Math.imul(Qe,We)|0,_=_+Math.imul(Qe,et)|0,_=_+Math.imul(Ge,We)|0,te=te+Math.imul(Ge,et)|0,ee=ee+Math.imul(Ve,Je)|0,_=_+Math.imul(Ve,rt)|0,_=_+Math.imul(Ye,Je)|0,te=te+Math.imul(Ye,rt)|0,ee=ee+Math.imul(ke,it)|0,_=_+Math.imul(ke,dt)|0,_=_+Math.imul(He,it)|0,te=te+Math.imul(He,dt)|0,ee=ee+Math.imul(Ie,nt)|0,_=_+Math.imul(Ie,pt)|0,_=_+Math.imul(Ne,nt)|0,te=te+Math.imul(Ne,pt)|0,ee=ee+Math.imul(Se,at)|0,_=_+Math.imul(Se,mt)|0,_=_+Math.imul(_e,at)|0,te=te+Math.imul(_e,mt)|0,ee=ee+Math.imul(ve,ot)|0,_=_+Math.imul(ve,vt)|0,_=_+Math.imul(be,ot)|0,te=te+Math.imul(be,vt)|0;var Ut=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,ee=Math.imul(Ue,De),_=Math.imul(Ue,Fe),_=_+Math.imul(je,De)|0,te=Math.imul(je,Fe),ee=ee+Math.imul(tt,We)|0,_=_+Math.imul(tt,et)|0,_=_+Math.imul(ut,We)|0,te=te+Math.imul(ut,et)|0,ee=ee+Math.imul(Qe,Je)|0,_=_+Math.imul(Qe,rt)|0,_=_+Math.imul(Ge,Je)|0,te=te+Math.imul(Ge,rt)|0,ee=ee+Math.imul(Ve,it)|0,_=_+Math.imul(Ve,dt)|0,_=_+Math.imul(Ye,it)|0,te=te+Math.imul(Ye,dt)|0,ee=ee+Math.imul(ke,nt)|0,_=_+Math.imul(ke,pt)|0,_=_+Math.imul(He,nt)|0,te=te+Math.imul(He,pt)|0,ee=ee+Math.imul(Ie,at)|0,_=_+Math.imul(Ie,mt)|0,_=_+Math.imul(Ne,at)|0,te=te+Math.imul(Ne,mt)|0,ee=ee+Math.imul(Se,ot)|0,_=_+Math.imul(Se,vt)|0,_=_+Math.imul(_e,ot)|0,te=te+Math.imul(_e,vt)|0,ee=ee+Math.imul(ve,st)|0,_=_+Math.imul(ve,gt)|0,_=_+Math.imul(be,st)|0,te=te+Math.imul(be,gt)|0;var Ft=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,ee=Math.imul(Ke,De),_=Math.imul(Ke,Fe),_=_+Math.imul(Ze,De)|0,te=Math.imul(Ze,Fe),ee=ee+Math.imul(Ue,We)|0,_=_+Math.imul(Ue,et)|0,_=_+Math.imul(je,We)|0,te=te+Math.imul(je,et)|0,ee=ee+Math.imul(tt,Je)|0,_=_+Math.imul(tt,rt)|0,_=_+Math.imul(ut,Je)|0,te=te+Math.imul(ut,rt)|0,ee=ee+Math.imul(Qe,it)|0,_=_+Math.imul(Qe,dt)|0,_=_+Math.imul(Ge,it)|0,te=te+Math.imul(Ge,dt)|0,ee=ee+Math.imul(Ve,nt)|0,_=_+Math.imul(Ve,pt)|0,_=_+Math.imul(Ye,nt)|0,te=te+Math.imul(Ye,pt)|0,ee=ee+Math.imul(ke,at)|0,_=_+Math.imul(ke,mt)|0,_=_+Math.imul(He,at)|0,te=te+Math.imul(He,mt)|0,ee=ee+Math.imul(Ie,ot)|0,_=_+Math.imul(Ie,vt)|0,_=_+Math.imul(Ne,ot)|0,te=te+Math.imul(Ne,vt)|0,ee=ee+Math.imul(Se,st)|0,_=_+Math.imul(Se,gt)|0,_=_+Math.imul(_e,st)|0,te=te+Math.imul(_e,gt)|0,ee=ee+Math.imul(ve,ht)|0,_=_+Math.imul(ve,yt)|0,_=_+Math.imul(be,ht)|0,te=te+Math.imul(be,yt)|0;var qt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(qt>>>26)|0,qt&=67108863,ee=Math.imul(Be,De),_=Math.imul(Be,Fe),_=_+Math.imul(ye,De)|0,te=Math.imul(ye,Fe),ee=ee+Math.imul(Ke,We)|0,_=_+Math.imul(Ke,et)|0,_=_+Math.imul(Ze,We)|0,te=te+Math.imul(Ze,et)|0,ee=ee+Math.imul(Ue,Je)|0,_=_+Math.imul(Ue,rt)|0,_=_+Math.imul(je,Je)|0,te=te+Math.imul(je,rt)|0,ee=ee+Math.imul(tt,it)|0,_=_+Math.imul(tt,dt)|0,_=_+Math.imul(ut,it)|0,te=te+Math.imul(ut,dt)|0,ee=ee+Math.imul(Qe,nt)|0,_=_+Math.imul(Qe,pt)|0,_=_+Math.imul(Ge,nt)|0,te=te+Math.imul(Ge,pt)|0,ee=ee+Math.imul(Ve,at)|0,_=_+Math.imul(Ve,mt)|0,_=_+Math.imul(Ye,at)|0,te=te+Math.imul(Ye,mt)|0,ee=ee+Math.imul(ke,ot)|0,_=_+Math.imul(ke,vt)|0,_=_+Math.imul(He,ot)|0,te=te+Math.imul(He,vt)|0,ee=ee+Math.imul(Ie,st)|0,_=_+Math.imul(Ie,gt)|0,_=_+Math.imul(Ne,st)|0,te=te+Math.imul(Ne,gt)|0,ee=ee+Math.imul(Se,ht)|0,_=_+Math.imul(Se,yt)|0,_=_+Math.imul(_e,ht)|0,te=te+Math.imul(_e,yt)|0,ee=ee+Math.imul(ve,lt)|0,_=_+Math.imul(ve,_t)|0,_=_+Math.imul(be,lt)|0,te=te+Math.imul(be,_t)|0;var Ht=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,ee=Math.imul(Be,We),_=Math.imul(Be,et),_=_+Math.imul(ye,We)|0,te=Math.imul(ye,et),ee=ee+Math.imul(Ke,Je)|0,_=_+Math.imul(Ke,rt)|0,_=_+Math.imul(Ze,Je)|0,te=te+Math.imul(Ze,rt)|0,ee=ee+Math.imul(Ue,it)|0,_=_+Math.imul(Ue,dt)|0,_=_+Math.imul(je,it)|0,te=te+Math.imul(je,dt)|0,ee=ee+Math.imul(tt,nt)|0,_=_+Math.imul(tt,pt)|0,_=_+Math.imul(ut,nt)|0,te=te+Math.imul(ut,pt)|0,ee=ee+Math.imul(Qe,at)|0,_=_+Math.imul(Qe,mt)|0,_=_+Math.imul(Ge,at)|0,te=te+Math.imul(Ge,mt)|0,ee=ee+Math.imul(Ve,ot)|0,_=_+Math.imul(Ve,vt)|0,_=_+Math.imul(Ye,ot)|0,te=te+Math.imul(Ye,vt)|0,ee=ee+Math.imul(ke,st)|0,_=_+Math.imul(ke,gt)|0,_=_+Math.imul(He,st)|0,te=te+Math.imul(He,gt)|0,ee=ee+Math.imul(Ie,ht)|0,_=_+Math.imul(Ie,yt)|0,_=_+Math.imul(Ne,ht)|0,te=te+Math.imul(Ne,yt)|0,ee=ee+Math.imul(Se,lt)|0,_=_+Math.imul(Se,_t)|0,_=_+Math.imul(_e,lt)|0,te=te+Math.imul(_e,_t)|0;var jt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(jt>>>26)|0,jt&=67108863,ee=Math.imul(Be,Je),_=Math.imul(Be,rt),_=_+Math.imul(ye,Je)|0,te=Math.imul(ye,rt),ee=ee+Math.imul(Ke,it)|0,_=_+Math.imul(Ke,dt)|0,_=_+Math.imul(Ze,it)|0,te=te+Math.imul(Ze,dt)|0,ee=ee+Math.imul(Ue,nt)|0,_=_+Math.imul(Ue,pt)|0,_=_+Math.imul(je,nt)|0,te=te+Math.imul(je,pt)|0,ee=ee+Math.imul(tt,at)|0,_=_+Math.imul(tt,mt)|0,_=_+Math.imul(ut,at)|0,te=te+Math.imul(ut,mt)|0,ee=ee+Math.imul(Qe,ot)|0,_=_+Math.imul(Qe,vt)|0,_=_+Math.imul(Ge,ot)|0,te=te+Math.imul(Ge,vt)|0,ee=ee+Math.imul(Ve,st)|0,_=_+Math.imul(Ve,gt)|0,_=_+Math.imul(Ye,st)|0,te=te+Math.imul(Ye,gt)|0,ee=ee+Math.imul(ke,ht)|0,_=_+Math.imul(ke,yt)|0,_=_+Math.imul(He,ht)|0,te=te+Math.imul(He,yt)|0,ee=ee+Math.imul(Ie,lt)|0,_=_+Math.imul(Ie,_t)|0,_=_+Math.imul(Ne,lt)|0,te=te+Math.imul(Ne,_t)|0;var zt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863,ee=Math.imul(Be,it),_=Math.imul(Be,dt),_=_+Math.imul(ye,it)|0,te=Math.imul(ye,dt),ee=ee+Math.imul(Ke,nt)|0,_=_+Math.imul(Ke,pt)|0,_=_+Math.imul(Ze,nt)|0,te=te+Math.imul(Ze,pt)|0,ee=ee+Math.imul(Ue,at)|0,_=_+Math.imul(Ue,mt)|0,_=_+Math.imul(je,at)|0,te=te+Math.imul(je,mt)|0,ee=ee+Math.imul(tt,ot)|0,_=_+Math.imul(tt,vt)|0,_=_+Math.imul(ut,ot)|0,te=te+Math.imul(ut,vt)|0,ee=ee+Math.imul(Qe,st)|0,_=_+Math.imul(Qe,gt)|0,_=_+Math.imul(Ge,st)|0,te=te+Math.imul(Ge,gt)|0,ee=ee+Math.imul(Ve,ht)|0,_=_+Math.imul(Ve,yt)|0,_=_+Math.imul(Ye,ht)|0,te=te+Math.imul(Ye,yt)|0,ee=ee+Math.imul(ke,lt)|0,_=_+Math.imul(ke,_t)|0,_=_+Math.imul(He,lt)|0,te=te+Math.imul(He,_t)|0;var Wt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,ee=Math.imul(Be,nt),_=Math.imul(Be,pt),_=_+Math.imul(ye,nt)|0,te=Math.imul(ye,pt),ee=ee+Math.imul(Ke,at)|0,_=_+Math.imul(Ke,mt)|0,_=_+Math.imul(Ze,at)|0,te=te+Math.imul(Ze,mt)|0,ee=ee+Math.imul(Ue,ot)|0,_=_+Math.imul(Ue,vt)|0,_=_+Math.imul(je,ot)|0,te=te+Math.imul(je,vt)|0,ee=ee+Math.imul(tt,st)|0,_=_+Math.imul(tt,gt)|0,_=_+Math.imul(ut,st)|0,te=te+Math.imul(ut,gt)|0,ee=ee+Math.imul(Qe,ht)|0,_=_+Math.imul(Qe,yt)|0,_=_+Math.imul(Ge,ht)|0,te=te+Math.imul(Ge,yt)|0,ee=ee+Math.imul(Ve,lt)|0,_=_+Math.imul(Ve,_t)|0,_=_+Math.imul(Ye,lt)|0,te=te+Math.imul(Ye,_t)|0;var Gt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,ee=Math.imul(Be,at),_=Math.imul(Be,mt),_=_+Math.imul(ye,at)|0,te=Math.imul(ye,mt),ee=ee+Math.imul(Ke,ot)|0,_=_+Math.imul(Ke,vt)|0,_=_+Math.imul(Ze,ot)|0,te=te+Math.imul(Ze,vt)|0,ee=ee+Math.imul(Ue,st)|0,_=_+Math.imul(Ue,gt)|0,_=_+Math.imul(je,st)|0,te=te+Math.imul(je,gt)|0,ee=ee+Math.imul(tt,ht)|0,_=_+Math.imul(tt,yt)|0,_=_+Math.imul(ut,ht)|0,te=te+Math.imul(ut,yt)|0,ee=ee+Math.imul(Qe,lt)|0,_=_+Math.imul(Qe,_t)|0,_=_+Math.imul(Ge,lt)|0,te=te+Math.imul(Ge,_t)|0;var Kt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,ee=Math.imul(Be,ot),_=Math.imul(Be,vt),_=_+Math.imul(ye,ot)|0,te=Math.imul(ye,vt),ee=ee+Math.imul(Ke,st)|0,_=_+Math.imul(Ke,gt)|0,_=_+Math.imul(Ze,st)|0,te=te+Math.imul(Ze,gt)|0,ee=ee+Math.imul(Ue,ht)|0,_=_+Math.imul(Ue,yt)|0,_=_+Math.imul(je,ht)|0,te=te+Math.imul(je,yt)|0,ee=ee+Math.imul(tt,lt)|0,_=_+Math.imul(tt,_t)|0,_=_+Math.imul(ut,lt)|0,te=te+Math.imul(ut,_t)|0;var Zt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,ee=Math.imul(Be,st),_=Math.imul(Be,gt),_=_+Math.imul(ye,st)|0,te=Math.imul(ye,gt),ee=ee+Math.imul(Ke,ht)|0,_=_+Math.imul(Ke,yt)|0,_=_+Math.imul(Ze,ht)|0,te=te+Math.imul(Ze,yt)|0,ee=ee+Math.imul(Ue,lt)|0,_=_+Math.imul(Ue,_t)|0,_=_+Math.imul(je,lt)|0,te=te+Math.imul(je,_t)|0;var Vt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,ee=Math.imul(Be,ht),_=Math.imul(Be,yt),_=_+Math.imul(ye,ht)|0,te=Math.imul(ye,yt),ee=ee+Math.imul(Ke,lt)|0,_=_+Math.imul(Ke,_t)|0,_=_+Math.imul(Ze,lt)|0,te=te+Math.imul(Ze,_t)|0;var Yt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,ee=Math.imul(Be,lt),_=Math.imul(Be,_t),_=_+Math.imul(ye,lt)|0,te=Math.imul(ye,_t);var Xt=(se+ee|0)+((_&8191)<<13)|0;return se=(te+(_>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,ae[0]=At,ae[1]=Tt,ae[2]=Pt,ae[3]=Ot,ae[4]=Nt,ae[5]=Lt,ae[6]=Ut,ae[7]=Ft,ae[8]=qt,ae[9]=Ht,ae[10]=jt,ae[11]=zt,ae[12]=Wt,ae[13]=Gt,ae[14]=Kt,ae[15]=Zt,ae[16]=Vt,ae[17]=Yt,ae[18]=Xt,se!==0&&(ae[19]=se,j.length++),j};Math.imul||(xe=ge);function Ae(oe,c,b){b.negative=c.negative^oe.negative,b.length=oe.length+c.length;for(var j=0,Z=0,re=0;re<b.length-1;re++){var ae=Z;Z=0;for(var se=j&67108863,ee=Math.min(re,c.length-1),_=Math.max(0,re-oe.length+1);_<=ee;_++){var te=re-_,ue=oe.words[te]|0,ve=c.words[_]|0,be=ue*ve,Me=be&67108863;ae=ae+(be/67108864|0)|0,Me=Me+se|0,se=Me&67108863,ae=ae+(Me>>>26)|0,Z+=ae>>>26,ae&=67108863}b.words[re]=se,j=ae,ae=Z}return j!==0?b.words[re]=j:b.length--,b.strip()}function Ee(oe,c,b){var j=new we;return j.mulp(oe,c,b)}d.prototype.mulTo=function(c,b){var j,Z=this.length+c.length;return this.length===10&&c.length===10?j=xe(this,c,b):Z<63?j=ge(this,c,b):Z<1024?j=Ae(this,c,b):j=Ee(this,c,b),j};function we(oe,c){this.x=oe,this.y=c}we.prototype.makeRBT=function(c){for(var b=new Array(c),j=d.prototype._countBits(c)-1,Z=0;Z<c;Z++)b[Z]=this.revBin(Z,j,c);return b},we.prototype.revBin=function(c,b,j){if(c===0||c===j-1)return c;for(var Z=0,re=0;re<b;re++)Z|=(c&1)<<b-re-1,c>>=1;return Z},we.prototype.permute=function(c,b,j,Z,re,ae){for(var se=0;se<ae;se++)Z[se]=b[c[se]],re[se]=j[c[se]]},we.prototype.transform=function(c,b,j,Z,re,ae){this.permute(ae,c,b,j,Z,re);for(var se=1;se<re;se<<=1)for(var ee=se<<1,_=Math.cos(2*Math.PI/ee),te=Math.sin(2*Math.PI/ee),ue=0;ue<re;ue+=ee)for(var ve=_,be=te,Me=0;Me<se;Me++){var Se=j[ue+Me],_e=Z[ue+Me],Re=j[ue+Me+se],Ie=Z[ue+Me+se],Ne=ve*Re-be*Ie;Ie=ve*Ie+be*Re,Re=Ne,j[ue+Me]=Se+Re,Z[ue+Me]=_e+Ie,j[ue+Me+se]=Se-Re,Z[ue+Me+se]=_e-Ie,Me!==ee&&(Ne=_*ve-te*be,be=_*be+te*ve,ve=Ne)}},we.prototype.guessLen13b=function(c,b){var j=Math.max(b,c)|1,Z=j&1,re=0;for(j=j/2|0;j;j=j>>>1)re++;return 1<<re+1+Z},we.prototype.conjugate=function(c,b,j){if(!(j<=1))for(var Z=0;Z<j/2;Z++){var re=c[Z];c[Z]=c[j-Z-1],c[j-Z-1]=re,re=b[Z],b[Z]=-b[j-Z-1],b[j-Z-1]=-re}},we.prototype.normalize13b=function(c,b){for(var j=0,Z=0;Z<b/2;Z++){var re=Math.round(c[2*Z+1]/b)*8192+Math.round(c[2*Z]/b)+j;c[Z]=re&67108863,re<67108864?j=0:j=re/67108864|0}return c},we.prototype.convert13b=function(c,b,j,Z){for(var re=0,ae=0;ae<b;ae++)re=re+(c[ae]|0),j[2*ae]=re&8191,re=re>>>13,j[2*ae+1]=re&8191,re=re>>>13;for(ae=2*b;ae<Z;++ae)j[ae]=0;h(re===0),h((re&-8192)===0)},we.prototype.stub=function(c){for(var b=new Array(c),j=0;j<c;j++)b[j]=0;return b},we.prototype.mulp=function(c,b,j){var Z=2*this.guessLen13b(c.length,b.length),re=this.makeRBT(Z),ae=this.stub(Z),se=new Array(Z),ee=new Array(Z),_=new Array(Z),te=new Array(Z),ue=new Array(Z),ve=new Array(Z),be=j.words;be.length=Z,this.convert13b(c.words,c.length,se,Z),this.convert13b(b.words,b.length,te,Z),this.transform(se,ae,ee,_,Z,re),this.transform(te,ae,ue,ve,Z,re);for(var Me=0;Me<Z;Me++){var Se=ee[Me]*ue[Me]-_[Me]*ve[Me];_[Me]=ee[Me]*ve[Me]+_[Me]*ue[Me],ee[Me]=Se}return this.conjugate(ee,_,Z),this.transform(ee,_,be,ae,Z,re),this.conjugate(be,ae,Z),this.normalize13b(be,Z),j.negative=c.negative^b.negative,j.length=c.length+b.length,j.strip()},d.prototype.mul=function(c){var b=new d(null);return b.words=new Array(this.length+c.length),this.mulTo(c,b)},d.prototype.mulf=function(c){var b=new d(null);return b.words=new Array(this.length+c.length),Ee(this,c,b)},d.prototype.imul=function(c){return this.clone().mulTo(c,this)},d.prototype.imuln=function(c){h(typeof c=="number"),h(c<67108864);for(var b=0,j=0;j<this.length;j++){var Z=(this.words[j]|0)*c,re=(Z&67108863)+(b&67108863);b>>=26,b+=Z/67108864|0,b+=re>>>26,this.words[j]=re&67108863}return b!==0&&(this.words[j]=b,this.length++),this.length=c===0?1:this.length,this},d.prototype.muln=function(c){return this.clone().imuln(c)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(c){var b=ce(c);if(b.length===0)return new d(1);for(var j=this,Z=0;Z<b.length&&b[Z]===0;Z++,j=j.sqr());if(++Z<b.length)for(var re=j.sqr();Z<b.length;Z++,re=re.sqr())b[Z]!==0&&(j=j.mul(re));return j},d.prototype.iushln=function(c){h(typeof c=="number"&&c>=0);var b=c%26,j=(c-b)/26,Z=67108863>>>26-b<<26-b,re;if(b!==0){var ae=0;for(re=0;re<this.length;re++){var se=this.words[re]&Z,ee=(this.words[re]|0)-se<<b;this.words[re]=ee|ae,ae=se>>>26-b}ae&&(this.words[re]=ae,this.length++)}if(j!==0){for(re=this.length-1;re>=0;re--)this.words[re+j]=this.words[re];for(re=0;re<j;re++)this.words[re]=0;this.length+=j}return this.strip()},d.prototype.ishln=function(c){return h(this.negative===0),this.iushln(c)},d.prototype.iushrn=function(c,b,j){h(typeof c=="number"&&c>=0);var Z;b?Z=(b-b%26)/26:Z=0;var re=c%26,ae=Math.min((c-re)/26,this.length),se=67108863^67108863>>>re<<re,ee=j;if(Z-=ae,Z=Math.max(0,Z),ee){for(var _=0;_<ae;_++)ee.words[_]=this.words[_];ee.length=ae}if(ae!==0)if(this.length>ae)for(this.length-=ae,_=0;_<this.length;_++)this.words[_]=this.words[_+ae];else this.words[0]=0,this.length=1;var te=0;for(_=this.length-1;_>=0&&(te!==0||_>=Z);_--){var ue=this.words[_]|0;this.words[_]=te<<26-re|ue>>>re,te=ue&se}return ee&&te!==0&&(ee.words[ee.length++]=te),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function(c,b,j){return h(this.negative===0),this.iushrn(c,b,j)},d.prototype.shln=function(c){return this.clone().ishln(c)},d.prototype.ushln=function(c){return this.clone().iushln(c)},d.prototype.shrn=function(c){return this.clone().ishrn(c)},d.prototype.ushrn=function(c){return this.clone().iushrn(c)},d.prototype.testn=function(c){h(typeof c=="number"&&c>=0);var b=c%26,j=(c-b)/26,Z=1<<b;if(this.length<=j)return!1;var re=this.words[j];return!!(re&Z)},d.prototype.imaskn=function(c){h(typeof c=="number"&&c>=0);var b=c%26,j=(c-b)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(b!==0&&j++,this.length=Math.min(j,this.length),b!==0){var Z=67108863^67108863>>>b<<b;this.words[this.length-1]&=Z}return this.strip()},d.prototype.maskn=function(c){return this.clone().imaskn(c)},d.prototype.iaddn=function(c){return h(typeof c=="number"),h(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},d.prototype._iaddn=function(c){this.words[0]+=c;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},d.prototype.isubn=function(c){if(h(typeof c=="number"),h(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this.strip()},d.prototype.addn=function(c){return this.clone().iaddn(c)},d.prototype.subn=function(c){return this.clone().isubn(c)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(c,b,j){var Z=c.length+j,re;this._expand(Z);var ae,se=0;for(re=0;re<c.length;re++){ae=(this.words[re+j]|0)+se;var ee=(c.words[re]|0)*b;ae-=ee&67108863,se=(ae>>26)-(ee/67108864|0),this.words[re+j]=ae&67108863}for(;re<this.length-j;re++)ae=(this.words[re+j]|0)+se,se=ae>>26,this.words[re+j]=ae&67108863;if(se===0)return this.strip();for(h(se===-1),se=0,re=0;re<this.length;re++)ae=-(this.words[re]|0)+se,se=ae>>26,this.words[re]=ae&67108863;return this.negative=1,this.strip()},d.prototype._wordDiv=function(c,b){var j=this.length-c.length,Z=this.clone(),re=c,ae=re.words[re.length-1]|0,se=this._countBits(ae);j=26-se,j!==0&&(re=re.ushln(j),Z.iushln(j),ae=re.words[re.length-1]|0);var ee=Z.length-re.length,_;if(b!=="mod"){_=new d(null),_.length=ee+1,_.words=new Array(_.length);for(var te=0;te<_.length;te++)_.words[te]=0}var ue=Z.clone()._ishlnsubmul(re,1,ee);ue.negative===0&&(Z=ue,_&&(_.words[ee]=1));for(var ve=ee-1;ve>=0;ve--){var be=(Z.words[re.length+ve]|0)*67108864+(Z.words[re.length+ve-1]|0);for(be=Math.min(be/ae|0,67108863),Z._ishlnsubmul(re,be,ve);Z.negative!==0;)be--,Z.negative=0,Z._ishlnsubmul(re,1,ve),Z.isZero()||(Z.negative^=1);_&&(_.words[ve]=be)}return _&&_.strip(),Z.strip(),b!=="div"&&j!==0&&Z.iushrn(j),{div:_||null,mod:Z}},d.prototype.divmod=function(c,b,j){if(h(!c.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var Z,re,ae;return this.negative!==0&&c.negative===0?(ae=this.neg().divmod(c,b),b!=="mod"&&(Z=ae.div.neg()),b!=="div"&&(re=ae.mod.neg(),j&&re.negative!==0&&re.iadd(c)),{div:Z,mod:re}):this.negative===0&&c.negative!==0?(ae=this.divmod(c.neg(),b),b!=="mod"&&(Z=ae.div.neg()),{div:Z,mod:ae.mod}):this.negative&c.negative?(ae=this.neg().divmod(c.neg(),b),b!=="div"&&(re=ae.mod.neg(),j&&re.negative!==0&&re.isub(c)),{div:ae.div,mod:re}):c.length>this.length||this.cmp(c)<0?{div:new d(0),mod:this}:c.length===1?b==="div"?{div:this.divn(c.words[0]),mod:null}:b==="mod"?{div:null,mod:new d(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new d(this.modn(c.words[0]))}:this._wordDiv(c,b)},d.prototype.div=function(c){return this.divmod(c,"div",!1).div},d.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},d.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},d.prototype.divRound=function(c){var b=this.divmod(c);if(b.mod.isZero())return b.div;var j=b.div.negative!==0?b.mod.isub(c):b.mod,Z=c.ushrn(1),re=c.andln(1),ae=j.cmp(Z);return ae<0||re===1&&ae===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},d.prototype.modn=function(c){h(c<=67108863);for(var b=(1<<26)%c,j=0,Z=this.length-1;Z>=0;Z--)j=(b*j+(this.words[Z]|0))%c;return j},d.prototype.idivn=function(c){h(c<=67108863);for(var b=0,j=this.length-1;j>=0;j--){var Z=(this.words[j]|0)+b*67108864;this.words[j]=Z/c|0,b=Z%c}return this.strip()},d.prototype.divn=function(c){return this.clone().idivn(c)},d.prototype.egcd=function(c){h(c.negative===0),h(!c.isZero());var b=this,j=c.clone();b.negative!==0?b=b.umod(c):b=b.clone();for(var Z=new d(1),re=new d(0),ae=new d(0),se=new d(1),ee=0;b.isEven()&&j.isEven();)b.iushrn(1),j.iushrn(1),++ee;for(var _=j.clone(),te=b.clone();!b.isZero();){for(var ue=0,ve=1;!(b.words[0]&ve)&&ue<26;++ue,ve<<=1);if(ue>0)for(b.iushrn(ue);ue-- >0;)(Z.isOdd()||re.isOdd())&&(Z.iadd(_),re.isub(te)),Z.iushrn(1),re.iushrn(1);for(var be=0,Me=1;!(j.words[0]&Me)&&be<26;++be,Me<<=1);if(be>0)for(j.iushrn(be);be-- >0;)(ae.isOdd()||se.isOdd())&&(ae.iadd(_),se.isub(te)),ae.iushrn(1),se.iushrn(1);b.cmp(j)>=0?(b.isub(j),Z.isub(ae),re.isub(se)):(j.isub(b),ae.isub(Z),se.isub(re))}return{a:ae,b:se,gcd:j.iushln(ee)}},d.prototype._invmp=function(c){h(c.negative===0),h(!c.isZero());var b=this,j=c.clone();b.negative!==0?b=b.umod(c):b=b.clone();for(var Z=new d(1),re=new d(0),ae=j.clone();b.cmpn(1)>0&&j.cmpn(1)>0;){for(var se=0,ee=1;!(b.words[0]&ee)&&se<26;++se,ee<<=1);if(se>0)for(b.iushrn(se);se-- >0;)Z.isOdd()&&Z.iadd(ae),Z.iushrn(1);for(var _=0,te=1;!(j.words[0]&te)&&_<26;++_,te<<=1);if(_>0)for(j.iushrn(_);_-- >0;)re.isOdd()&&re.iadd(ae),re.iushrn(1);b.cmp(j)>=0?(b.isub(j),Z.isub(re)):(j.isub(b),re.isub(Z))}var ue;return b.cmpn(1)===0?ue=Z:ue=re,ue.cmpn(0)<0&&ue.iadd(c),ue},d.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var b=this.clone(),j=c.clone();b.negative=0,j.negative=0;for(var Z=0;b.isEven()&&j.isEven();Z++)b.iushrn(1),j.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;j.isEven();)j.iushrn(1);var re=b.cmp(j);if(re<0){var ae=b;b=j,j=ae}else if(re===0||j.cmpn(1)===0)break;b.isub(j)}while(!0);return j.iushln(Z)},d.prototype.invm=function(c){return this.egcd(c).a.umod(c)},d.prototype.isEven=function(){return(this.words[0]&1)===0},d.prototype.isOdd=function(){return(this.words[0]&1)===1},d.prototype.andln=function(c){return this.words[0]&c},d.prototype.bincn=function(c){h(typeof c=="number");var b=c%26,j=(c-b)/26,Z=1<<b;if(this.length<=j)return this._expand(j+1),this.words[j]|=Z,this;for(var re=Z,ae=j;re!==0&&ae<this.length;ae++){var se=this.words[ae]|0;se+=re,re=se>>>26,se&=67108863,this.words[ae]=se}return re!==0&&(this.words[ae]=re,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(c){var b=c<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this.strip();var j;if(this.length>1)j=1;else{b&&(c=-c),h(c<=67108863,"Number is too big");var Z=this.words[0]|0;j=Z===c?0:Z<c?-1:1}return this.negative!==0?-j|0:j},d.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var b=this.ucmp(c);return this.negative!==0?-b|0:b},d.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var b=0,j=this.length-1;j>=0;j--){var Z=this.words[j]|0,re=c.words[j]|0;if(Z!==re){Z<re?b=-1:Z>re&&(b=1);break}}return b},d.prototype.gtn=function(c){return this.cmpn(c)===1},d.prototype.gt=function(c){return this.cmp(c)===1},d.prototype.gten=function(c){return this.cmpn(c)>=0},d.prototype.gte=function(c){return this.cmp(c)>=0},d.prototype.ltn=function(c){return this.cmpn(c)===-1},d.prototype.lt=function(c){return this.cmp(c)===-1},d.prototype.lten=function(c){return this.cmpn(c)<=0},d.prototype.lte=function(c){return this.cmp(c)<=0},d.prototype.eqn=function(c){return this.cmpn(c)===0},d.prototype.eq=function(c){return this.cmp(c)===0},d.red=function(c){return new Ce(c)},d.prototype.toRed=function(c){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},d.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(c){return this.red=c,this},d.prototype.forceRed=function(c){return h(!this.red,"Already a number in reduction context"),this._forceRed(c)},d.prototype.redAdd=function(c){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},d.prototype.redIAdd=function(c){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},d.prototype.redSub=function(c){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},d.prototype.redISub=function(c){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},d.prototype.redShl=function(c){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},d.prototype.redMul=function(c){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},d.prototype.redIMul=function(c){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},d.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(c){return h(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var pe={k256:null,p224:null,p192:null,p25519:null};function me(oe,c){this.name=oe,this.p=new d(c,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}me.prototype._tmp=function(){var c=new d(null);return c.words=new Array(Math.ceil(this.n/13)),c},me.prototype.ireduce=function(c){var b=c,j;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),j=b.bitLength();while(j>this.n);var Z=j<this.n?-1:b.ucmp(this.p);return Z===0?(b.words[0]=0,b.length=1):Z>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},me.prototype.split=function(c,b){c.iushrn(this.n,0,b)},me.prototype.imulK=function(c){return c.imul(this.k)};function Te(){me.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$(Te,me),Te.prototype.split=function(c,b){for(var j=4194303,Z=Math.min(c.length,9),re=0;re<Z;re++)b.words[re]=c.words[re];if(b.length=Z,c.length<=9){c.words[0]=0,c.length=1;return}var ae=c.words[9];for(b.words[b.length++]=ae&j,re=10;re<c.length;re++){var se=c.words[re]|0;c.words[re-10]=(se&j)<<4|ae>>>22,ae=se}ae>>>=22,c.words[re-10]=ae,ae===0&&c.length>10?c.length-=10:c.length-=9},Te.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var b=0,j=0;j<c.length;j++){var Z=c.words[j]|0;b+=Z*977,c.words[j]=b&67108863,b=Z*64+(b/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function Pe(){me.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$(Pe,me);function Le(){me.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$(Le,me);function qe(){me.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$(qe,me),qe.prototype.imulK=function(c){for(var b=0,j=0;j<c.length;j++){var Z=(c.words[j]|0)*19+b,re=Z&67108863;Z>>>=26,c.words[j]=re,b=Z}return b!==0&&(c.words[c.length++]=b),c},d._prime=function(c){if(pe[c])return pe[c];var b;if(c==="k256")b=new Te;else if(c==="p224")b=new Pe;else if(c==="p192")b=new Le;else if(c==="p25519")b=new qe;else throw new Error("Unknown prime "+c);return pe[c]=b,b};function Ce(oe){if(typeof oe=="string"){var c=d._prime(oe);this.m=c.p,this.prime=c}else h(oe.gtn(1),"modulus must be greater than 1"),this.m=oe,this.prime=null}Ce.prototype._verify1=function(c){h(c.negative===0,"red works only with positives"),h(c.red,"red works only with red numbers")},Ce.prototype._verify2=function(c,b){h((c.negative|b.negative)===0,"red works only with positives"),h(c.red&&c.red===b.red,"red works only with red numbers")},Ce.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},Ce.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},Ce.prototype.add=function(c,b){this._verify2(c,b);var j=c.add(b);return j.cmp(this.m)>=0&&j.isub(this.m),j._forceRed(this)},Ce.prototype.iadd=function(c,b){this._verify2(c,b);var j=c.iadd(b);return j.cmp(this.m)>=0&&j.isub(this.m),j},Ce.prototype.sub=function(c,b){this._verify2(c,b);var j=c.sub(b);return j.cmpn(0)<0&&j.iadd(this.m),j._forceRed(this)},Ce.prototype.isub=function(c,b){this._verify2(c,b);var j=c.isub(b);return j.cmpn(0)<0&&j.iadd(this.m),j},Ce.prototype.shl=function(c,b){return this._verify1(c),this.imod(c.ushln(b))},Ce.prototype.imul=function(c,b){return this._verify2(c,b),this.imod(c.imul(b))},Ce.prototype.mul=function(c,b){return this._verify2(c,b),this.imod(c.mul(b))},Ce.prototype.isqr=function(c){return this.imul(c,c.clone())},Ce.prototype.sqr=function(c){return this.mul(c,c)},Ce.prototype.sqrt=function(c){if(c.isZero())return c.clone();var b=this.m.andln(3);if(h(b%2===1),b===3){var j=this.m.add(new d(1)).iushrn(2);return this.pow(c,j)}for(var Z=this.m.subn(1),re=0;!Z.isZero()&&Z.andln(1)===0;)re++,Z.iushrn(1);h(!Z.isZero());var ae=new d(1).toRed(this),se=ae.redNeg(),ee=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new d(2*_*_).toRed(this);this.pow(_,ee).cmp(se)!==0;)_.redIAdd(se);for(var te=this.pow(_,Z),ue=this.pow(c,Z.addn(1).iushrn(1)),ve=this.pow(c,Z),be=re;ve.cmp(ae)!==0;){for(var Me=ve,Se=0;Me.cmp(ae)!==0;Se++)Me=Me.redSqr();h(Se<be);var _e=this.pow(te,new d(1).iushln(be-Se-1));ue=ue.redMul(_e),te=_e.redSqr(),ve=ve.redMul(te),be=Se}return ue},Ce.prototype.invm=function(c){var b=c._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},Ce.prototype.pow=function(c,b){if(b.isZero())return new d(1).toRed(this);if(b.cmpn(1)===0)return c.clone();var j=4,Z=new Array(1<<j);Z[0]=new d(1).toRed(this),Z[1]=c;for(var re=2;re<Z.length;re++)Z[re]=this.mul(Z[re-1],c);var ae=Z[0],se=0,ee=0,_=b.bitLength()%26;for(_===0&&(_=26),re=b.length-1;re>=0;re--){for(var te=b.words[re],ue=_-1;ue>=0;ue--){var ve=te>>ue&1;if(ae!==Z[0]&&(ae=this.sqr(ae)),ve===0&&se===0){ee=0;continue}se<<=1,se|=ve,ee++,!(ee!==j&&(re!==0||ue!==0))&&(ae=this.mul(ae,Z[se]),ee=0,se=0)}_=26}return ae},Ce.prototype.convertTo=function(c){var b=c.umod(this.m);return b===c?b.clone():b},Ce.prototype.convertFrom=function(c){var b=c.clone();return b.red=null,b},d.mont=function(c){return new ze(c)};function ze(oe){Ce.call(this,oe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$(ze,Ce),ze.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},ze.prototype.convertFrom=function(c){var b=this.imod(c.mul(this.rinv));return b.red=null,b},ze.prototype.imul=function(c,b){if(c.isZero()||b.isZero())return c.words[0]=0,c.length=1,c;var j=c.imul(b),Z=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=j.isub(Z).iushrn(this.shift),ae=re;return re.cmp(this.m)>=0?ae=re.isub(this.m):re.cmpn(0)<0&&(ae=re.iadd(this.m)),ae._forceRed(this)},ze.prototype.mul=function(c,b){if(c.isZero()||b.isZero())return new d(0)._forceRed(this);var j=c.mul(b),Z=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=j.isub(Z).iushrn(this.shift),ae=re;return re.cmp(this.m)>=0?ae=re.isub(this.m):re.cmpn(0)<0&&(ae=re.iadd(this.m)),ae._forceRed(this)},ze.prototype.invm=function(c){var b=this.imod(c._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(a,commonjsGlobal)})(bn$3);var bnExports$3=bn$3.exports,utils$o={};(function(a){var e=a;function o(d,Y){if(Array.isArray(d))return d.slice();if(!d)return[];var ie=[];if(typeof d!="string"){for(var fe=0;fe<d.length;fe++)ie[fe]=d[fe]|0;return ie}if(Y==="hex"){d=d.replace(/[^a-z0-9]+/ig,""),d.length%2!==0&&(d="0"+d);for(var fe=0;fe<d.length;fe+=2)ie.push(parseInt(d[fe]+d[fe+1],16))}else for(var fe=0;fe<d.length;fe++){var he=d.charCodeAt(fe),ne=he>>8,le=he&255;ne?ie.push(ne,le):ie.push(le)}return ie}e.toArray=o;function h(d){return d.length===1?"0"+d:d}e.zero2=h;function $(d){for(var Y="",ie=0;ie<d.length;ie++)Y+=h(d[ie].toString(16));return Y}e.toHex=$,e.encode=function(Y,ie){return ie==="hex"?$(Y):Y}})(utils$o);(function(a){var e=a,o=bnExports$3,h=minimalisticAssert,$=utils$o;e.assert=h,e.toArray=$.toArray,e.zero2=$.zero2,e.toHex=$.toHex,e.encode=$.encode;function d(ne,le,de){var ce=new Array(Math.max(ne.bitLength(),de)+1),ge;for(ge=0;ge<ce.length;ge+=1)ce[ge]=0;var xe=1<<le+1,Ae=ne.clone();for(ge=0;ge<ce.length;ge++){var Ee,we=Ae.andln(xe-1);Ae.isOdd()?(we>(xe>>1)-1?Ee=(xe>>1)-we:Ee=we,Ae.isubn(Ee)):Ee=0,ce[ge]=Ee,Ae.iushrn(1)}return ce}e.getNAF=d;function Y(ne,le){var de=[[],[]];ne=ne.clone(),le=le.clone();for(var ce=0,ge=0,xe;ne.cmpn(-ce)>0||le.cmpn(-ge)>0;){var Ae=ne.andln(3)+ce&3,Ee=le.andln(3)+ge&3;Ae===3&&(Ae=-1),Ee===3&&(Ee=-1);var we;Ae&1?(xe=ne.andln(7)+ce&7,(xe===3||xe===5)&&Ee===2?we=-Ae:we=Ae):we=0,de[0].push(we);var pe;Ee&1?(xe=le.andln(7)+ge&7,(xe===3||xe===5)&&Ae===2?pe=-Ee:pe=Ee):pe=0,de[1].push(pe),2*ce===we+1&&(ce=1-ce),2*ge===pe+1&&(ge=1-ge),ne.iushrn(1),le.iushrn(1)}return de}e.getJSF=Y;function ie(ne,le,de){var ce="_"+le;ne.prototype[le]=function(){return this[ce]!==void 0?this[ce]:this[ce]=de.call(this)}}e.cachedProperty=ie;function fe(ne){return typeof ne=="string"?e.toArray(ne,"hex"):ne}e.parseBytes=fe;function he(ne){return new o(ne,"hex","le")}e.intFromLE=he})(utils$p);var curve={},BN$9=bnExports$3,utils$n=utils$p,getNAF=utils$n.getNAF,getJSF=utils$n.getJSF,assert$e=utils$n.assert;function BaseCurve(a,e){this.type=a,this.p=new BN$9(e.p,16),this.red=e.prime?BN$9.red(e.prime):BN$9.mont(this.p),this.zero=new BN$9(0).toRed(this.red),this.one=new BN$9(1).toRed(this.red),this.two=new BN$9(2).toRed(this.red),this.n=e.n&&new BN$9(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var o=this.n&&this.p.div(this.n);!o||o.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$1=BaseCurve;BaseCurve.prototype.point=function(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function(e,o){assert$e(e.precomputed);var h=e._getDoubles(),$=getNAF(o,1,this._bitLength),d=(1<<h.step+1)-(h.step%2===0?2:1);d/=3;var Y=[],ie,fe;for(ie=0;ie<$.length;ie+=h.step){fe=0;for(var he=ie+h.step-1;he>=ie;he--)fe=(fe<<1)+$[he];Y.push(fe)}for(var ne=this.jpoint(null,null,null),le=this.jpoint(null,null,null),de=d;de>0;de--){for(ie=0;ie<Y.length;ie++)fe=Y[ie],fe===de?le=le.mixedAdd(h.points[ie]):fe===-de&&(le=le.mixedAdd(h.points[ie].neg()));ne=ne.add(le)}return ne.toP()};BaseCurve.prototype._wnafMul=function(e,o){var h=4,$=e._getNAFPoints(h);h=$.wnd;for(var d=$.points,Y=getNAF(o,h,this._bitLength),ie=this.jpoint(null,null,null),fe=Y.length-1;fe>=0;fe--){for(var he=0;fe>=0&&Y[fe]===0;fe--)he++;if(fe>=0&&he++,ie=ie.dblp(he),fe<0)break;var ne=Y[fe];assert$e(ne!==0),e.type==="affine"?ne>0?ie=ie.mixedAdd(d[ne-1>>1]):ie=ie.mixedAdd(d[-ne-1>>1].neg()):ne>0?ie=ie.add(d[ne-1>>1]):ie=ie.add(d[-ne-1>>1].neg())}return e.type==="affine"?ie.toP():ie};BaseCurve.prototype._wnafMulAdd=function(e,o,h,$,d){var Y=this._wnafT1,ie=this._wnafT2,fe=this._wnafT3,he=0,ne,le,de;for(ne=0;ne<$;ne++){de=o[ne];var ce=de._getNAFPoints(e);Y[ne]=ce.wnd,ie[ne]=ce.points}for(ne=$-1;ne>=1;ne-=2){var ge=ne-1,xe=ne;if(Y[ge]!==1||Y[xe]!==1){fe[ge]=getNAF(h[ge],Y[ge],this._bitLength),fe[xe]=getNAF(h[xe],Y[xe],this._bitLength),he=Math.max(fe[ge].length,he),he=Math.max(fe[xe].length,he);continue}var Ae=[o[ge],null,null,o[xe]];o[ge].y.cmp(o[xe].y)===0?(Ae[1]=o[ge].add(o[xe]),Ae[2]=o[ge].toJ().mixedAdd(o[xe].neg())):o[ge].y.cmp(o[xe].y.redNeg())===0?(Ae[1]=o[ge].toJ().mixedAdd(o[xe]),Ae[2]=o[ge].add(o[xe].neg())):(Ae[1]=o[ge].toJ().mixedAdd(o[xe]),Ae[2]=o[ge].toJ().mixedAdd(o[xe].neg()));var Ee=[-3,-1,-5,-7,0,7,5,1,3],we=getJSF(h[ge],h[xe]);for(he=Math.max(we[0].length,he),fe[ge]=new Array(he),fe[xe]=new Array(he),le=0;le<he;le++){var pe=we[0][le]|0,me=we[1][le]|0;fe[ge][le]=Ee[(pe+1)*3+(me+1)],fe[xe][le]=0,ie[ge]=Ae}}var Te=this.jpoint(null,null,null),Pe=this._wnafT4;for(ne=he;ne>=0;ne--){for(var Le=0;ne>=0;){var qe=!0;for(le=0;le<$;le++)Pe[le]=fe[le][ne]|0,Pe[le]!==0&&(qe=!1);if(!qe)break;Le++,ne--}if(ne>=0&&Le++,Te=Te.dblp(Le),ne<0)break;for(le=0;le<$;le++){var Ce=Pe[le];Ce!==0&&(Ce>0?de=ie[le][Ce-1>>1]:Ce<0&&(de=ie[le][-Ce-1>>1].neg()),de.type==="affine"?Te=Te.mixedAdd(de):Te=Te.add(de))}}for(ne=0;ne<$;ne++)ie[ne]=null;return d?Te:Te.toP()};function BasePoint(a,e){this.curve=a,this.type=e,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function(){throw new Error("Not implemented")};BasePoint.prototype.validate=function(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function(e,o){e=utils$n.toArray(e,o);var h=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*h){e[0]===6?assert$e(e[e.length-1]%2===0):e[0]===7&&assert$e(e[e.length-1]%2===1);var $=this.point(e.slice(1,1+h),e.slice(1+h,1+2*h));return $}else if((e[0]===2||e[0]===3)&&e.length-1===h)return this.pointFromX(e.slice(1,1+h),e[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function(e){return this.encode(e,!0)};BasePoint.prototype._encode=function(e){var o=this.curve.p.byteLength(),h=this.getX().toArray("be",o);return e?[this.getY().isEven()?2:3].concat(h):[4].concat(h,this.getY().toArray("be",o))};BasePoint.prototype.encode=function(e,o){return utils$n.encode(this._encode(o),e)};BasePoint.prototype.precompute=function(e){if(this.precomputed)return this;var o={doubles:null,naf:null,beta:null};return o.naf=this._getNAFPoints(8),o.doubles=this._getDoubles(4,e),o.beta=this._getBeta(),this.precomputed=o,this};BasePoint.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var o=this.precomputed.doubles;return o?o.points.length>=Math.ceil((e.bitLength()+1)/o.step):!1};BasePoint.prototype._getDoubles=function(e,o){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var h=[this],$=this,d=0;d<o;d+=e){for(var Y=0;Y<e;Y++)$=$.dbl();h.push($)}return{step:e,points:h}};BasePoint.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var o=[this],h=(1<<e)-1,$=h===1?null:this.dbl(),d=1;d<h;d++)o[d]=o[d-1].add($);return{wnd:e,points:o}};BasePoint.prototype._getBeta=function(){return null};BasePoint.prototype.dblp=function(e){for(var o=this,h=0;h<e;h++)o=o.dbl();return o};var utils$m=utils$p,BN$8=bnExports$3,inherits$4=inherits_browserExports,Base$2=base$1,assert$d=utils$m.assert;function ShortCurve(a){Base$2.call(this,"short",a),this.a=new BN$8(a.a,16).toRed(this.red),this.b=new BN$8(a.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(a),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$4(ShortCurve,Base$2);var short=ShortCurve;ShortCurve.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var o,h;if(e.beta)o=new BN$8(e.beta,16).toRed(this.red);else{var $=this._getEndoRoots(this.p);o=$[0].cmp($[1])<0?$[0]:$[1],o=o.toRed(this.red)}if(e.lambda)h=new BN$8(e.lambda,16);else{var d=this._getEndoRoots(this.n);this.g.mul(d[0]).x.cmp(this.g.x.redMul(o))===0?h=d[0]:(h=d[1],assert$d(this.g.mul(h).x.cmp(this.g.x.redMul(o))===0))}var Y;return e.basis?Y=e.basis.map(function(ie){return{a:new BN$8(ie.a,16),b:new BN$8(ie.b,16)}}):Y=this._getEndoBasis(h),{beta:o,lambda:h,basis:Y}}};ShortCurve.prototype._getEndoRoots=function(e){var o=e===this.p?this.red:BN$8.mont(e),h=new BN$8(2).toRed(o).redInvm(),$=h.redNeg(),d=new BN$8(3).toRed(o).redNeg().redSqrt().redMul(h),Y=$.redAdd(d).fromRed(),ie=$.redSub(d).fromRed();return[Y,ie]};ShortCurve.prototype._getEndoBasis=function(e){for(var o=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,$=this.n.clone(),d=new BN$8(1),Y=new BN$8(0),ie=new BN$8(0),fe=new BN$8(1),he,ne,le,de,ce,ge,xe,Ae=0,Ee,we;h.cmpn(0)!==0;){var pe=$.div(h);Ee=$.sub(pe.mul(h)),we=ie.sub(pe.mul(d));var me=fe.sub(pe.mul(Y));if(!le&&Ee.cmp(o)<0)he=xe.neg(),ne=d,le=Ee.neg(),de=we;else if(le&&++Ae===2)break;xe=Ee,$=h,h=Ee,ie=d,d=we,fe=Y,Y=me}ce=Ee.neg(),ge=we;var Te=le.sqr().add(de.sqr()),Pe=ce.sqr().add(ge.sqr());return Pe.cmp(Te)>=0&&(ce=he,ge=ne),le.negative&&(le=le.neg(),de=de.neg()),ce.negative&&(ce=ce.neg(),ge=ge.neg()),[{a:le,b:de},{a:ce,b:ge}]};ShortCurve.prototype._endoSplit=function(e){var o=this.endo.basis,h=o[0],$=o[1],d=$.b.mul(e).divRound(this.n),Y=h.b.neg().mul(e).divRound(this.n),ie=d.mul(h.a),fe=Y.mul($.a),he=d.mul(h.b),ne=Y.mul($.b),le=e.sub(ie).sub(fe),de=he.add(ne).neg();return{k1:le,k2:de}};ShortCurve.prototype.pointFromX=function(e,o){e=new BN$8(e,16),e.red||(e=e.toRed(this.red));var h=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),$=h.redSqrt();if($.redSqr().redSub(h).cmp(this.zero)!==0)throw new Error("invalid point");var d=$.fromRed().isOdd();return(o&&!d||!o&&d)&&($=$.redNeg()),this.point(e,$)};ShortCurve.prototype.validate=function(e){if(e.inf)return!0;var o=e.x,h=e.y,$=this.a.redMul(o),d=o.redSqr().redMul(o).redIAdd($).redIAdd(this.b);return h.redSqr().redISub(d).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function(e,o,h){for(var $=this._endoWnafT1,d=this._endoWnafT2,Y=0;Y<e.length;Y++){var ie=this._endoSplit(o[Y]),fe=e[Y],he=fe._getBeta();ie.k1.negative&&(ie.k1.ineg(),fe=fe.neg(!0)),ie.k2.negative&&(ie.k2.ineg(),he=he.neg(!0)),$[Y*2]=fe,$[Y*2+1]=he,d[Y*2]=ie.k1,d[Y*2+1]=ie.k2}for(var ne=this._wnafMulAdd(1,$,d,Y*2,h),le=0;le<Y*2;le++)$[le]=null,d[le]=null;return ne};function Point$2(a,e,o,h){Base$2.BasePoint.call(this,a,"affine"),e===null&&o===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$8(e,16),this.y=new BN$8(o,16),h&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits$4(Point$2,Base$2.BasePoint);ShortCurve.prototype.point=function(e,o,h){return new Point$2(this,e,o,h)};ShortCurve.prototype.pointFromJSON=function(e,o){return Point$2.fromJSON(this,e,o)};Point$2.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var o=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var h=this.curve,$=function(d){return h.point(d.x.redMul(h.endo.beta),d.y)};e.beta=o,o.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map($)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map($)}}}return o}};Point$2.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$2.fromJSON=function(e,o,h){typeof o=="string"&&(o=JSON.parse(o));var $=e.point(o[0],o[1],h);if(!o[2])return $;function d(ie){return e.point(ie[0],ie[1],h)}var Y=o[2];return $.precomputed={beta:null,doubles:Y.doubles&&{step:Y.doubles.step,points:[$].concat(Y.doubles.points.map(d))},naf:Y.naf&&{wnd:Y.naf.wnd,points:[$].concat(Y.naf.points.map(d))}},$};Point$2.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$2.prototype.isInfinity=function(){return this.inf};Point$2.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var o=this.y.redSub(e.y);o.cmpn(0)!==0&&(o=o.redMul(this.x.redSub(e.x).redInvm()));var h=o.redSqr().redISub(this.x).redISub(e.x),$=o.redMul(this.x.redSub(h)).redISub(this.y);return this.curve.point(h,$)};Point$2.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var o=this.curve.a,h=this.x.redSqr(),$=e.redInvm(),d=h.redAdd(h).redIAdd(h).redIAdd(o).redMul($),Y=d.redSqr().redISub(this.x.redAdd(this.x)),ie=d.redMul(this.x.redSub(Y)).redISub(this.y);return this.curve.point(Y,ie)};Point$2.prototype.getX=function(){return this.x.fromRed()};Point$2.prototype.getY=function(){return this.y.fromRed()};Point$2.prototype.mul=function(e){return e=new BN$8(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Point$2.prototype.mulAdd=function(e,o,h){var $=[this,o],d=[e,h];return this.curve.endo?this.curve._endoWnafMulAdd($,d):this.curve._wnafMulAdd(1,$,d,2)};Point$2.prototype.jmulAdd=function(e,o,h){var $=[this,o],d=[e,h];return this.curve.endo?this.curve._endoWnafMulAdd($,d,!0):this.curve._wnafMulAdd(1,$,d,2,!0)};Point$2.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Point$2.prototype.neg=function(e){if(this.inf)return this;var o=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var h=this.precomputed,$=function(d){return d.neg()};o.precomputed={naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map($)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map($)}}}return o};Point$2.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function JPoint(a,e,o,h){Base$2.BasePoint.call(this,a,"jacobian"),e===null&&o===null&&h===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$8(0)):(this.x=new BN$8(e,16),this.y=new BN$8(o,16),this.z=new BN$8(h,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits$4(JPoint,Base$2.BasePoint);ShortCurve.prototype.jpoint=function(e,o,h){return new JPoint(this,e,o,h)};JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),o=e.redSqr(),h=this.x.redMul(o),$=this.y.redMul(o).redMul(e);return this.curve.point(h,$)};JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var o=e.z.redSqr(),h=this.z.redSqr(),$=this.x.redMul(o),d=e.x.redMul(h),Y=this.y.redMul(o.redMul(e.z)),ie=e.y.redMul(h.redMul(this.z)),fe=$.redSub(d),he=Y.redSub(ie);if(fe.cmpn(0)===0)return he.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ne=fe.redSqr(),le=ne.redMul(fe),de=$.redMul(ne),ce=he.redSqr().redIAdd(le).redISub(de).redISub(de),ge=he.redMul(de.redISub(ce)).redISub(Y.redMul(le)),xe=this.z.redMul(e.z).redMul(fe);return this.curve.jpoint(ce,ge,xe)};JPoint.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var o=this.z.redSqr(),h=this.x,$=e.x.redMul(o),d=this.y,Y=e.y.redMul(o).redMul(this.z),ie=h.redSub($),fe=d.redSub(Y);if(ie.cmpn(0)===0)return fe.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var he=ie.redSqr(),ne=he.redMul(ie),le=h.redMul(he),de=fe.redSqr().redIAdd(ne).redISub(le).redISub(le),ce=fe.redMul(le.redISub(de)).redISub(d.redMul(ne)),ge=this.z.redMul(ie);return this.curve.jpoint(de,ce,ge)};JPoint.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var o;if(this.curve.zeroA||this.curve.threeA){var h=this;for(o=0;o<e;o++)h=h.dbl();return h}var $=this.curve.a,d=this.curve.tinv,Y=this.x,ie=this.y,fe=this.z,he=fe.redSqr().redSqr(),ne=ie.redAdd(ie);for(o=0;o<e;o++){var le=Y.redSqr(),de=ne.redSqr(),ce=de.redSqr(),ge=le.redAdd(le).redIAdd(le).redIAdd($.redMul(he)),xe=Y.redMul(de),Ae=ge.redSqr().redISub(xe.redAdd(xe)),Ee=xe.redISub(Ae),we=ge.redMul(Ee);we=we.redIAdd(we).redISub(ce);var pe=ne.redMul(fe);o+1<e&&(he=he.redMul(ce)),Y=Ae,fe=pe,ne=we}return this.curve.jpoint(Y,ne.redMul(d),fe)};JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function(){var e,o,h;if(this.zOne){var $=this.x.redSqr(),d=this.y.redSqr(),Y=d.redSqr(),ie=this.x.redAdd(d).redSqr().redISub($).redISub(Y);ie=ie.redIAdd(ie);var fe=$.redAdd($).redIAdd($),he=fe.redSqr().redISub(ie).redISub(ie),ne=Y.redIAdd(Y);ne=ne.redIAdd(ne),ne=ne.redIAdd(ne),e=he,o=fe.redMul(ie.redISub(he)).redISub(ne),h=this.y.redAdd(this.y)}else{var le=this.x.redSqr(),de=this.y.redSqr(),ce=de.redSqr(),ge=this.x.redAdd(de).redSqr().redISub(le).redISub(ce);ge=ge.redIAdd(ge);var xe=le.redAdd(le).redIAdd(le),Ae=xe.redSqr(),Ee=ce.redIAdd(ce);Ee=Ee.redIAdd(Ee),Ee=Ee.redIAdd(Ee),e=Ae.redISub(ge).redISub(ge),o=xe.redMul(ge.redISub(e)).redISub(Ee),h=this.y.redMul(this.z),h=h.redIAdd(h)}return this.curve.jpoint(e,o,h)};JPoint.prototype._threeDbl=function(){var e,o,h;if(this.zOne){var $=this.x.redSqr(),d=this.y.redSqr(),Y=d.redSqr(),ie=this.x.redAdd(d).redSqr().redISub($).redISub(Y);ie=ie.redIAdd(ie);var fe=$.redAdd($).redIAdd($).redIAdd(this.curve.a),he=fe.redSqr().redISub(ie).redISub(ie);e=he;var ne=Y.redIAdd(Y);ne=ne.redIAdd(ne),ne=ne.redIAdd(ne),o=fe.redMul(ie.redISub(he)).redISub(ne),h=this.y.redAdd(this.y)}else{var le=this.z.redSqr(),de=this.y.redSqr(),ce=this.x.redMul(de),ge=this.x.redSub(le).redMul(this.x.redAdd(le));ge=ge.redAdd(ge).redIAdd(ge);var xe=ce.redIAdd(ce);xe=xe.redIAdd(xe);var Ae=xe.redAdd(xe);e=ge.redSqr().redISub(Ae),h=this.y.redAdd(this.z).redSqr().redISub(de).redISub(le);var Ee=de.redSqr();Ee=Ee.redIAdd(Ee),Ee=Ee.redIAdd(Ee),Ee=Ee.redIAdd(Ee),o=ge.redMul(xe.redISub(e)).redISub(Ee)}return this.curve.jpoint(e,o,h)};JPoint.prototype._dbl=function(){var e=this.curve.a,o=this.x,h=this.y,$=this.z,d=$.redSqr().redSqr(),Y=o.redSqr(),ie=h.redSqr(),fe=Y.redAdd(Y).redIAdd(Y).redIAdd(e.redMul(d)),he=o.redAdd(o);he=he.redIAdd(he);var ne=he.redMul(ie),le=fe.redSqr().redISub(ne.redAdd(ne)),de=ne.redISub(le),ce=ie.redSqr();ce=ce.redIAdd(ce),ce=ce.redIAdd(ce),ce=ce.redIAdd(ce);var ge=fe.redMul(de).redISub(ce),xe=h.redAdd(h).redMul($);return this.curve.jpoint(le,ge,xe)};JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),o=this.y.redSqr(),h=this.z.redSqr(),$=o.redSqr(),d=e.redAdd(e).redIAdd(e),Y=d.redSqr(),ie=this.x.redAdd(o).redSqr().redISub(e).redISub($);ie=ie.redIAdd(ie),ie=ie.redAdd(ie).redIAdd(ie),ie=ie.redISub(Y);var fe=ie.redSqr(),he=$.redIAdd($);he=he.redIAdd(he),he=he.redIAdd(he),he=he.redIAdd(he);var ne=d.redIAdd(ie).redSqr().redISub(Y).redISub(fe).redISub(he),le=o.redMul(ne);le=le.redIAdd(le),le=le.redIAdd(le);var de=this.x.redMul(fe).redISub(le);de=de.redIAdd(de),de=de.redIAdd(de);var ce=this.y.redMul(ne.redMul(he.redISub(ne)).redISub(ie.redMul(fe)));ce=ce.redIAdd(ce),ce=ce.redIAdd(ce),ce=ce.redIAdd(ce);var ge=this.z.redAdd(ie).redSqr().redISub(h).redISub(fe);return this.curve.jpoint(de,ce,ge)};JPoint.prototype.mul=function(e,o){return e=new BN$8(e,o),this.curve._wnafMul(this,e)};JPoint.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var o=this.z.redSqr(),h=e.z.redSqr();if(this.x.redMul(h).redISub(e.x.redMul(o)).cmpn(0)!==0)return!1;var $=o.redMul(this.z),d=h.redMul(e.z);return this.y.redMul(d).redISub(e.y.redMul($)).cmpn(0)===0};JPoint.prototype.eqXToP=function(e){var o=this.z.redSqr(),h=e.toRed(this.curve.red).redMul(o);if(this.x.cmp(h)===0)return!0;for(var $=e.clone(),d=this.curve.redN.redMul(o);;){if($.iadd(this.curve.n),$.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(d),this.x.cmp(h)===0)return!0}};JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var BN$7=bnExports$3,inherits$3=inherits_browserExports,Base$1=base$1,utils$l=utils$p;function MontCurve(a){Base$1.call(this,"mont",a),this.a=new BN$7(a.a,16).toRed(this.red),this.b=new BN$7(a.b,16).toRed(this.red),this.i4=new BN$7(4).toRed(this.red).redInvm(),this.two=new BN$7(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$3(MontCurve,Base$1);var mont=MontCurve;MontCurve.prototype.validate=function(e){var o=e.normalize().x,h=o.redSqr(),$=h.redMul(o).redAdd(h.redMul(this.a)).redAdd(o),d=$.redSqrt();return d.redSqr().cmp($)===0};function Point$1(a,e,o){Base$1.BasePoint.call(this,a,"projective"),e===null&&o===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$7(e,16),this.z=new BN$7(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits$3(Point$1,Base$1.BasePoint);MontCurve.prototype.decodePoint=function(e,o){return this.point(utils$l.toArray(e,o),1)};MontCurve.prototype.point=function(e,o){return new Point$1(this,e,o)};MontCurve.prototype.pointFromJSON=function(e){return Point$1.fromJSON(this,e)};Point$1.prototype.precompute=function(){};Point$1.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Point$1.fromJSON=function(e,o){return new Point$1(e,o[0],o[1]||e.one)};Point$1.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$1.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Point$1.prototype.dbl=function(){var e=this.x.redAdd(this.z),o=e.redSqr(),h=this.x.redSub(this.z),$=h.redSqr(),d=o.redSub($),Y=o.redMul($),ie=d.redMul($.redAdd(this.curve.a24.redMul(d)));return this.curve.point(Y,ie)};Point$1.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.diffAdd=function(e,o){var h=this.x.redAdd(this.z),$=this.x.redSub(this.z),d=e.x.redAdd(e.z),Y=e.x.redSub(e.z),ie=Y.redMul(h),fe=d.redMul($),he=o.z.redMul(ie.redAdd(fe).redSqr()),ne=o.x.redMul(ie.redISub(fe).redSqr());return this.curve.point(he,ne)};Point$1.prototype.mul=function(e){for(var o=e.clone(),h=this,$=this.curve.point(null,null),d=this,Y=[];o.cmpn(0)!==0;o.iushrn(1))Y.push(o.andln(1));for(var ie=Y.length-1;ie>=0;ie--)Y[ie]===0?(h=h.diffAdd($,d),$=$.dbl()):($=h.diffAdd($,d),h=h.dbl());return $};Point$1.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Point$1.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Point$1.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var utils$k=utils$p,BN$6=bnExports$3,inherits$2=inherits_browserExports,Base=base$1,assert$c=utils$k.assert;function EdwardsCurve(a){this.twisted=(a.a|0)!==1,this.mOneA=this.twisted&&(a.a|0)===-1,this.extended=this.mOneA,Base.call(this,"edwards",a),this.a=new BN$6(a.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$6(a.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$6(a.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$c(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(a.c|0)===1}inherits$2(EdwardsCurve,Base);var edwards=EdwardsCurve;EdwardsCurve.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};EdwardsCurve.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};EdwardsCurve.prototype.jpoint=function(e,o,h,$){return this.point(e,o,h,$)};EdwardsCurve.prototype.pointFromX=function(e,o){e=new BN$6(e,16),e.red||(e=e.toRed(this.red));var h=e.redSqr(),$=this.c2.redSub(this.a.redMul(h)),d=this.one.redSub(this.c2.redMul(this.d).redMul(h)),Y=$.redMul(d.redInvm()),ie=Y.redSqrt();if(ie.redSqr().redSub(Y).cmp(this.zero)!==0)throw new Error("invalid point");var fe=ie.fromRed().isOdd();return(o&&!fe||!o&&fe)&&(ie=ie.redNeg()),this.point(e,ie)};EdwardsCurve.prototype.pointFromY=function(e,o){e=new BN$6(e,16),e.red||(e=e.toRed(this.red));var h=e.redSqr(),$=h.redSub(this.c2),d=h.redMul(this.d).redMul(this.c2).redSub(this.a),Y=$.redMul(d.redInvm());if(Y.cmp(this.zero)===0){if(o)throw new Error("invalid point");return this.point(this.zero,e)}var ie=Y.redSqrt();if(ie.redSqr().redSub(Y).cmp(this.zero)!==0)throw new Error("invalid point");return ie.fromRed().isOdd()!==o&&(ie=ie.redNeg()),this.point(ie,e)};EdwardsCurve.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var o=e.x.redSqr(),h=e.y.redSqr(),$=o.redMul(this.a).redAdd(h),d=this.c2.redMul(this.one.redAdd(this.d.redMul(o).redMul(h)));return $.cmp(d)===0};function Point(a,e,o,h,$){Base.BasePoint.call(this,a,"projective"),e===null&&o===null&&h===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$6(e,16),this.y=new BN$6(o,16),this.z=h?new BN$6(h,16):this.curve.one,this.t=$&&new BN$6($,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits$2(Point,Base.BasePoint);EdwardsCurve.prototype.pointFromJSON=function(e){return Point.fromJSON(this,e)};EdwardsCurve.prototype.point=function(e,o,h,$){return new Point(this,e,o,h,$)};Point.fromJSON=function(e,o){return new Point(e,o[0],o[1],o[2])};Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point.prototype._extDbl=function(){var e=this.x.redSqr(),o=this.y.redSqr(),h=this.z.redSqr();h=h.redIAdd(h);var $=this.curve._mulA(e),d=this.x.redAdd(this.y).redSqr().redISub(e).redISub(o),Y=$.redAdd(o),ie=Y.redSub(h),fe=$.redSub(o),he=d.redMul(ie),ne=Y.redMul(fe),le=d.redMul(fe),de=ie.redMul(Y);return this.curve.point(he,ne,de,le)};Point.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),o=this.x.redSqr(),h=this.y.redSqr(),$,d,Y,ie,fe,he;if(this.curve.twisted){ie=this.curve._mulA(o);var ne=ie.redAdd(h);this.zOne?($=e.redSub(o).redSub(h).redMul(ne.redSub(this.curve.two)),d=ne.redMul(ie.redSub(h)),Y=ne.redSqr().redSub(ne).redSub(ne)):(fe=this.z.redSqr(),he=ne.redSub(fe).redISub(fe),$=e.redSub(o).redISub(h).redMul(he),d=ne.redMul(ie.redSub(h)),Y=ne.redMul(he))}else ie=o.redAdd(h),fe=this.curve._mulC(this.z).redSqr(),he=ie.redSub(fe).redSub(fe),$=this.curve._mulC(e.redISub(ie)).redMul(he),d=this.curve._mulC(ie).redMul(o.redISub(h)),Y=ie.redMul(he);return this.curve.point($,d,Y)};Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Point.prototype._extAdd=function(e){var o=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),h=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),$=this.t.redMul(this.curve.dd).redMul(e.t),d=this.z.redMul(e.z.redAdd(e.z)),Y=h.redSub(o),ie=d.redSub($),fe=d.redAdd($),he=h.redAdd(o),ne=Y.redMul(ie),le=fe.redMul(he),de=Y.redMul(he),ce=ie.redMul(fe);return this.curve.point(ne,le,ce,de)};Point.prototype._projAdd=function(e){var o=this.z.redMul(e.z),h=o.redSqr(),$=this.x.redMul(e.x),d=this.y.redMul(e.y),Y=this.curve.d.redMul($).redMul(d),ie=h.redSub(Y),fe=h.redAdd(Y),he=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub($).redISub(d),ne=o.redMul(ie).redMul(he),le,de;return this.curve.twisted?(le=o.redMul(fe).redMul(d.redSub(this.curve._mulA($))),de=ie.redMul(fe)):(le=o.redMul(fe).redMul(d.redSub($)),de=this.curve._mulC(ie).redMul(fe)),this.curve.point(ne,le,de)};Point.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Point.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Point.prototype.mulAdd=function(e,o,h){return this.curve._wnafMulAdd(1,[this,o],[e,h],2,!1)};Point.prototype.jmulAdd=function(e,o,h){return this.curve._wnafMulAdd(1,[this,o],[e,h],2,!0)};Point.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Point.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Point.prototype.eqXToP=function(e){var o=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(o)===0)return!0;for(var h=e.clone(),$=this.curve.redN.redMul(this.z);;){if(h.iadd(this.curve.n),h.cmp(this.curve.p)>=0)return!1;if(o.redIAdd($),this.x.cmp(o)===0)return!0}};Point.prototype.toP=Point.prototype.normalize;Point.prototype.mixedAdd=Point.prototype.add;(function(a){var e=a;e.base=base$1,e.short=short,e.mont=mont,e.edwards=edwards})(curve);var curves$1={},hash$2={},utils$j={},assert$b=minimalisticAssert,inherits$1=inherits_browserExports;utils$j.inherits=inherits$1;function isSurrogatePair(a,e){return(a.charCodeAt(e)&64512)!==55296||e<0||e+1>=a.length?!1:(a.charCodeAt(e+1)&64512)===56320}function toArray(a,e){if(Array.isArray(a))return a.slice();if(!a)return[];var o=[];if(typeof a=="string")if(e){if(e==="hex")for(a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a),$=0;$<a.length;$+=2)o.push(parseInt(a[$]+a[$+1],16))}else for(var h=0,$=0;$<a.length;$++){var d=a.charCodeAt($);d<128?o[h++]=d:d<2048?(o[h++]=d>>6|192,o[h++]=d&63|128):isSurrogatePair(a,$)?(d=65536+((d&1023)<<10)+(a.charCodeAt(++$)&1023),o[h++]=d>>18|240,o[h++]=d>>12&63|128,o[h++]=d>>6&63|128,o[h++]=d&63|128):(o[h++]=d>>12|224,o[h++]=d>>6&63|128,o[h++]=d&63|128)}else for($=0;$<a.length;$++)o[$]=a[$]|0;return o}utils$j.toArray=toArray;function toHex$1(a){for(var e="",o=0;o<a.length;o++)e+=zero2(a[o].toString(16));return e}utils$j.toHex=toHex$1;function htonl(a){var e=a>>>24|a>>>8&65280|a<<8&16711680|(a&255)<<24;return e>>>0}utils$j.htonl=htonl;function toHex32(a,e){for(var o="",h=0;h<a.length;h++){var $=a[h];e==="little"&&($=htonl($)),o+=zero8($.toString(16))}return o}utils$j.toHex32=toHex32;function zero2(a){return a.length===1?"0"+a:a}utils$j.zero2=zero2;function zero8(a){return a.length===7?"0"+a:a.length===6?"00"+a:a.length===5?"000"+a:a.length===4?"0000"+a:a.length===3?"00000"+a:a.length===2?"000000"+a:a.length===1?"0000000"+a:a}utils$j.zero8=zero8;function join32(a,e,o,h){var $=o-e;assert$b($%4===0);for(var d=new Array($/4),Y=0,ie=e;Y<d.length;Y++,ie+=4){var fe;h==="big"?fe=a[ie]<<24|a[ie+1]<<16|a[ie+2]<<8|a[ie+3]:fe=a[ie+3]<<24|a[ie+2]<<16|a[ie+1]<<8|a[ie],d[Y]=fe>>>0}return d}utils$j.join32=join32;function split32(a,e){for(var o=new Array(a.length*4),h=0,$=0;h<a.length;h++,$+=4){var d=a[h];e==="big"?(o[$]=d>>>24,o[$+1]=d>>>16&255,o[$+2]=d>>>8&255,o[$+3]=d&255):(o[$+3]=d>>>24,o[$+2]=d>>>16&255,o[$+1]=d>>>8&255,o[$]=d&255)}return o}utils$j.split32=split32;function rotr32$1(a,e){return a>>>e|a<<32-e}utils$j.rotr32=rotr32$1;function rotl32$2(a,e){return a<<e|a>>>32-e}utils$j.rotl32=rotl32$2;function sum32$3(a,e){return a+e>>>0}utils$j.sum32=sum32$3;function sum32_3$1(a,e,o){return a+e+o>>>0}utils$j.sum32_3=sum32_3$1;function sum32_4$2(a,e,o,h){return a+e+o+h>>>0}utils$j.sum32_4=sum32_4$2;function sum32_5$2(a,e,o,h,$){return a+e+o+h+$>>>0}utils$j.sum32_5=sum32_5$2;function sum64$1(a,e,o,h){var $=a[e],d=a[e+1],Y=h+d>>>0,ie=(Y<h?1:0)+o+$;a[e]=ie>>>0,a[e+1]=Y}utils$j.sum64=sum64$1;function sum64_hi$1(a,e,o,h){var $=e+h>>>0,d=($<e?1:0)+a+o;return d>>>0}utils$j.sum64_hi=sum64_hi$1;function sum64_lo$1(a,e,o,h){var $=e+h;return $>>>0}utils$j.sum64_lo=sum64_lo$1;function sum64_4_hi$1(a,e,o,h,$,d,Y,ie){var fe=0,he=e;he=he+h>>>0,fe+=he<e?1:0,he=he+d>>>0,fe+=he<d?1:0,he=he+ie>>>0,fe+=he<ie?1:0;var ne=a+o+$+Y+fe;return ne>>>0}utils$j.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(a,e,o,h,$,d,Y,ie){var fe=e+h+d+ie;return fe>>>0}utils$j.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(a,e,o,h,$,d,Y,ie,fe,he){var ne=0,le=e;le=le+h>>>0,ne+=le<e?1:0,le=le+d>>>0,ne+=le<d?1:0,le=le+ie>>>0,ne+=le<ie?1:0,le=le+he>>>0,ne+=le<he?1:0;var de=a+o+$+Y+fe+ne;return de>>>0}utils$j.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(a,e,o,h,$,d,Y,ie,fe,he){var ne=e+h+d+ie+he;return ne>>>0}utils$j.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(a,e,o){var h=e<<32-o|a>>>o;return h>>>0}utils$j.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(a,e,o){var h=a<<32-o|e>>>o;return h>>>0}utils$j.rotr64_lo=rotr64_lo$1;function shr64_hi$1(a,e,o){return a>>>o}utils$j.shr64_hi=shr64_hi$1;function shr64_lo$1(a,e,o){var h=a<<32-o|e>>>o;return h>>>0}utils$j.shr64_lo=shr64_lo$1;var common$6={},utils$i=utils$j,assert$a=minimalisticAssert;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$6.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function(e,o){if(e=utils$i.toArray(e,o),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var h=e.length%this._delta8;this.pending=e.slice(e.length-h,e.length),this.pending.length===0&&(this.pending=null),e=utils$i.join32(e,0,e.length-h,this.endian);for(var $=0;$<e.length;$+=this._delta32)this._update(e,$,$+this._delta32)}return this};BlockHash$4.prototype.digest=function(e){return this.update(this._pad()),assert$a(this.pending===null),this._digest(e)};BlockHash$4.prototype._pad=function(){var e=this.pendingTotal,o=this._delta8,h=o-(e+this.padLength)%o,$=new Array(h+this.padLength);$[0]=128;for(var d=1;d<h;d++)$[d]=0;if(e<<=3,this.endian==="big"){for(var Y=8;Y<this.padLength;Y++)$[d++]=0;$[d++]=0,$[d++]=0,$[d++]=0,$[d++]=0,$[d++]=e>>>24&255,$[d++]=e>>>16&255,$[d++]=e>>>8&255,$[d++]=e&255}else for($[d++]=e&255,$[d++]=e>>>8&255,$[d++]=e>>>16&255,$[d++]=e>>>24&255,$[d++]=0,$[d++]=0,$[d++]=0,$[d++]=0,Y=8;Y<this.padLength;Y++)$[d++]=0;return $};var sha={},common$5={},utils$h=utils$j,rotr32=utils$h.rotr32;function ft_1$1(a,e,o,h){if(a===0)return ch32$1(e,o,h);if(a===1||a===3)return p32(e,o,h);if(a===2)return maj32$1(e,o,h)}common$5.ft_1=ft_1$1;function ch32$1(a,e,o){return a&e^~a&o}common$5.ch32=ch32$1;function maj32$1(a,e,o){return a&e^a&o^e&o}common$5.maj32=maj32$1;function p32(a,e,o){return a^e^o}common$5.p32=p32;function s0_256$1(a){return rotr32(a,2)^rotr32(a,13)^rotr32(a,22)}common$5.s0_256=s0_256$1;function s1_256$1(a){return rotr32(a,6)^rotr32(a,11)^rotr32(a,25)}common$5.s1_256=s1_256$1;function g0_256$1(a){return rotr32(a,7)^rotr32(a,18)^a>>>3}common$5.g0_256=g0_256$1;function g1_256$1(a){return rotr32(a,17)^rotr32(a,19)^a>>>10}common$5.g1_256=g1_256$1;var utils$g=utils$j,common$4=common$6,shaCommon$1=common$5,rotl32$1=utils$g.rotl32,sum32$2=utils$g.sum32,sum32_5$1=utils$g.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$4.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$g.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function(e,o){for(var h=this.W,$=0;$<16;$++)h[$]=e[o+$];for(;$<h.length;$++)h[$]=rotl32$1(h[$-3]^h[$-8]^h[$-14]^h[$-16],1);var d=this.h[0],Y=this.h[1],ie=this.h[2],fe=this.h[3],he=this.h[4];for($=0;$<h.length;$++){var ne=~~($/20),le=sum32_5$1(rotl32$1(d,5),ft_1(ne,Y,ie,fe),he,h[$],sha1_K[ne]);he=fe,fe=ie,ie=rotl32$1(Y,30),Y=d,d=le}this.h[0]=sum32$2(this.h[0],d),this.h[1]=sum32$2(this.h[1],Y),this.h[2]=sum32$2(this.h[2],ie),this.h[3]=sum32$2(this.h[3],fe),this.h[4]=sum32$2(this.h[4],he)};SHA1.prototype._digest=function(e){return e==="hex"?utils$g.toHex32(this.h,"big"):utils$g.split32(this.h,"big")};var utils$f=utils$j,common$3=common$6,shaCommon=common$5,assert$9=minimalisticAssert,sum32$1=utils$f.sum32,sum32_4$1=utils$f.sum32_4,sum32_5=utils$f.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$3.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$f.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512;SHA256$1.outSize=256;SHA256$1.hmacStrength=192;SHA256$1.padLength=64;SHA256$1.prototype._update=function(e,o){for(var h=this.W,$=0;$<16;$++)h[$]=e[o+$];for(;$<h.length;$++)h[$]=sum32_4$1(g1_256(h[$-2]),h[$-7],g0_256(h[$-15]),h[$-16]);var d=this.h[0],Y=this.h[1],ie=this.h[2],fe=this.h[3],he=this.h[4],ne=this.h[5],le=this.h[6],de=this.h[7];for(assert$9(this.k.length===h.length),$=0;$<h.length;$++){var ce=sum32_5(de,s1_256(he),ch32(he,ne,le),this.k[$],h[$]),ge=sum32$1(s0_256(d),maj32(d,Y,ie));de=le,le=ne,ne=he,he=sum32$1(fe,ce),fe=ie,ie=Y,Y=d,d=sum32$1(ce,ge)}this.h[0]=sum32$1(this.h[0],d),this.h[1]=sum32$1(this.h[1],Y),this.h[2]=sum32$1(this.h[2],ie),this.h[3]=sum32$1(this.h[3],fe),this.h[4]=sum32$1(this.h[4],he),this.h[5]=sum32$1(this.h[5],ne),this.h[6]=sum32$1(this.h[6],le),this.h[7]=sum32$1(this.h[7],de)};SHA256$1.prototype._digest=function(e){return e==="hex"?utils$f.toHex32(this.h,"big"):utils$f.split32(this.h,"big")};var utils$e=utils$j,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$e.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function(e){return e==="hex"?utils$e.toHex32(this.h.slice(0,7),"big"):utils$e.split32(this.h.slice(0,7),"big")};var utils$d=utils$j,common$2=common$6,assert$8=minimalisticAssert,rotr64_hi=utils$d.rotr64_hi,rotr64_lo=utils$d.rotr64_lo,shr64_hi=utils$d.shr64_hi,shr64_lo=utils$d.shr64_lo,sum64=utils$d.sum64,sum64_hi=utils$d.sum64_hi,sum64_lo=utils$d.sum64_lo,sum64_4_hi=utils$d.sum64_4_hi,sum64_4_lo=utils$d.sum64_4_lo,sum64_5_hi=utils$d.sum64_5_hi,sum64_5_lo=utils$d.sum64_5_lo,BlockHash$1=common$2.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$d.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;SHA512$1.blockSize=1024;SHA512$1.outSize=512;SHA512$1.hmacStrength=192;SHA512$1.padLength=128;SHA512$1.prototype._prepareBlock=function(e,o){for(var h=this.W,$=0;$<32;$++)h[$]=e[o+$];for(;$<h.length;$+=2){var d=g1_512_hi(h[$-4],h[$-3]),Y=g1_512_lo(h[$-4],h[$-3]),ie=h[$-14],fe=h[$-13],he=g0_512_hi(h[$-30],h[$-29]),ne=g0_512_lo(h[$-30],h[$-29]),le=h[$-32],de=h[$-31];h[$]=sum64_4_hi(d,Y,ie,fe,he,ne,le,de),h[$+1]=sum64_4_lo(d,Y,ie,fe,he,ne,le,de)}};SHA512$1.prototype._update=function(e,o){this._prepareBlock(e,o);var h=this.W,$=this.h[0],d=this.h[1],Y=this.h[2],ie=this.h[3],fe=this.h[4],he=this.h[5],ne=this.h[6],le=this.h[7],de=this.h[8],ce=this.h[9],ge=this.h[10],xe=this.h[11],Ae=this.h[12],Ee=this.h[13],we=this.h[14],pe=this.h[15];assert$8(this.k.length===h.length);for(var me=0;me<h.length;me+=2){var Te=we,Pe=pe,Le=s1_512_hi(de,ce),qe=s1_512_lo(de,ce),Ce=ch64_hi(de,ce,ge,xe,Ae),ze=ch64_lo(de,ce,ge,xe,Ae,Ee),oe=this.k[me],c=this.k[me+1],b=h[me],j=h[me+1],Z=sum64_5_hi(Te,Pe,Le,qe,Ce,ze,oe,c,b,j),re=sum64_5_lo(Te,Pe,Le,qe,Ce,ze,oe,c,b,j);Te=s0_512_hi($,d),Pe=s0_512_lo($,d),Le=maj64_hi($,d,Y,ie,fe),qe=maj64_lo($,d,Y,ie,fe,he);var ae=sum64_hi(Te,Pe,Le,qe),se=sum64_lo(Te,Pe,Le,qe);we=Ae,pe=Ee,Ae=ge,Ee=xe,ge=de,xe=ce,de=sum64_hi(ne,le,Z,re),ce=sum64_lo(le,le,Z,re),ne=fe,le=he,fe=Y,he=ie,Y=$,ie=d,$=sum64_hi(Z,re,ae,se),d=sum64_lo(Z,re,ae,se)}sum64(this.h,0,$,d),sum64(this.h,2,Y,ie),sum64(this.h,4,fe,he),sum64(this.h,6,ne,le),sum64(this.h,8,de,ce),sum64(this.h,10,ge,xe),sum64(this.h,12,Ae,Ee),sum64(this.h,14,we,pe)};SHA512$1.prototype._digest=function(e){return e==="hex"?utils$d.toHex32(this.h,"big"):utils$d.split32(this.h,"big")};function ch64_hi(a,e,o,h,$){var d=a&o^~a&$;return d<0&&(d+=4294967296),d}function ch64_lo(a,e,o,h,$,d){var Y=e&h^~e&d;return Y<0&&(Y+=4294967296),Y}function maj64_hi(a,e,o,h,$){var d=a&o^a&$^o&$;return d<0&&(d+=4294967296),d}function maj64_lo(a,e,o,h,$,d){var Y=e&h^e&d^h&d;return Y<0&&(Y+=4294967296),Y}function s0_512_hi(a,e){var o=rotr64_hi(a,e,28),h=rotr64_hi(e,a,2),$=rotr64_hi(e,a,7),d=o^h^$;return d<0&&(d+=4294967296),d}function s0_512_lo(a,e){var o=rotr64_lo(a,e,28),h=rotr64_lo(e,a,2),$=rotr64_lo(e,a,7),d=o^h^$;return d<0&&(d+=4294967296),d}function s1_512_hi(a,e){var o=rotr64_hi(a,e,14),h=rotr64_hi(a,e,18),$=rotr64_hi(e,a,9),d=o^h^$;return d<0&&(d+=4294967296),d}function s1_512_lo(a,e){var o=rotr64_lo(a,e,14),h=rotr64_lo(a,e,18),$=rotr64_lo(e,a,9),d=o^h^$;return d<0&&(d+=4294967296),d}function g0_512_hi(a,e){var o=rotr64_hi(a,e,1),h=rotr64_hi(a,e,8),$=shr64_hi(a,e,7),d=o^h^$;return d<0&&(d+=4294967296),d}function g0_512_lo(a,e){var o=rotr64_lo(a,e,1),h=rotr64_lo(a,e,8),$=shr64_lo(a,e,7),d=o^h^$;return d<0&&(d+=4294967296),d}function g1_512_hi(a,e){var o=rotr64_hi(a,e,19),h=rotr64_hi(e,a,29),$=shr64_hi(a,e,6),d=o^h^$;return d<0&&(d+=4294967296),d}function g1_512_lo(a,e){var o=rotr64_lo(a,e,19),h=rotr64_lo(e,a,29),$=shr64_lo(a,e,6),d=o^h^$;return d<0&&(d+=4294967296),d}var utils$c=utils$j,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$c.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function(e){return e==="hex"?utils$c.toHex32(this.h.slice(0,12),"big"):utils$c.split32(this.h.slice(0,12),"big")};sha.sha1=_1;sha.sha224=_224;sha.sha256=_256;sha.sha384=_384;sha.sha512=_512;var ripemd={},utils$b=utils$j,common$1=common$6,rotl32=utils$b.rotl32,sum32=utils$b.sum32,sum32_3=utils$b.sum32_3,sum32_4=utils$b.sum32_4,BlockHash=common$1.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$b.inherits(RIPEMD160,BlockHash);ripemd.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function(e,o){for(var h=this.h[0],$=this.h[1],d=this.h[2],Y=this.h[3],ie=this.h[4],fe=h,he=$,ne=d,le=Y,de=ie,ce=0;ce<80;ce++){var ge=sum32(rotl32(sum32_4(h,f(ce,$,d,Y),e[r[ce]+o],K(ce)),s[ce]),ie);h=ie,ie=Y,Y=rotl32(d,10),d=$,$=ge,ge=sum32(rotl32(sum32_4(fe,f(79-ce,he,ne,le),e[rh[ce]+o],Kh(ce)),sh[ce]),de),fe=de,de=le,le=rotl32(ne,10),ne=he,he=ge}ge=sum32_3(this.h[1],d,le),this.h[1]=sum32_3(this.h[2],Y,de),this.h[2]=sum32_3(this.h[3],ie,fe),this.h[3]=sum32_3(this.h[4],h,he),this.h[4]=sum32_3(this.h[0],$,ne),this.h[0]=ge};RIPEMD160.prototype._digest=function(e){return e==="hex"?utils$b.toHex32(this.h,"little"):utils$b.split32(this.h,"little")};function f(a,e,o,h){return a<=15?e^o^h:a<=31?e&o|~e&h:a<=47?(e|~o)^h:a<=63?e&h|o&~h:e^(o|~h)}function K(a){return a<=15?0:a<=31?1518500249:a<=47?1859775393:a<=63?2400959708:2840853838}function Kh(a){return a<=15?1352829926:a<=31?1548603684:a<=47?1836072691:a<=63?2053994217:0}var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$a=utils$j,assert$7=minimalisticAssert;function Hmac(a,e,o){if(!(this instanceof Hmac))return new Hmac(a,e,o);this.Hash=a,this.blockSize=a.blockSize/8,this.outSize=a.outSize/8,this.inner=null,this.outer=null,this._init(utils$a.toArray(e,o))}var hmac=Hmac;Hmac.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),assert$7(e.length<=this.blockSize);for(var o=e.length;o<this.blockSize;o++)e.push(0);for(o=0;o<e.length;o++)e[o]^=54;for(this.inner=new this.Hash().update(e),o=0;o<e.length;o++)e[o]^=106;this.outer=new this.Hash().update(e)};Hmac.prototype.update=function(e,o){return this.inner.update(e,o),this};Hmac.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(a){var e=a;e.utils=utils$j,e.common=common$6,e.sha=sha,e.ripemd=ripemd,e.hmac=hmac,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(hash$2);var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}(function(a){var e=a,o=hash$2,h=curve,$=utils$p,d=$.assert;function Y(he){he.type==="short"?this.curve=new h.short(he):he.type==="edwards"?this.curve=new h.edwards(he):this.curve=new h.mont(he),this.g=this.curve.g,this.n=this.curve.n,this.hash=he.hash,d(this.g.validate(),"Invalid curve"),d(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=Y;function ie(he,ne){Object.defineProperty(e,he,{configurable:!0,enumerable:!0,get:function(){var le=new Y(ne);return Object.defineProperty(e,he,{configurable:!0,enumerable:!0,value:le}),le}})}ie("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),ie("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),ie("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),ie("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),ie("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),ie("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),ie("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var fe;try{fe=requireSecp256k1()}catch{fe=void 0}ie("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",fe]})})(curves$1);var hash$1=hash$2,utils$9=utils$o,assert$6=minimalisticAssert;function HmacDRBG(a){if(!(this instanceof HmacDRBG))return new HmacDRBG(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=utils$9.toArray(a.entropy,a.entropyEnc||"hex"),o=utils$9.toArray(a.nonce,a.nonceEnc||"hex"),h=utils$9.toArray(a.pers,a.persEnc||"hex");assert$6(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,o,h)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function(e,o,h){var $=e.concat(o).concat(h);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update($),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function(){return new hash$1.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function(e){var o=this._hmac().update(this.V).update([0]);e&&(o=o.update(e)),this.K=o.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG.prototype.reseed=function(e,o,h,$){typeof o!="string"&&($=h,h=o,o=null),e=utils$9.toArray(e,o),h=utils$9.toArray(h,$),assert$6(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(h||[])),this._reseed=1};HmacDRBG.prototype.generate=function(e,o,h,$){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof o!="string"&&($=h,h=o,o=null),h&&(h=utils$9.toArray(h,$||"hex"),this._update(h));for(var d=[];d.length<e;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var Y=d.slice(0,e);return this._update(h),this._reseed++,utils$9.encode(Y,o)};var BN$5=bnExports$3,utils$8=utils$p,assert$5=utils$8.assert;function KeyPair$2(a,e){this.ec=a,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var key$1=KeyPair$2;KeyPair$2.fromPublic=function(e,o,h){return o instanceof KeyPair$2?o:new KeyPair$2(e,{pub:o,pubEnc:h})};KeyPair$2.fromPrivate=function(e,o,h){return o instanceof KeyPair$2?o:new KeyPair$2(e,{priv:o,privEnc:h})};KeyPair$2.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$2.prototype.getPublic=function(e,o){return typeof e=="string"&&(o=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,e):this.pub};KeyPair$2.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};KeyPair$2.prototype._importPrivate=function(e,o){this.priv=new BN$5(e,o||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$2.prototype._importPublic=function(e,o){if(e.x||e.y){this.ec.curve.type==="mont"?assert$5(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$5(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,o)};KeyPair$2.prototype.derive=function(e){return e.validate()||assert$5(e.validate(),"public point not validated"),e.mul(this.priv).getX()};KeyPair$2.prototype.sign=function(e,o,h){return this.ec.sign(e,this,o,h)};KeyPair$2.prototype.verify=function(e,o,h){return this.ec.verify(e,o,this,void 0,h)};KeyPair$2.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$4=bnExports$3,utils$7=utils$p,assert$4=utils$7.assert;function Signature$2(a,e){if(a instanceof Signature$2)return a;this._importDER(a,e)||(assert$4(a.r&&a.s,"Signature without r or s"),this.r=new BN$4(a.r,16),this.s=new BN$4(a.s,16),a.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=a.recoveryParam)}var signature$1=Signature$2;function Position(){this.place=0}function getLength(a,e){var o=a[e.place++];if(!(o&128))return o;var h=o&15;if(h===0||h>4||a[e.place]===0)return!1;for(var $=0,d=0,Y=e.place;d<h;d++,Y++)$<<=8,$|=a[Y],$>>>=0;return $<=127?!1:(e.place=Y,$)}function rmPadding(a){for(var e=0,o=a.length-1;!a[e]&&!(a[e+1]&128)&&e<o;)e++;return e===0?a:a.slice(e)}Signature$2.prototype._importDER=function(e,o){e=utils$7.toArray(e,o);var h=new Position;if(e[h.place++]!==48)return!1;var $=getLength(e,h);if($===!1||$+h.place!==e.length||e[h.place++]!==2)return!1;var d=getLength(e,h);if(d===!1||e[h.place]&128)return!1;var Y=e.slice(h.place,d+h.place);if(h.place+=d,e[h.place++]!==2)return!1;var ie=getLength(e,h);if(ie===!1||e.length!==ie+h.place||e[h.place]&128)return!1;var fe=e.slice(h.place,ie+h.place);if(Y[0]===0)if(Y[1]&128)Y=Y.slice(1);else return!1;if(fe[0]===0)if(fe[1]&128)fe=fe.slice(1);else return!1;return this.r=new BN$4(Y),this.s=new BN$4(fe),this.recoveryParam=null,!0};function constructLength(a,e){if(e<128){a.push(e);return}var o=1+(Math.log(e)/Math.LN2>>>3);for(a.push(o|128);--o;)a.push(e>>>(o<<3)&255);a.push(e)}Signature$2.prototype.toDER=function(e){var o=this.r.toArray(),h=this.s.toArray();for(o[0]&128&&(o=[0].concat(o)),h[0]&128&&(h=[0].concat(h)),o=rmPadding(o),h=rmPadding(h);!h[0]&&!(h[1]&128);)h=h.slice(1);var $=[2];constructLength($,o.length),$=$.concat(o),$.push(2),constructLength($,h.length);var d=$.concat(h),Y=[48];return constructLength(Y,d.length),Y=Y.concat(d),utils$7.encode(Y,e)};var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var a=bnExports$3,e=hmacDrbg,o=utils$p,h=curves$1,$=requireBrorand(),d=o.assert,Y=key$1,ie=signature$1;function fe(he){if(!(this instanceof fe))return new fe(he);typeof he=="string"&&(d(Object.prototype.hasOwnProperty.call(h,he),"Unknown curve "+he),he=h[he]),he instanceof h.PresetCurve&&(he={curve:he}),this.curve=he.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=he.curve.g,this.g.precompute(he.curve.n.bitLength()+1),this.hash=he.hash||he.curve.hash}return ec=fe,fe.prototype.keyPair=function(ne){return new Y(this,ne)},fe.prototype.keyFromPrivate=function(ne,le){return Y.fromPrivate(this,ne,le)},fe.prototype.keyFromPublic=function(ne,le){return Y.fromPublic(this,ne,le)},fe.prototype.genKeyPair=function(ne){ne||(ne={});for(var le=new e({hash:this.hash,pers:ne.pers,persEnc:ne.persEnc||"utf8",entropy:ne.entropy||$(this.hash.hmacStrength),entropyEnc:ne.entropy&&ne.entropyEnc||"utf8",nonce:this.n.toArray()}),de=this.n.byteLength(),ce=this.n.sub(new a(2));;){var ge=new a(le.generate(de));if(!(ge.cmp(ce)>0))return ge.iaddn(1),this.keyFromPrivate(ge)}},fe.prototype._truncateToN=function(ne,le,de){var ce;if(a.isBN(ne)||typeof ne=="number")ne=new a(ne,16),ce=ne.byteLength();else if(typeof ne=="object")ce=ne.length,ne=new a(ne,16);else{var ge=ne.toString();ce=ge.length+1>>>1,ne=new a(ge,16)}typeof de!="number"&&(de=ce*8);var xe=de-this.n.bitLength();return xe>0&&(ne=ne.ushrn(xe)),!le&&ne.cmp(this.n)>=0?ne.sub(this.n):ne},fe.prototype.sign=function(ne,le,de,ce){if(typeof de=="object"&&(ce=de,de=null),ce||(ce={}),typeof ne!="string"&&typeof ne!="number"&&!a.isBN(ne)){d(typeof ne=="object"&&ne&&typeof ne.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),d(ne.length>>>0===ne.length);for(var ge=0;ge<ne.length;ge++)d((ne[ge]&255)===ne[ge])}le=this.keyFromPrivate(le,de),ne=this._truncateToN(ne,!1,ce.msgBitLength),d(!ne.isNeg(),"Can not sign a negative message");var xe=this.n.byteLength(),Ae=le.getPrivate().toArray("be",xe),Ee=ne.toArray("be",xe);d(new a(Ee).eq(ne),"Can not sign message");for(var we=new e({hash:this.hash,entropy:Ae,nonce:Ee,pers:ce.pers,persEnc:ce.persEnc||"utf8"}),pe=this.n.sub(new a(1)),me=0;;me++){var Te=ce.k?ce.k(me):new a(we.generate(this.n.byteLength()));if(Te=this._truncateToN(Te,!0),!(Te.cmpn(1)<=0||Te.cmp(pe)>=0)){var Pe=this.g.mul(Te);if(!Pe.isInfinity()){var Le=Pe.getX(),qe=Le.umod(this.n);if(qe.cmpn(0)!==0){var Ce=Te.invm(this.n).mul(qe.mul(le.getPrivate()).iadd(ne));if(Ce=Ce.umod(this.n),Ce.cmpn(0)!==0){var ze=(Pe.getY().isOdd()?1:0)|(Le.cmp(qe)!==0?2:0);return ce.canonical&&Ce.cmp(this.nh)>0&&(Ce=this.n.sub(Ce),ze^=1),new ie({r:qe,s:Ce,recoveryParam:ze})}}}}}},fe.prototype.verify=function(ne,le,de,ce,ge){ge||(ge={}),ne=this._truncateToN(ne,!1,ge.msgBitLength),de=this.keyFromPublic(de,ce),le=new ie(le,"hex");var xe=le.r,Ae=le.s;if(xe.cmpn(1)<0||xe.cmp(this.n)>=0||Ae.cmpn(1)<0||Ae.cmp(this.n)>=0)return!1;var Ee=Ae.invm(this.n),we=Ee.mul(ne).umod(this.n),pe=Ee.mul(xe).umod(this.n),me;return this.curve._maxwellTrick?(me=this.g.jmulAdd(we,de.getPublic(),pe),me.isInfinity()?!1:me.eqXToP(xe)):(me=this.g.mulAdd(we,de.getPublic(),pe),me.isInfinity()?!1:me.getX().umod(this.n).cmp(xe)===0)},fe.prototype.recoverPubKey=function(he,ne,le,de){d((3&le)===le,"The recovery param is more than two bits"),ne=new ie(ne,de);var ce=this.n,ge=new a(he),xe=ne.r,Ae=ne.s,Ee=le&1,we=le>>1;if(xe.cmp(this.curve.p.umod(this.curve.n))>=0&&we)throw new Error("Unable to find sencond key candinate");we?xe=this.curve.pointFromX(xe.add(this.curve.n),Ee):xe=this.curve.pointFromX(xe,Ee);var pe=ne.r.invm(ce),me=ce.sub(ge).mul(pe).umod(ce),Te=Ae.mul(pe).umod(ce);return this.g.mulAdd(me,xe,Te)},fe.prototype.getKeyRecoveryParam=function(he,ne,le,de){if(ne=new ie(ne,de),ne.recoveryParam!==null)return ne.recoveryParam;for(var ce=0;ce<4;ce++){var ge;try{ge=this.recoverPubKey(he,ne,ce)}catch{continue}if(ge.eq(le))return ce}throw new Error("Unable to find valid recovery factor")},ec}var utils$6=utils$p,assert$3=utils$6.assert,parseBytes$2=utils$6.parseBytes,cachedProperty$1=utils$6.cachedProperty;function KeyPair$1(a,e){this.eddsa=a,this._secret=parseBytes$2(e.secret),a.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=parseBytes$2(e.pub)}KeyPair$1.fromPublic=function(e,o){return o instanceof KeyPair$1?o:new KeyPair$1(e,{pub:o})};KeyPair$1.fromSecret=function(e,o){return o instanceof KeyPair$1?o:new KeyPair$1(e,{secret:o})};KeyPair$1.prototype.secret=function(){return this._secret};cachedProperty$1(KeyPair$1,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});cachedProperty$1(KeyPair$1,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});cachedProperty$1(KeyPair$1,"privBytes",function(){var e=this.eddsa,o=this.hash(),h=e.encodingLength-1,$=o.slice(0,e.encodingLength);return $[0]&=248,$[h]&=127,$[h]|=64,$});cachedProperty$1(KeyPair$1,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});cachedProperty$1(KeyPair$1,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});cachedProperty$1(KeyPair$1,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair$1.prototype.sign=function(e){return assert$3(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};KeyPair$1.prototype.verify=function(e,o){return this.eddsa.verify(e,o,this)};KeyPair$1.prototype.getSecret=function(e){return assert$3(this._secret,"KeyPair is public only"),utils$6.encode(this.secret(),e)};KeyPair$1.prototype.getPublic=function(e){return utils$6.encode(this.pubBytes(),e)};var key=KeyPair$1,BN$3=bnExports$3,utils$5=utils$p,assert$2=utils$5.assert,cachedProperty=utils$5.cachedProperty,parseBytes$1=utils$5.parseBytes;function Signature$1(a,e){this.eddsa=a,typeof e!="object"&&(e=parseBytes$1(e)),Array.isArray(e)&&(assert$2(e.length===a.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,a.encodingLength),S:e.slice(a.encodingLength)}),assert$2(e.R&&e.S,"Signature without R or S"),a.isPoint(e.R)&&(this._R=e.R),e.S instanceof BN$3&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}cachedProperty(Signature$1,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});cachedProperty(Signature$1,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});cachedProperty(Signature$1,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});cachedProperty(Signature$1,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Signature$1.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Signature$1.prototype.toHex=function(){return utils$5.encode(this.toBytes(),"hex").toUpperCase()};var signature=Signature$1,hash=hash$2,curves=curves$1,utils$4=utils$p,assert$1=utils$4.assert,parseBytes=utils$4.parseBytes,KeyPair=key,Signature=signature;function EDDSA(a){if(assert$1(a==="ed25519","only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(a);a=curves[a].curve,this.curve=a,this.g=a.g,this.g.precompute(a.n.bitLength()+1),this.pointClass=a.point().constructor,this.encodingLength=Math.ceil(a.n.bitLength()/8),this.hash=hash.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function(e,o){e=parseBytes(e);var h=this.keyFromSecret(o),$=this.hashInt(h.messagePrefix(),e),d=this.g.mul($),Y=this.encodePoint(d),ie=this.hashInt(Y,h.pubBytes(),e).mul(h.priv()),fe=$.add(ie).umod(this.curve.n);return this.makeSignature({R:d,S:fe,Rencoded:Y})};EDDSA.prototype.verify=function(e,o,h){if(e=parseBytes(e),o=this.makeSignature(o),o.S().gte(o.eddsa.curve.n)||o.S().isNeg())return!1;var $=this.keyFromPublic(h),d=this.hashInt(o.Rencoded(),$.pubBytes(),e),Y=this.g.mul(o.S()),ie=o.R().add($.pub().mul(d));return ie.eq(Y)};EDDSA.prototype.hashInt=function(){for(var e=this.hash(),o=0;o<arguments.length;o++)e.update(arguments[o]);return utils$4.intFromLE(e.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function(e){return KeyPair.fromPublic(this,e)};EDDSA.prototype.keyFromSecret=function(e){return KeyPair.fromSecret(this,e)};EDDSA.prototype.makeSignature=function(e){return e instanceof Signature?e:new Signature(this,e)};EDDSA.prototype.encodePoint=function(e){var o=e.getY().toArray("le",this.encodingLength);return o[this.encodingLength-1]|=e.getX().isOdd()?128:0,o};EDDSA.prototype.decodePoint=function(e){e=utils$4.parseBytes(e);var o=e.length-1,h=e.slice(0,o).concat(e[o]&-129),$=(e[o]&128)!==0,d=utils$4.intFromLE(h);return this.curve.pointFromY(d,$)};EDDSA.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function(e){return utils$4.intFromLE(e)};EDDSA.prototype.isPoint=function(e){return e instanceof this.pointClass};var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(a){var e=a;e.version=require$$0.version,e.utils=utils$p,e.rand=requireBrorand(),e.curve=curve,e.curves=curves$1,e.ec=requireEc(),e.eddsa=eddsa}(elliptic)),elliptic}var asn1$3={},asn1$2={},bn$2={exports:{}};bn$2.exports;(function(a){(function(e,o){function h(oe,c){if(!oe)throw new Error(c||"Assertion failed")}function $(oe,c){oe.super_=c;var b=function(){};b.prototype=c.prototype,oe.prototype=new b,oe.prototype.constructor=oe}function d(oe,c,b){if(d.isBN(oe))return oe;this.negative=0,this.words=null,this.length=0,this.red=null,oe!==null&&((c==="le"||c==="be")&&(b=c,c=10),this._init(oe||0,c||10,b||"be"))}typeof e=="object"?e.exports=d:o.BN=d,d.BN=d,d.wordSize=26;var Y;try{typeof window<"u"&&typeof window.Buffer<"u"?Y=window.Buffer:Y=require$$0$3.Buffer}catch{}d.isBN=function(c){return c instanceof d?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===d.wordSize&&Array.isArray(c.words)},d.max=function(c,b){return c.cmp(b)>0?c:b},d.min=function(c,b){return c.cmp(b)<0?c:b},d.prototype._init=function(c,b,j){if(typeof c=="number")return this._initNumber(c,b,j);if(typeof c=="object")return this._initArray(c,b,j);b==="hex"&&(b=16),h(b===(b|0)&&b>=2&&b<=36),c=c.toString().replace(/\s+/g,"");var Z=0;c[0]==="-"&&(Z++,this.negative=1),Z<c.length&&(b===16?this._parseHex(c,Z,j):(this._parseBase(c,b,Z),j==="le"&&this._initArray(this.toArray(),b,j)))},d.prototype._initNumber=function(c,b,j){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(h(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),j==="le"&&this._initArray(this.toArray(),b,j)},d.prototype._initArray=function(c,b,j){if(h(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var Z=0;Z<this.length;Z++)this.words[Z]=0;var re,ae,se=0;if(j==="be")for(Z=c.length-1,re=0;Z>=0;Z-=3)ae=c[Z]|c[Z-1]<<8|c[Z-2]<<16,this.words[re]|=ae<<se&67108863,this.words[re+1]=ae>>>26-se&67108863,se+=24,se>=26&&(se-=26,re++);else if(j==="le")for(Z=0,re=0;Z<c.length;Z+=3)ae=c[Z]|c[Z+1]<<8|c[Z+2]<<16,this.words[re]|=ae<<se&67108863,this.words[re+1]=ae>>>26-se&67108863,se+=24,se>=26&&(se-=26,re++);return this.strip()};function ie(oe,c){var b=oe.charCodeAt(c);return b>=65&&b<=70?b-55:b>=97&&b<=102?b-87:b-48&15}function fe(oe,c,b){var j=ie(oe,b);return b-1>=c&&(j|=ie(oe,b-1)<<4),j}d.prototype._parseHex=function(c,b,j){this.length=Math.ceil((c.length-b)/6),this.words=new Array(this.length);for(var Z=0;Z<this.length;Z++)this.words[Z]=0;var re=0,ae=0,se;if(j==="be")for(Z=c.length-1;Z>=b;Z-=2)se=fe(c,b,Z)<<re,this.words[ae]|=se&67108863,re>=18?(re-=18,ae+=1,this.words[ae]|=se>>>26):re+=8;else{var ee=c.length-b;for(Z=ee%2===0?b+1:b;Z<c.length;Z+=2)se=fe(c,b,Z)<<re,this.words[ae]|=se&67108863,re>=18?(re-=18,ae+=1,this.words[ae]|=se>>>26):re+=8}this.strip()};function he(oe,c,b,j){for(var Z=0,re=Math.min(oe.length,b),ae=c;ae<re;ae++){var se=oe.charCodeAt(ae)-48;Z*=j,se>=49?Z+=se-49+10:se>=17?Z+=se-17+10:Z+=se}return Z}d.prototype._parseBase=function(c,b,j){this.words=[0],this.length=1;for(var Z=0,re=1;re<=67108863;re*=b)Z++;Z--,re=re/b|0;for(var ae=c.length-j,se=ae%Z,ee=Math.min(ae,ae-se)+j,_=0,te=j;te<ee;te+=Z)_=he(c,te,te+Z,b),this.imuln(re),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(se!==0){var ue=1;for(_=he(c,te,c.length,b),te=0;te<se;te++)ue*=b;this.imuln(ue),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this.strip()},d.prototype.copy=function(c){c.words=new Array(this.length);for(var b=0;b<this.length;b++)c.words[b]=this.words[b];c.length=this.length,c.negative=this.negative,c.red=this.red},d.prototype.clone=function(){var c=new d(null);return this.copy(c),c},d.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},d.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},d.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ne=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],le=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],de=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(c,b){c=c||10,b=b|0||1;var j;if(c===16||c==="hex"){j="";for(var Z=0,re=0,ae=0;ae<this.length;ae++){var se=this.words[ae],ee=((se<<Z|re)&16777215).toString(16);re=se>>>24-Z&16777215,Z+=2,Z>=26&&(Z-=26,ae--),re!==0||ae!==this.length-1?j=ne[6-ee.length]+ee+j:j=ee+j}for(re!==0&&(j=re.toString(16)+j);j.length%b!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(c===(c|0)&&c>=2&&c<=36){var _=le[c],te=de[c];j="";var ue=this.clone();for(ue.negative=0;!ue.isZero();){var ve=ue.modn(te).toString(c);ue=ue.idivn(te),ue.isZero()?j=ve+j:j=ne[_-ve.length]+ve+j}for(this.isZero()&&(j="0"+j);j.length%b!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}h(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},d.prototype.toJSON=function(){return this.toString(16)},d.prototype.toBuffer=function(c,b){return h(typeof Y<"u"),this.toArrayLike(Y,c,b)},d.prototype.toArray=function(c,b){return this.toArrayLike(Array,c,b)},d.prototype.toArrayLike=function(c,b,j){var Z=this.byteLength(),re=j||Math.max(1,Z);h(Z<=re,"byte array longer than desired length"),h(re>0,"Requested array length <= 0"),this.strip();var ae=b==="le",se=new c(re),ee,_,te=this.clone();if(ae){for(_=0;!te.isZero();_++)ee=te.andln(255),te.iushrn(8),se[_]=ee;for(;_<re;_++)se[_]=0}else{for(_=0;_<re-Z;_++)se[_]=0;for(_=0;!te.isZero();_++)ee=te.andln(255),te.iushrn(8),se[re-_-1]=ee}return se},Math.clz32?d.prototype._countBits=function(c){return 32-Math.clz32(c)}:d.prototype._countBits=function(c){var b=c,j=0;return b>=4096&&(j+=13,b>>>=13),b>=64&&(j+=7,b>>>=7),b>=8&&(j+=4,b>>>=4),b>=2&&(j+=2,b>>>=2),j+b},d.prototype._zeroBits=function(c){if(c===0)return 26;var b=c,j=0;return b&8191||(j+=13,b>>>=13),b&127||(j+=7,b>>>=7),b&15||(j+=4,b>>>=4),b&3||(j+=2,b>>>=2),b&1||j++,j},d.prototype.bitLength=function(){var c=this.words[this.length-1],b=this._countBits(c);return(this.length-1)*26+b};function ce(oe){for(var c=new Array(oe.bitLength()),b=0;b<c.length;b++){var j=b/26|0,Z=b%26;c[b]=(oe.words[j]&1<<Z)>>>Z}return c}d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,b=0;b<this.length;b++){var j=this._zeroBits(this.words[b]);if(c+=j,j!==26)break}return c},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},d.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var b=0;b<c.length;b++)this.words[b]=this.words[b]|c.words[b];return this.strip()},d.prototype.ior=function(c){return h((this.negative|c.negative)===0),this.iuor(c)},d.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},d.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},d.prototype.iuand=function(c){var b;this.length>c.length?b=c:b=this;for(var j=0;j<b.length;j++)this.words[j]=this.words[j]&c.words[j];return this.length=b.length,this.strip()},d.prototype.iand=function(c){return h((this.negative|c.negative)===0),this.iuand(c)},d.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},d.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},d.prototype.iuxor=function(c){var b,j;this.length>c.length?(b=this,j=c):(b=c,j=this);for(var Z=0;Z<j.length;Z++)this.words[Z]=b.words[Z]^j.words[Z];if(this!==b)for(;Z<b.length;Z++)this.words[Z]=b.words[Z];return this.length=b.length,this.strip()},d.prototype.ixor=function(c){return h((this.negative|c.negative)===0),this.iuxor(c)},d.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},d.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},d.prototype.inotn=function(c){h(typeof c=="number"&&c>=0);var b=Math.ceil(c/26)|0,j=c%26;this._expand(b),j>0&&b--;for(var Z=0;Z<b;Z++)this.words[Z]=~this.words[Z]&67108863;return j>0&&(this.words[Z]=~this.words[Z]&67108863>>26-j),this.strip()},d.prototype.notn=function(c){return this.clone().inotn(c)},d.prototype.setn=function(c,b){h(typeof c=="number"&&c>=0);var j=c/26|0,Z=c%26;return this._expand(j+1),b?this.words[j]=this.words[j]|1<<Z:this.words[j]=this.words[j]&~(1<<Z),this.strip()},d.prototype.iadd=function(c){var b;if(this.negative!==0&&c.negative===0)return this.negative=0,b=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,b=this.isub(c),c.negative=1,b._normSign();var j,Z;this.length>c.length?(j=this,Z=c):(j=c,Z=this);for(var re=0,ae=0;ae<Z.length;ae++)b=(j.words[ae]|0)+(Z.words[ae]|0)+re,this.words[ae]=b&67108863,re=b>>>26;for(;re!==0&&ae<j.length;ae++)b=(j.words[ae]|0)+re,this.words[ae]=b&67108863,re=b>>>26;if(this.length=j.length,re!==0)this.words[this.length]=re,this.length++;else if(j!==this)for(;ae<j.length;ae++)this.words[ae]=j.words[ae];return this},d.prototype.add=function(c){var b;return c.negative!==0&&this.negative===0?(c.negative=0,b=this.sub(c),c.negative^=1,b):c.negative===0&&this.negative!==0?(this.negative=0,b=c.sub(this),this.negative=1,b):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},d.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var b=this.iadd(c);return c.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var j=this.cmp(c);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Z,re;j>0?(Z=this,re=c):(Z=c,re=this);for(var ae=0,se=0;se<re.length;se++)b=(Z.words[se]|0)-(re.words[se]|0)+ae,ae=b>>26,this.words[se]=b&67108863;for(;ae!==0&&se<Z.length;se++)b=(Z.words[se]|0)+ae,ae=b>>26,this.words[se]=b&67108863;if(ae===0&&se<Z.length&&Z!==this)for(;se<Z.length;se++)this.words[se]=Z.words[se];return this.length=Math.max(this.length,se),Z!==this&&(this.negative=1),this.strip()},d.prototype.sub=function(c){return this.clone().isub(c)};function ge(oe,c,b){b.negative=c.negative^oe.negative;var j=oe.length+c.length|0;b.length=j,j=j-1|0;var Z=oe.words[0]|0,re=c.words[0]|0,ae=Z*re,se=ae&67108863,ee=ae/67108864|0;b.words[0]=se;for(var _=1;_<j;_++){for(var te=ee>>>26,ue=ee&67108863,ve=Math.min(_,c.length-1),be=Math.max(0,_-oe.length+1);be<=ve;be++){var Me=_-be|0;Z=oe.words[Me]|0,re=c.words[be]|0,ae=Z*re+ue,te+=ae/67108864|0,ue=ae&67108863}b.words[_]=ue|0,ee=te|0}return ee!==0?b.words[_]=ee|0:b.length--,b.strip()}var xe=function(c,b,j){var Z=c.words,re=b.words,ae=j.words,se=0,ee,_,te,ue=Z[0]|0,ve=ue&8191,be=ue>>>13,Me=Z[1]|0,Se=Me&8191,_e=Me>>>13,Re=Z[2]|0,Ie=Re&8191,Ne=Re>>>13,Oe=Z[3]|0,ke=Oe&8191,He=Oe>>>13,ct=Z[4]|0,Ve=ct&8191,Ye=ct>>>13,wt=Z[5]|0,Qe=wt&8191,Ge=wt>>>13,$t=Z[6]|0,tt=$t&8191,ut=$t>>>13,St=Z[7]|0,Ue=St&8191,je=St>>>13,bt=Z[8]|0,Ke=bt&8191,Ze=bt>>>13,Et=Z[9]|0,Be=Et&8191,ye=Et>>>13,$e=re[0]|0,De=$e&8191,Fe=$e>>>13,Xe=re[1]|0,We=Xe&8191,et=Xe>>>13,xt=re[2]|0,Je=xt&8191,rt=xt>>>13,Mt=re[3]|0,it=Mt&8191,dt=Mt>>>13,Bt=re[4]|0,nt=Bt&8191,pt=Bt>>>13,Rt=re[5]|0,at=Rt&8191,mt=Rt>>>13,kt=re[6]|0,ot=kt&8191,vt=kt>>>13,It=re[7]|0,st=It&8191,gt=It>>>13,Ct=re[8]|0,ht=Ct&8191,yt=Ct>>>13,Dt=re[9]|0,lt=Dt&8191,_t=Dt>>>13;j.negative=c.negative^b.negative,j.length=19,ee=Math.imul(ve,De),_=Math.imul(ve,Fe),_=_+Math.imul(be,De)|0,te=Math.imul(be,Fe);var At=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(At>>>26)|0,At&=67108863,ee=Math.imul(Se,De),_=Math.imul(Se,Fe),_=_+Math.imul(_e,De)|0,te=Math.imul(_e,Fe),ee=ee+Math.imul(ve,We)|0,_=_+Math.imul(ve,et)|0,_=_+Math.imul(be,We)|0,te=te+Math.imul(be,et)|0;var Tt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,ee=Math.imul(Ie,De),_=Math.imul(Ie,Fe),_=_+Math.imul(Ne,De)|0,te=Math.imul(Ne,Fe),ee=ee+Math.imul(Se,We)|0,_=_+Math.imul(Se,et)|0,_=_+Math.imul(_e,We)|0,te=te+Math.imul(_e,et)|0,ee=ee+Math.imul(ve,Je)|0,_=_+Math.imul(ve,rt)|0,_=_+Math.imul(be,Je)|0,te=te+Math.imul(be,rt)|0;var Pt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,ee=Math.imul(ke,De),_=Math.imul(ke,Fe),_=_+Math.imul(He,De)|0,te=Math.imul(He,Fe),ee=ee+Math.imul(Ie,We)|0,_=_+Math.imul(Ie,et)|0,_=_+Math.imul(Ne,We)|0,te=te+Math.imul(Ne,et)|0,ee=ee+Math.imul(Se,Je)|0,_=_+Math.imul(Se,rt)|0,_=_+Math.imul(_e,Je)|0,te=te+Math.imul(_e,rt)|0,ee=ee+Math.imul(ve,it)|0,_=_+Math.imul(ve,dt)|0,_=_+Math.imul(be,it)|0,te=te+Math.imul(be,dt)|0;var Ot=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,ee=Math.imul(Ve,De),_=Math.imul(Ve,Fe),_=_+Math.imul(Ye,De)|0,te=Math.imul(Ye,Fe),ee=ee+Math.imul(ke,We)|0,_=_+Math.imul(ke,et)|0,_=_+Math.imul(He,We)|0,te=te+Math.imul(He,et)|0,ee=ee+Math.imul(Ie,Je)|0,_=_+Math.imul(Ie,rt)|0,_=_+Math.imul(Ne,Je)|0,te=te+Math.imul(Ne,rt)|0,ee=ee+Math.imul(Se,it)|0,_=_+Math.imul(Se,dt)|0,_=_+Math.imul(_e,it)|0,te=te+Math.imul(_e,dt)|0,ee=ee+Math.imul(ve,nt)|0,_=_+Math.imul(ve,pt)|0,_=_+Math.imul(be,nt)|0,te=te+Math.imul(be,pt)|0;var Nt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,ee=Math.imul(Qe,De),_=Math.imul(Qe,Fe),_=_+Math.imul(Ge,De)|0,te=Math.imul(Ge,Fe),ee=ee+Math.imul(Ve,We)|0,_=_+Math.imul(Ve,et)|0,_=_+Math.imul(Ye,We)|0,te=te+Math.imul(Ye,et)|0,ee=ee+Math.imul(ke,Je)|0,_=_+Math.imul(ke,rt)|0,_=_+Math.imul(He,Je)|0,te=te+Math.imul(He,rt)|0,ee=ee+Math.imul(Ie,it)|0,_=_+Math.imul(Ie,dt)|0,_=_+Math.imul(Ne,it)|0,te=te+Math.imul(Ne,dt)|0,ee=ee+Math.imul(Se,nt)|0,_=_+Math.imul(Se,pt)|0,_=_+Math.imul(_e,nt)|0,te=te+Math.imul(_e,pt)|0,ee=ee+Math.imul(ve,at)|0,_=_+Math.imul(ve,mt)|0,_=_+Math.imul(be,at)|0,te=te+Math.imul(be,mt)|0;var Lt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,ee=Math.imul(tt,De),_=Math.imul(tt,Fe),_=_+Math.imul(ut,De)|0,te=Math.imul(ut,Fe),ee=ee+Math.imul(Qe,We)|0,_=_+Math.imul(Qe,et)|0,_=_+Math.imul(Ge,We)|0,te=te+Math.imul(Ge,et)|0,ee=ee+Math.imul(Ve,Je)|0,_=_+Math.imul(Ve,rt)|0,_=_+Math.imul(Ye,Je)|0,te=te+Math.imul(Ye,rt)|0,ee=ee+Math.imul(ke,it)|0,_=_+Math.imul(ke,dt)|0,_=_+Math.imul(He,it)|0,te=te+Math.imul(He,dt)|0,ee=ee+Math.imul(Ie,nt)|0,_=_+Math.imul(Ie,pt)|0,_=_+Math.imul(Ne,nt)|0,te=te+Math.imul(Ne,pt)|0,ee=ee+Math.imul(Se,at)|0,_=_+Math.imul(Se,mt)|0,_=_+Math.imul(_e,at)|0,te=te+Math.imul(_e,mt)|0,ee=ee+Math.imul(ve,ot)|0,_=_+Math.imul(ve,vt)|0,_=_+Math.imul(be,ot)|0,te=te+Math.imul(be,vt)|0;var Ut=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,ee=Math.imul(Ue,De),_=Math.imul(Ue,Fe),_=_+Math.imul(je,De)|0,te=Math.imul(je,Fe),ee=ee+Math.imul(tt,We)|0,_=_+Math.imul(tt,et)|0,_=_+Math.imul(ut,We)|0,te=te+Math.imul(ut,et)|0,ee=ee+Math.imul(Qe,Je)|0,_=_+Math.imul(Qe,rt)|0,_=_+Math.imul(Ge,Je)|0,te=te+Math.imul(Ge,rt)|0,ee=ee+Math.imul(Ve,it)|0,_=_+Math.imul(Ve,dt)|0,_=_+Math.imul(Ye,it)|0,te=te+Math.imul(Ye,dt)|0,ee=ee+Math.imul(ke,nt)|0,_=_+Math.imul(ke,pt)|0,_=_+Math.imul(He,nt)|0,te=te+Math.imul(He,pt)|0,ee=ee+Math.imul(Ie,at)|0,_=_+Math.imul(Ie,mt)|0,_=_+Math.imul(Ne,at)|0,te=te+Math.imul(Ne,mt)|0,ee=ee+Math.imul(Se,ot)|0,_=_+Math.imul(Se,vt)|0,_=_+Math.imul(_e,ot)|0,te=te+Math.imul(_e,vt)|0,ee=ee+Math.imul(ve,st)|0,_=_+Math.imul(ve,gt)|0,_=_+Math.imul(be,st)|0,te=te+Math.imul(be,gt)|0;var Ft=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,ee=Math.imul(Ke,De),_=Math.imul(Ke,Fe),_=_+Math.imul(Ze,De)|0,te=Math.imul(Ze,Fe),ee=ee+Math.imul(Ue,We)|0,_=_+Math.imul(Ue,et)|0,_=_+Math.imul(je,We)|0,te=te+Math.imul(je,et)|0,ee=ee+Math.imul(tt,Je)|0,_=_+Math.imul(tt,rt)|0,_=_+Math.imul(ut,Je)|0,te=te+Math.imul(ut,rt)|0,ee=ee+Math.imul(Qe,it)|0,_=_+Math.imul(Qe,dt)|0,_=_+Math.imul(Ge,it)|0,te=te+Math.imul(Ge,dt)|0,ee=ee+Math.imul(Ve,nt)|0,_=_+Math.imul(Ve,pt)|0,_=_+Math.imul(Ye,nt)|0,te=te+Math.imul(Ye,pt)|0,ee=ee+Math.imul(ke,at)|0,_=_+Math.imul(ke,mt)|0,_=_+Math.imul(He,at)|0,te=te+Math.imul(He,mt)|0,ee=ee+Math.imul(Ie,ot)|0,_=_+Math.imul(Ie,vt)|0,_=_+Math.imul(Ne,ot)|0,te=te+Math.imul(Ne,vt)|0,ee=ee+Math.imul(Se,st)|0,_=_+Math.imul(Se,gt)|0,_=_+Math.imul(_e,st)|0,te=te+Math.imul(_e,gt)|0,ee=ee+Math.imul(ve,ht)|0,_=_+Math.imul(ve,yt)|0,_=_+Math.imul(be,ht)|0,te=te+Math.imul(be,yt)|0;var qt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(qt>>>26)|0,qt&=67108863,ee=Math.imul(Be,De),_=Math.imul(Be,Fe),_=_+Math.imul(ye,De)|0,te=Math.imul(ye,Fe),ee=ee+Math.imul(Ke,We)|0,_=_+Math.imul(Ke,et)|0,_=_+Math.imul(Ze,We)|0,te=te+Math.imul(Ze,et)|0,ee=ee+Math.imul(Ue,Je)|0,_=_+Math.imul(Ue,rt)|0,_=_+Math.imul(je,Je)|0,te=te+Math.imul(je,rt)|0,ee=ee+Math.imul(tt,it)|0,_=_+Math.imul(tt,dt)|0,_=_+Math.imul(ut,it)|0,te=te+Math.imul(ut,dt)|0,ee=ee+Math.imul(Qe,nt)|0,_=_+Math.imul(Qe,pt)|0,_=_+Math.imul(Ge,nt)|0,te=te+Math.imul(Ge,pt)|0,ee=ee+Math.imul(Ve,at)|0,_=_+Math.imul(Ve,mt)|0,_=_+Math.imul(Ye,at)|0,te=te+Math.imul(Ye,mt)|0,ee=ee+Math.imul(ke,ot)|0,_=_+Math.imul(ke,vt)|0,_=_+Math.imul(He,ot)|0,te=te+Math.imul(He,vt)|0,ee=ee+Math.imul(Ie,st)|0,_=_+Math.imul(Ie,gt)|0,_=_+Math.imul(Ne,st)|0,te=te+Math.imul(Ne,gt)|0,ee=ee+Math.imul(Se,ht)|0,_=_+Math.imul(Se,yt)|0,_=_+Math.imul(_e,ht)|0,te=te+Math.imul(_e,yt)|0,ee=ee+Math.imul(ve,lt)|0,_=_+Math.imul(ve,_t)|0,_=_+Math.imul(be,lt)|0,te=te+Math.imul(be,_t)|0;var Ht=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,ee=Math.imul(Be,We),_=Math.imul(Be,et),_=_+Math.imul(ye,We)|0,te=Math.imul(ye,et),ee=ee+Math.imul(Ke,Je)|0,_=_+Math.imul(Ke,rt)|0,_=_+Math.imul(Ze,Je)|0,te=te+Math.imul(Ze,rt)|0,ee=ee+Math.imul(Ue,it)|0,_=_+Math.imul(Ue,dt)|0,_=_+Math.imul(je,it)|0,te=te+Math.imul(je,dt)|0,ee=ee+Math.imul(tt,nt)|0,_=_+Math.imul(tt,pt)|0,_=_+Math.imul(ut,nt)|0,te=te+Math.imul(ut,pt)|0,ee=ee+Math.imul(Qe,at)|0,_=_+Math.imul(Qe,mt)|0,_=_+Math.imul(Ge,at)|0,te=te+Math.imul(Ge,mt)|0,ee=ee+Math.imul(Ve,ot)|0,_=_+Math.imul(Ve,vt)|0,_=_+Math.imul(Ye,ot)|0,te=te+Math.imul(Ye,vt)|0,ee=ee+Math.imul(ke,st)|0,_=_+Math.imul(ke,gt)|0,_=_+Math.imul(He,st)|0,te=te+Math.imul(He,gt)|0,ee=ee+Math.imul(Ie,ht)|0,_=_+Math.imul(Ie,yt)|0,_=_+Math.imul(Ne,ht)|0,te=te+Math.imul(Ne,yt)|0,ee=ee+Math.imul(Se,lt)|0,_=_+Math.imul(Se,_t)|0,_=_+Math.imul(_e,lt)|0,te=te+Math.imul(_e,_t)|0;var jt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(jt>>>26)|0,jt&=67108863,ee=Math.imul(Be,Je),_=Math.imul(Be,rt),_=_+Math.imul(ye,Je)|0,te=Math.imul(ye,rt),ee=ee+Math.imul(Ke,it)|0,_=_+Math.imul(Ke,dt)|0,_=_+Math.imul(Ze,it)|0,te=te+Math.imul(Ze,dt)|0,ee=ee+Math.imul(Ue,nt)|0,_=_+Math.imul(Ue,pt)|0,_=_+Math.imul(je,nt)|0,te=te+Math.imul(je,pt)|0,ee=ee+Math.imul(tt,at)|0,_=_+Math.imul(tt,mt)|0,_=_+Math.imul(ut,at)|0,te=te+Math.imul(ut,mt)|0,ee=ee+Math.imul(Qe,ot)|0,_=_+Math.imul(Qe,vt)|0,_=_+Math.imul(Ge,ot)|0,te=te+Math.imul(Ge,vt)|0,ee=ee+Math.imul(Ve,st)|0,_=_+Math.imul(Ve,gt)|0,_=_+Math.imul(Ye,st)|0,te=te+Math.imul(Ye,gt)|0,ee=ee+Math.imul(ke,ht)|0,_=_+Math.imul(ke,yt)|0,_=_+Math.imul(He,ht)|0,te=te+Math.imul(He,yt)|0,ee=ee+Math.imul(Ie,lt)|0,_=_+Math.imul(Ie,_t)|0,_=_+Math.imul(Ne,lt)|0,te=te+Math.imul(Ne,_t)|0;var zt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863,ee=Math.imul(Be,it),_=Math.imul(Be,dt),_=_+Math.imul(ye,it)|0,te=Math.imul(ye,dt),ee=ee+Math.imul(Ke,nt)|0,_=_+Math.imul(Ke,pt)|0,_=_+Math.imul(Ze,nt)|0,te=te+Math.imul(Ze,pt)|0,ee=ee+Math.imul(Ue,at)|0,_=_+Math.imul(Ue,mt)|0,_=_+Math.imul(je,at)|0,te=te+Math.imul(je,mt)|0,ee=ee+Math.imul(tt,ot)|0,_=_+Math.imul(tt,vt)|0,_=_+Math.imul(ut,ot)|0,te=te+Math.imul(ut,vt)|0,ee=ee+Math.imul(Qe,st)|0,_=_+Math.imul(Qe,gt)|0,_=_+Math.imul(Ge,st)|0,te=te+Math.imul(Ge,gt)|0,ee=ee+Math.imul(Ve,ht)|0,_=_+Math.imul(Ve,yt)|0,_=_+Math.imul(Ye,ht)|0,te=te+Math.imul(Ye,yt)|0,ee=ee+Math.imul(ke,lt)|0,_=_+Math.imul(ke,_t)|0,_=_+Math.imul(He,lt)|0,te=te+Math.imul(He,_t)|0;var Wt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,ee=Math.imul(Be,nt),_=Math.imul(Be,pt),_=_+Math.imul(ye,nt)|0,te=Math.imul(ye,pt),ee=ee+Math.imul(Ke,at)|0,_=_+Math.imul(Ke,mt)|0,_=_+Math.imul(Ze,at)|0,te=te+Math.imul(Ze,mt)|0,ee=ee+Math.imul(Ue,ot)|0,_=_+Math.imul(Ue,vt)|0,_=_+Math.imul(je,ot)|0,te=te+Math.imul(je,vt)|0,ee=ee+Math.imul(tt,st)|0,_=_+Math.imul(tt,gt)|0,_=_+Math.imul(ut,st)|0,te=te+Math.imul(ut,gt)|0,ee=ee+Math.imul(Qe,ht)|0,_=_+Math.imul(Qe,yt)|0,_=_+Math.imul(Ge,ht)|0,te=te+Math.imul(Ge,yt)|0,ee=ee+Math.imul(Ve,lt)|0,_=_+Math.imul(Ve,_t)|0,_=_+Math.imul(Ye,lt)|0,te=te+Math.imul(Ye,_t)|0;var Gt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,ee=Math.imul(Be,at),_=Math.imul(Be,mt),_=_+Math.imul(ye,at)|0,te=Math.imul(ye,mt),ee=ee+Math.imul(Ke,ot)|0,_=_+Math.imul(Ke,vt)|0,_=_+Math.imul(Ze,ot)|0,te=te+Math.imul(Ze,vt)|0,ee=ee+Math.imul(Ue,st)|0,_=_+Math.imul(Ue,gt)|0,_=_+Math.imul(je,st)|0,te=te+Math.imul(je,gt)|0,ee=ee+Math.imul(tt,ht)|0,_=_+Math.imul(tt,yt)|0,_=_+Math.imul(ut,ht)|0,te=te+Math.imul(ut,yt)|0,ee=ee+Math.imul(Qe,lt)|0,_=_+Math.imul(Qe,_t)|0,_=_+Math.imul(Ge,lt)|0,te=te+Math.imul(Ge,_t)|0;var Kt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,ee=Math.imul(Be,ot),_=Math.imul(Be,vt),_=_+Math.imul(ye,ot)|0,te=Math.imul(ye,vt),ee=ee+Math.imul(Ke,st)|0,_=_+Math.imul(Ke,gt)|0,_=_+Math.imul(Ze,st)|0,te=te+Math.imul(Ze,gt)|0,ee=ee+Math.imul(Ue,ht)|0,_=_+Math.imul(Ue,yt)|0,_=_+Math.imul(je,ht)|0,te=te+Math.imul(je,yt)|0,ee=ee+Math.imul(tt,lt)|0,_=_+Math.imul(tt,_t)|0,_=_+Math.imul(ut,lt)|0,te=te+Math.imul(ut,_t)|0;var Zt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,ee=Math.imul(Be,st),_=Math.imul(Be,gt),_=_+Math.imul(ye,st)|0,te=Math.imul(ye,gt),ee=ee+Math.imul(Ke,ht)|0,_=_+Math.imul(Ke,yt)|0,_=_+Math.imul(Ze,ht)|0,te=te+Math.imul(Ze,yt)|0,ee=ee+Math.imul(Ue,lt)|0,_=_+Math.imul(Ue,_t)|0,_=_+Math.imul(je,lt)|0,te=te+Math.imul(je,_t)|0;var Vt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,ee=Math.imul(Be,ht),_=Math.imul(Be,yt),_=_+Math.imul(ye,ht)|0,te=Math.imul(ye,yt),ee=ee+Math.imul(Ke,lt)|0,_=_+Math.imul(Ke,_t)|0,_=_+Math.imul(Ze,lt)|0,te=te+Math.imul(Ze,_t)|0;var Yt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,ee=Math.imul(Be,lt),_=Math.imul(Be,_t),_=_+Math.imul(ye,lt)|0,te=Math.imul(ye,_t);var Xt=(se+ee|0)+((_&8191)<<13)|0;return se=(te+(_>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,ae[0]=At,ae[1]=Tt,ae[2]=Pt,ae[3]=Ot,ae[4]=Nt,ae[5]=Lt,ae[6]=Ut,ae[7]=Ft,ae[8]=qt,ae[9]=Ht,ae[10]=jt,ae[11]=zt,ae[12]=Wt,ae[13]=Gt,ae[14]=Kt,ae[15]=Zt,ae[16]=Vt,ae[17]=Yt,ae[18]=Xt,se!==0&&(ae[19]=se,j.length++),j};Math.imul||(xe=ge);function Ae(oe,c,b){b.negative=c.negative^oe.negative,b.length=oe.length+c.length;for(var j=0,Z=0,re=0;re<b.length-1;re++){var ae=Z;Z=0;for(var se=j&67108863,ee=Math.min(re,c.length-1),_=Math.max(0,re-oe.length+1);_<=ee;_++){var te=re-_,ue=oe.words[te]|0,ve=c.words[_]|0,be=ue*ve,Me=be&67108863;ae=ae+(be/67108864|0)|0,Me=Me+se|0,se=Me&67108863,ae=ae+(Me>>>26)|0,Z+=ae>>>26,ae&=67108863}b.words[re]=se,j=ae,ae=Z}return j!==0?b.words[re]=j:b.length--,b.strip()}function Ee(oe,c,b){var j=new we;return j.mulp(oe,c,b)}d.prototype.mulTo=function(c,b){var j,Z=this.length+c.length;return this.length===10&&c.length===10?j=xe(this,c,b):Z<63?j=ge(this,c,b):Z<1024?j=Ae(this,c,b):j=Ee(this,c,b),j};function we(oe,c){this.x=oe,this.y=c}we.prototype.makeRBT=function(c){for(var b=new Array(c),j=d.prototype._countBits(c)-1,Z=0;Z<c;Z++)b[Z]=this.revBin(Z,j,c);return b},we.prototype.revBin=function(c,b,j){if(c===0||c===j-1)return c;for(var Z=0,re=0;re<b;re++)Z|=(c&1)<<b-re-1,c>>=1;return Z},we.prototype.permute=function(c,b,j,Z,re,ae){for(var se=0;se<ae;se++)Z[se]=b[c[se]],re[se]=j[c[se]]},we.prototype.transform=function(c,b,j,Z,re,ae){this.permute(ae,c,b,j,Z,re);for(var se=1;se<re;se<<=1)for(var ee=se<<1,_=Math.cos(2*Math.PI/ee),te=Math.sin(2*Math.PI/ee),ue=0;ue<re;ue+=ee)for(var ve=_,be=te,Me=0;Me<se;Me++){var Se=j[ue+Me],_e=Z[ue+Me],Re=j[ue+Me+se],Ie=Z[ue+Me+se],Ne=ve*Re-be*Ie;Ie=ve*Ie+be*Re,Re=Ne,j[ue+Me]=Se+Re,Z[ue+Me]=_e+Ie,j[ue+Me+se]=Se-Re,Z[ue+Me+se]=_e-Ie,Me!==ee&&(Ne=_*ve-te*be,be=_*be+te*ve,ve=Ne)}},we.prototype.guessLen13b=function(c,b){var j=Math.max(b,c)|1,Z=j&1,re=0;for(j=j/2|0;j;j=j>>>1)re++;return 1<<re+1+Z},we.prototype.conjugate=function(c,b,j){if(!(j<=1))for(var Z=0;Z<j/2;Z++){var re=c[Z];c[Z]=c[j-Z-1],c[j-Z-1]=re,re=b[Z],b[Z]=-b[j-Z-1],b[j-Z-1]=-re}},we.prototype.normalize13b=function(c,b){for(var j=0,Z=0;Z<b/2;Z++){var re=Math.round(c[2*Z+1]/b)*8192+Math.round(c[2*Z]/b)+j;c[Z]=re&67108863,re<67108864?j=0:j=re/67108864|0}return c},we.prototype.convert13b=function(c,b,j,Z){for(var re=0,ae=0;ae<b;ae++)re=re+(c[ae]|0),j[2*ae]=re&8191,re=re>>>13,j[2*ae+1]=re&8191,re=re>>>13;for(ae=2*b;ae<Z;++ae)j[ae]=0;h(re===0),h((re&-8192)===0)},we.prototype.stub=function(c){for(var b=new Array(c),j=0;j<c;j++)b[j]=0;return b},we.prototype.mulp=function(c,b,j){var Z=2*this.guessLen13b(c.length,b.length),re=this.makeRBT(Z),ae=this.stub(Z),se=new Array(Z),ee=new Array(Z),_=new Array(Z),te=new Array(Z),ue=new Array(Z),ve=new Array(Z),be=j.words;be.length=Z,this.convert13b(c.words,c.length,se,Z),this.convert13b(b.words,b.length,te,Z),this.transform(se,ae,ee,_,Z,re),this.transform(te,ae,ue,ve,Z,re);for(var Me=0;Me<Z;Me++){var Se=ee[Me]*ue[Me]-_[Me]*ve[Me];_[Me]=ee[Me]*ve[Me]+_[Me]*ue[Me],ee[Me]=Se}return this.conjugate(ee,_,Z),this.transform(ee,_,be,ae,Z,re),this.conjugate(be,ae,Z),this.normalize13b(be,Z),j.negative=c.negative^b.negative,j.length=c.length+b.length,j.strip()},d.prototype.mul=function(c){var b=new d(null);return b.words=new Array(this.length+c.length),this.mulTo(c,b)},d.prototype.mulf=function(c){var b=new d(null);return b.words=new Array(this.length+c.length),Ee(this,c,b)},d.prototype.imul=function(c){return this.clone().mulTo(c,this)},d.prototype.imuln=function(c){h(typeof c=="number"),h(c<67108864);for(var b=0,j=0;j<this.length;j++){var Z=(this.words[j]|0)*c,re=(Z&67108863)+(b&67108863);b>>=26,b+=Z/67108864|0,b+=re>>>26,this.words[j]=re&67108863}return b!==0&&(this.words[j]=b,this.length++),this.length=c===0?1:this.length,this},d.prototype.muln=function(c){return this.clone().imuln(c)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(c){var b=ce(c);if(b.length===0)return new d(1);for(var j=this,Z=0;Z<b.length&&b[Z]===0;Z++,j=j.sqr());if(++Z<b.length)for(var re=j.sqr();Z<b.length;Z++,re=re.sqr())b[Z]!==0&&(j=j.mul(re));return j},d.prototype.iushln=function(c){h(typeof c=="number"&&c>=0);var b=c%26,j=(c-b)/26,Z=67108863>>>26-b<<26-b,re;if(b!==0){var ae=0;for(re=0;re<this.length;re++){var se=this.words[re]&Z,ee=(this.words[re]|0)-se<<b;this.words[re]=ee|ae,ae=se>>>26-b}ae&&(this.words[re]=ae,this.length++)}if(j!==0){for(re=this.length-1;re>=0;re--)this.words[re+j]=this.words[re];for(re=0;re<j;re++)this.words[re]=0;this.length+=j}return this.strip()},d.prototype.ishln=function(c){return h(this.negative===0),this.iushln(c)},d.prototype.iushrn=function(c,b,j){h(typeof c=="number"&&c>=0);var Z;b?Z=(b-b%26)/26:Z=0;var re=c%26,ae=Math.min((c-re)/26,this.length),se=67108863^67108863>>>re<<re,ee=j;if(Z-=ae,Z=Math.max(0,Z),ee){for(var _=0;_<ae;_++)ee.words[_]=this.words[_];ee.length=ae}if(ae!==0)if(this.length>ae)for(this.length-=ae,_=0;_<this.length;_++)this.words[_]=this.words[_+ae];else this.words[0]=0,this.length=1;var te=0;for(_=this.length-1;_>=0&&(te!==0||_>=Z);_--){var ue=this.words[_]|0;this.words[_]=te<<26-re|ue>>>re,te=ue&se}return ee&&te!==0&&(ee.words[ee.length++]=te),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function(c,b,j){return h(this.negative===0),this.iushrn(c,b,j)},d.prototype.shln=function(c){return this.clone().ishln(c)},d.prototype.ushln=function(c){return this.clone().iushln(c)},d.prototype.shrn=function(c){return this.clone().ishrn(c)},d.prototype.ushrn=function(c){return this.clone().iushrn(c)},d.prototype.testn=function(c){h(typeof c=="number"&&c>=0);var b=c%26,j=(c-b)/26,Z=1<<b;if(this.length<=j)return!1;var re=this.words[j];return!!(re&Z)},d.prototype.imaskn=function(c){h(typeof c=="number"&&c>=0);var b=c%26,j=(c-b)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(b!==0&&j++,this.length=Math.min(j,this.length),b!==0){var Z=67108863^67108863>>>b<<b;this.words[this.length-1]&=Z}return this.strip()},d.prototype.maskn=function(c){return this.clone().imaskn(c)},d.prototype.iaddn=function(c){return h(typeof c=="number"),h(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},d.prototype._iaddn=function(c){this.words[0]+=c;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},d.prototype.isubn=function(c){if(h(typeof c=="number"),h(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this.strip()},d.prototype.addn=function(c){return this.clone().iaddn(c)},d.prototype.subn=function(c){return this.clone().isubn(c)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(c,b,j){var Z=c.length+j,re;this._expand(Z);var ae,se=0;for(re=0;re<c.length;re++){ae=(this.words[re+j]|0)+se;var ee=(c.words[re]|0)*b;ae-=ee&67108863,se=(ae>>26)-(ee/67108864|0),this.words[re+j]=ae&67108863}for(;re<this.length-j;re++)ae=(this.words[re+j]|0)+se,se=ae>>26,this.words[re+j]=ae&67108863;if(se===0)return this.strip();for(h(se===-1),se=0,re=0;re<this.length;re++)ae=-(this.words[re]|0)+se,se=ae>>26,this.words[re]=ae&67108863;return this.negative=1,this.strip()},d.prototype._wordDiv=function(c,b){var j=this.length-c.length,Z=this.clone(),re=c,ae=re.words[re.length-1]|0,se=this._countBits(ae);j=26-se,j!==0&&(re=re.ushln(j),Z.iushln(j),ae=re.words[re.length-1]|0);var ee=Z.length-re.length,_;if(b!=="mod"){_=new d(null),_.length=ee+1,_.words=new Array(_.length);for(var te=0;te<_.length;te++)_.words[te]=0}var ue=Z.clone()._ishlnsubmul(re,1,ee);ue.negative===0&&(Z=ue,_&&(_.words[ee]=1));for(var ve=ee-1;ve>=0;ve--){var be=(Z.words[re.length+ve]|0)*67108864+(Z.words[re.length+ve-1]|0);for(be=Math.min(be/ae|0,67108863),Z._ishlnsubmul(re,be,ve);Z.negative!==0;)be--,Z.negative=0,Z._ishlnsubmul(re,1,ve),Z.isZero()||(Z.negative^=1);_&&(_.words[ve]=be)}return _&&_.strip(),Z.strip(),b!=="div"&&j!==0&&Z.iushrn(j),{div:_||null,mod:Z}},d.prototype.divmod=function(c,b,j){if(h(!c.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var Z,re,ae;return this.negative!==0&&c.negative===0?(ae=this.neg().divmod(c,b),b!=="mod"&&(Z=ae.div.neg()),b!=="div"&&(re=ae.mod.neg(),j&&re.negative!==0&&re.iadd(c)),{div:Z,mod:re}):this.negative===0&&c.negative!==0?(ae=this.divmod(c.neg(),b),b!=="mod"&&(Z=ae.div.neg()),{div:Z,mod:ae.mod}):this.negative&c.negative?(ae=this.neg().divmod(c.neg(),b),b!=="div"&&(re=ae.mod.neg(),j&&re.negative!==0&&re.isub(c)),{div:ae.div,mod:re}):c.length>this.length||this.cmp(c)<0?{div:new d(0),mod:this}:c.length===1?b==="div"?{div:this.divn(c.words[0]),mod:null}:b==="mod"?{div:null,mod:new d(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new d(this.modn(c.words[0]))}:this._wordDiv(c,b)},d.prototype.div=function(c){return this.divmod(c,"div",!1).div},d.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},d.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},d.prototype.divRound=function(c){var b=this.divmod(c);if(b.mod.isZero())return b.div;var j=b.div.negative!==0?b.mod.isub(c):b.mod,Z=c.ushrn(1),re=c.andln(1),ae=j.cmp(Z);return ae<0||re===1&&ae===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},d.prototype.modn=function(c){h(c<=67108863);for(var b=(1<<26)%c,j=0,Z=this.length-1;Z>=0;Z--)j=(b*j+(this.words[Z]|0))%c;return j},d.prototype.idivn=function(c){h(c<=67108863);for(var b=0,j=this.length-1;j>=0;j--){var Z=(this.words[j]|0)+b*67108864;this.words[j]=Z/c|0,b=Z%c}return this.strip()},d.prototype.divn=function(c){return this.clone().idivn(c)},d.prototype.egcd=function(c){h(c.negative===0),h(!c.isZero());var b=this,j=c.clone();b.negative!==0?b=b.umod(c):b=b.clone();for(var Z=new d(1),re=new d(0),ae=new d(0),se=new d(1),ee=0;b.isEven()&&j.isEven();)b.iushrn(1),j.iushrn(1),++ee;for(var _=j.clone(),te=b.clone();!b.isZero();){for(var ue=0,ve=1;!(b.words[0]&ve)&&ue<26;++ue,ve<<=1);if(ue>0)for(b.iushrn(ue);ue-- >0;)(Z.isOdd()||re.isOdd())&&(Z.iadd(_),re.isub(te)),Z.iushrn(1),re.iushrn(1);for(var be=0,Me=1;!(j.words[0]&Me)&&be<26;++be,Me<<=1);if(be>0)for(j.iushrn(be);be-- >0;)(ae.isOdd()||se.isOdd())&&(ae.iadd(_),se.isub(te)),ae.iushrn(1),se.iushrn(1);b.cmp(j)>=0?(b.isub(j),Z.isub(ae),re.isub(se)):(j.isub(b),ae.isub(Z),se.isub(re))}return{a:ae,b:se,gcd:j.iushln(ee)}},d.prototype._invmp=function(c){h(c.negative===0),h(!c.isZero());var b=this,j=c.clone();b.negative!==0?b=b.umod(c):b=b.clone();for(var Z=new d(1),re=new d(0),ae=j.clone();b.cmpn(1)>0&&j.cmpn(1)>0;){for(var se=0,ee=1;!(b.words[0]&ee)&&se<26;++se,ee<<=1);if(se>0)for(b.iushrn(se);se-- >0;)Z.isOdd()&&Z.iadd(ae),Z.iushrn(1);for(var _=0,te=1;!(j.words[0]&te)&&_<26;++_,te<<=1);if(_>0)for(j.iushrn(_);_-- >0;)re.isOdd()&&re.iadd(ae),re.iushrn(1);b.cmp(j)>=0?(b.isub(j),Z.isub(re)):(j.isub(b),re.isub(Z))}var ue;return b.cmpn(1)===0?ue=Z:ue=re,ue.cmpn(0)<0&&ue.iadd(c),ue},d.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var b=this.clone(),j=c.clone();b.negative=0,j.negative=0;for(var Z=0;b.isEven()&&j.isEven();Z++)b.iushrn(1),j.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;j.isEven();)j.iushrn(1);var re=b.cmp(j);if(re<0){var ae=b;b=j,j=ae}else if(re===0||j.cmpn(1)===0)break;b.isub(j)}while(!0);return j.iushln(Z)},d.prototype.invm=function(c){return this.egcd(c).a.umod(c)},d.prototype.isEven=function(){return(this.words[0]&1)===0},d.prototype.isOdd=function(){return(this.words[0]&1)===1},d.prototype.andln=function(c){return this.words[0]&c},d.prototype.bincn=function(c){h(typeof c=="number");var b=c%26,j=(c-b)/26,Z=1<<b;if(this.length<=j)return this._expand(j+1),this.words[j]|=Z,this;for(var re=Z,ae=j;re!==0&&ae<this.length;ae++){var se=this.words[ae]|0;se+=re,re=se>>>26,se&=67108863,this.words[ae]=se}return re!==0&&(this.words[ae]=re,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(c){var b=c<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this.strip();var j;if(this.length>1)j=1;else{b&&(c=-c),h(c<=67108863,"Number is too big");var Z=this.words[0]|0;j=Z===c?0:Z<c?-1:1}return this.negative!==0?-j|0:j},d.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var b=this.ucmp(c);return this.negative!==0?-b|0:b},d.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var b=0,j=this.length-1;j>=0;j--){var Z=this.words[j]|0,re=c.words[j]|0;if(Z!==re){Z<re?b=-1:Z>re&&(b=1);break}}return b},d.prototype.gtn=function(c){return this.cmpn(c)===1},d.prototype.gt=function(c){return this.cmp(c)===1},d.prototype.gten=function(c){return this.cmpn(c)>=0},d.prototype.gte=function(c){return this.cmp(c)>=0},d.prototype.ltn=function(c){return this.cmpn(c)===-1},d.prototype.lt=function(c){return this.cmp(c)===-1},d.prototype.lten=function(c){return this.cmpn(c)<=0},d.prototype.lte=function(c){return this.cmp(c)<=0},d.prototype.eqn=function(c){return this.cmpn(c)===0},d.prototype.eq=function(c){return this.cmp(c)===0},d.red=function(c){return new Ce(c)},d.prototype.toRed=function(c){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},d.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(c){return this.red=c,this},d.prototype.forceRed=function(c){return h(!this.red,"Already a number in reduction context"),this._forceRed(c)},d.prototype.redAdd=function(c){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},d.prototype.redIAdd=function(c){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},d.prototype.redSub=function(c){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},d.prototype.redISub=function(c){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},d.prototype.redShl=function(c){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},d.prototype.redMul=function(c){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},d.prototype.redIMul=function(c){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},d.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(c){return h(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var pe={k256:null,p224:null,p192:null,p25519:null};function me(oe,c){this.name=oe,this.p=new d(c,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}me.prototype._tmp=function(){var c=new d(null);return c.words=new Array(Math.ceil(this.n/13)),c},me.prototype.ireduce=function(c){var b=c,j;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),j=b.bitLength();while(j>this.n);var Z=j<this.n?-1:b.ucmp(this.p);return Z===0?(b.words[0]=0,b.length=1):Z>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},me.prototype.split=function(c,b){c.iushrn(this.n,0,b)},me.prototype.imulK=function(c){return c.imul(this.k)};function Te(){me.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$(Te,me),Te.prototype.split=function(c,b){for(var j=4194303,Z=Math.min(c.length,9),re=0;re<Z;re++)b.words[re]=c.words[re];if(b.length=Z,c.length<=9){c.words[0]=0,c.length=1;return}var ae=c.words[9];for(b.words[b.length++]=ae&j,re=10;re<c.length;re++){var se=c.words[re]|0;c.words[re-10]=(se&j)<<4|ae>>>22,ae=se}ae>>>=22,c.words[re-10]=ae,ae===0&&c.length>10?c.length-=10:c.length-=9},Te.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var b=0,j=0;j<c.length;j++){var Z=c.words[j]|0;b+=Z*977,c.words[j]=b&67108863,b=Z*64+(b/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function Pe(){me.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$(Pe,me);function Le(){me.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$(Le,me);function qe(){me.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$(qe,me),qe.prototype.imulK=function(c){for(var b=0,j=0;j<c.length;j++){var Z=(c.words[j]|0)*19+b,re=Z&67108863;Z>>>=26,c.words[j]=re,b=Z}return b!==0&&(c.words[c.length++]=b),c},d._prime=function(c){if(pe[c])return pe[c];var b;if(c==="k256")b=new Te;else if(c==="p224")b=new Pe;else if(c==="p192")b=new Le;else if(c==="p25519")b=new qe;else throw new Error("Unknown prime "+c);return pe[c]=b,b};function Ce(oe){if(typeof oe=="string"){var c=d._prime(oe);this.m=c.p,this.prime=c}else h(oe.gtn(1),"modulus must be greater than 1"),this.m=oe,this.prime=null}Ce.prototype._verify1=function(c){h(c.negative===0,"red works only with positives"),h(c.red,"red works only with red numbers")},Ce.prototype._verify2=function(c,b){h((c.negative|b.negative)===0,"red works only with positives"),h(c.red&&c.red===b.red,"red works only with red numbers")},Ce.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},Ce.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},Ce.prototype.add=function(c,b){this._verify2(c,b);var j=c.add(b);return j.cmp(this.m)>=0&&j.isub(this.m),j._forceRed(this)},Ce.prototype.iadd=function(c,b){this._verify2(c,b);var j=c.iadd(b);return j.cmp(this.m)>=0&&j.isub(this.m),j},Ce.prototype.sub=function(c,b){this._verify2(c,b);var j=c.sub(b);return j.cmpn(0)<0&&j.iadd(this.m),j._forceRed(this)},Ce.prototype.isub=function(c,b){this._verify2(c,b);var j=c.isub(b);return j.cmpn(0)<0&&j.iadd(this.m),j},Ce.prototype.shl=function(c,b){return this._verify1(c),this.imod(c.ushln(b))},Ce.prototype.imul=function(c,b){return this._verify2(c,b),this.imod(c.imul(b))},Ce.prototype.mul=function(c,b){return this._verify2(c,b),this.imod(c.mul(b))},Ce.prototype.isqr=function(c){return this.imul(c,c.clone())},Ce.prototype.sqr=function(c){return this.mul(c,c)},Ce.prototype.sqrt=function(c){if(c.isZero())return c.clone();var b=this.m.andln(3);if(h(b%2===1),b===3){var j=this.m.add(new d(1)).iushrn(2);return this.pow(c,j)}for(var Z=this.m.subn(1),re=0;!Z.isZero()&&Z.andln(1)===0;)re++,Z.iushrn(1);h(!Z.isZero());var ae=new d(1).toRed(this),se=ae.redNeg(),ee=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new d(2*_*_).toRed(this);this.pow(_,ee).cmp(se)!==0;)_.redIAdd(se);for(var te=this.pow(_,Z),ue=this.pow(c,Z.addn(1).iushrn(1)),ve=this.pow(c,Z),be=re;ve.cmp(ae)!==0;){for(var Me=ve,Se=0;Me.cmp(ae)!==0;Se++)Me=Me.redSqr();h(Se<be);var _e=this.pow(te,new d(1).iushln(be-Se-1));ue=ue.redMul(_e),te=_e.redSqr(),ve=ve.redMul(te),be=Se}return ue},Ce.prototype.invm=function(c){var b=c._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},Ce.prototype.pow=function(c,b){if(b.isZero())return new d(1).toRed(this);if(b.cmpn(1)===0)return c.clone();var j=4,Z=new Array(1<<j);Z[0]=new d(1).toRed(this),Z[1]=c;for(var re=2;re<Z.length;re++)Z[re]=this.mul(Z[re-1],c);var ae=Z[0],se=0,ee=0,_=b.bitLength()%26;for(_===0&&(_=26),re=b.length-1;re>=0;re--){for(var te=b.words[re],ue=_-1;ue>=0;ue--){var ve=te>>ue&1;if(ae!==Z[0]&&(ae=this.sqr(ae)),ve===0&&se===0){ee=0;continue}se<<=1,se|=ve,ee++,!(ee!==j&&(re!==0||ue!==0))&&(ae=this.mul(ae,Z[se]),ee=0,se=0)}_=26}return ae},Ce.prototype.convertTo=function(c){var b=c.umod(this.m);return b===c?b.clone():b},Ce.prototype.convertFrom=function(c){var b=c.clone();return b.red=null,b},d.mont=function(c){return new ze(c)};function ze(oe){Ce.call(this,oe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$(ze,Ce),ze.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},ze.prototype.convertFrom=function(c){var b=this.imod(c.mul(this.rinv));return b.red=null,b},ze.prototype.imul=function(c,b){if(c.isZero()||b.isZero())return c.words[0]=0,c.length=1,c;var j=c.imul(b),Z=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=j.isub(Z).iushrn(this.shift),ae=re;return re.cmp(this.m)>=0?ae=re.isub(this.m):re.cmpn(0)<0&&(ae=re.iadd(this.m)),ae._forceRed(this)},ze.prototype.mul=function(c,b){if(c.isZero()||b.isZero())return new d(0)._forceRed(this);var j=c.mul(b),Z=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=j.isub(Z).iushrn(this.shift),ae=re;return re.cmp(this.m)>=0?ae=re.isub(this.m):re.cmpn(0)<0&&(ae=re.iadd(this.m)),ae._forceRed(this)},ze.prototype.invm=function(c){var b=this.imod(c._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(a,commonjsGlobal)})(bn$2);var bnExports$2=bn$2.exports,api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(a,e){if(a.indexOf)return a.indexOf(e);for(var o=0;o<a.length;o++)if(a[o]===e)return o;return-1},Object_keys=function(a){if(Object.keys)return Object.keys(a);var e=[];for(var o in a)e.push(o);return e},forEach=function(a,e){if(a.forEach)return a.forEach(e);for(var o=0;o<a.length;o++)e(a[o],o,a)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(a,e,o){Object.defineProperty(a,e,{writable:!0,enumerable:!1,configurable:!0,value:o})}}catch{return function(e,o,h){e[o]=h}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(a){if(!(a instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var o=e.contentWindow,h=o.eval,$=o.execScript;!h&&$&&($.call(o,"null"),h=o.eval),forEach(Object_keys(a),function(ie){o[ie]=a[ie]}),forEach(globals,function(ie){a[ie]&&(o[ie]=a[ie])});var d=Object_keys(o),Y=h.call(o,this.code);return forEach(Object_keys(o),function(ie){(ie in a||indexOf(d,ie)===-1)&&(a[ie]=o[ie])}),forEach(globals,function(ie){ie in a||defineProp(a,ie,o[ie])}),document.body.removeChild(e),Y},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(a){var e=Script.createContext(a),o=this.runInContext(e);return a&&forEach(Object_keys(e),function(h){a[h]=e[h]}),o},forEach(Object_keys(Script.prototype),function(a){exports[a]=Script[a]=function(e){var o=Script(e);return o[a].apply(o,[].slice.call(arguments,1))}}),exports.isContext=function(a){return a instanceof Context},exports.createScript=function(a){return exports.Script(a)},exports.createContext=Script.createContext=function(a){var e=new Context;return typeof a=="object"&&forEach(Object_keys(a),function(o){e[o]=a[o]}),e}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(a){var e=requireAsn1(),o=inherits_browserExports,h=a;h.define=function(Y,ie){return new $(Y,ie)};function $(d,Y){this.name=d,this.body=Y,this.decoders={},this.encoders={}}$.prototype._createNamed=function(Y){var ie;try{ie=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{ie=function(he){this._initNamed(he)}}return o(ie,Y),ie.prototype._initNamed=function(he){Y.call(this,he)},new ie(this)},$.prototype._getDecoder=function(Y){return Y=Y||"der",this.decoders.hasOwnProperty(Y)||(this.decoders[Y]=this._createNamed(e.decoders[Y])),this.decoders[Y]},$.prototype.decode=function(Y,ie,fe){return this._getDecoder(ie).decode(Y,fe)},$.prototype._getEncoder=function(Y){return Y=Y||"der",this.encoders.hasOwnProperty(Y)||(this.encoders[Y]=this._createNamed(e.encoders[Y])),this.encoders[Y]},$.prototype.encode=function(Y,ie,fe){return this._getEncoder(ie).encode(Y,fe)}}(api)),api}var base={},reporter={},inherits=inherits_browserExports;function Reporter(a){this._reporterState={obj:null,path:[],options:a||{},errors:[]}}reporter.Reporter=Reporter;Reporter.prototype.isError=function a(e){return e instanceof ReporterError};Reporter.prototype.save=function a(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};Reporter.prototype.restore=function a(e){var o=this._reporterState;o.obj=e.obj,o.path=o.path.slice(0,e.pathLen)};Reporter.prototype.enterKey=function a(e){return this._reporterState.path.push(e)};Reporter.prototype.exitKey=function a(e){var o=this._reporterState;o.path=o.path.slice(0,e-1)};Reporter.prototype.leaveKey=function a(e,o,h){var $=this._reporterState;this.exitKey(e),$.obj!==null&&($.obj[o]=h)};Reporter.prototype.path=function a(){return this._reporterState.path.join("/")};Reporter.prototype.enterObject=function a(){var e=this._reporterState,o=e.obj;return e.obj={},o};Reporter.prototype.leaveObject=function a(e){var o=this._reporterState,h=o.obj;return o.obj=e,h};Reporter.prototype.error=function a(e){var o,h=this._reporterState,$=e instanceof ReporterError;if($?o=e:o=new ReporterError(h.path.map(function(d){return"["+JSON.stringify(d)+"]"}).join(""),e.message||e,e.stack),!h.options.partial)throw o;return $||h.errors.push(o),o};Reporter.prototype.wrapResult=function a(e){var o=this._reporterState;return o.options.partial?{result:this.isError(e)?null:e,errors:o.errors}:e};function ReporterError(a,e){this.path=a,this.rethrow(e)}inherits(ReporterError,Error);ReporterError.prototype.rethrow=function a(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError),!this.stack)try{throw new Error(this.message)}catch(o){this.stack=o.stack}return this};var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var a=inherits_browserExports,e=requireBase().Reporter,o=require$$0$3.Buffer;function h(d,Y){if(e.call(this,Y),!o.isBuffer(d)){this.error("Input not Buffer");return}this.base=d,this.offset=0,this.length=d.length}a(h,e),buffer.DecoderBuffer=h,h.prototype.save=function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},h.prototype.restore=function(Y){var ie=new h(this.base);return ie.offset=Y.offset,ie.length=this.offset,this.offset=Y.offset,e.prototype.restore.call(this,Y.reporter),ie},h.prototype.isEmpty=function(){return this.offset===this.length},h.prototype.readUInt8=function(Y){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(Y||"DecoderBuffer overrun")},h.prototype.skip=function(Y,ie){if(!(this.offset+Y<=this.length))return this.error(ie||"DecoderBuffer overrun");var fe=new h(this.base);return fe._reporterState=this._reporterState,fe.offset=this.offset,fe.length=this.offset+Y,this.offset+=Y,fe},h.prototype.raw=function(Y){return this.base.slice(Y?Y.offset:this.offset,this.length)};function $(d,Y){if(Array.isArray(d))this.length=0,this.value=d.map(function(ie){return ie instanceof $||(ie=new $(ie,Y)),this.length+=ie.length,ie},this);else if(typeof d=="number"){if(!(0<=d&&d<=255))return Y.error("non-byte EncoderBuffer value");this.value=d,this.length=1}else if(typeof d=="string")this.value=d,this.length=o.byteLength(d);else if(o.isBuffer(d))this.value=d,this.length=d.length;else return Y.error("Unsupported type: "+typeof d)}return buffer.EncoderBuffer=$,$.prototype.join=function(Y,ie){return Y||(Y=new o(this.length)),ie||(ie=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(fe){fe.join(Y,ie),ie+=fe.length}):(typeof this.value=="number"?Y[ie]=this.value:typeof this.value=="string"?Y.write(this.value,ie):o.isBuffer(this.value)&&this.value.copy(Y,ie),ie+=this.length)),Y},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var a=requireBase().Reporter,e=requireBase().EncoderBuffer,o=requireBase().DecoderBuffer,h=minimalisticAssert,$=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],d=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat($),Y=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function ie(he,ne){var le={};this._baseState=le,le.enc=he,le.parent=ne||null,le.children=null,le.tag=null,le.args=null,le.reverseArgs=null,le.choice=null,le.optional=!1,le.any=!1,le.obj=!1,le.use=null,le.useDecoder=null,le.key=null,le.default=null,le.explicit=null,le.implicit=null,le.contains=null,le.parent||(le.children=[],this._wrap())}node=ie;var fe=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return ie.prototype.clone=function(){var ne=this._baseState,le={};fe.forEach(function(ce){le[ce]=ne[ce]});var de=new this.constructor(le.parent);return de._baseState=le,de},ie.prototype._wrap=function(){var ne=this._baseState;d.forEach(function(le){this[le]=function(){var ce=new this.constructor(this);return ne.children.push(ce),ce[le].apply(ce,arguments)}},this)},ie.prototype._init=function(ne){var le=this._baseState;h(le.parent===null),ne.call(this),le.children=le.children.filter(function(de){return de._baseState.parent===this},this),h.equal(le.children.length,1,"Root node can have only one child")},ie.prototype._useArgs=function(ne){var le=this._baseState,de=ne.filter(function(ce){return ce instanceof this.constructor},this);ne=ne.filter(function(ce){return!(ce instanceof this.constructor)},this),de.length!==0&&(h(le.children===null),le.children=de,de.forEach(function(ce){ce._baseState.parent=this},this)),ne.length!==0&&(h(le.args===null),le.args=ne,le.reverseArgs=ne.map(function(ce){if(typeof ce!="object"||ce.constructor!==Object)return ce;var ge={};return Object.keys(ce).forEach(function(xe){xe==(xe|0)&&(xe|=0);var Ae=ce[xe];ge[Ae]=xe}),ge}))},Y.forEach(function(he){ie.prototype[he]=function(){var le=this._baseState;throw new Error(he+" not implemented for encoding: "+le.enc)}}),$.forEach(function(he){ie.prototype[he]=function(){var le=this._baseState,de=Array.prototype.slice.call(arguments);return h(le.tag===null),le.tag=he,this._useArgs(de),this}}),ie.prototype.use=function(ne){h(ne);var le=this._baseState;return h(le.use===null),le.use=ne,this},ie.prototype.optional=function(){var ne=this._baseState;return ne.optional=!0,this},ie.prototype.def=function(ne){var le=this._baseState;return h(le.default===null),le.default=ne,le.optional=!0,this},ie.prototype.explicit=function(ne){var le=this._baseState;return h(le.explicit===null&&le.implicit===null),le.explicit=ne,this},ie.prototype.implicit=function(ne){var le=this._baseState;return h(le.explicit===null&&le.implicit===null),le.implicit=ne,this},ie.prototype.obj=function(){var ne=this._baseState,le=Array.prototype.slice.call(arguments);return ne.obj=!0,le.length!==0&&this._useArgs(le),this},ie.prototype.key=function(ne){var le=this._baseState;return h(le.key===null),le.key=ne,this},ie.prototype.any=function(){var ne=this._baseState;return ne.any=!0,this},ie.prototype.choice=function(ne){var le=this._baseState;return h(le.choice===null),le.choice=ne,this._useArgs(Object.keys(ne).map(function(de){return ne[de]})),this},ie.prototype.contains=function(ne){var le=this._baseState;return h(le.use===null),le.contains=ne,this},ie.prototype._decode=function(ne,le){var de=this._baseState;if(de.parent===null)return ne.wrapResult(de.children[0]._decode(ne,le));var ce=de.default,ge=!0,xe=null;if(de.key!==null&&(xe=ne.enterKey(de.key)),de.optional){var Ae=null;if(de.explicit!==null?Ae=de.explicit:de.implicit!==null?Ae=de.implicit:de.tag!==null&&(Ae=de.tag),Ae===null&&!de.any){var Ee=ne.save();try{de.choice===null?this._decodeGeneric(de.tag,ne,le):this._decodeChoice(ne,le),ge=!0}catch{ge=!1}ne.restore(Ee)}else if(ge=this._peekTag(ne,Ae,de.any),ne.isError(ge))return ge}var we;if(de.obj&&ge&&(we=ne.enterObject()),ge){if(de.explicit!==null){var pe=this._decodeTag(ne,de.explicit);if(ne.isError(pe))return pe;ne=pe}var me=ne.offset;if(de.use===null&&de.choice===null){if(de.any)var Ee=ne.save();var Te=this._decodeTag(ne,de.implicit!==null?de.implicit:de.tag,de.any);if(ne.isError(Te))return Te;de.any?ce=ne.raw(Ee):ne=Te}if(le&&le.track&&de.tag!==null&&le.track(ne.path(),me,ne.length,"tagged"),le&&le.track&&de.tag!==null&&le.track(ne.path(),ne.offset,ne.length,"content"),de.any?ce=ce:de.choice===null?ce=this._decodeGeneric(de.tag,ne,le):ce=this._decodeChoice(ne,le),ne.isError(ce))return ce;if(!de.any&&de.choice===null&&de.children!==null&&de.children.forEach(function(qe){qe._decode(ne,le)}),de.contains&&(de.tag==="octstr"||de.tag==="bitstr")){var Pe=new o(ce);ce=this._getUse(de.contains,ne._reporterState.obj)._decode(Pe,le)}}return de.obj&&ge&&(ce=ne.leaveObject(we)),de.key!==null&&(ce!==null||ge===!0)?ne.leaveKey(xe,de.key,ce):xe!==null&&ne.exitKey(xe),ce},ie.prototype._decodeGeneric=function(ne,le,de){var ce=this._baseState;return ne==="seq"||ne==="set"?null:ne==="seqof"||ne==="setof"?this._decodeList(le,ne,ce.args[0],de):/str$/.test(ne)?this._decodeStr(le,ne,de):ne==="objid"&&ce.args?this._decodeObjid(le,ce.args[0],ce.args[1],de):ne==="objid"?this._decodeObjid(le,null,null,de):ne==="gentime"||ne==="utctime"?this._decodeTime(le,ne,de):ne==="null_"?this._decodeNull(le,de):ne==="bool"?this._decodeBool(le,de):ne==="objDesc"?this._decodeStr(le,ne,de):ne==="int"||ne==="enum"?this._decodeInt(le,ce.args&&ce.args[0],de):ce.use!==null?this._getUse(ce.use,le._reporterState.obj)._decode(le,de):le.error("unknown tag: "+ne)},ie.prototype._getUse=function(ne,le){var de=this._baseState;return de.useDecoder=this._use(ne,le),h(de.useDecoder._baseState.parent===null),de.useDecoder=de.useDecoder._baseState.children[0],de.implicit!==de.useDecoder._baseState.implicit&&(de.useDecoder=de.useDecoder.clone(),de.useDecoder._baseState.implicit=de.implicit),de.useDecoder},ie.prototype._decodeChoice=function(ne,le){var de=this._baseState,ce=null,ge=!1;return Object.keys(de.choice).some(function(xe){var Ae=ne.save(),Ee=de.choice[xe];try{var we=Ee._decode(ne,le);if(ne.isError(we))return!1;ce={type:xe,value:we},ge=!0}catch{return ne.restore(Ae),!1}return!0},this),ge?ce:ne.error("Choice not matched")},ie.prototype._createEncoderBuffer=function(ne){return new e(ne,this.reporter)},ie.prototype._encode=function(ne,le,de){var ce=this._baseState;if(!(ce.default!==null&&ce.default===ne)){var ge=this._encodeValue(ne,le,de);if(ge!==void 0&&!this._skipDefault(ge,le,de))return ge}},ie.prototype._encodeValue=function(ne,le,de){var ce=this._baseState;if(ce.parent===null)return ce.children[0]._encode(ne,le||new a);var Ee=null;if(this.reporter=le,ce.optional&&ne===void 0)if(ce.default!==null)ne=ce.default;else return;var ge=null,xe=!1;if(ce.any)Ee=this._createEncoderBuffer(ne);else if(ce.choice)Ee=this._encodeChoice(ne,le);else if(ce.contains)ge=this._getUse(ce.contains,de)._encode(ne,le),xe=!0;else if(ce.children)ge=ce.children.map(function(me){if(me._baseState.tag==="null_")return me._encode(null,le,ne);if(me._baseState.key===null)return le.error("Child should have a key");var Te=le.enterKey(me._baseState.key);if(typeof ne!="object")return le.error("Child expected, but input is not object");var Pe=me._encode(ne[me._baseState.key],le,ne);return le.leaveKey(Te),Pe},this).filter(function(me){return me}),ge=this._createEncoderBuffer(ge);else if(ce.tag==="seqof"||ce.tag==="setof"){if(!(ce.args&&ce.args.length===1))return le.error("Too many args for : "+ce.tag);if(!Array.isArray(ne))return le.error("seqof/setof, but data is not Array");var Ae=this.clone();Ae._baseState.implicit=null,ge=this._createEncoderBuffer(ne.map(function(me){var Te=this._baseState;return this._getUse(Te.args[0],ne)._encode(me,le)},Ae))}else ce.use!==null?Ee=this._getUse(ce.use,de)._encode(ne,le):(ge=this._encodePrimitive(ce.tag,ne),xe=!0);var Ee;if(!ce.any&&ce.choice===null){var we=ce.implicit!==null?ce.implicit:ce.tag,pe=ce.implicit===null?"universal":"context";we===null?ce.use===null&&le.error("Tag could be omitted only for .use()"):ce.use===null&&(Ee=this._encodeComposite(we,xe,pe,ge))}return ce.explicit!==null&&(Ee=this._encodeComposite(ce.explicit,!1,"context",Ee)),Ee},ie.prototype._encodeChoice=function(ne,le){var de=this._baseState,ce=de.choice[ne.type];return ce||h(!1,ne.type+" not found in "+JSON.stringify(Object.keys(de.choice))),ce._encode(ne.value,le)},ie.prototype._encodePrimitive=function(ne,le){var de=this._baseState;if(/str$/.test(ne))return this._encodeStr(le,ne);if(ne==="objid"&&de.args)return this._encodeObjid(le,de.reverseArgs[0],de.args[1]);if(ne==="objid")return this._encodeObjid(le,null,null);if(ne==="gentime"||ne==="utctime")return this._encodeTime(le,ne);if(ne==="null_")return this._encodeNull();if(ne==="int"||ne==="enum")return this._encodeInt(le,de.args&&de.reverseArgs[0]);if(ne==="bool")return this._encodeBool(le);if(ne==="objDesc")return this._encodeStr(le,ne);throw new Error("Unsupported tag: "+ne)},ie.prototype._isNumstr=function(ne){return/^[0-9 ]*$/.test(ne)},ie.prototype._isPrintstr=function(ne){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(ne)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(a){var e=a;e.Reporter=reporter.Reporter,e.DecoderBuffer=requireBuffer().DecoderBuffer,e.EncoderBuffer=requireBuffer().EncoderBuffer,e.Node=requireNode()}(base)),base}var constants$1={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(a){var e=requireConstants();a.tagClass={0:"universal",1:"application",2:"context",3:"private"},a.tagClassByName=e._reverse(a.tagClass),a.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},a.tagByName=e._reverse(a.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(a){var e=a;e._reverse=function(h){var $={};return Object.keys(h).forEach(function(d){(d|0)==d&&(d=d|0);var Y=h[d];$[Y]=d}),$},e.der=requireDer$2()}(constants$1)),constants$1}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var a=inherits_browserExports,e=requireAsn1(),o=e.base,h=e.bignum,$=e.constants.der;function d(he){this.enc="der",this.name=he.name,this.entity=he,this.tree=new Y,this.tree._init(he.body)}der_1$1=d,d.prototype.decode=function(ne,le){return ne instanceof o.DecoderBuffer||(ne=new o.DecoderBuffer(ne,le)),this.tree._decode(ne,le)};function Y(he){o.Node.call(this,"der",he)}a(Y,o.Node),Y.prototype._peekTag=function(ne,le,de){if(ne.isEmpty())return!1;var ce=ne.save(),ge=ie(ne,'Failed to peek tag: "'+le+'"');return ne.isError(ge)?ge:(ne.restore(ce),ge.tag===le||ge.tagStr===le||ge.tagStr+"of"===le||de)},Y.prototype._decodeTag=function(ne,le,de){var ce=ie(ne,'Failed to decode tag of "'+le+'"');if(ne.isError(ce))return ce;var ge=fe(ne,ce.primitive,'Failed to get length of "'+le+'"');if(ne.isError(ge))return ge;if(!de&&ce.tag!==le&&ce.tagStr!==le&&ce.tagStr+"of"!==le)return ne.error('Failed to match tag: "'+le+'"');if(ce.primitive||ge!==null)return ne.skip(ge,'Failed to match body of: "'+le+'"');var xe=ne.save(),Ae=this._skipUntilEnd(ne,'Failed to skip indefinite length body: "'+this.tag+'"');return ne.isError(Ae)?Ae:(ge=ne.offset-xe.offset,ne.restore(xe),ne.skip(ge,'Failed to match body of: "'+le+'"'))},Y.prototype._skipUntilEnd=function(ne,le){for(;;){var de=ie(ne,le);if(ne.isError(de))return de;var ce=fe(ne,de.primitive,le);if(ne.isError(ce))return ce;var ge;if(de.primitive||ce!==null?ge=ne.skip(ce):ge=this._skipUntilEnd(ne,le),ne.isError(ge))return ge;if(de.tagStr==="end")break}},Y.prototype._decodeList=function(ne,le,de,ce){for(var ge=[];!ne.isEmpty();){var xe=this._peekTag(ne,"end");if(ne.isError(xe))return xe;var Ae=de.decode(ne,"der",ce);if(ne.isError(Ae)&&xe)break;ge.push(Ae)}return ge},Y.prototype._decodeStr=function(ne,le){if(le==="bitstr"){var de=ne.readUInt8();return ne.isError(de)?de:{unused:de,data:ne.raw()}}else if(le==="bmpstr"){var ce=ne.raw();if(ce.length%2===1)return ne.error("Decoding of string type: bmpstr length mismatch");for(var ge="",xe=0;xe<ce.length/2;xe++)ge+=String.fromCharCode(ce.readUInt16BE(xe*2));return ge}else if(le==="numstr"){var Ae=ne.raw().toString("ascii");return this._isNumstr(Ae)?Ae:ne.error("Decoding of string type: numstr unsupported characters")}else{if(le==="octstr")return ne.raw();if(le==="objDesc")return ne.raw();if(le==="printstr"){var Ee=ne.raw().toString("ascii");return this._isPrintstr(Ee)?Ee:ne.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(le)?ne.raw().toString():ne.error("Decoding of string type: "+le+" unsupported")}},Y.prototype._decodeObjid=function(ne,le,de){for(var ce,ge=[],xe=0;!ne.isEmpty();){var Ae=ne.readUInt8();xe<<=7,xe|=Ae&127,Ae&128||(ge.push(xe),xe=0)}Ae&128&&ge.push(xe);var Ee=ge[0]/40|0,we=ge[0]%40;if(de?ce=ge:ce=[Ee,we].concat(ge.slice(1)),le){var pe=le[ce.join(" ")];pe===void 0&&(pe=le[ce.join(".")]),pe!==void 0&&(ce=pe)}return ce},Y.prototype._decodeTime=function(ne,le){var de=ne.raw().toString();if(le==="gentime")var ce=de.slice(0,4)|0,ge=de.slice(4,6)|0,xe=de.slice(6,8)|0,Ae=de.slice(8,10)|0,Ee=de.slice(10,12)|0,we=de.slice(12,14)|0;else if(le==="utctime"){var ce=de.slice(0,2)|0,ge=de.slice(2,4)|0,xe=de.slice(4,6)|0,Ae=de.slice(6,8)|0,Ee=de.slice(8,10)|0,we=de.slice(10,12)|0;ce<70?ce=2e3+ce:ce=1900+ce}else return ne.error("Decoding "+le+" time is not supported yet");return Date.UTC(ce,ge-1,xe,Ae,Ee,we,0)},Y.prototype._decodeNull=function(ne){return null},Y.prototype._decodeBool=function(ne){var le=ne.readUInt8();return ne.isError(le)?le:le!==0},Y.prototype._decodeInt=function(ne,le){var de=ne.raw(),ce=new h(de);return le&&(ce=le[ce.toString(10)]||ce),ce},Y.prototype._use=function(ne,le){return typeof ne=="function"&&(ne=ne(le)),ne._getDecoder("der").tree};function ie(he,ne){var le=he.readUInt8(ne);if(he.isError(le))return le;var de=$.tagClass[le>>6],ce=(le&32)===0;if((le&31)===31){var ge=le;for(le=0;(ge&128)===128;){if(ge=he.readUInt8(ne),he.isError(ge))return ge;le<<=7,le|=ge&127}}else le&=31;var xe=$.tag[le];return{cls:de,primitive:ce,tag:le,tagStr:xe}}function fe(he,ne,le){var de=he.readUInt8(le);if(he.isError(de))return de;if(!ne&&de===128)return null;if(!(de&128))return de;var ce=de&127;if(ce>4)return he.error("length octect is too long");de=0;for(var ge=0;ge<ce;ge++){de<<=8;var xe=he.readUInt8(le);if(he.isError(xe))return xe;de|=xe}return de}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var a=inherits_browserExports,e=require$$0$3.Buffer,o=requireDer$1();function h($){o.call(this,$),this.enc="pem"}return a(h,o),pem$1=h,h.prototype.decode=function(d,Y){for(var ie=d.toString().split(/[\r\n]+/g),fe=Y.label.toUpperCase(),he=/^-----(BEGIN|END) ([^-]+)-----$/,ne=-1,le=-1,de=0;de<ie.length;de++){var ce=ie[de].match(he);if(ce!==null&&ce[2]===fe)if(ne===-1){if(ce[1]!=="BEGIN")break;ne=de}else{if(ce[1]!=="END")break;le=de;break}}if(ne===-1||le===-1)throw new Error("PEM section not found for: "+fe);var ge=ie.slice(ne+1,le).join("");ge.replace(/[^a-z0-9\+\/=]+/gi,"");var xe=new e(ge,"base64");return o.prototype.decode.call(this,xe,Y)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(a){var e=a;e.der=requireDer$1(),e.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var a=inherits_browserExports,e=require$$0$3.Buffer,o=requireAsn1(),h=o.base,$=o.constants.der;function d(he){this.enc="der",this.name=he.name,this.entity=he,this.tree=new Y,this.tree._init(he.body)}der_1=d,d.prototype.encode=function(ne,le){return this.tree._encode(ne,le).join()};function Y(he){h.Node.call(this,"der",he)}a(Y,h.Node),Y.prototype._encodeComposite=function(ne,le,de,ce){var ge=fe(ne,le,de,this.reporter);if(ce.length<128){var Ee=new e(2);return Ee[0]=ge,Ee[1]=ce.length,this._createEncoderBuffer([Ee,ce])}for(var xe=1,Ae=ce.length;Ae>=256;Ae>>=8)xe++;var Ee=new e(2+xe);Ee[0]=ge,Ee[1]=128|xe;for(var Ae=1+xe,we=ce.length;we>0;Ae--,we>>=8)Ee[Ae]=we&255;return this._createEncoderBuffer([Ee,ce])},Y.prototype._encodeStr=function(ne,le){if(le==="bitstr")return this._createEncoderBuffer([ne.unused|0,ne.data]);if(le==="bmpstr"){for(var de=new e(ne.length*2),ce=0;ce<ne.length;ce++)de.writeUInt16BE(ne.charCodeAt(ce),ce*2);return this._createEncoderBuffer(de)}else return le==="numstr"?this._isNumstr(ne)?this._createEncoderBuffer(ne):this.reporter.error("Encoding of string type: numstr supports only digits and space"):le==="printstr"?this._isPrintstr(ne)?this._createEncoderBuffer(ne):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(le)?this._createEncoderBuffer(ne):le==="objDesc"?this._createEncoderBuffer(ne):this.reporter.error("Encoding of string type: "+le+" unsupported")},Y.prototype._encodeObjid=function(ne,le,de){if(typeof ne=="string"){if(!le)return this.reporter.error("string objid given, but no values map found");if(!le.hasOwnProperty(ne))return this.reporter.error("objid not found in values map");ne=le[ne].split(/[\s\.]+/g);for(var ce=0;ce<ne.length;ce++)ne[ce]|=0}else if(Array.isArray(ne)){ne=ne.slice();for(var ce=0;ce<ne.length;ce++)ne[ce]|=0}if(!Array.isArray(ne))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(ne));if(!de){if(ne[1]>=40)return this.reporter.error("Second objid identifier OOB");ne.splice(0,2,ne[0]*40+ne[1])}for(var ge=0,ce=0;ce<ne.length;ce++){var xe=ne[ce];for(ge++;xe>=128;xe>>=7)ge++}for(var Ae=new e(ge),Ee=Ae.length-1,ce=ne.length-1;ce>=0;ce--){var xe=ne[ce];for(Ae[Ee--]=xe&127;(xe>>=7)>0;)Ae[Ee--]=128|xe&127}return this._createEncoderBuffer(Ae)};function ie(he){return he<10?"0"+he:he}Y.prototype._encodeTime=function(ne,le){var de,ce=new Date(ne);return le==="gentime"?de=[ie(ce.getFullYear()),ie(ce.getUTCMonth()+1),ie(ce.getUTCDate()),ie(ce.getUTCHours()),ie(ce.getUTCMinutes()),ie(ce.getUTCSeconds()),"Z"].join(""):le==="utctime"?de=[ie(ce.getFullYear()%100),ie(ce.getUTCMonth()+1),ie(ce.getUTCDate()),ie(ce.getUTCHours()),ie(ce.getUTCMinutes()),ie(ce.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+le+" time is not supported yet"),this._encodeStr(de,"octstr")},Y.prototype._encodeNull=function(){return this._createEncoderBuffer("")},Y.prototype._encodeInt=function(ne,le){if(typeof ne=="string"){if(!le)return this.reporter.error("String int or enum given, but no values map");if(!le.hasOwnProperty(ne))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(ne));ne=le[ne]}if(typeof ne!="number"&&!e.isBuffer(ne)){var de=ne.toArray();!ne.sign&&de[0]&128&&de.unshift(0),ne=new e(de)}if(e.isBuffer(ne)){var ce=ne.length;ne.length===0&&ce++;var xe=new e(ce);return ne.copy(xe),ne.length===0&&(xe[0]=0),this._createEncoderBuffer(xe)}if(ne<128)return this._createEncoderBuffer(ne);if(ne<256)return this._createEncoderBuffer([0,ne]);for(var ce=1,ge=ne;ge>=256;ge>>=8)ce++;for(var xe=new Array(ce),ge=xe.length-1;ge>=0;ge--)xe[ge]=ne&255,ne>>=8;return xe[0]&128&&xe.unshift(0),this._createEncoderBuffer(new e(xe))},Y.prototype._encodeBool=function(ne){return this._createEncoderBuffer(ne?255:0)},Y.prototype._use=function(ne,le){return typeof ne=="function"&&(ne=ne(le)),ne._getEncoder("der").tree},Y.prototype._skipDefault=function(ne,le,de){var ce=this._baseState,ge;if(ce.default===null)return!1;var xe=ne.join();if(ce.defaultBuffer===void 0&&(ce.defaultBuffer=this._encodeValue(ce.default,le,de).join()),xe.length!==ce.defaultBuffer.length)return!1;for(ge=0;ge<xe.length;ge++)if(xe[ge]!==ce.defaultBuffer[ge])return!1;return!0};function fe(he,ne,le,de){var ce;if(he==="seqof"?he="seq":he==="setof"&&(he="set"),$.tagByName.hasOwnProperty(he))ce=$.tagByName[he];else if(typeof he=="number"&&(he|0)===he)ce=he;else return de.error("Unknown tag: "+he);return ce>=31?de.error("Multi-octet tag encoding unsupported"):(ne||(ce|=32),ce|=$.tagClassByName[le||"universal"]<<6,ce)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var a=inherits_browserExports,e=requireDer();function o(h){e.call(this,h),this.enc="pem"}return a(o,e),pem=o,o.prototype.encode=function($,d){for(var Y=e.prototype.encode.call(this,$),ie=Y.toString("base64"),fe=["-----BEGIN "+d.label+"-----"],he=0;he<ie.length;he+=64)fe.push(ie.slice(he,he+64));return fe.push("-----END "+d.label+"-----"),fe.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(a){var e=a;e.der=requireDer(),e.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1;function requireAsn1(){return hasRequiredAsn1||(hasRequiredAsn1=1,function(a){var e=a;e.bignum=bnExports$2,e.define=requireApi().define,e.base=requireBase(),e.constants=requireConstants(),e.decoders=requireDecoders(),e.encoders=requireEncoders()}(asn1$2)),asn1$2}var asn=requireAsn1(),Time=asn.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),AttributeTypeValue=asn.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),AlgorithmIdentifier$1=asn.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),SubjectPublicKeyInfo=asn.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier$1),this.key("subjectPublicKey").bitstr())}),RelativeDistinguishedName=asn.define("RelativeDistinguishedName",function(){this.setof(AttributeTypeValue)}),RDNSequence=asn.define("RDNSequence",function(){this.seqof(RelativeDistinguishedName)}),Name=asn.define("Name",function(){this.choice({rdnSequence:this.use(RDNSequence)})}),Validity=asn.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Time),this.key("notAfter").use(Time))}),Extension=asn.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),TBSCertificate=asn.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(AlgorithmIdentifier$1),this.key("issuer").use(Name),this.key("validity").use(Validity),this.key("subject").use(Name),this.key("subjectPublicKeyInfo").use(SubjectPublicKeyInfo),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Extension).optional())}),X509Certificate=asn.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(TBSCertificate),this.key("signatureAlgorithm").use(AlgorithmIdentifier$1),this.key("signatureValue").bitstr())}),certificate=X509Certificate,asn1$1=requireAsn1();asn1$3.certificate=certificate;var RSAPrivateKey=asn1$1.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$3.RSAPrivateKey=RSAPrivateKey;var RSAPublicKey=asn1$1.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$3.RSAPublicKey=RSAPublicKey;var AlgorithmIdentifier=asn1$1.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),PublicKey=asn1$1.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())});asn1$3.PublicKey=PublicKey;var PrivateKeyInfo=asn1$1.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});asn1$3.PrivateKey=PrivateKeyInfo;var EncryptedPrivateKeyInfo=asn1$1.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$3.EncryptedPrivateKey=EncryptedPrivateKeyInfo;var DSAPrivateKey=asn1$1.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$3.DSAPrivateKey=DSAPrivateKey;asn1$3.DSAparam=asn1$1.define("DSAparam",function(){this.int()});var ECParameters=asn1$1.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),ECPrivateKey=asn1$1.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ECParameters),this.key("publicKey").optional().explicit(1).bitstr())});asn1$3.ECPrivateKey=ECPrivateKey;asn1$3.signature=asn1$1.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())});const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var findProc=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,startRegex=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,fullRegex=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,evp=evp_bytestokey,ciphers$1=browser$5,Buffer$6=safeBufferExports$1.Buffer,fixProc$1=function(a,e){var o=a.toString(),h=o.match(findProc),$;if(h){var Y="aes"+h[1],ie=Buffer$6.from(h[2],"hex"),fe=Buffer$6.from(h[3].replace(/[\r\n]/g,""),"base64"),he=evp(e,ie.slice(0,8),parseInt(h[1],10)).key,ne=[],le=ciphers$1.createDecipheriv(Y,he,ie);ne.push(le.update(fe)),ne.push(le.final()),$=Buffer$6.concat(ne)}else{var d=o.match(fullRegex);$=Buffer$6.from(d[2].replace(/[\r\n]/g,""),"base64")}var de=o.match(startRegex)[1];return{tag:de,data:$}},asn1=asn1$3,aesid=require$$1,fixProc=fixProc$1,ciphers=browser$5,compat=browser$7,Buffer$5=safeBufferExports$1.Buffer;function decrypt(a,e){var o=a.algorithm.decrypt.kde.kdeparams.salt,h=parseInt(a.algorithm.decrypt.kde.kdeparams.iters.toString(),10),$=aesid[a.algorithm.decrypt.cipher.algo.join(".")],d=a.algorithm.decrypt.cipher.iv,Y=a.subjectPrivateKey,ie=parseInt($.split("-")[1],10)/8,fe=compat.pbkdf2Sync(e,o,h,ie,"sha1"),he=ciphers.createDecipheriv($,fe,d),ne=[];return ne.push(he.update(Y)),ne.push(he.final()),Buffer$5.concat(ne)}function parseKeys$2(a){var e;typeof a=="object"&&!Buffer$5.isBuffer(a)&&(e=a.passphrase,a=a.key),typeof a=="string"&&(a=Buffer$5.from(a));var o=fixProc(a,e),h=o.tag,$=o.data,d,Y;switch(h){case"CERTIFICATE":Y=asn1.certificate.decode($,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(Y||(Y=asn1.PublicKey.decode($,"der")),d=Y.algorithm.algorithm.join("."),d){case"1.2.840.113549.1.1.1":return asn1.RSAPublicKey.decode(Y.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return Y.subjectPrivateKey=Y.subjectPublicKey,{type:"ec",data:Y};case"1.2.840.10040.4.1":return Y.algorithm.params.pub_key=asn1.DSAparam.decode(Y.subjectPublicKey.data,"der"),{type:"dsa",data:Y.algorithm.params};default:throw new Error("unknown key id "+d)}case"ENCRYPTED PRIVATE KEY":$=asn1.EncryptedPrivateKey.decode($,"der"),$=decrypt($,e);case"PRIVATE KEY":switch(Y=asn1.PrivateKey.decode($,"der"),d=Y.algorithm.algorithm.join("."),d){case"1.2.840.113549.1.1.1":return asn1.RSAPrivateKey.decode(Y.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:Y.algorithm.curve,privateKey:asn1.ECPrivateKey.decode(Y.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return Y.algorithm.params.priv_key=asn1.DSAparam.decode(Y.subjectPrivateKey,"der"),{type:"dsa",params:Y.algorithm.params};default:throw new Error("unknown key id "+d)}case"RSA PUBLIC KEY":return asn1.RSAPublicKey.decode($,"der");case"RSA PRIVATE KEY":return asn1.RSAPrivateKey.decode($,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:asn1.DSAPrivateKey.decode($,"der")};case"EC PRIVATE KEY":return $=asn1.ECPrivateKey.decode($,"der"),{curve:$.parameters.value,privateKey:$.privateKey};default:throw new Error("unknown key type "+h)}}parseKeys$2.signature=asn1.signature;var parseAsn1=parseKeys$2;const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var a=safeBufferExports$1.Buffer,e=browser$8,o=browserifyRsa,h=requireElliptic().ec,$=bnExports$4,d=parseAsn1,Y=require$$4,ie=1;function fe(Ee,we,pe,me,Te){var Pe=d(we);if(Pe.curve){if(me!=="ecdsa"&&me!=="ecdsa/rsa")throw new Error("wrong private key type");return he(Ee,Pe)}else if(Pe.type==="dsa"){if(me!=="dsa")throw new Error("wrong private key type");return ne(Ee,Pe,pe)}if(me!=="rsa"&&me!=="ecdsa/rsa")throw new Error("wrong private key type");if(we.padding!==void 0&&we.padding!==ie)throw new Error("illegal or unsupported padding mode");Ee=a.concat([Te,Ee]);for(var Le=Pe.modulus.byteLength(),qe=[0,1];Ee.length+qe.length+1<Le;)qe.push(255);qe.push(0);for(var Ce=-1;++Ce<Ee.length;)qe.push(Ee[Ce]);var ze=o(qe,Pe);return ze}function he(Ee,we){var pe=Y[we.curve.join(".")];if(!pe)throw new Error("unknown curve "+we.curve.join("."));var me=new h(pe),Te=me.keyFromPrivate(we.privateKey),Pe=Te.sign(Ee);return a.from(Pe.toDER())}function ne(Ee,we,pe){for(var me=we.params.priv_key,Te=we.params.p,Pe=we.params.q,Le=we.params.g,qe=new $(0),Ce,ze=ce(Ee,Pe).mod(Pe),oe=!1,c=de(me,Pe,Ee,pe);oe===!1;)Ce=xe(Pe,c,pe),qe=Ae(Le,Ce,Te,Pe),oe=Ce.invm(Pe).imul(ze.add(me.mul(qe))).mod(Pe),oe.cmpn(0)===0&&(oe=!1,qe=new $(0));return le(qe,oe)}function le(Ee,we){Ee=Ee.toArray(),we=we.toArray(),Ee[0]&128&&(Ee=[0].concat(Ee)),we[0]&128&&(we=[0].concat(we));var pe=Ee.length+we.length+4,me=[48,pe,2,Ee.length];return me=me.concat(Ee,[2,we.length],we),a.from(me)}function de(Ee,we,pe,me){if(Ee=a.from(Ee.toArray()),Ee.length<we.byteLength()){var Te=a.alloc(we.byteLength()-Ee.length);Ee=a.concat([Te,Ee])}var Pe=pe.length,Le=ge(pe,we),qe=a.alloc(Pe);qe.fill(1);var Ce=a.alloc(Pe);return Ce=e(me,Ce).update(qe).update(a.from([0])).update(Ee).update(Le).digest(),qe=e(me,Ce).update(qe).digest(),Ce=e(me,Ce).update(qe).update(a.from([1])).update(Ee).update(Le).digest(),qe=e(me,Ce).update(qe).digest(),{k:Ce,v:qe}}function ce(Ee,we){var pe=new $(Ee),me=(Ee.length<<3)-we.bitLength();return me>0&&pe.ishrn(me),pe}function ge(Ee,we){Ee=ce(Ee,we),Ee=Ee.mod(we);var pe=a.from(Ee.toArray());if(pe.length<we.byteLength()){var me=a.alloc(we.byteLength()-pe.length);pe=a.concat([me,pe])}return pe}function xe(Ee,we,pe){var me,Te;do{for(me=a.alloc(0);me.length*8<Ee.bitLength();)we.v=e(pe,we.k).update(we.v).digest(),me=a.concat([me,we.v]);Te=ce(me,Ee),we.k=e(pe,we.k).update(we.v).update(a.from([0])).digest(),we.v=e(pe,we.k).update(we.v).digest()}while(Te.cmp(Ee)!==-1);return Te}function Ae(Ee,we,pe,me){return Ee.toRed($.mont(pe)).redPow(we).fromRed().mod(me)}return sign.exports=fe,sign.exports.getKey=de,sign.exports.makeKey=xe,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var a=safeBufferExports$1.Buffer,e=bnExports$4,o=requireElliptic().ec,h=parseAsn1,$=require$$4;function d(he,ne,le,de,ce){var ge=h(le);if(ge.type==="ec"){if(de!=="ecdsa"&&de!=="ecdsa/rsa")throw new Error("wrong public key type");return Y(he,ne,ge)}else if(ge.type==="dsa"){if(de!=="dsa")throw new Error("wrong public key type");return ie(he,ne,ge)}if(de!=="rsa"&&de!=="ecdsa/rsa")throw new Error("wrong public key type");ne=a.concat([ce,ne]);for(var xe=ge.modulus.byteLength(),Ae=[1],Ee=0;ne.length+Ae.length+2<xe;)Ae.push(255),Ee+=1;Ae.push(0);for(var we=-1;++we<ne.length;)Ae.push(ne[we]);Ae=a.from(Ae);var pe=e.mont(ge.modulus);he=new e(he).toRed(pe),he=he.redPow(new e(ge.publicExponent)),he=a.from(he.fromRed().toArray());var me=Ee<8?1:0;for(xe=Math.min(he.length,Ae.length),he.length!==Ae.length&&(me=1),we=-1;++we<xe;)me|=he[we]^Ae[we];return me===0}function Y(he,ne,le){var de=$[le.data.algorithm.curve.join(".")];if(!de)throw new Error("unknown curve "+le.data.algorithm.curve.join("."));var ce=new o(de),ge=le.data.subjectPrivateKey.data;return ce.verify(ne,he,ge)}function ie(he,ne,le){var de=le.data.p,ce=le.data.q,ge=le.data.g,xe=le.data.pub_key,Ae=h.signature.decode(he,"der"),Ee=Ae.s,we=Ae.r;fe(Ee,ce),fe(we,ce);var pe=e.mont(de),me=Ee.invm(ce),Te=ge.toRed(pe).redPow(new e(ne).mul(me).mod(ce)).fromRed().mul(xe.toRed(pe).redPow(we.mul(me).mod(ce)).fromRed()).mod(de).mod(ce);return Te.cmp(we)===0}function fe(he,ne){if(he.cmpn(0)<=0)throw new Error("invalid sig");if(he.cmp(ne)>=0)throw new Error("invalid sig")}return verify_1=d,verify_1}var browser$3,hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser$3;hasRequiredBrowser$1=1;var a=safeBufferExports$1.Buffer,e=browser$9,o=readableBrowserExports,h=inherits_browserExports,$=requireSign(),d=requireVerify(),Y=require$$6;Object.keys(Y).forEach(function(le){Y[le].id=a.from(Y[le].id,"hex"),Y[le.toLowerCase()]=Y[le]});function ie(le){o.Writable.call(this);var de=Y[le];if(!de)throw new Error("Unknown message digest");this._hashType=de.hash,this._hash=e(de.hash),this._tag=de.id,this._signType=de.sign}h(ie,o.Writable),ie.prototype._write=function(de,ce,ge){this._hash.update(de),ge()},ie.prototype.update=function(de,ce){return this._hash.update(typeof de=="string"?a.from(de,ce):de),this},ie.prototype.sign=function(de,ce){this.end();var ge=this._hash.digest(),xe=$(ge,de,this._hashType,this._signType,this._tag);return ce?xe.toString(ce):xe};function fe(le){o.Writable.call(this);var de=Y[le];if(!de)throw new Error("Unknown message digest");this._hash=e(de.hash),this._tag=de.id,this._signType=de.sign}h(fe,o.Writable),fe.prototype._write=function(de,ce,ge){this._hash.update(de),ge()},fe.prototype.update=function(de,ce){return this._hash.update(typeof de=="string"?a.from(de,ce):de),this},fe.prototype.verify=function(de,ce,ge){var xe=typeof ce=="string"?a.from(ce,ge):ce;this.end();var Ae=this._hash.digest();return d(xe,Ae,de,this._signType,this._tag)};function he(le){return new ie(le)}function ne(le){return new fe(le)}return browser$3={Sign:he,Verify:ne,createSign:he,createVerify:ne},browser$3}var bn$1={exports:{}};bn$1.exports;(function(a){(function(e,o){function h(oe,c){if(!oe)throw new Error(c||"Assertion failed")}function $(oe,c){oe.super_=c;var b=function(){};b.prototype=c.prototype,oe.prototype=new b,oe.prototype.constructor=oe}function d(oe,c,b){if(d.isBN(oe))return oe;this.negative=0,this.words=null,this.length=0,this.red=null,oe!==null&&((c==="le"||c==="be")&&(b=c,c=10),this._init(oe||0,c||10,b||"be"))}typeof e=="object"?e.exports=d:o.BN=d,d.BN=d,d.wordSize=26;var Y;try{typeof window<"u"&&typeof window.Buffer<"u"?Y=window.Buffer:Y=require$$0$3.Buffer}catch{}d.isBN=function(c){return c instanceof d?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===d.wordSize&&Array.isArray(c.words)},d.max=function(c,b){return c.cmp(b)>0?c:b},d.min=function(c,b){return c.cmp(b)<0?c:b},d.prototype._init=function(c,b,j){if(typeof c=="number")return this._initNumber(c,b,j);if(typeof c=="object")return this._initArray(c,b,j);b==="hex"&&(b=16),h(b===(b|0)&&b>=2&&b<=36),c=c.toString().replace(/\s+/g,"");var Z=0;c[0]==="-"&&(Z++,this.negative=1),Z<c.length&&(b===16?this._parseHex(c,Z,j):(this._parseBase(c,b,Z),j==="le"&&this._initArray(this.toArray(),b,j)))},d.prototype._initNumber=function(c,b,j){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(h(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),j==="le"&&this._initArray(this.toArray(),b,j)},d.prototype._initArray=function(c,b,j){if(h(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var Z=0;Z<this.length;Z++)this.words[Z]=0;var re,ae,se=0;if(j==="be")for(Z=c.length-1,re=0;Z>=0;Z-=3)ae=c[Z]|c[Z-1]<<8|c[Z-2]<<16,this.words[re]|=ae<<se&67108863,this.words[re+1]=ae>>>26-se&67108863,se+=24,se>=26&&(se-=26,re++);else if(j==="le")for(Z=0,re=0;Z<c.length;Z+=3)ae=c[Z]|c[Z+1]<<8|c[Z+2]<<16,this.words[re]|=ae<<se&67108863,this.words[re+1]=ae>>>26-se&67108863,se+=24,se>=26&&(se-=26,re++);return this.strip()};function ie(oe,c){var b=oe.charCodeAt(c);return b>=65&&b<=70?b-55:b>=97&&b<=102?b-87:b-48&15}function fe(oe,c,b){var j=ie(oe,b);return b-1>=c&&(j|=ie(oe,b-1)<<4),j}d.prototype._parseHex=function(c,b,j){this.length=Math.ceil((c.length-b)/6),this.words=new Array(this.length);for(var Z=0;Z<this.length;Z++)this.words[Z]=0;var re=0,ae=0,se;if(j==="be")for(Z=c.length-1;Z>=b;Z-=2)se=fe(c,b,Z)<<re,this.words[ae]|=se&67108863,re>=18?(re-=18,ae+=1,this.words[ae]|=se>>>26):re+=8;else{var ee=c.length-b;for(Z=ee%2===0?b+1:b;Z<c.length;Z+=2)se=fe(c,b,Z)<<re,this.words[ae]|=se&67108863,re>=18?(re-=18,ae+=1,this.words[ae]|=se>>>26):re+=8}this.strip()};function he(oe,c,b,j){for(var Z=0,re=Math.min(oe.length,b),ae=c;ae<re;ae++){var se=oe.charCodeAt(ae)-48;Z*=j,se>=49?Z+=se-49+10:se>=17?Z+=se-17+10:Z+=se}return Z}d.prototype._parseBase=function(c,b,j){this.words=[0],this.length=1;for(var Z=0,re=1;re<=67108863;re*=b)Z++;Z--,re=re/b|0;for(var ae=c.length-j,se=ae%Z,ee=Math.min(ae,ae-se)+j,_=0,te=j;te<ee;te+=Z)_=he(c,te,te+Z,b),this.imuln(re),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(se!==0){var ue=1;for(_=he(c,te,c.length,b),te=0;te<se;te++)ue*=b;this.imuln(ue),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this.strip()},d.prototype.copy=function(c){c.words=new Array(this.length);for(var b=0;b<this.length;b++)c.words[b]=this.words[b];c.length=this.length,c.negative=this.negative,c.red=this.red},d.prototype.clone=function(){var c=new d(null);return this.copy(c),c},d.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},d.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},d.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ne=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],le=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],de=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(c,b){c=c||10,b=b|0||1;var j;if(c===16||c==="hex"){j="";for(var Z=0,re=0,ae=0;ae<this.length;ae++){var se=this.words[ae],ee=((se<<Z|re)&16777215).toString(16);re=se>>>24-Z&16777215,Z+=2,Z>=26&&(Z-=26,ae--),re!==0||ae!==this.length-1?j=ne[6-ee.length]+ee+j:j=ee+j}for(re!==0&&(j=re.toString(16)+j);j.length%b!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(c===(c|0)&&c>=2&&c<=36){var _=le[c],te=de[c];j="";var ue=this.clone();for(ue.negative=0;!ue.isZero();){var ve=ue.modn(te).toString(c);ue=ue.idivn(te),ue.isZero()?j=ve+j:j=ne[_-ve.length]+ve+j}for(this.isZero()&&(j="0"+j);j.length%b!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}h(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},d.prototype.toJSON=function(){return this.toString(16)},d.prototype.toBuffer=function(c,b){return h(typeof Y<"u"),this.toArrayLike(Y,c,b)},d.prototype.toArray=function(c,b){return this.toArrayLike(Array,c,b)},d.prototype.toArrayLike=function(c,b,j){var Z=this.byteLength(),re=j||Math.max(1,Z);h(Z<=re,"byte array longer than desired length"),h(re>0,"Requested array length <= 0"),this.strip();var ae=b==="le",se=new c(re),ee,_,te=this.clone();if(ae){for(_=0;!te.isZero();_++)ee=te.andln(255),te.iushrn(8),se[_]=ee;for(;_<re;_++)se[_]=0}else{for(_=0;_<re-Z;_++)se[_]=0;for(_=0;!te.isZero();_++)ee=te.andln(255),te.iushrn(8),se[re-_-1]=ee}return se},Math.clz32?d.prototype._countBits=function(c){return 32-Math.clz32(c)}:d.prototype._countBits=function(c){var b=c,j=0;return b>=4096&&(j+=13,b>>>=13),b>=64&&(j+=7,b>>>=7),b>=8&&(j+=4,b>>>=4),b>=2&&(j+=2,b>>>=2),j+b},d.prototype._zeroBits=function(c){if(c===0)return 26;var b=c,j=0;return b&8191||(j+=13,b>>>=13),b&127||(j+=7,b>>>=7),b&15||(j+=4,b>>>=4),b&3||(j+=2,b>>>=2),b&1||j++,j},d.prototype.bitLength=function(){var c=this.words[this.length-1],b=this._countBits(c);return(this.length-1)*26+b};function ce(oe){for(var c=new Array(oe.bitLength()),b=0;b<c.length;b++){var j=b/26|0,Z=b%26;c[b]=(oe.words[j]&1<<Z)>>>Z}return c}d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,b=0;b<this.length;b++){var j=this._zeroBits(this.words[b]);if(c+=j,j!==26)break}return c},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},d.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var b=0;b<c.length;b++)this.words[b]=this.words[b]|c.words[b];return this.strip()},d.prototype.ior=function(c){return h((this.negative|c.negative)===0),this.iuor(c)},d.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},d.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},d.prototype.iuand=function(c){var b;this.length>c.length?b=c:b=this;for(var j=0;j<b.length;j++)this.words[j]=this.words[j]&c.words[j];return this.length=b.length,this.strip()},d.prototype.iand=function(c){return h((this.negative|c.negative)===0),this.iuand(c)},d.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},d.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},d.prototype.iuxor=function(c){var b,j;this.length>c.length?(b=this,j=c):(b=c,j=this);for(var Z=0;Z<j.length;Z++)this.words[Z]=b.words[Z]^j.words[Z];if(this!==b)for(;Z<b.length;Z++)this.words[Z]=b.words[Z];return this.length=b.length,this.strip()},d.prototype.ixor=function(c){return h((this.negative|c.negative)===0),this.iuxor(c)},d.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},d.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},d.prototype.inotn=function(c){h(typeof c=="number"&&c>=0);var b=Math.ceil(c/26)|0,j=c%26;this._expand(b),j>0&&b--;for(var Z=0;Z<b;Z++)this.words[Z]=~this.words[Z]&67108863;return j>0&&(this.words[Z]=~this.words[Z]&67108863>>26-j),this.strip()},d.prototype.notn=function(c){return this.clone().inotn(c)},d.prototype.setn=function(c,b){h(typeof c=="number"&&c>=0);var j=c/26|0,Z=c%26;return this._expand(j+1),b?this.words[j]=this.words[j]|1<<Z:this.words[j]=this.words[j]&~(1<<Z),this.strip()},d.prototype.iadd=function(c){var b;if(this.negative!==0&&c.negative===0)return this.negative=0,b=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,b=this.isub(c),c.negative=1,b._normSign();var j,Z;this.length>c.length?(j=this,Z=c):(j=c,Z=this);for(var re=0,ae=0;ae<Z.length;ae++)b=(j.words[ae]|0)+(Z.words[ae]|0)+re,this.words[ae]=b&67108863,re=b>>>26;for(;re!==0&&ae<j.length;ae++)b=(j.words[ae]|0)+re,this.words[ae]=b&67108863,re=b>>>26;if(this.length=j.length,re!==0)this.words[this.length]=re,this.length++;else if(j!==this)for(;ae<j.length;ae++)this.words[ae]=j.words[ae];return this},d.prototype.add=function(c){var b;return c.negative!==0&&this.negative===0?(c.negative=0,b=this.sub(c),c.negative^=1,b):c.negative===0&&this.negative!==0?(this.negative=0,b=c.sub(this),this.negative=1,b):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},d.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var b=this.iadd(c);return c.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var j=this.cmp(c);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Z,re;j>0?(Z=this,re=c):(Z=c,re=this);for(var ae=0,se=0;se<re.length;se++)b=(Z.words[se]|0)-(re.words[se]|0)+ae,ae=b>>26,this.words[se]=b&67108863;for(;ae!==0&&se<Z.length;se++)b=(Z.words[se]|0)+ae,ae=b>>26,this.words[se]=b&67108863;if(ae===0&&se<Z.length&&Z!==this)for(;se<Z.length;se++)this.words[se]=Z.words[se];return this.length=Math.max(this.length,se),Z!==this&&(this.negative=1),this.strip()},d.prototype.sub=function(c){return this.clone().isub(c)};function ge(oe,c,b){b.negative=c.negative^oe.negative;var j=oe.length+c.length|0;b.length=j,j=j-1|0;var Z=oe.words[0]|0,re=c.words[0]|0,ae=Z*re,se=ae&67108863,ee=ae/67108864|0;b.words[0]=se;for(var _=1;_<j;_++){for(var te=ee>>>26,ue=ee&67108863,ve=Math.min(_,c.length-1),be=Math.max(0,_-oe.length+1);be<=ve;be++){var Me=_-be|0;Z=oe.words[Me]|0,re=c.words[be]|0,ae=Z*re+ue,te+=ae/67108864|0,ue=ae&67108863}b.words[_]=ue|0,ee=te|0}return ee!==0?b.words[_]=ee|0:b.length--,b.strip()}var xe=function(c,b,j){var Z=c.words,re=b.words,ae=j.words,se=0,ee,_,te,ue=Z[0]|0,ve=ue&8191,be=ue>>>13,Me=Z[1]|0,Se=Me&8191,_e=Me>>>13,Re=Z[2]|0,Ie=Re&8191,Ne=Re>>>13,Oe=Z[3]|0,ke=Oe&8191,He=Oe>>>13,ct=Z[4]|0,Ve=ct&8191,Ye=ct>>>13,wt=Z[5]|0,Qe=wt&8191,Ge=wt>>>13,$t=Z[6]|0,tt=$t&8191,ut=$t>>>13,St=Z[7]|0,Ue=St&8191,je=St>>>13,bt=Z[8]|0,Ke=bt&8191,Ze=bt>>>13,Et=Z[9]|0,Be=Et&8191,ye=Et>>>13,$e=re[0]|0,De=$e&8191,Fe=$e>>>13,Xe=re[1]|0,We=Xe&8191,et=Xe>>>13,xt=re[2]|0,Je=xt&8191,rt=xt>>>13,Mt=re[3]|0,it=Mt&8191,dt=Mt>>>13,Bt=re[4]|0,nt=Bt&8191,pt=Bt>>>13,Rt=re[5]|0,at=Rt&8191,mt=Rt>>>13,kt=re[6]|0,ot=kt&8191,vt=kt>>>13,It=re[7]|0,st=It&8191,gt=It>>>13,Ct=re[8]|0,ht=Ct&8191,yt=Ct>>>13,Dt=re[9]|0,lt=Dt&8191,_t=Dt>>>13;j.negative=c.negative^b.negative,j.length=19,ee=Math.imul(ve,De),_=Math.imul(ve,Fe),_=_+Math.imul(be,De)|0,te=Math.imul(be,Fe);var At=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(At>>>26)|0,At&=67108863,ee=Math.imul(Se,De),_=Math.imul(Se,Fe),_=_+Math.imul(_e,De)|0,te=Math.imul(_e,Fe),ee=ee+Math.imul(ve,We)|0,_=_+Math.imul(ve,et)|0,_=_+Math.imul(be,We)|0,te=te+Math.imul(be,et)|0;var Tt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,ee=Math.imul(Ie,De),_=Math.imul(Ie,Fe),_=_+Math.imul(Ne,De)|0,te=Math.imul(Ne,Fe),ee=ee+Math.imul(Se,We)|0,_=_+Math.imul(Se,et)|0,_=_+Math.imul(_e,We)|0,te=te+Math.imul(_e,et)|0,ee=ee+Math.imul(ve,Je)|0,_=_+Math.imul(ve,rt)|0,_=_+Math.imul(be,Je)|0,te=te+Math.imul(be,rt)|0;var Pt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,ee=Math.imul(ke,De),_=Math.imul(ke,Fe),_=_+Math.imul(He,De)|0,te=Math.imul(He,Fe),ee=ee+Math.imul(Ie,We)|0,_=_+Math.imul(Ie,et)|0,_=_+Math.imul(Ne,We)|0,te=te+Math.imul(Ne,et)|0,ee=ee+Math.imul(Se,Je)|0,_=_+Math.imul(Se,rt)|0,_=_+Math.imul(_e,Je)|0,te=te+Math.imul(_e,rt)|0,ee=ee+Math.imul(ve,it)|0,_=_+Math.imul(ve,dt)|0,_=_+Math.imul(be,it)|0,te=te+Math.imul(be,dt)|0;var Ot=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,ee=Math.imul(Ve,De),_=Math.imul(Ve,Fe),_=_+Math.imul(Ye,De)|0,te=Math.imul(Ye,Fe),ee=ee+Math.imul(ke,We)|0,_=_+Math.imul(ke,et)|0,_=_+Math.imul(He,We)|0,te=te+Math.imul(He,et)|0,ee=ee+Math.imul(Ie,Je)|0,_=_+Math.imul(Ie,rt)|0,_=_+Math.imul(Ne,Je)|0,te=te+Math.imul(Ne,rt)|0,ee=ee+Math.imul(Se,it)|0,_=_+Math.imul(Se,dt)|0,_=_+Math.imul(_e,it)|0,te=te+Math.imul(_e,dt)|0,ee=ee+Math.imul(ve,nt)|0,_=_+Math.imul(ve,pt)|0,_=_+Math.imul(be,nt)|0,te=te+Math.imul(be,pt)|0;var Nt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,ee=Math.imul(Qe,De),_=Math.imul(Qe,Fe),_=_+Math.imul(Ge,De)|0,te=Math.imul(Ge,Fe),ee=ee+Math.imul(Ve,We)|0,_=_+Math.imul(Ve,et)|0,_=_+Math.imul(Ye,We)|0,te=te+Math.imul(Ye,et)|0,ee=ee+Math.imul(ke,Je)|0,_=_+Math.imul(ke,rt)|0,_=_+Math.imul(He,Je)|0,te=te+Math.imul(He,rt)|0,ee=ee+Math.imul(Ie,it)|0,_=_+Math.imul(Ie,dt)|0,_=_+Math.imul(Ne,it)|0,te=te+Math.imul(Ne,dt)|0,ee=ee+Math.imul(Se,nt)|0,_=_+Math.imul(Se,pt)|0,_=_+Math.imul(_e,nt)|0,te=te+Math.imul(_e,pt)|0,ee=ee+Math.imul(ve,at)|0,_=_+Math.imul(ve,mt)|0,_=_+Math.imul(be,at)|0,te=te+Math.imul(be,mt)|0;var Lt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,ee=Math.imul(tt,De),_=Math.imul(tt,Fe),_=_+Math.imul(ut,De)|0,te=Math.imul(ut,Fe),ee=ee+Math.imul(Qe,We)|0,_=_+Math.imul(Qe,et)|0,_=_+Math.imul(Ge,We)|0,te=te+Math.imul(Ge,et)|0,ee=ee+Math.imul(Ve,Je)|0,_=_+Math.imul(Ve,rt)|0,_=_+Math.imul(Ye,Je)|0,te=te+Math.imul(Ye,rt)|0,ee=ee+Math.imul(ke,it)|0,_=_+Math.imul(ke,dt)|0,_=_+Math.imul(He,it)|0,te=te+Math.imul(He,dt)|0,ee=ee+Math.imul(Ie,nt)|0,_=_+Math.imul(Ie,pt)|0,_=_+Math.imul(Ne,nt)|0,te=te+Math.imul(Ne,pt)|0,ee=ee+Math.imul(Se,at)|0,_=_+Math.imul(Se,mt)|0,_=_+Math.imul(_e,at)|0,te=te+Math.imul(_e,mt)|0,ee=ee+Math.imul(ve,ot)|0,_=_+Math.imul(ve,vt)|0,_=_+Math.imul(be,ot)|0,te=te+Math.imul(be,vt)|0;var Ut=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,ee=Math.imul(Ue,De),_=Math.imul(Ue,Fe),_=_+Math.imul(je,De)|0,te=Math.imul(je,Fe),ee=ee+Math.imul(tt,We)|0,_=_+Math.imul(tt,et)|0,_=_+Math.imul(ut,We)|0,te=te+Math.imul(ut,et)|0,ee=ee+Math.imul(Qe,Je)|0,_=_+Math.imul(Qe,rt)|0,_=_+Math.imul(Ge,Je)|0,te=te+Math.imul(Ge,rt)|0,ee=ee+Math.imul(Ve,it)|0,_=_+Math.imul(Ve,dt)|0,_=_+Math.imul(Ye,it)|0,te=te+Math.imul(Ye,dt)|0,ee=ee+Math.imul(ke,nt)|0,_=_+Math.imul(ke,pt)|0,_=_+Math.imul(He,nt)|0,te=te+Math.imul(He,pt)|0,ee=ee+Math.imul(Ie,at)|0,_=_+Math.imul(Ie,mt)|0,_=_+Math.imul(Ne,at)|0,te=te+Math.imul(Ne,mt)|0,ee=ee+Math.imul(Se,ot)|0,_=_+Math.imul(Se,vt)|0,_=_+Math.imul(_e,ot)|0,te=te+Math.imul(_e,vt)|0,ee=ee+Math.imul(ve,st)|0,_=_+Math.imul(ve,gt)|0,_=_+Math.imul(be,st)|0,te=te+Math.imul(be,gt)|0;var Ft=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,ee=Math.imul(Ke,De),_=Math.imul(Ke,Fe),_=_+Math.imul(Ze,De)|0,te=Math.imul(Ze,Fe),ee=ee+Math.imul(Ue,We)|0,_=_+Math.imul(Ue,et)|0,_=_+Math.imul(je,We)|0,te=te+Math.imul(je,et)|0,ee=ee+Math.imul(tt,Je)|0,_=_+Math.imul(tt,rt)|0,_=_+Math.imul(ut,Je)|0,te=te+Math.imul(ut,rt)|0,ee=ee+Math.imul(Qe,it)|0,_=_+Math.imul(Qe,dt)|0,_=_+Math.imul(Ge,it)|0,te=te+Math.imul(Ge,dt)|0,ee=ee+Math.imul(Ve,nt)|0,_=_+Math.imul(Ve,pt)|0,_=_+Math.imul(Ye,nt)|0,te=te+Math.imul(Ye,pt)|0,ee=ee+Math.imul(ke,at)|0,_=_+Math.imul(ke,mt)|0,_=_+Math.imul(He,at)|0,te=te+Math.imul(He,mt)|0,ee=ee+Math.imul(Ie,ot)|0,_=_+Math.imul(Ie,vt)|0,_=_+Math.imul(Ne,ot)|0,te=te+Math.imul(Ne,vt)|0,ee=ee+Math.imul(Se,st)|0,_=_+Math.imul(Se,gt)|0,_=_+Math.imul(_e,st)|0,te=te+Math.imul(_e,gt)|0,ee=ee+Math.imul(ve,ht)|0,_=_+Math.imul(ve,yt)|0,_=_+Math.imul(be,ht)|0,te=te+Math.imul(be,yt)|0;var qt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(qt>>>26)|0,qt&=67108863,ee=Math.imul(Be,De),_=Math.imul(Be,Fe),_=_+Math.imul(ye,De)|0,te=Math.imul(ye,Fe),ee=ee+Math.imul(Ke,We)|0,_=_+Math.imul(Ke,et)|0,_=_+Math.imul(Ze,We)|0,te=te+Math.imul(Ze,et)|0,ee=ee+Math.imul(Ue,Je)|0,_=_+Math.imul(Ue,rt)|0,_=_+Math.imul(je,Je)|0,te=te+Math.imul(je,rt)|0,ee=ee+Math.imul(tt,it)|0,_=_+Math.imul(tt,dt)|0,_=_+Math.imul(ut,it)|0,te=te+Math.imul(ut,dt)|0,ee=ee+Math.imul(Qe,nt)|0,_=_+Math.imul(Qe,pt)|0,_=_+Math.imul(Ge,nt)|0,te=te+Math.imul(Ge,pt)|0,ee=ee+Math.imul(Ve,at)|0,_=_+Math.imul(Ve,mt)|0,_=_+Math.imul(Ye,at)|0,te=te+Math.imul(Ye,mt)|0,ee=ee+Math.imul(ke,ot)|0,_=_+Math.imul(ke,vt)|0,_=_+Math.imul(He,ot)|0,te=te+Math.imul(He,vt)|0,ee=ee+Math.imul(Ie,st)|0,_=_+Math.imul(Ie,gt)|0,_=_+Math.imul(Ne,st)|0,te=te+Math.imul(Ne,gt)|0,ee=ee+Math.imul(Se,ht)|0,_=_+Math.imul(Se,yt)|0,_=_+Math.imul(_e,ht)|0,te=te+Math.imul(_e,yt)|0,ee=ee+Math.imul(ve,lt)|0,_=_+Math.imul(ve,_t)|0,_=_+Math.imul(be,lt)|0,te=te+Math.imul(be,_t)|0;var Ht=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,ee=Math.imul(Be,We),_=Math.imul(Be,et),_=_+Math.imul(ye,We)|0,te=Math.imul(ye,et),ee=ee+Math.imul(Ke,Je)|0,_=_+Math.imul(Ke,rt)|0,_=_+Math.imul(Ze,Je)|0,te=te+Math.imul(Ze,rt)|0,ee=ee+Math.imul(Ue,it)|0,_=_+Math.imul(Ue,dt)|0,_=_+Math.imul(je,it)|0,te=te+Math.imul(je,dt)|0,ee=ee+Math.imul(tt,nt)|0,_=_+Math.imul(tt,pt)|0,_=_+Math.imul(ut,nt)|0,te=te+Math.imul(ut,pt)|0,ee=ee+Math.imul(Qe,at)|0,_=_+Math.imul(Qe,mt)|0,_=_+Math.imul(Ge,at)|0,te=te+Math.imul(Ge,mt)|0,ee=ee+Math.imul(Ve,ot)|0,_=_+Math.imul(Ve,vt)|0,_=_+Math.imul(Ye,ot)|0,te=te+Math.imul(Ye,vt)|0,ee=ee+Math.imul(ke,st)|0,_=_+Math.imul(ke,gt)|0,_=_+Math.imul(He,st)|0,te=te+Math.imul(He,gt)|0,ee=ee+Math.imul(Ie,ht)|0,_=_+Math.imul(Ie,yt)|0,_=_+Math.imul(Ne,ht)|0,te=te+Math.imul(Ne,yt)|0,ee=ee+Math.imul(Se,lt)|0,_=_+Math.imul(Se,_t)|0,_=_+Math.imul(_e,lt)|0,te=te+Math.imul(_e,_t)|0;var jt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(jt>>>26)|0,jt&=67108863,ee=Math.imul(Be,Je),_=Math.imul(Be,rt),_=_+Math.imul(ye,Je)|0,te=Math.imul(ye,rt),ee=ee+Math.imul(Ke,it)|0,_=_+Math.imul(Ke,dt)|0,_=_+Math.imul(Ze,it)|0,te=te+Math.imul(Ze,dt)|0,ee=ee+Math.imul(Ue,nt)|0,_=_+Math.imul(Ue,pt)|0,_=_+Math.imul(je,nt)|0,te=te+Math.imul(je,pt)|0,ee=ee+Math.imul(tt,at)|0,_=_+Math.imul(tt,mt)|0,_=_+Math.imul(ut,at)|0,te=te+Math.imul(ut,mt)|0,ee=ee+Math.imul(Qe,ot)|0,_=_+Math.imul(Qe,vt)|0,_=_+Math.imul(Ge,ot)|0,te=te+Math.imul(Ge,vt)|0,ee=ee+Math.imul(Ve,st)|0,_=_+Math.imul(Ve,gt)|0,_=_+Math.imul(Ye,st)|0,te=te+Math.imul(Ye,gt)|0,ee=ee+Math.imul(ke,ht)|0,_=_+Math.imul(ke,yt)|0,_=_+Math.imul(He,ht)|0,te=te+Math.imul(He,yt)|0,ee=ee+Math.imul(Ie,lt)|0,_=_+Math.imul(Ie,_t)|0,_=_+Math.imul(Ne,lt)|0,te=te+Math.imul(Ne,_t)|0;var zt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863,ee=Math.imul(Be,it),_=Math.imul(Be,dt),_=_+Math.imul(ye,it)|0,te=Math.imul(ye,dt),ee=ee+Math.imul(Ke,nt)|0,_=_+Math.imul(Ke,pt)|0,_=_+Math.imul(Ze,nt)|0,te=te+Math.imul(Ze,pt)|0,ee=ee+Math.imul(Ue,at)|0,_=_+Math.imul(Ue,mt)|0,_=_+Math.imul(je,at)|0,te=te+Math.imul(je,mt)|0,ee=ee+Math.imul(tt,ot)|0,_=_+Math.imul(tt,vt)|0,_=_+Math.imul(ut,ot)|0,te=te+Math.imul(ut,vt)|0,ee=ee+Math.imul(Qe,st)|0,_=_+Math.imul(Qe,gt)|0,_=_+Math.imul(Ge,st)|0,te=te+Math.imul(Ge,gt)|0,ee=ee+Math.imul(Ve,ht)|0,_=_+Math.imul(Ve,yt)|0,_=_+Math.imul(Ye,ht)|0,te=te+Math.imul(Ye,yt)|0,ee=ee+Math.imul(ke,lt)|0,_=_+Math.imul(ke,_t)|0,_=_+Math.imul(He,lt)|0,te=te+Math.imul(He,_t)|0;var Wt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,ee=Math.imul(Be,nt),_=Math.imul(Be,pt),_=_+Math.imul(ye,nt)|0,te=Math.imul(ye,pt),ee=ee+Math.imul(Ke,at)|0,_=_+Math.imul(Ke,mt)|0,_=_+Math.imul(Ze,at)|0,te=te+Math.imul(Ze,mt)|0,ee=ee+Math.imul(Ue,ot)|0,_=_+Math.imul(Ue,vt)|0,_=_+Math.imul(je,ot)|0,te=te+Math.imul(je,vt)|0,ee=ee+Math.imul(tt,st)|0,_=_+Math.imul(tt,gt)|0,_=_+Math.imul(ut,st)|0,te=te+Math.imul(ut,gt)|0,ee=ee+Math.imul(Qe,ht)|0,_=_+Math.imul(Qe,yt)|0,_=_+Math.imul(Ge,ht)|0,te=te+Math.imul(Ge,yt)|0,ee=ee+Math.imul(Ve,lt)|0,_=_+Math.imul(Ve,_t)|0,_=_+Math.imul(Ye,lt)|0,te=te+Math.imul(Ye,_t)|0;var Gt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,ee=Math.imul(Be,at),_=Math.imul(Be,mt),_=_+Math.imul(ye,at)|0,te=Math.imul(ye,mt),ee=ee+Math.imul(Ke,ot)|0,_=_+Math.imul(Ke,vt)|0,_=_+Math.imul(Ze,ot)|0,te=te+Math.imul(Ze,vt)|0,ee=ee+Math.imul(Ue,st)|0,_=_+Math.imul(Ue,gt)|0,_=_+Math.imul(je,st)|0,te=te+Math.imul(je,gt)|0,ee=ee+Math.imul(tt,ht)|0,_=_+Math.imul(tt,yt)|0,_=_+Math.imul(ut,ht)|0,te=te+Math.imul(ut,yt)|0,ee=ee+Math.imul(Qe,lt)|0,_=_+Math.imul(Qe,_t)|0,_=_+Math.imul(Ge,lt)|0,te=te+Math.imul(Ge,_t)|0;var Kt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,ee=Math.imul(Be,ot),_=Math.imul(Be,vt),_=_+Math.imul(ye,ot)|0,te=Math.imul(ye,vt),ee=ee+Math.imul(Ke,st)|0,_=_+Math.imul(Ke,gt)|0,_=_+Math.imul(Ze,st)|0,te=te+Math.imul(Ze,gt)|0,ee=ee+Math.imul(Ue,ht)|0,_=_+Math.imul(Ue,yt)|0,_=_+Math.imul(je,ht)|0,te=te+Math.imul(je,yt)|0,ee=ee+Math.imul(tt,lt)|0,_=_+Math.imul(tt,_t)|0,_=_+Math.imul(ut,lt)|0,te=te+Math.imul(ut,_t)|0;var Zt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,ee=Math.imul(Be,st),_=Math.imul(Be,gt),_=_+Math.imul(ye,st)|0,te=Math.imul(ye,gt),ee=ee+Math.imul(Ke,ht)|0,_=_+Math.imul(Ke,yt)|0,_=_+Math.imul(Ze,ht)|0,te=te+Math.imul(Ze,yt)|0,ee=ee+Math.imul(Ue,lt)|0,_=_+Math.imul(Ue,_t)|0,_=_+Math.imul(je,lt)|0,te=te+Math.imul(je,_t)|0;var Vt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,ee=Math.imul(Be,ht),_=Math.imul(Be,yt),_=_+Math.imul(ye,ht)|0,te=Math.imul(ye,yt),ee=ee+Math.imul(Ke,lt)|0,_=_+Math.imul(Ke,_t)|0,_=_+Math.imul(Ze,lt)|0,te=te+Math.imul(Ze,_t)|0;var Yt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,ee=Math.imul(Be,lt),_=Math.imul(Be,_t),_=_+Math.imul(ye,lt)|0,te=Math.imul(ye,_t);var Xt=(se+ee|0)+((_&8191)<<13)|0;return se=(te+(_>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,ae[0]=At,ae[1]=Tt,ae[2]=Pt,ae[3]=Ot,ae[4]=Nt,ae[5]=Lt,ae[6]=Ut,ae[7]=Ft,ae[8]=qt,ae[9]=Ht,ae[10]=jt,ae[11]=zt,ae[12]=Wt,ae[13]=Gt,ae[14]=Kt,ae[15]=Zt,ae[16]=Vt,ae[17]=Yt,ae[18]=Xt,se!==0&&(ae[19]=se,j.length++),j};Math.imul||(xe=ge);function Ae(oe,c,b){b.negative=c.negative^oe.negative,b.length=oe.length+c.length;for(var j=0,Z=0,re=0;re<b.length-1;re++){var ae=Z;Z=0;for(var se=j&67108863,ee=Math.min(re,c.length-1),_=Math.max(0,re-oe.length+1);_<=ee;_++){var te=re-_,ue=oe.words[te]|0,ve=c.words[_]|0,be=ue*ve,Me=be&67108863;ae=ae+(be/67108864|0)|0,Me=Me+se|0,se=Me&67108863,ae=ae+(Me>>>26)|0,Z+=ae>>>26,ae&=67108863}b.words[re]=se,j=ae,ae=Z}return j!==0?b.words[re]=j:b.length--,b.strip()}function Ee(oe,c,b){var j=new we;return j.mulp(oe,c,b)}d.prototype.mulTo=function(c,b){var j,Z=this.length+c.length;return this.length===10&&c.length===10?j=xe(this,c,b):Z<63?j=ge(this,c,b):Z<1024?j=Ae(this,c,b):j=Ee(this,c,b),j};function we(oe,c){this.x=oe,this.y=c}we.prototype.makeRBT=function(c){for(var b=new Array(c),j=d.prototype._countBits(c)-1,Z=0;Z<c;Z++)b[Z]=this.revBin(Z,j,c);return b},we.prototype.revBin=function(c,b,j){if(c===0||c===j-1)return c;for(var Z=0,re=0;re<b;re++)Z|=(c&1)<<b-re-1,c>>=1;return Z},we.prototype.permute=function(c,b,j,Z,re,ae){for(var se=0;se<ae;se++)Z[se]=b[c[se]],re[se]=j[c[se]]},we.prototype.transform=function(c,b,j,Z,re,ae){this.permute(ae,c,b,j,Z,re);for(var se=1;se<re;se<<=1)for(var ee=se<<1,_=Math.cos(2*Math.PI/ee),te=Math.sin(2*Math.PI/ee),ue=0;ue<re;ue+=ee)for(var ve=_,be=te,Me=0;Me<se;Me++){var Se=j[ue+Me],_e=Z[ue+Me],Re=j[ue+Me+se],Ie=Z[ue+Me+se],Ne=ve*Re-be*Ie;Ie=ve*Ie+be*Re,Re=Ne,j[ue+Me]=Se+Re,Z[ue+Me]=_e+Ie,j[ue+Me+se]=Se-Re,Z[ue+Me+se]=_e-Ie,Me!==ee&&(Ne=_*ve-te*be,be=_*be+te*ve,ve=Ne)}},we.prototype.guessLen13b=function(c,b){var j=Math.max(b,c)|1,Z=j&1,re=0;for(j=j/2|0;j;j=j>>>1)re++;return 1<<re+1+Z},we.prototype.conjugate=function(c,b,j){if(!(j<=1))for(var Z=0;Z<j/2;Z++){var re=c[Z];c[Z]=c[j-Z-1],c[j-Z-1]=re,re=b[Z],b[Z]=-b[j-Z-1],b[j-Z-1]=-re}},we.prototype.normalize13b=function(c,b){for(var j=0,Z=0;Z<b/2;Z++){var re=Math.round(c[2*Z+1]/b)*8192+Math.round(c[2*Z]/b)+j;c[Z]=re&67108863,re<67108864?j=0:j=re/67108864|0}return c},we.prototype.convert13b=function(c,b,j,Z){for(var re=0,ae=0;ae<b;ae++)re=re+(c[ae]|0),j[2*ae]=re&8191,re=re>>>13,j[2*ae+1]=re&8191,re=re>>>13;for(ae=2*b;ae<Z;++ae)j[ae]=0;h(re===0),h((re&-8192)===0)},we.prototype.stub=function(c){for(var b=new Array(c),j=0;j<c;j++)b[j]=0;return b},we.prototype.mulp=function(c,b,j){var Z=2*this.guessLen13b(c.length,b.length),re=this.makeRBT(Z),ae=this.stub(Z),se=new Array(Z),ee=new Array(Z),_=new Array(Z),te=new Array(Z),ue=new Array(Z),ve=new Array(Z),be=j.words;be.length=Z,this.convert13b(c.words,c.length,se,Z),this.convert13b(b.words,b.length,te,Z),this.transform(se,ae,ee,_,Z,re),this.transform(te,ae,ue,ve,Z,re);for(var Me=0;Me<Z;Me++){var Se=ee[Me]*ue[Me]-_[Me]*ve[Me];_[Me]=ee[Me]*ve[Me]+_[Me]*ue[Me],ee[Me]=Se}return this.conjugate(ee,_,Z),this.transform(ee,_,be,ae,Z,re),this.conjugate(be,ae,Z),this.normalize13b(be,Z),j.negative=c.negative^b.negative,j.length=c.length+b.length,j.strip()},d.prototype.mul=function(c){var b=new d(null);return b.words=new Array(this.length+c.length),this.mulTo(c,b)},d.prototype.mulf=function(c){var b=new d(null);return b.words=new Array(this.length+c.length),Ee(this,c,b)},d.prototype.imul=function(c){return this.clone().mulTo(c,this)},d.prototype.imuln=function(c){h(typeof c=="number"),h(c<67108864);for(var b=0,j=0;j<this.length;j++){var Z=(this.words[j]|0)*c,re=(Z&67108863)+(b&67108863);b>>=26,b+=Z/67108864|0,b+=re>>>26,this.words[j]=re&67108863}return b!==0&&(this.words[j]=b,this.length++),this.length=c===0?1:this.length,this},d.prototype.muln=function(c){return this.clone().imuln(c)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(c){var b=ce(c);if(b.length===0)return new d(1);for(var j=this,Z=0;Z<b.length&&b[Z]===0;Z++,j=j.sqr());if(++Z<b.length)for(var re=j.sqr();Z<b.length;Z++,re=re.sqr())b[Z]!==0&&(j=j.mul(re));return j},d.prototype.iushln=function(c){h(typeof c=="number"&&c>=0);var b=c%26,j=(c-b)/26,Z=67108863>>>26-b<<26-b,re;if(b!==0){var ae=0;for(re=0;re<this.length;re++){var se=this.words[re]&Z,ee=(this.words[re]|0)-se<<b;this.words[re]=ee|ae,ae=se>>>26-b}ae&&(this.words[re]=ae,this.length++)}if(j!==0){for(re=this.length-1;re>=0;re--)this.words[re+j]=this.words[re];for(re=0;re<j;re++)this.words[re]=0;this.length+=j}return this.strip()},d.prototype.ishln=function(c){return h(this.negative===0),this.iushln(c)},d.prototype.iushrn=function(c,b,j){h(typeof c=="number"&&c>=0);var Z;b?Z=(b-b%26)/26:Z=0;var re=c%26,ae=Math.min((c-re)/26,this.length),se=67108863^67108863>>>re<<re,ee=j;if(Z-=ae,Z=Math.max(0,Z),ee){for(var _=0;_<ae;_++)ee.words[_]=this.words[_];ee.length=ae}if(ae!==0)if(this.length>ae)for(this.length-=ae,_=0;_<this.length;_++)this.words[_]=this.words[_+ae];else this.words[0]=0,this.length=1;var te=0;for(_=this.length-1;_>=0&&(te!==0||_>=Z);_--){var ue=this.words[_]|0;this.words[_]=te<<26-re|ue>>>re,te=ue&se}return ee&&te!==0&&(ee.words[ee.length++]=te),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function(c,b,j){return h(this.negative===0),this.iushrn(c,b,j)},d.prototype.shln=function(c){return this.clone().ishln(c)},d.prototype.ushln=function(c){return this.clone().iushln(c)},d.prototype.shrn=function(c){return this.clone().ishrn(c)},d.prototype.ushrn=function(c){return this.clone().iushrn(c)},d.prototype.testn=function(c){h(typeof c=="number"&&c>=0);var b=c%26,j=(c-b)/26,Z=1<<b;if(this.length<=j)return!1;var re=this.words[j];return!!(re&Z)},d.prototype.imaskn=function(c){h(typeof c=="number"&&c>=0);var b=c%26,j=(c-b)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(b!==0&&j++,this.length=Math.min(j,this.length),b!==0){var Z=67108863^67108863>>>b<<b;this.words[this.length-1]&=Z}return this.strip()},d.prototype.maskn=function(c){return this.clone().imaskn(c)},d.prototype.iaddn=function(c){return h(typeof c=="number"),h(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},d.prototype._iaddn=function(c){this.words[0]+=c;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},d.prototype.isubn=function(c){if(h(typeof c=="number"),h(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this.strip()},d.prototype.addn=function(c){return this.clone().iaddn(c)},d.prototype.subn=function(c){return this.clone().isubn(c)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(c,b,j){var Z=c.length+j,re;this._expand(Z);var ae,se=0;for(re=0;re<c.length;re++){ae=(this.words[re+j]|0)+se;var ee=(c.words[re]|0)*b;ae-=ee&67108863,se=(ae>>26)-(ee/67108864|0),this.words[re+j]=ae&67108863}for(;re<this.length-j;re++)ae=(this.words[re+j]|0)+se,se=ae>>26,this.words[re+j]=ae&67108863;if(se===0)return this.strip();for(h(se===-1),se=0,re=0;re<this.length;re++)ae=-(this.words[re]|0)+se,se=ae>>26,this.words[re]=ae&67108863;return this.negative=1,this.strip()},d.prototype._wordDiv=function(c,b){var j=this.length-c.length,Z=this.clone(),re=c,ae=re.words[re.length-1]|0,se=this._countBits(ae);j=26-se,j!==0&&(re=re.ushln(j),Z.iushln(j),ae=re.words[re.length-1]|0);var ee=Z.length-re.length,_;if(b!=="mod"){_=new d(null),_.length=ee+1,_.words=new Array(_.length);for(var te=0;te<_.length;te++)_.words[te]=0}var ue=Z.clone()._ishlnsubmul(re,1,ee);ue.negative===0&&(Z=ue,_&&(_.words[ee]=1));for(var ve=ee-1;ve>=0;ve--){var be=(Z.words[re.length+ve]|0)*67108864+(Z.words[re.length+ve-1]|0);for(be=Math.min(be/ae|0,67108863),Z._ishlnsubmul(re,be,ve);Z.negative!==0;)be--,Z.negative=0,Z._ishlnsubmul(re,1,ve),Z.isZero()||(Z.negative^=1);_&&(_.words[ve]=be)}return _&&_.strip(),Z.strip(),b!=="div"&&j!==0&&Z.iushrn(j),{div:_||null,mod:Z}},d.prototype.divmod=function(c,b,j){if(h(!c.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var Z,re,ae;return this.negative!==0&&c.negative===0?(ae=this.neg().divmod(c,b),b!=="mod"&&(Z=ae.div.neg()),b!=="div"&&(re=ae.mod.neg(),j&&re.negative!==0&&re.iadd(c)),{div:Z,mod:re}):this.negative===0&&c.negative!==0?(ae=this.divmod(c.neg(),b),b!=="mod"&&(Z=ae.div.neg()),{div:Z,mod:ae.mod}):this.negative&c.negative?(ae=this.neg().divmod(c.neg(),b),b!=="div"&&(re=ae.mod.neg(),j&&re.negative!==0&&re.isub(c)),{div:ae.div,mod:re}):c.length>this.length||this.cmp(c)<0?{div:new d(0),mod:this}:c.length===1?b==="div"?{div:this.divn(c.words[0]),mod:null}:b==="mod"?{div:null,mod:new d(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new d(this.modn(c.words[0]))}:this._wordDiv(c,b)},d.prototype.div=function(c){return this.divmod(c,"div",!1).div},d.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},d.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},d.prototype.divRound=function(c){var b=this.divmod(c);if(b.mod.isZero())return b.div;var j=b.div.negative!==0?b.mod.isub(c):b.mod,Z=c.ushrn(1),re=c.andln(1),ae=j.cmp(Z);return ae<0||re===1&&ae===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},d.prototype.modn=function(c){h(c<=67108863);for(var b=(1<<26)%c,j=0,Z=this.length-1;Z>=0;Z--)j=(b*j+(this.words[Z]|0))%c;return j},d.prototype.idivn=function(c){h(c<=67108863);for(var b=0,j=this.length-1;j>=0;j--){var Z=(this.words[j]|0)+b*67108864;this.words[j]=Z/c|0,b=Z%c}return this.strip()},d.prototype.divn=function(c){return this.clone().idivn(c)},d.prototype.egcd=function(c){h(c.negative===0),h(!c.isZero());var b=this,j=c.clone();b.negative!==0?b=b.umod(c):b=b.clone();for(var Z=new d(1),re=new d(0),ae=new d(0),se=new d(1),ee=0;b.isEven()&&j.isEven();)b.iushrn(1),j.iushrn(1),++ee;for(var _=j.clone(),te=b.clone();!b.isZero();){for(var ue=0,ve=1;!(b.words[0]&ve)&&ue<26;++ue,ve<<=1);if(ue>0)for(b.iushrn(ue);ue-- >0;)(Z.isOdd()||re.isOdd())&&(Z.iadd(_),re.isub(te)),Z.iushrn(1),re.iushrn(1);for(var be=0,Me=1;!(j.words[0]&Me)&&be<26;++be,Me<<=1);if(be>0)for(j.iushrn(be);be-- >0;)(ae.isOdd()||se.isOdd())&&(ae.iadd(_),se.isub(te)),ae.iushrn(1),se.iushrn(1);b.cmp(j)>=0?(b.isub(j),Z.isub(ae),re.isub(se)):(j.isub(b),ae.isub(Z),se.isub(re))}return{a:ae,b:se,gcd:j.iushln(ee)}},d.prototype._invmp=function(c){h(c.negative===0),h(!c.isZero());var b=this,j=c.clone();b.negative!==0?b=b.umod(c):b=b.clone();for(var Z=new d(1),re=new d(0),ae=j.clone();b.cmpn(1)>0&&j.cmpn(1)>0;){for(var se=0,ee=1;!(b.words[0]&ee)&&se<26;++se,ee<<=1);if(se>0)for(b.iushrn(se);se-- >0;)Z.isOdd()&&Z.iadd(ae),Z.iushrn(1);for(var _=0,te=1;!(j.words[0]&te)&&_<26;++_,te<<=1);if(_>0)for(j.iushrn(_);_-- >0;)re.isOdd()&&re.iadd(ae),re.iushrn(1);b.cmp(j)>=0?(b.isub(j),Z.isub(re)):(j.isub(b),re.isub(Z))}var ue;return b.cmpn(1)===0?ue=Z:ue=re,ue.cmpn(0)<0&&ue.iadd(c),ue},d.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var b=this.clone(),j=c.clone();b.negative=0,j.negative=0;for(var Z=0;b.isEven()&&j.isEven();Z++)b.iushrn(1),j.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;j.isEven();)j.iushrn(1);var re=b.cmp(j);if(re<0){var ae=b;b=j,j=ae}else if(re===0||j.cmpn(1)===0)break;b.isub(j)}while(!0);return j.iushln(Z)},d.prototype.invm=function(c){return this.egcd(c).a.umod(c)},d.prototype.isEven=function(){return(this.words[0]&1)===0},d.prototype.isOdd=function(){return(this.words[0]&1)===1},d.prototype.andln=function(c){return this.words[0]&c},d.prototype.bincn=function(c){h(typeof c=="number");var b=c%26,j=(c-b)/26,Z=1<<b;if(this.length<=j)return this._expand(j+1),this.words[j]|=Z,this;for(var re=Z,ae=j;re!==0&&ae<this.length;ae++){var se=this.words[ae]|0;se+=re,re=se>>>26,se&=67108863,this.words[ae]=se}return re!==0&&(this.words[ae]=re,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(c){var b=c<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this.strip();var j;if(this.length>1)j=1;else{b&&(c=-c),h(c<=67108863,"Number is too big");var Z=this.words[0]|0;j=Z===c?0:Z<c?-1:1}return this.negative!==0?-j|0:j},d.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var b=this.ucmp(c);return this.negative!==0?-b|0:b},d.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var b=0,j=this.length-1;j>=0;j--){var Z=this.words[j]|0,re=c.words[j]|0;if(Z!==re){Z<re?b=-1:Z>re&&(b=1);break}}return b},d.prototype.gtn=function(c){return this.cmpn(c)===1},d.prototype.gt=function(c){return this.cmp(c)===1},d.prototype.gten=function(c){return this.cmpn(c)>=0},d.prototype.gte=function(c){return this.cmp(c)>=0},d.prototype.ltn=function(c){return this.cmpn(c)===-1},d.prototype.lt=function(c){return this.cmp(c)===-1},d.prototype.lten=function(c){return this.cmpn(c)<=0},d.prototype.lte=function(c){return this.cmp(c)<=0},d.prototype.eqn=function(c){return this.cmpn(c)===0},d.prototype.eq=function(c){return this.cmp(c)===0},d.red=function(c){return new Ce(c)},d.prototype.toRed=function(c){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},d.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(c){return this.red=c,this},d.prototype.forceRed=function(c){return h(!this.red,"Already a number in reduction context"),this._forceRed(c)},d.prototype.redAdd=function(c){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},d.prototype.redIAdd=function(c){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},d.prototype.redSub=function(c){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},d.prototype.redISub=function(c){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},d.prototype.redShl=function(c){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},d.prototype.redMul=function(c){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},d.prototype.redIMul=function(c){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},d.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(c){return h(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var pe={k256:null,p224:null,p192:null,p25519:null};function me(oe,c){this.name=oe,this.p=new d(c,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}me.prototype._tmp=function(){var c=new d(null);return c.words=new Array(Math.ceil(this.n/13)),c},me.prototype.ireduce=function(c){var b=c,j;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),j=b.bitLength();while(j>this.n);var Z=j<this.n?-1:b.ucmp(this.p);return Z===0?(b.words[0]=0,b.length=1):Z>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},me.prototype.split=function(c,b){c.iushrn(this.n,0,b)},me.prototype.imulK=function(c){return c.imul(this.k)};function Te(){me.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$(Te,me),Te.prototype.split=function(c,b){for(var j=4194303,Z=Math.min(c.length,9),re=0;re<Z;re++)b.words[re]=c.words[re];if(b.length=Z,c.length<=9){c.words[0]=0,c.length=1;return}var ae=c.words[9];for(b.words[b.length++]=ae&j,re=10;re<c.length;re++){var se=c.words[re]|0;c.words[re-10]=(se&j)<<4|ae>>>22,ae=se}ae>>>=22,c.words[re-10]=ae,ae===0&&c.length>10?c.length-=10:c.length-=9},Te.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var b=0,j=0;j<c.length;j++){var Z=c.words[j]|0;b+=Z*977,c.words[j]=b&67108863,b=Z*64+(b/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function Pe(){me.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$(Pe,me);function Le(){me.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$(Le,me);function qe(){me.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$(qe,me),qe.prototype.imulK=function(c){for(var b=0,j=0;j<c.length;j++){var Z=(c.words[j]|0)*19+b,re=Z&67108863;Z>>>=26,c.words[j]=re,b=Z}return b!==0&&(c.words[c.length++]=b),c},d._prime=function(c){if(pe[c])return pe[c];var b;if(c==="k256")b=new Te;else if(c==="p224")b=new Pe;else if(c==="p192")b=new Le;else if(c==="p25519")b=new qe;else throw new Error("Unknown prime "+c);return pe[c]=b,b};function Ce(oe){if(typeof oe=="string"){var c=d._prime(oe);this.m=c.p,this.prime=c}else h(oe.gtn(1),"modulus must be greater than 1"),this.m=oe,this.prime=null}Ce.prototype._verify1=function(c){h(c.negative===0,"red works only with positives"),h(c.red,"red works only with red numbers")},Ce.prototype._verify2=function(c,b){h((c.negative|b.negative)===0,"red works only with positives"),h(c.red&&c.red===b.red,"red works only with red numbers")},Ce.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},Ce.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},Ce.prototype.add=function(c,b){this._verify2(c,b);var j=c.add(b);return j.cmp(this.m)>=0&&j.isub(this.m),j._forceRed(this)},Ce.prototype.iadd=function(c,b){this._verify2(c,b);var j=c.iadd(b);return j.cmp(this.m)>=0&&j.isub(this.m),j},Ce.prototype.sub=function(c,b){this._verify2(c,b);var j=c.sub(b);return j.cmpn(0)<0&&j.iadd(this.m),j._forceRed(this)},Ce.prototype.isub=function(c,b){this._verify2(c,b);var j=c.isub(b);return j.cmpn(0)<0&&j.iadd(this.m),j},Ce.prototype.shl=function(c,b){return this._verify1(c),this.imod(c.ushln(b))},Ce.prototype.imul=function(c,b){return this._verify2(c,b),this.imod(c.imul(b))},Ce.prototype.mul=function(c,b){return this._verify2(c,b),this.imod(c.mul(b))},Ce.prototype.isqr=function(c){return this.imul(c,c.clone())},Ce.prototype.sqr=function(c){return this.mul(c,c)},Ce.prototype.sqrt=function(c){if(c.isZero())return c.clone();var b=this.m.andln(3);if(h(b%2===1),b===3){var j=this.m.add(new d(1)).iushrn(2);return this.pow(c,j)}for(var Z=this.m.subn(1),re=0;!Z.isZero()&&Z.andln(1)===0;)re++,Z.iushrn(1);h(!Z.isZero());var ae=new d(1).toRed(this),se=ae.redNeg(),ee=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new d(2*_*_).toRed(this);this.pow(_,ee).cmp(se)!==0;)_.redIAdd(se);for(var te=this.pow(_,Z),ue=this.pow(c,Z.addn(1).iushrn(1)),ve=this.pow(c,Z),be=re;ve.cmp(ae)!==0;){for(var Me=ve,Se=0;Me.cmp(ae)!==0;Se++)Me=Me.redSqr();h(Se<be);var _e=this.pow(te,new d(1).iushln(be-Se-1));ue=ue.redMul(_e),te=_e.redSqr(),ve=ve.redMul(te),be=Se}return ue},Ce.prototype.invm=function(c){var b=c._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},Ce.prototype.pow=function(c,b){if(b.isZero())return new d(1).toRed(this);if(b.cmpn(1)===0)return c.clone();var j=4,Z=new Array(1<<j);Z[0]=new d(1).toRed(this),Z[1]=c;for(var re=2;re<Z.length;re++)Z[re]=this.mul(Z[re-1],c);var ae=Z[0],se=0,ee=0,_=b.bitLength()%26;for(_===0&&(_=26),re=b.length-1;re>=0;re--){for(var te=b.words[re],ue=_-1;ue>=0;ue--){var ve=te>>ue&1;if(ae!==Z[0]&&(ae=this.sqr(ae)),ve===0&&se===0){ee=0;continue}se<<=1,se|=ve,ee++,!(ee!==j&&(re!==0||ue!==0))&&(ae=this.mul(ae,Z[se]),ee=0,se=0)}_=26}return ae},Ce.prototype.convertTo=function(c){var b=c.umod(this.m);return b===c?b.clone():b},Ce.prototype.convertFrom=function(c){var b=c.clone();return b.red=null,b},d.mont=function(c){return new ze(c)};function ze(oe){Ce.call(this,oe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$(ze,Ce),ze.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},ze.prototype.convertFrom=function(c){var b=this.imod(c.mul(this.rinv));return b.red=null,b},ze.prototype.imul=function(c,b){if(c.isZero()||b.isZero())return c.words[0]=0,c.length=1,c;var j=c.imul(b),Z=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=j.isub(Z).iushrn(this.shift),ae=re;return re.cmp(this.m)>=0?ae=re.isub(this.m):re.cmpn(0)<0&&(ae=re.iadd(this.m)),ae._forceRed(this)},ze.prototype.mul=function(c,b){if(c.isZero()||b.isZero())return new d(0)._forceRed(this);var j=c.mul(b),Z=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=j.isub(Z).iushrn(this.shift),ae=re;return re.cmp(this.m)>=0?ae=re.isub(this.m):re.cmpn(0)<0&&(ae=re.iadd(this.m)),ae._forceRed(this)},ze.prototype.invm=function(c){var b=this.imod(c._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(a,commonjsGlobal)})(bn$1);var bnExports$1=bn$1.exports,browser$2,hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$2;hasRequiredBrowser=1;var a=requireElliptic(),e=bnExports$1;browser$2=function(Y){return new h(Y)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1;function h(d){this.curveType=o[d],this.curveType||(this.curveType={name:d}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}h.prototype.generateKeys=function(d,Y){return this.keys=this.curve.genKeyPair(),this.getPublicKey(d,Y)},h.prototype.computeSecret=function(d,Y,ie){Y=Y||"utf8",Buffer$E.isBuffer(d)||(d=new Buffer$E(d,Y));var fe=this.curve.keyFromPublic(d).getPublic(),he=fe.mul(this.keys.getPrivate()).getX();return $(he,ie,this.curveType.byteLength)},h.prototype.getPublicKey=function(d,Y){var ie=this.keys.getPublic(Y==="compressed",!0);return Y==="hybrid"&&(ie[ie.length-1]%2?ie[0]=7:ie[0]=6),$(ie,d)},h.prototype.getPrivateKey=function(d){return $(this.keys.getPrivate(),d)},h.prototype.setPublicKey=function(d,Y){return Y=Y||"utf8",Buffer$E.isBuffer(d)||(d=new Buffer$E(d,Y)),this.keys._importPublic(d),this},h.prototype.setPrivateKey=function(d,Y){Y=Y||"utf8",Buffer$E.isBuffer(d)||(d=new Buffer$E(d,Y));var ie=new e(d);return ie=ie.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(ie),this};function $(d,Y,ie){Array.isArray(d)||(d=d.toArray());var fe=new Buffer$E(d);if(ie&&fe.length<ie){var he=new Buffer$E(ie-fe.length);he.fill(0),fe=Buffer$E.concat([he,fe])}return Y?fe.toString(Y):fe}return browser$2}var browser$1={},createHash$2=browser$9,Buffer$4=safeBufferExports$1.Buffer,mgf$2=function(a,e){for(var o=Buffer$4.alloc(0),h=0,$;o.length<e;)$=i2ops(h++),o=Buffer$4.concat([o,createHash$2("sha1").update(a).update($).digest()]);return o.slice(0,e)};function i2ops(a){var e=Buffer$4.allocUnsafe(4);return e.writeUInt32BE(a,0),e}var xor$3=function a(e,o){for(var h=e.length,$=-1;++$<h;)e[$]^=o[$];return e},bn={exports:{}};bn.exports;(function(a){(function(e,o){function h(oe,c){if(!oe)throw new Error(c||"Assertion failed")}function $(oe,c){oe.super_=c;var b=function(){};b.prototype=c.prototype,oe.prototype=new b,oe.prototype.constructor=oe}function d(oe,c,b){if(d.isBN(oe))return oe;this.negative=0,this.words=null,this.length=0,this.red=null,oe!==null&&((c==="le"||c==="be")&&(b=c,c=10),this._init(oe||0,c||10,b||"be"))}typeof e=="object"?e.exports=d:o.BN=d,d.BN=d,d.wordSize=26;var Y;try{typeof window<"u"&&typeof window.Buffer<"u"?Y=window.Buffer:Y=require$$0$3.Buffer}catch{}d.isBN=function(c){return c instanceof d?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===d.wordSize&&Array.isArray(c.words)},d.max=function(c,b){return c.cmp(b)>0?c:b},d.min=function(c,b){return c.cmp(b)<0?c:b},d.prototype._init=function(c,b,j){if(typeof c=="number")return this._initNumber(c,b,j);if(typeof c=="object")return this._initArray(c,b,j);b==="hex"&&(b=16),h(b===(b|0)&&b>=2&&b<=36),c=c.toString().replace(/\s+/g,"");var Z=0;c[0]==="-"&&(Z++,this.negative=1),Z<c.length&&(b===16?this._parseHex(c,Z,j):(this._parseBase(c,b,Z),j==="le"&&this._initArray(this.toArray(),b,j)))},d.prototype._initNumber=function(c,b,j){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(h(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),j==="le"&&this._initArray(this.toArray(),b,j)},d.prototype._initArray=function(c,b,j){if(h(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var Z=0;Z<this.length;Z++)this.words[Z]=0;var re,ae,se=0;if(j==="be")for(Z=c.length-1,re=0;Z>=0;Z-=3)ae=c[Z]|c[Z-1]<<8|c[Z-2]<<16,this.words[re]|=ae<<se&67108863,this.words[re+1]=ae>>>26-se&67108863,se+=24,se>=26&&(se-=26,re++);else if(j==="le")for(Z=0,re=0;Z<c.length;Z+=3)ae=c[Z]|c[Z+1]<<8|c[Z+2]<<16,this.words[re]|=ae<<se&67108863,this.words[re+1]=ae>>>26-se&67108863,se+=24,se>=26&&(se-=26,re++);return this.strip()};function ie(oe,c){var b=oe.charCodeAt(c);return b>=65&&b<=70?b-55:b>=97&&b<=102?b-87:b-48&15}function fe(oe,c,b){var j=ie(oe,b);return b-1>=c&&(j|=ie(oe,b-1)<<4),j}d.prototype._parseHex=function(c,b,j){this.length=Math.ceil((c.length-b)/6),this.words=new Array(this.length);for(var Z=0;Z<this.length;Z++)this.words[Z]=0;var re=0,ae=0,se;if(j==="be")for(Z=c.length-1;Z>=b;Z-=2)se=fe(c,b,Z)<<re,this.words[ae]|=se&67108863,re>=18?(re-=18,ae+=1,this.words[ae]|=se>>>26):re+=8;else{var ee=c.length-b;for(Z=ee%2===0?b+1:b;Z<c.length;Z+=2)se=fe(c,b,Z)<<re,this.words[ae]|=se&67108863,re>=18?(re-=18,ae+=1,this.words[ae]|=se>>>26):re+=8}this.strip()};function he(oe,c,b,j){for(var Z=0,re=Math.min(oe.length,b),ae=c;ae<re;ae++){var se=oe.charCodeAt(ae)-48;Z*=j,se>=49?Z+=se-49+10:se>=17?Z+=se-17+10:Z+=se}return Z}d.prototype._parseBase=function(c,b,j){this.words=[0],this.length=1;for(var Z=0,re=1;re<=67108863;re*=b)Z++;Z--,re=re/b|0;for(var ae=c.length-j,se=ae%Z,ee=Math.min(ae,ae-se)+j,_=0,te=j;te<ee;te+=Z)_=he(c,te,te+Z,b),this.imuln(re),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(se!==0){var ue=1;for(_=he(c,te,c.length,b),te=0;te<se;te++)ue*=b;this.imuln(ue),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this.strip()},d.prototype.copy=function(c){c.words=new Array(this.length);for(var b=0;b<this.length;b++)c.words[b]=this.words[b];c.length=this.length,c.negative=this.negative,c.red=this.red},d.prototype.clone=function(){var c=new d(null);return this.copy(c),c},d.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},d.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},d.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ne=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],le=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],de=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(c,b){c=c||10,b=b|0||1;var j;if(c===16||c==="hex"){j="";for(var Z=0,re=0,ae=0;ae<this.length;ae++){var se=this.words[ae],ee=((se<<Z|re)&16777215).toString(16);re=se>>>24-Z&16777215,Z+=2,Z>=26&&(Z-=26,ae--),re!==0||ae!==this.length-1?j=ne[6-ee.length]+ee+j:j=ee+j}for(re!==0&&(j=re.toString(16)+j);j.length%b!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(c===(c|0)&&c>=2&&c<=36){var _=le[c],te=de[c];j="";var ue=this.clone();for(ue.negative=0;!ue.isZero();){var ve=ue.modn(te).toString(c);ue=ue.idivn(te),ue.isZero()?j=ve+j:j=ne[_-ve.length]+ve+j}for(this.isZero()&&(j="0"+j);j.length%b!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}h(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},d.prototype.toJSON=function(){return this.toString(16)},d.prototype.toBuffer=function(c,b){return h(typeof Y<"u"),this.toArrayLike(Y,c,b)},d.prototype.toArray=function(c,b){return this.toArrayLike(Array,c,b)},d.prototype.toArrayLike=function(c,b,j){var Z=this.byteLength(),re=j||Math.max(1,Z);h(Z<=re,"byte array longer than desired length"),h(re>0,"Requested array length <= 0"),this.strip();var ae=b==="le",se=new c(re),ee,_,te=this.clone();if(ae){for(_=0;!te.isZero();_++)ee=te.andln(255),te.iushrn(8),se[_]=ee;for(;_<re;_++)se[_]=0}else{for(_=0;_<re-Z;_++)se[_]=0;for(_=0;!te.isZero();_++)ee=te.andln(255),te.iushrn(8),se[re-_-1]=ee}return se},Math.clz32?d.prototype._countBits=function(c){return 32-Math.clz32(c)}:d.prototype._countBits=function(c){var b=c,j=0;return b>=4096&&(j+=13,b>>>=13),b>=64&&(j+=7,b>>>=7),b>=8&&(j+=4,b>>>=4),b>=2&&(j+=2,b>>>=2),j+b},d.prototype._zeroBits=function(c){if(c===0)return 26;var b=c,j=0;return b&8191||(j+=13,b>>>=13),b&127||(j+=7,b>>>=7),b&15||(j+=4,b>>>=4),b&3||(j+=2,b>>>=2),b&1||j++,j},d.prototype.bitLength=function(){var c=this.words[this.length-1],b=this._countBits(c);return(this.length-1)*26+b};function ce(oe){for(var c=new Array(oe.bitLength()),b=0;b<c.length;b++){var j=b/26|0,Z=b%26;c[b]=(oe.words[j]&1<<Z)>>>Z}return c}d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,b=0;b<this.length;b++){var j=this._zeroBits(this.words[b]);if(c+=j,j!==26)break}return c},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},d.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var b=0;b<c.length;b++)this.words[b]=this.words[b]|c.words[b];return this.strip()},d.prototype.ior=function(c){return h((this.negative|c.negative)===0),this.iuor(c)},d.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},d.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},d.prototype.iuand=function(c){var b;this.length>c.length?b=c:b=this;for(var j=0;j<b.length;j++)this.words[j]=this.words[j]&c.words[j];return this.length=b.length,this.strip()},d.prototype.iand=function(c){return h((this.negative|c.negative)===0),this.iuand(c)},d.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},d.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},d.prototype.iuxor=function(c){var b,j;this.length>c.length?(b=this,j=c):(b=c,j=this);for(var Z=0;Z<j.length;Z++)this.words[Z]=b.words[Z]^j.words[Z];if(this!==b)for(;Z<b.length;Z++)this.words[Z]=b.words[Z];return this.length=b.length,this.strip()},d.prototype.ixor=function(c){return h((this.negative|c.negative)===0),this.iuxor(c)},d.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},d.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},d.prototype.inotn=function(c){h(typeof c=="number"&&c>=0);var b=Math.ceil(c/26)|0,j=c%26;this._expand(b),j>0&&b--;for(var Z=0;Z<b;Z++)this.words[Z]=~this.words[Z]&67108863;return j>0&&(this.words[Z]=~this.words[Z]&67108863>>26-j),this.strip()},d.prototype.notn=function(c){return this.clone().inotn(c)},d.prototype.setn=function(c,b){h(typeof c=="number"&&c>=0);var j=c/26|0,Z=c%26;return this._expand(j+1),b?this.words[j]=this.words[j]|1<<Z:this.words[j]=this.words[j]&~(1<<Z),this.strip()},d.prototype.iadd=function(c){var b;if(this.negative!==0&&c.negative===0)return this.negative=0,b=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,b=this.isub(c),c.negative=1,b._normSign();var j,Z;this.length>c.length?(j=this,Z=c):(j=c,Z=this);for(var re=0,ae=0;ae<Z.length;ae++)b=(j.words[ae]|0)+(Z.words[ae]|0)+re,this.words[ae]=b&67108863,re=b>>>26;for(;re!==0&&ae<j.length;ae++)b=(j.words[ae]|0)+re,this.words[ae]=b&67108863,re=b>>>26;if(this.length=j.length,re!==0)this.words[this.length]=re,this.length++;else if(j!==this)for(;ae<j.length;ae++)this.words[ae]=j.words[ae];return this},d.prototype.add=function(c){var b;return c.negative!==0&&this.negative===0?(c.negative=0,b=this.sub(c),c.negative^=1,b):c.negative===0&&this.negative!==0?(this.negative=0,b=c.sub(this),this.negative=1,b):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},d.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var b=this.iadd(c);return c.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var j=this.cmp(c);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Z,re;j>0?(Z=this,re=c):(Z=c,re=this);for(var ae=0,se=0;se<re.length;se++)b=(Z.words[se]|0)-(re.words[se]|0)+ae,ae=b>>26,this.words[se]=b&67108863;for(;ae!==0&&se<Z.length;se++)b=(Z.words[se]|0)+ae,ae=b>>26,this.words[se]=b&67108863;if(ae===0&&se<Z.length&&Z!==this)for(;se<Z.length;se++)this.words[se]=Z.words[se];return this.length=Math.max(this.length,se),Z!==this&&(this.negative=1),this.strip()},d.prototype.sub=function(c){return this.clone().isub(c)};function ge(oe,c,b){b.negative=c.negative^oe.negative;var j=oe.length+c.length|0;b.length=j,j=j-1|0;var Z=oe.words[0]|0,re=c.words[0]|0,ae=Z*re,se=ae&67108863,ee=ae/67108864|0;b.words[0]=se;for(var _=1;_<j;_++){for(var te=ee>>>26,ue=ee&67108863,ve=Math.min(_,c.length-1),be=Math.max(0,_-oe.length+1);be<=ve;be++){var Me=_-be|0;Z=oe.words[Me]|0,re=c.words[be]|0,ae=Z*re+ue,te+=ae/67108864|0,ue=ae&67108863}b.words[_]=ue|0,ee=te|0}return ee!==0?b.words[_]=ee|0:b.length--,b.strip()}var xe=function(c,b,j){var Z=c.words,re=b.words,ae=j.words,se=0,ee,_,te,ue=Z[0]|0,ve=ue&8191,be=ue>>>13,Me=Z[1]|0,Se=Me&8191,_e=Me>>>13,Re=Z[2]|0,Ie=Re&8191,Ne=Re>>>13,Oe=Z[3]|0,ke=Oe&8191,He=Oe>>>13,ct=Z[4]|0,Ve=ct&8191,Ye=ct>>>13,wt=Z[5]|0,Qe=wt&8191,Ge=wt>>>13,$t=Z[6]|0,tt=$t&8191,ut=$t>>>13,St=Z[7]|0,Ue=St&8191,je=St>>>13,bt=Z[8]|0,Ke=bt&8191,Ze=bt>>>13,Et=Z[9]|0,Be=Et&8191,ye=Et>>>13,$e=re[0]|0,De=$e&8191,Fe=$e>>>13,Xe=re[1]|0,We=Xe&8191,et=Xe>>>13,xt=re[2]|0,Je=xt&8191,rt=xt>>>13,Mt=re[3]|0,it=Mt&8191,dt=Mt>>>13,Bt=re[4]|0,nt=Bt&8191,pt=Bt>>>13,Rt=re[5]|0,at=Rt&8191,mt=Rt>>>13,kt=re[6]|0,ot=kt&8191,vt=kt>>>13,It=re[7]|0,st=It&8191,gt=It>>>13,Ct=re[8]|0,ht=Ct&8191,yt=Ct>>>13,Dt=re[9]|0,lt=Dt&8191,_t=Dt>>>13;j.negative=c.negative^b.negative,j.length=19,ee=Math.imul(ve,De),_=Math.imul(ve,Fe),_=_+Math.imul(be,De)|0,te=Math.imul(be,Fe);var At=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(At>>>26)|0,At&=67108863,ee=Math.imul(Se,De),_=Math.imul(Se,Fe),_=_+Math.imul(_e,De)|0,te=Math.imul(_e,Fe),ee=ee+Math.imul(ve,We)|0,_=_+Math.imul(ve,et)|0,_=_+Math.imul(be,We)|0,te=te+Math.imul(be,et)|0;var Tt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,ee=Math.imul(Ie,De),_=Math.imul(Ie,Fe),_=_+Math.imul(Ne,De)|0,te=Math.imul(Ne,Fe),ee=ee+Math.imul(Se,We)|0,_=_+Math.imul(Se,et)|0,_=_+Math.imul(_e,We)|0,te=te+Math.imul(_e,et)|0,ee=ee+Math.imul(ve,Je)|0,_=_+Math.imul(ve,rt)|0,_=_+Math.imul(be,Je)|0,te=te+Math.imul(be,rt)|0;var Pt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,ee=Math.imul(ke,De),_=Math.imul(ke,Fe),_=_+Math.imul(He,De)|0,te=Math.imul(He,Fe),ee=ee+Math.imul(Ie,We)|0,_=_+Math.imul(Ie,et)|0,_=_+Math.imul(Ne,We)|0,te=te+Math.imul(Ne,et)|0,ee=ee+Math.imul(Se,Je)|0,_=_+Math.imul(Se,rt)|0,_=_+Math.imul(_e,Je)|0,te=te+Math.imul(_e,rt)|0,ee=ee+Math.imul(ve,it)|0,_=_+Math.imul(ve,dt)|0,_=_+Math.imul(be,it)|0,te=te+Math.imul(be,dt)|0;var Ot=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,ee=Math.imul(Ve,De),_=Math.imul(Ve,Fe),_=_+Math.imul(Ye,De)|0,te=Math.imul(Ye,Fe),ee=ee+Math.imul(ke,We)|0,_=_+Math.imul(ke,et)|0,_=_+Math.imul(He,We)|0,te=te+Math.imul(He,et)|0,ee=ee+Math.imul(Ie,Je)|0,_=_+Math.imul(Ie,rt)|0,_=_+Math.imul(Ne,Je)|0,te=te+Math.imul(Ne,rt)|0,ee=ee+Math.imul(Se,it)|0,_=_+Math.imul(Se,dt)|0,_=_+Math.imul(_e,it)|0,te=te+Math.imul(_e,dt)|0,ee=ee+Math.imul(ve,nt)|0,_=_+Math.imul(ve,pt)|0,_=_+Math.imul(be,nt)|0,te=te+Math.imul(be,pt)|0;var Nt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,ee=Math.imul(Qe,De),_=Math.imul(Qe,Fe),_=_+Math.imul(Ge,De)|0,te=Math.imul(Ge,Fe),ee=ee+Math.imul(Ve,We)|0,_=_+Math.imul(Ve,et)|0,_=_+Math.imul(Ye,We)|0,te=te+Math.imul(Ye,et)|0,ee=ee+Math.imul(ke,Je)|0,_=_+Math.imul(ke,rt)|0,_=_+Math.imul(He,Je)|0,te=te+Math.imul(He,rt)|0,ee=ee+Math.imul(Ie,it)|0,_=_+Math.imul(Ie,dt)|0,_=_+Math.imul(Ne,it)|0,te=te+Math.imul(Ne,dt)|0,ee=ee+Math.imul(Se,nt)|0,_=_+Math.imul(Se,pt)|0,_=_+Math.imul(_e,nt)|0,te=te+Math.imul(_e,pt)|0,ee=ee+Math.imul(ve,at)|0,_=_+Math.imul(ve,mt)|0,_=_+Math.imul(be,at)|0,te=te+Math.imul(be,mt)|0;var Lt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,ee=Math.imul(tt,De),_=Math.imul(tt,Fe),_=_+Math.imul(ut,De)|0,te=Math.imul(ut,Fe),ee=ee+Math.imul(Qe,We)|0,_=_+Math.imul(Qe,et)|0,_=_+Math.imul(Ge,We)|0,te=te+Math.imul(Ge,et)|0,ee=ee+Math.imul(Ve,Je)|0,_=_+Math.imul(Ve,rt)|0,_=_+Math.imul(Ye,Je)|0,te=te+Math.imul(Ye,rt)|0,ee=ee+Math.imul(ke,it)|0,_=_+Math.imul(ke,dt)|0,_=_+Math.imul(He,it)|0,te=te+Math.imul(He,dt)|0,ee=ee+Math.imul(Ie,nt)|0,_=_+Math.imul(Ie,pt)|0,_=_+Math.imul(Ne,nt)|0,te=te+Math.imul(Ne,pt)|0,ee=ee+Math.imul(Se,at)|0,_=_+Math.imul(Se,mt)|0,_=_+Math.imul(_e,at)|0,te=te+Math.imul(_e,mt)|0,ee=ee+Math.imul(ve,ot)|0,_=_+Math.imul(ve,vt)|0,_=_+Math.imul(be,ot)|0,te=te+Math.imul(be,vt)|0;var Ut=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,ee=Math.imul(Ue,De),_=Math.imul(Ue,Fe),_=_+Math.imul(je,De)|0,te=Math.imul(je,Fe),ee=ee+Math.imul(tt,We)|0,_=_+Math.imul(tt,et)|0,_=_+Math.imul(ut,We)|0,te=te+Math.imul(ut,et)|0,ee=ee+Math.imul(Qe,Je)|0,_=_+Math.imul(Qe,rt)|0,_=_+Math.imul(Ge,Je)|0,te=te+Math.imul(Ge,rt)|0,ee=ee+Math.imul(Ve,it)|0,_=_+Math.imul(Ve,dt)|0,_=_+Math.imul(Ye,it)|0,te=te+Math.imul(Ye,dt)|0,ee=ee+Math.imul(ke,nt)|0,_=_+Math.imul(ke,pt)|0,_=_+Math.imul(He,nt)|0,te=te+Math.imul(He,pt)|0,ee=ee+Math.imul(Ie,at)|0,_=_+Math.imul(Ie,mt)|0,_=_+Math.imul(Ne,at)|0,te=te+Math.imul(Ne,mt)|0,ee=ee+Math.imul(Se,ot)|0,_=_+Math.imul(Se,vt)|0,_=_+Math.imul(_e,ot)|0,te=te+Math.imul(_e,vt)|0,ee=ee+Math.imul(ve,st)|0,_=_+Math.imul(ve,gt)|0,_=_+Math.imul(be,st)|0,te=te+Math.imul(be,gt)|0;var Ft=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,ee=Math.imul(Ke,De),_=Math.imul(Ke,Fe),_=_+Math.imul(Ze,De)|0,te=Math.imul(Ze,Fe),ee=ee+Math.imul(Ue,We)|0,_=_+Math.imul(Ue,et)|0,_=_+Math.imul(je,We)|0,te=te+Math.imul(je,et)|0,ee=ee+Math.imul(tt,Je)|0,_=_+Math.imul(tt,rt)|0,_=_+Math.imul(ut,Je)|0,te=te+Math.imul(ut,rt)|0,ee=ee+Math.imul(Qe,it)|0,_=_+Math.imul(Qe,dt)|0,_=_+Math.imul(Ge,it)|0,te=te+Math.imul(Ge,dt)|0,ee=ee+Math.imul(Ve,nt)|0,_=_+Math.imul(Ve,pt)|0,_=_+Math.imul(Ye,nt)|0,te=te+Math.imul(Ye,pt)|0,ee=ee+Math.imul(ke,at)|0,_=_+Math.imul(ke,mt)|0,_=_+Math.imul(He,at)|0,te=te+Math.imul(He,mt)|0,ee=ee+Math.imul(Ie,ot)|0,_=_+Math.imul(Ie,vt)|0,_=_+Math.imul(Ne,ot)|0,te=te+Math.imul(Ne,vt)|0,ee=ee+Math.imul(Se,st)|0,_=_+Math.imul(Se,gt)|0,_=_+Math.imul(_e,st)|0,te=te+Math.imul(_e,gt)|0,ee=ee+Math.imul(ve,ht)|0,_=_+Math.imul(ve,yt)|0,_=_+Math.imul(be,ht)|0,te=te+Math.imul(be,yt)|0;var qt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(qt>>>26)|0,qt&=67108863,ee=Math.imul(Be,De),_=Math.imul(Be,Fe),_=_+Math.imul(ye,De)|0,te=Math.imul(ye,Fe),ee=ee+Math.imul(Ke,We)|0,_=_+Math.imul(Ke,et)|0,_=_+Math.imul(Ze,We)|0,te=te+Math.imul(Ze,et)|0,ee=ee+Math.imul(Ue,Je)|0,_=_+Math.imul(Ue,rt)|0,_=_+Math.imul(je,Je)|0,te=te+Math.imul(je,rt)|0,ee=ee+Math.imul(tt,it)|0,_=_+Math.imul(tt,dt)|0,_=_+Math.imul(ut,it)|0,te=te+Math.imul(ut,dt)|0,ee=ee+Math.imul(Qe,nt)|0,_=_+Math.imul(Qe,pt)|0,_=_+Math.imul(Ge,nt)|0,te=te+Math.imul(Ge,pt)|0,ee=ee+Math.imul(Ve,at)|0,_=_+Math.imul(Ve,mt)|0,_=_+Math.imul(Ye,at)|0,te=te+Math.imul(Ye,mt)|0,ee=ee+Math.imul(ke,ot)|0,_=_+Math.imul(ke,vt)|0,_=_+Math.imul(He,ot)|0,te=te+Math.imul(He,vt)|0,ee=ee+Math.imul(Ie,st)|0,_=_+Math.imul(Ie,gt)|0,_=_+Math.imul(Ne,st)|0,te=te+Math.imul(Ne,gt)|0,ee=ee+Math.imul(Se,ht)|0,_=_+Math.imul(Se,yt)|0,_=_+Math.imul(_e,ht)|0,te=te+Math.imul(_e,yt)|0,ee=ee+Math.imul(ve,lt)|0,_=_+Math.imul(ve,_t)|0,_=_+Math.imul(be,lt)|0,te=te+Math.imul(be,_t)|0;var Ht=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,ee=Math.imul(Be,We),_=Math.imul(Be,et),_=_+Math.imul(ye,We)|0,te=Math.imul(ye,et),ee=ee+Math.imul(Ke,Je)|0,_=_+Math.imul(Ke,rt)|0,_=_+Math.imul(Ze,Je)|0,te=te+Math.imul(Ze,rt)|0,ee=ee+Math.imul(Ue,it)|0,_=_+Math.imul(Ue,dt)|0,_=_+Math.imul(je,it)|0,te=te+Math.imul(je,dt)|0,ee=ee+Math.imul(tt,nt)|0,_=_+Math.imul(tt,pt)|0,_=_+Math.imul(ut,nt)|0,te=te+Math.imul(ut,pt)|0,ee=ee+Math.imul(Qe,at)|0,_=_+Math.imul(Qe,mt)|0,_=_+Math.imul(Ge,at)|0,te=te+Math.imul(Ge,mt)|0,ee=ee+Math.imul(Ve,ot)|0,_=_+Math.imul(Ve,vt)|0,_=_+Math.imul(Ye,ot)|0,te=te+Math.imul(Ye,vt)|0,ee=ee+Math.imul(ke,st)|0,_=_+Math.imul(ke,gt)|0,_=_+Math.imul(He,st)|0,te=te+Math.imul(He,gt)|0,ee=ee+Math.imul(Ie,ht)|0,_=_+Math.imul(Ie,yt)|0,_=_+Math.imul(Ne,ht)|0,te=te+Math.imul(Ne,yt)|0,ee=ee+Math.imul(Se,lt)|0,_=_+Math.imul(Se,_t)|0,_=_+Math.imul(_e,lt)|0,te=te+Math.imul(_e,_t)|0;var jt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(jt>>>26)|0,jt&=67108863,ee=Math.imul(Be,Je),_=Math.imul(Be,rt),_=_+Math.imul(ye,Je)|0,te=Math.imul(ye,rt),ee=ee+Math.imul(Ke,it)|0,_=_+Math.imul(Ke,dt)|0,_=_+Math.imul(Ze,it)|0,te=te+Math.imul(Ze,dt)|0,ee=ee+Math.imul(Ue,nt)|0,_=_+Math.imul(Ue,pt)|0,_=_+Math.imul(je,nt)|0,te=te+Math.imul(je,pt)|0,ee=ee+Math.imul(tt,at)|0,_=_+Math.imul(tt,mt)|0,_=_+Math.imul(ut,at)|0,te=te+Math.imul(ut,mt)|0,ee=ee+Math.imul(Qe,ot)|0,_=_+Math.imul(Qe,vt)|0,_=_+Math.imul(Ge,ot)|0,te=te+Math.imul(Ge,vt)|0,ee=ee+Math.imul(Ve,st)|0,_=_+Math.imul(Ve,gt)|0,_=_+Math.imul(Ye,st)|0,te=te+Math.imul(Ye,gt)|0,ee=ee+Math.imul(ke,ht)|0,_=_+Math.imul(ke,yt)|0,_=_+Math.imul(He,ht)|0,te=te+Math.imul(He,yt)|0,ee=ee+Math.imul(Ie,lt)|0,_=_+Math.imul(Ie,_t)|0,_=_+Math.imul(Ne,lt)|0,te=te+Math.imul(Ne,_t)|0;var zt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863,ee=Math.imul(Be,it),_=Math.imul(Be,dt),_=_+Math.imul(ye,it)|0,te=Math.imul(ye,dt),ee=ee+Math.imul(Ke,nt)|0,_=_+Math.imul(Ke,pt)|0,_=_+Math.imul(Ze,nt)|0,te=te+Math.imul(Ze,pt)|0,ee=ee+Math.imul(Ue,at)|0,_=_+Math.imul(Ue,mt)|0,_=_+Math.imul(je,at)|0,te=te+Math.imul(je,mt)|0,ee=ee+Math.imul(tt,ot)|0,_=_+Math.imul(tt,vt)|0,_=_+Math.imul(ut,ot)|0,te=te+Math.imul(ut,vt)|0,ee=ee+Math.imul(Qe,st)|0,_=_+Math.imul(Qe,gt)|0,_=_+Math.imul(Ge,st)|0,te=te+Math.imul(Ge,gt)|0,ee=ee+Math.imul(Ve,ht)|0,_=_+Math.imul(Ve,yt)|0,_=_+Math.imul(Ye,ht)|0,te=te+Math.imul(Ye,yt)|0,ee=ee+Math.imul(ke,lt)|0,_=_+Math.imul(ke,_t)|0,_=_+Math.imul(He,lt)|0,te=te+Math.imul(He,_t)|0;var Wt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,ee=Math.imul(Be,nt),_=Math.imul(Be,pt),_=_+Math.imul(ye,nt)|0,te=Math.imul(ye,pt),ee=ee+Math.imul(Ke,at)|0,_=_+Math.imul(Ke,mt)|0,_=_+Math.imul(Ze,at)|0,te=te+Math.imul(Ze,mt)|0,ee=ee+Math.imul(Ue,ot)|0,_=_+Math.imul(Ue,vt)|0,_=_+Math.imul(je,ot)|0,te=te+Math.imul(je,vt)|0,ee=ee+Math.imul(tt,st)|0,_=_+Math.imul(tt,gt)|0,_=_+Math.imul(ut,st)|0,te=te+Math.imul(ut,gt)|0,ee=ee+Math.imul(Qe,ht)|0,_=_+Math.imul(Qe,yt)|0,_=_+Math.imul(Ge,ht)|0,te=te+Math.imul(Ge,yt)|0,ee=ee+Math.imul(Ve,lt)|0,_=_+Math.imul(Ve,_t)|0,_=_+Math.imul(Ye,lt)|0,te=te+Math.imul(Ye,_t)|0;var Gt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,ee=Math.imul(Be,at),_=Math.imul(Be,mt),_=_+Math.imul(ye,at)|0,te=Math.imul(ye,mt),ee=ee+Math.imul(Ke,ot)|0,_=_+Math.imul(Ke,vt)|0,_=_+Math.imul(Ze,ot)|0,te=te+Math.imul(Ze,vt)|0,ee=ee+Math.imul(Ue,st)|0,_=_+Math.imul(Ue,gt)|0,_=_+Math.imul(je,st)|0,te=te+Math.imul(je,gt)|0,ee=ee+Math.imul(tt,ht)|0,_=_+Math.imul(tt,yt)|0,_=_+Math.imul(ut,ht)|0,te=te+Math.imul(ut,yt)|0,ee=ee+Math.imul(Qe,lt)|0,_=_+Math.imul(Qe,_t)|0,_=_+Math.imul(Ge,lt)|0,te=te+Math.imul(Ge,_t)|0;var Kt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,ee=Math.imul(Be,ot),_=Math.imul(Be,vt),_=_+Math.imul(ye,ot)|0,te=Math.imul(ye,vt),ee=ee+Math.imul(Ke,st)|0,_=_+Math.imul(Ke,gt)|0,_=_+Math.imul(Ze,st)|0,te=te+Math.imul(Ze,gt)|0,ee=ee+Math.imul(Ue,ht)|0,_=_+Math.imul(Ue,yt)|0,_=_+Math.imul(je,ht)|0,te=te+Math.imul(je,yt)|0,ee=ee+Math.imul(tt,lt)|0,_=_+Math.imul(tt,_t)|0,_=_+Math.imul(ut,lt)|0,te=te+Math.imul(ut,_t)|0;var Zt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,ee=Math.imul(Be,st),_=Math.imul(Be,gt),_=_+Math.imul(ye,st)|0,te=Math.imul(ye,gt),ee=ee+Math.imul(Ke,ht)|0,_=_+Math.imul(Ke,yt)|0,_=_+Math.imul(Ze,ht)|0,te=te+Math.imul(Ze,yt)|0,ee=ee+Math.imul(Ue,lt)|0,_=_+Math.imul(Ue,_t)|0,_=_+Math.imul(je,lt)|0,te=te+Math.imul(je,_t)|0;var Vt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,ee=Math.imul(Be,ht),_=Math.imul(Be,yt),_=_+Math.imul(ye,ht)|0,te=Math.imul(ye,yt),ee=ee+Math.imul(Ke,lt)|0,_=_+Math.imul(Ke,_t)|0,_=_+Math.imul(Ze,lt)|0,te=te+Math.imul(Ze,_t)|0;var Yt=(se+ee|0)+((_&8191)<<13)|0;se=(te+(_>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,ee=Math.imul(Be,lt),_=Math.imul(Be,_t),_=_+Math.imul(ye,lt)|0,te=Math.imul(ye,_t);var Xt=(se+ee|0)+((_&8191)<<13)|0;return se=(te+(_>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,ae[0]=At,ae[1]=Tt,ae[2]=Pt,ae[3]=Ot,ae[4]=Nt,ae[5]=Lt,ae[6]=Ut,ae[7]=Ft,ae[8]=qt,ae[9]=Ht,ae[10]=jt,ae[11]=zt,ae[12]=Wt,ae[13]=Gt,ae[14]=Kt,ae[15]=Zt,ae[16]=Vt,ae[17]=Yt,ae[18]=Xt,se!==0&&(ae[19]=se,j.length++),j};Math.imul||(xe=ge);function Ae(oe,c,b){b.negative=c.negative^oe.negative,b.length=oe.length+c.length;for(var j=0,Z=0,re=0;re<b.length-1;re++){var ae=Z;Z=0;for(var se=j&67108863,ee=Math.min(re,c.length-1),_=Math.max(0,re-oe.length+1);_<=ee;_++){var te=re-_,ue=oe.words[te]|0,ve=c.words[_]|0,be=ue*ve,Me=be&67108863;ae=ae+(be/67108864|0)|0,Me=Me+se|0,se=Me&67108863,ae=ae+(Me>>>26)|0,Z+=ae>>>26,ae&=67108863}b.words[re]=se,j=ae,ae=Z}return j!==0?b.words[re]=j:b.length--,b.strip()}function Ee(oe,c,b){var j=new we;return j.mulp(oe,c,b)}d.prototype.mulTo=function(c,b){var j,Z=this.length+c.length;return this.length===10&&c.length===10?j=xe(this,c,b):Z<63?j=ge(this,c,b):Z<1024?j=Ae(this,c,b):j=Ee(this,c,b),j};function we(oe,c){this.x=oe,this.y=c}we.prototype.makeRBT=function(c){for(var b=new Array(c),j=d.prototype._countBits(c)-1,Z=0;Z<c;Z++)b[Z]=this.revBin(Z,j,c);return b},we.prototype.revBin=function(c,b,j){if(c===0||c===j-1)return c;for(var Z=0,re=0;re<b;re++)Z|=(c&1)<<b-re-1,c>>=1;return Z},we.prototype.permute=function(c,b,j,Z,re,ae){for(var se=0;se<ae;se++)Z[se]=b[c[se]],re[se]=j[c[se]]},we.prototype.transform=function(c,b,j,Z,re,ae){this.permute(ae,c,b,j,Z,re);for(var se=1;se<re;se<<=1)for(var ee=se<<1,_=Math.cos(2*Math.PI/ee),te=Math.sin(2*Math.PI/ee),ue=0;ue<re;ue+=ee)for(var ve=_,be=te,Me=0;Me<se;Me++){var Se=j[ue+Me],_e=Z[ue+Me],Re=j[ue+Me+se],Ie=Z[ue+Me+se],Ne=ve*Re-be*Ie;Ie=ve*Ie+be*Re,Re=Ne,j[ue+Me]=Se+Re,Z[ue+Me]=_e+Ie,j[ue+Me+se]=Se-Re,Z[ue+Me+se]=_e-Ie,Me!==ee&&(Ne=_*ve-te*be,be=_*be+te*ve,ve=Ne)}},we.prototype.guessLen13b=function(c,b){var j=Math.max(b,c)|1,Z=j&1,re=0;for(j=j/2|0;j;j=j>>>1)re++;return 1<<re+1+Z},we.prototype.conjugate=function(c,b,j){if(!(j<=1))for(var Z=0;Z<j/2;Z++){var re=c[Z];c[Z]=c[j-Z-1],c[j-Z-1]=re,re=b[Z],b[Z]=-b[j-Z-1],b[j-Z-1]=-re}},we.prototype.normalize13b=function(c,b){for(var j=0,Z=0;Z<b/2;Z++){var re=Math.round(c[2*Z+1]/b)*8192+Math.round(c[2*Z]/b)+j;c[Z]=re&67108863,re<67108864?j=0:j=re/67108864|0}return c},we.prototype.convert13b=function(c,b,j,Z){for(var re=0,ae=0;ae<b;ae++)re=re+(c[ae]|0),j[2*ae]=re&8191,re=re>>>13,j[2*ae+1]=re&8191,re=re>>>13;for(ae=2*b;ae<Z;++ae)j[ae]=0;h(re===0),h((re&-8192)===0)},we.prototype.stub=function(c){for(var b=new Array(c),j=0;j<c;j++)b[j]=0;return b},we.prototype.mulp=function(c,b,j){var Z=2*this.guessLen13b(c.length,b.length),re=this.makeRBT(Z),ae=this.stub(Z),se=new Array(Z),ee=new Array(Z),_=new Array(Z),te=new Array(Z),ue=new Array(Z),ve=new Array(Z),be=j.words;be.length=Z,this.convert13b(c.words,c.length,se,Z),this.convert13b(b.words,b.length,te,Z),this.transform(se,ae,ee,_,Z,re),this.transform(te,ae,ue,ve,Z,re);for(var Me=0;Me<Z;Me++){var Se=ee[Me]*ue[Me]-_[Me]*ve[Me];_[Me]=ee[Me]*ve[Me]+_[Me]*ue[Me],ee[Me]=Se}return this.conjugate(ee,_,Z),this.transform(ee,_,be,ae,Z,re),this.conjugate(be,ae,Z),this.normalize13b(be,Z),j.negative=c.negative^b.negative,j.length=c.length+b.length,j.strip()},d.prototype.mul=function(c){var b=new d(null);return b.words=new Array(this.length+c.length),this.mulTo(c,b)},d.prototype.mulf=function(c){var b=new d(null);return b.words=new Array(this.length+c.length),Ee(this,c,b)},d.prototype.imul=function(c){return this.clone().mulTo(c,this)},d.prototype.imuln=function(c){h(typeof c=="number"),h(c<67108864);for(var b=0,j=0;j<this.length;j++){var Z=(this.words[j]|0)*c,re=(Z&67108863)+(b&67108863);b>>=26,b+=Z/67108864|0,b+=re>>>26,this.words[j]=re&67108863}return b!==0&&(this.words[j]=b,this.length++),this.length=c===0?1:this.length,this},d.prototype.muln=function(c){return this.clone().imuln(c)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(c){var b=ce(c);if(b.length===0)return new d(1);for(var j=this,Z=0;Z<b.length&&b[Z]===0;Z++,j=j.sqr());if(++Z<b.length)for(var re=j.sqr();Z<b.length;Z++,re=re.sqr())b[Z]!==0&&(j=j.mul(re));return j},d.prototype.iushln=function(c){h(typeof c=="number"&&c>=0);var b=c%26,j=(c-b)/26,Z=67108863>>>26-b<<26-b,re;if(b!==0){var ae=0;for(re=0;re<this.length;re++){var se=this.words[re]&Z,ee=(this.words[re]|0)-se<<b;this.words[re]=ee|ae,ae=se>>>26-b}ae&&(this.words[re]=ae,this.length++)}if(j!==0){for(re=this.length-1;re>=0;re--)this.words[re+j]=this.words[re];for(re=0;re<j;re++)this.words[re]=0;this.length+=j}return this.strip()},d.prototype.ishln=function(c){return h(this.negative===0),this.iushln(c)},d.prototype.iushrn=function(c,b,j){h(typeof c=="number"&&c>=0);var Z;b?Z=(b-b%26)/26:Z=0;var re=c%26,ae=Math.min((c-re)/26,this.length),se=67108863^67108863>>>re<<re,ee=j;if(Z-=ae,Z=Math.max(0,Z),ee){for(var _=0;_<ae;_++)ee.words[_]=this.words[_];ee.length=ae}if(ae!==0)if(this.length>ae)for(this.length-=ae,_=0;_<this.length;_++)this.words[_]=this.words[_+ae];else this.words[0]=0,this.length=1;var te=0;for(_=this.length-1;_>=0&&(te!==0||_>=Z);_--){var ue=this.words[_]|0;this.words[_]=te<<26-re|ue>>>re,te=ue&se}return ee&&te!==0&&(ee.words[ee.length++]=te),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function(c,b,j){return h(this.negative===0),this.iushrn(c,b,j)},d.prototype.shln=function(c){return this.clone().ishln(c)},d.prototype.ushln=function(c){return this.clone().iushln(c)},d.prototype.shrn=function(c){return this.clone().ishrn(c)},d.prototype.ushrn=function(c){return this.clone().iushrn(c)},d.prototype.testn=function(c){h(typeof c=="number"&&c>=0);var b=c%26,j=(c-b)/26,Z=1<<b;if(this.length<=j)return!1;var re=this.words[j];return!!(re&Z)},d.prototype.imaskn=function(c){h(typeof c=="number"&&c>=0);var b=c%26,j=(c-b)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(b!==0&&j++,this.length=Math.min(j,this.length),b!==0){var Z=67108863^67108863>>>b<<b;this.words[this.length-1]&=Z}return this.strip()},d.prototype.maskn=function(c){return this.clone().imaskn(c)},d.prototype.iaddn=function(c){return h(typeof c=="number"),h(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},d.prototype._iaddn=function(c){this.words[0]+=c;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},d.prototype.isubn=function(c){if(h(typeof c=="number"),h(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this.strip()},d.prototype.addn=function(c){return this.clone().iaddn(c)},d.prototype.subn=function(c){return this.clone().isubn(c)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(c,b,j){var Z=c.length+j,re;this._expand(Z);var ae,se=0;for(re=0;re<c.length;re++){ae=(this.words[re+j]|0)+se;var ee=(c.words[re]|0)*b;ae-=ee&67108863,se=(ae>>26)-(ee/67108864|0),this.words[re+j]=ae&67108863}for(;re<this.length-j;re++)ae=(this.words[re+j]|0)+se,se=ae>>26,this.words[re+j]=ae&67108863;if(se===0)return this.strip();for(h(se===-1),se=0,re=0;re<this.length;re++)ae=-(this.words[re]|0)+se,se=ae>>26,this.words[re]=ae&67108863;return this.negative=1,this.strip()},d.prototype._wordDiv=function(c,b){var j=this.length-c.length,Z=this.clone(),re=c,ae=re.words[re.length-1]|0,se=this._countBits(ae);j=26-se,j!==0&&(re=re.ushln(j),Z.iushln(j),ae=re.words[re.length-1]|0);var ee=Z.length-re.length,_;if(b!=="mod"){_=new d(null),_.length=ee+1,_.words=new Array(_.length);for(var te=0;te<_.length;te++)_.words[te]=0}var ue=Z.clone()._ishlnsubmul(re,1,ee);ue.negative===0&&(Z=ue,_&&(_.words[ee]=1));for(var ve=ee-1;ve>=0;ve--){var be=(Z.words[re.length+ve]|0)*67108864+(Z.words[re.length+ve-1]|0);for(be=Math.min(be/ae|0,67108863),Z._ishlnsubmul(re,be,ve);Z.negative!==0;)be--,Z.negative=0,Z._ishlnsubmul(re,1,ve),Z.isZero()||(Z.negative^=1);_&&(_.words[ve]=be)}return _&&_.strip(),Z.strip(),b!=="div"&&j!==0&&Z.iushrn(j),{div:_||null,mod:Z}},d.prototype.divmod=function(c,b,j){if(h(!c.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var Z,re,ae;return this.negative!==0&&c.negative===0?(ae=this.neg().divmod(c,b),b!=="mod"&&(Z=ae.div.neg()),b!=="div"&&(re=ae.mod.neg(),j&&re.negative!==0&&re.iadd(c)),{div:Z,mod:re}):this.negative===0&&c.negative!==0?(ae=this.divmod(c.neg(),b),b!=="mod"&&(Z=ae.div.neg()),{div:Z,mod:ae.mod}):this.negative&c.negative?(ae=this.neg().divmod(c.neg(),b),b!=="div"&&(re=ae.mod.neg(),j&&re.negative!==0&&re.isub(c)),{div:ae.div,mod:re}):c.length>this.length||this.cmp(c)<0?{div:new d(0),mod:this}:c.length===1?b==="div"?{div:this.divn(c.words[0]),mod:null}:b==="mod"?{div:null,mod:new d(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new d(this.modn(c.words[0]))}:this._wordDiv(c,b)},d.prototype.div=function(c){return this.divmod(c,"div",!1).div},d.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},d.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},d.prototype.divRound=function(c){var b=this.divmod(c);if(b.mod.isZero())return b.div;var j=b.div.negative!==0?b.mod.isub(c):b.mod,Z=c.ushrn(1),re=c.andln(1),ae=j.cmp(Z);return ae<0||re===1&&ae===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},d.prototype.modn=function(c){h(c<=67108863);for(var b=(1<<26)%c,j=0,Z=this.length-1;Z>=0;Z--)j=(b*j+(this.words[Z]|0))%c;return j},d.prototype.idivn=function(c){h(c<=67108863);for(var b=0,j=this.length-1;j>=0;j--){var Z=(this.words[j]|0)+b*67108864;this.words[j]=Z/c|0,b=Z%c}return this.strip()},d.prototype.divn=function(c){return this.clone().idivn(c)},d.prototype.egcd=function(c){h(c.negative===0),h(!c.isZero());var b=this,j=c.clone();b.negative!==0?b=b.umod(c):b=b.clone();for(var Z=new d(1),re=new d(0),ae=new d(0),se=new d(1),ee=0;b.isEven()&&j.isEven();)b.iushrn(1),j.iushrn(1),++ee;for(var _=j.clone(),te=b.clone();!b.isZero();){for(var ue=0,ve=1;!(b.words[0]&ve)&&ue<26;++ue,ve<<=1);if(ue>0)for(b.iushrn(ue);ue-- >0;)(Z.isOdd()||re.isOdd())&&(Z.iadd(_),re.isub(te)),Z.iushrn(1),re.iushrn(1);for(var be=0,Me=1;!(j.words[0]&Me)&&be<26;++be,Me<<=1);if(be>0)for(j.iushrn(be);be-- >0;)(ae.isOdd()||se.isOdd())&&(ae.iadd(_),se.isub(te)),ae.iushrn(1),se.iushrn(1);b.cmp(j)>=0?(b.isub(j),Z.isub(ae),re.isub(se)):(j.isub(b),ae.isub(Z),se.isub(re))}return{a:ae,b:se,gcd:j.iushln(ee)}},d.prototype._invmp=function(c){h(c.negative===0),h(!c.isZero());var b=this,j=c.clone();b.negative!==0?b=b.umod(c):b=b.clone();for(var Z=new d(1),re=new d(0),ae=j.clone();b.cmpn(1)>0&&j.cmpn(1)>0;){for(var se=0,ee=1;!(b.words[0]&ee)&&se<26;++se,ee<<=1);if(se>0)for(b.iushrn(se);se-- >0;)Z.isOdd()&&Z.iadd(ae),Z.iushrn(1);for(var _=0,te=1;!(j.words[0]&te)&&_<26;++_,te<<=1);if(_>0)for(j.iushrn(_);_-- >0;)re.isOdd()&&re.iadd(ae),re.iushrn(1);b.cmp(j)>=0?(b.isub(j),Z.isub(re)):(j.isub(b),re.isub(Z))}var ue;return b.cmpn(1)===0?ue=Z:ue=re,ue.cmpn(0)<0&&ue.iadd(c),ue},d.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var b=this.clone(),j=c.clone();b.negative=0,j.negative=0;for(var Z=0;b.isEven()&&j.isEven();Z++)b.iushrn(1),j.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;j.isEven();)j.iushrn(1);var re=b.cmp(j);if(re<0){var ae=b;b=j,j=ae}else if(re===0||j.cmpn(1)===0)break;b.isub(j)}while(!0);return j.iushln(Z)},d.prototype.invm=function(c){return this.egcd(c).a.umod(c)},d.prototype.isEven=function(){return(this.words[0]&1)===0},d.prototype.isOdd=function(){return(this.words[0]&1)===1},d.prototype.andln=function(c){return this.words[0]&c},d.prototype.bincn=function(c){h(typeof c=="number");var b=c%26,j=(c-b)/26,Z=1<<b;if(this.length<=j)return this._expand(j+1),this.words[j]|=Z,this;for(var re=Z,ae=j;re!==0&&ae<this.length;ae++){var se=this.words[ae]|0;se+=re,re=se>>>26,se&=67108863,this.words[ae]=se}return re!==0&&(this.words[ae]=re,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(c){var b=c<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this.strip();var j;if(this.length>1)j=1;else{b&&(c=-c),h(c<=67108863,"Number is too big");var Z=this.words[0]|0;j=Z===c?0:Z<c?-1:1}return this.negative!==0?-j|0:j},d.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var b=this.ucmp(c);return this.negative!==0?-b|0:b},d.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var b=0,j=this.length-1;j>=0;j--){var Z=this.words[j]|0,re=c.words[j]|0;if(Z!==re){Z<re?b=-1:Z>re&&(b=1);break}}return b},d.prototype.gtn=function(c){return this.cmpn(c)===1},d.prototype.gt=function(c){return this.cmp(c)===1},d.prototype.gten=function(c){return this.cmpn(c)>=0},d.prototype.gte=function(c){return this.cmp(c)>=0},d.prototype.ltn=function(c){return this.cmpn(c)===-1},d.prototype.lt=function(c){return this.cmp(c)===-1},d.prototype.lten=function(c){return this.cmpn(c)<=0},d.prototype.lte=function(c){return this.cmp(c)<=0},d.prototype.eqn=function(c){return this.cmpn(c)===0},d.prototype.eq=function(c){return this.cmp(c)===0},d.red=function(c){return new Ce(c)},d.prototype.toRed=function(c){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},d.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(c){return this.red=c,this},d.prototype.forceRed=function(c){return h(!this.red,"Already a number in reduction context"),this._forceRed(c)},d.prototype.redAdd=function(c){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},d.prototype.redIAdd=function(c){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},d.prototype.redSub=function(c){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},d.prototype.redISub=function(c){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},d.prototype.redShl=function(c){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},d.prototype.redMul=function(c){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},d.prototype.redIMul=function(c){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},d.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(c){return h(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var pe={k256:null,p224:null,p192:null,p25519:null};function me(oe,c){this.name=oe,this.p=new d(c,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}me.prototype._tmp=function(){var c=new d(null);return c.words=new Array(Math.ceil(this.n/13)),c},me.prototype.ireduce=function(c){var b=c,j;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),j=b.bitLength();while(j>this.n);var Z=j<this.n?-1:b.ucmp(this.p);return Z===0?(b.words[0]=0,b.length=1):Z>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},me.prototype.split=function(c,b){c.iushrn(this.n,0,b)},me.prototype.imulK=function(c){return c.imul(this.k)};function Te(){me.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$(Te,me),Te.prototype.split=function(c,b){for(var j=4194303,Z=Math.min(c.length,9),re=0;re<Z;re++)b.words[re]=c.words[re];if(b.length=Z,c.length<=9){c.words[0]=0,c.length=1;return}var ae=c.words[9];for(b.words[b.length++]=ae&j,re=10;re<c.length;re++){var se=c.words[re]|0;c.words[re-10]=(se&j)<<4|ae>>>22,ae=se}ae>>>=22,c.words[re-10]=ae,ae===0&&c.length>10?c.length-=10:c.length-=9},Te.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var b=0,j=0;j<c.length;j++){var Z=c.words[j]|0;b+=Z*977,c.words[j]=b&67108863,b=Z*64+(b/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function Pe(){me.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$(Pe,me);function Le(){me.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$(Le,me);function qe(){me.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$(qe,me),qe.prototype.imulK=function(c){for(var b=0,j=0;j<c.length;j++){var Z=(c.words[j]|0)*19+b,re=Z&67108863;Z>>>=26,c.words[j]=re,b=Z}return b!==0&&(c.words[c.length++]=b),c},d._prime=function(c){if(pe[c])return pe[c];var b;if(c==="k256")b=new Te;else if(c==="p224")b=new Pe;else if(c==="p192")b=new Le;else if(c==="p25519")b=new qe;else throw new Error("Unknown prime "+c);return pe[c]=b,b};function Ce(oe){if(typeof oe=="string"){var c=d._prime(oe);this.m=c.p,this.prime=c}else h(oe.gtn(1),"modulus must be greater than 1"),this.m=oe,this.prime=null}Ce.prototype._verify1=function(c){h(c.negative===0,"red works only with positives"),h(c.red,"red works only with red numbers")},Ce.prototype._verify2=function(c,b){h((c.negative|b.negative)===0,"red works only with positives"),h(c.red&&c.red===b.red,"red works only with red numbers")},Ce.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},Ce.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},Ce.prototype.add=function(c,b){this._verify2(c,b);var j=c.add(b);return j.cmp(this.m)>=0&&j.isub(this.m),j._forceRed(this)},Ce.prototype.iadd=function(c,b){this._verify2(c,b);var j=c.iadd(b);return j.cmp(this.m)>=0&&j.isub(this.m),j},Ce.prototype.sub=function(c,b){this._verify2(c,b);var j=c.sub(b);return j.cmpn(0)<0&&j.iadd(this.m),j._forceRed(this)},Ce.prototype.isub=function(c,b){this._verify2(c,b);var j=c.isub(b);return j.cmpn(0)<0&&j.iadd(this.m),j},Ce.prototype.shl=function(c,b){return this._verify1(c),this.imod(c.ushln(b))},Ce.prototype.imul=function(c,b){return this._verify2(c,b),this.imod(c.imul(b))},Ce.prototype.mul=function(c,b){return this._verify2(c,b),this.imod(c.mul(b))},Ce.prototype.isqr=function(c){return this.imul(c,c.clone())},Ce.prototype.sqr=function(c){return this.mul(c,c)},Ce.prototype.sqrt=function(c){if(c.isZero())return c.clone();var b=this.m.andln(3);if(h(b%2===1),b===3){var j=this.m.add(new d(1)).iushrn(2);return this.pow(c,j)}for(var Z=this.m.subn(1),re=0;!Z.isZero()&&Z.andln(1)===0;)re++,Z.iushrn(1);h(!Z.isZero());var ae=new d(1).toRed(this),se=ae.redNeg(),ee=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new d(2*_*_).toRed(this);this.pow(_,ee).cmp(se)!==0;)_.redIAdd(se);for(var te=this.pow(_,Z),ue=this.pow(c,Z.addn(1).iushrn(1)),ve=this.pow(c,Z),be=re;ve.cmp(ae)!==0;){for(var Me=ve,Se=0;Me.cmp(ae)!==0;Se++)Me=Me.redSqr();h(Se<be);var _e=this.pow(te,new d(1).iushln(be-Se-1));ue=ue.redMul(_e),te=_e.redSqr(),ve=ve.redMul(te),be=Se}return ue},Ce.prototype.invm=function(c){var b=c._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},Ce.prototype.pow=function(c,b){if(b.isZero())return new d(1).toRed(this);if(b.cmpn(1)===0)return c.clone();var j=4,Z=new Array(1<<j);Z[0]=new d(1).toRed(this),Z[1]=c;for(var re=2;re<Z.length;re++)Z[re]=this.mul(Z[re-1],c);var ae=Z[0],se=0,ee=0,_=b.bitLength()%26;for(_===0&&(_=26),re=b.length-1;re>=0;re--){for(var te=b.words[re],ue=_-1;ue>=0;ue--){var ve=te>>ue&1;if(ae!==Z[0]&&(ae=this.sqr(ae)),ve===0&&se===0){ee=0;continue}se<<=1,se|=ve,ee++,!(ee!==j&&(re!==0||ue!==0))&&(ae=this.mul(ae,Z[se]),ee=0,se=0)}_=26}return ae},Ce.prototype.convertTo=function(c){var b=c.umod(this.m);return b===c?b.clone():b},Ce.prototype.convertFrom=function(c){var b=c.clone();return b.red=null,b},d.mont=function(c){return new ze(c)};function ze(oe){Ce.call(this,oe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$(ze,Ce),ze.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},ze.prototype.convertFrom=function(c){var b=this.imod(c.mul(this.rinv));return b.red=null,b},ze.prototype.imul=function(c,b){if(c.isZero()||b.isZero())return c.words[0]=0,c.length=1,c;var j=c.imul(b),Z=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=j.isub(Z).iushrn(this.shift),ae=re;return re.cmp(this.m)>=0?ae=re.isub(this.m):re.cmpn(0)<0&&(ae=re.iadd(this.m)),ae._forceRed(this)},ze.prototype.mul=function(c,b){if(c.isZero()||b.isZero())return new d(0)._forceRed(this);var j=c.mul(b),Z=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=j.isub(Z).iushrn(this.shift),ae=re;return re.cmp(this.m)>=0?ae=re.isub(this.m):re.cmpn(0)<0&&(ae=re.iadd(this.m)),ae._forceRed(this)},ze.prototype.invm=function(c){var b=this.imod(c._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(a,commonjsGlobal)})(bn);var bnExports=bn.exports,BN$2=bnExports,Buffer$3=safeBufferExports$1.Buffer;function withPublic$2(a,e){return Buffer$3.from(a.toRed(BN$2.mont(e.modulus)).redPow(new BN$2(e.publicExponent)).fromRed().toArray())}var withPublic_1=withPublic$2,parseKeys$1=parseAsn1,randomBytes=browserExports,createHash$1=browser$9,mgf$1=mgf$2,xor$2=xor$3,BN$1=bnExports,withPublic$1=withPublic_1,crt$1=browserifyRsa,Buffer$2=safeBufferExports$1.Buffer,publicEncrypt=function a(e,o,h){var $;e.padding?$=e.padding:h?$=1:$=4;var d=parseKeys$1(e),Y;if($===4)Y=oaep$1(d,o);else if($===1)Y=pkcs1$1(d,o,h);else if($===3){if(Y=new BN$1(o),Y.cmp(d.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return h?crt$1(Y,d):withPublic$1(Y,d)};function oaep$1(a,e){var o=a.modulus.byteLength(),h=e.length,$=createHash$1("sha1").update(Buffer$2.alloc(0)).digest(),d=$.length,Y=2*d;if(h>o-Y-2)throw new Error("message too long");var ie=Buffer$2.alloc(o-h-Y-2),fe=o-d-1,he=randomBytes(d),ne=xor$2(Buffer$2.concat([$,ie,Buffer$2.alloc(1,1),e],fe),mgf$1(he,fe)),le=xor$2(he,mgf$1(ne,d));return new BN$1(Buffer$2.concat([Buffer$2.alloc(1),le,ne],o))}function pkcs1$1(a,e,o){var h=e.length,$=a.modulus.byteLength();if(h>$-11)throw new Error("message too long");var d;return o?d=Buffer$2.alloc($-h-3,255):d=nonZero($-h-3),new BN$1(Buffer$2.concat([Buffer$2.from([0,o?1:2]),d,Buffer$2.alloc(1),e],$))}function nonZero(a){for(var e=Buffer$2.allocUnsafe(a),o=0,h=randomBytes(a*2),$=0,d;o<a;)$===h.length&&(h=randomBytes(a*2),$=0),d=h[$++],d&&(e[o++]=d);return e}var parseKeys=parseAsn1,mgf=mgf$2,xor$1=xor$3,BN=bnExports,crt=browserifyRsa,createHash=browser$9,withPublic=withPublic_1,Buffer$1=safeBufferExports$1.Buffer,privateDecrypt=function a(e,o,h){var $;e.padding?$=e.padding:h?$=1:$=4;var d=parseKeys(e),Y=d.modulus.byteLength();if(o.length>Y||new BN(o).cmp(d.modulus)>=0)throw new Error("decryption error");var ie;h?ie=withPublic(new BN(o),d):ie=crt(o,d);var fe=Buffer$1.alloc(Y-ie.length);if(ie=Buffer$1.concat([fe,ie],Y),$===4)return oaep(d,ie);if($===1)return pkcs1(d,ie,h);if($===3)return ie;throw new Error("unknown padding")};function oaep(a,e){var o=a.modulus.byteLength(),h=createHash("sha1").update(Buffer$1.alloc(0)).digest(),$=h.length;if(e[0]!==0)throw new Error("decryption error");var d=e.slice(1,$+1),Y=e.slice($+1),ie=xor$1(d,mgf(Y,$)),fe=xor$1(Y,mgf(ie,o-$-1));if(compare(h,fe.slice(0,$)))throw new Error("decryption error");for(var he=$;fe[he]===0;)he++;if(fe[he++]!==1)throw new Error("decryption error");return fe.slice(he)}function pkcs1(a,e,o){for(var h=e.slice(0,2),$=2,d=0;e[$++]!==0;)if($>=e.length){d++;break}var Y=e.slice(2,$-1);if((h.toString("hex")!=="0002"&&!o||h.toString("hex")!=="0001"&&o)&&d++,Y.length<8&&d++,d)throw new Error("decryption error");return e.slice($)}function compare(a,e){a=Buffer$1.from(a),e=Buffer$1.from(e);var o=0,h=a.length;a.length!==e.length&&(o++,h=Math.min(a.length,e.length));for(var $=-1;++$<h;)o+=a[$]^e[$];return o}(function(a){a.publicEncrypt=publicEncrypt,a.privateDecrypt=privateDecrypt,a.privateEncrypt=function(o,h){return a.publicEncrypt(o,h,!0)},a.publicDecrypt=function(o,h){return a.privateDecrypt(o,h,!0)}})(browser$1);var browser={};function oldBrowser(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var safeBuffer=safeBufferExports$1,randombytes$2=browserExports,Buffer=safeBuffer.Buffer,kBufferMaxLength=safeBuffer.kMaxLength,crypto$1=commonjsGlobal.crypto||commonjsGlobal.msCrypto,kMaxUint32=Math.pow(2,32)-1;function assertOffset(a,e){if(typeof a!="number"||a!==a)throw new TypeError("offset must be a number");if(a>kMaxUint32||a<0)throw new TypeError("offset must be a uint32");if(a>kBufferMaxLength||a>e)throw new RangeError("offset out of range")}function assertSize(a,e,o){if(typeof a!="number"||a!==a)throw new TypeError("size must be a number");if(a>kMaxUint32||a<0)throw new TypeError("size must be a uint32");if(a+e>o||a>kBufferMaxLength)throw new RangeError("buffer too small")}crypto$1&&crypto$1.getRandomValues||!process$1.browser?(browser.randomFill=randomFill,browser.randomFillSync=randomFillSync):(browser.randomFill=oldBrowser,browser.randomFillSync=oldBrowser);function randomFill(a,e,o,h){if(!Buffer.isBuffer(a)&&!(a instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")h=e,e=0,o=a.length;else if(typeof o=="function")h=o,o=a.length-e;else if(typeof h!="function")throw new TypeError('"cb" argument must be a function');return assertOffset(e,a.length),assertSize(o,e,a.length),actualFill(a,e,o,h)}function actualFill(a,e,o,h){if(process$1.browser){var $=a.buffer,d=new Uint8Array($,e,o);if(crypto$1.getRandomValues(d),h){process$1.nextTick(function(){h(null,a)});return}return a}if(h){randombytes$2(o,function(ie,fe){if(ie)return h(ie);fe.copy(a,e),h(null,a)});return}var Y=randombytes$2(o);return Y.copy(a,e),a}function randomFillSync(a,e,o){if(typeof e>"u"&&(e=0),!Buffer.isBuffer(a)&&!(a instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return assertOffset(e,a.length),o===void 0&&(o=a.length-e),assertSize(o,e,a.length),actualFill(a,e,o)}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=browserExports,cryptoBrowserify.createHash=cryptoBrowserify.Hash=browser$9,cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=browser$8;var a=algos,e=Object.keys(a),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);cryptoBrowserify.getHashes=function(){return o};var h=browser$7;cryptoBrowserify.pbkdf2=h.pbkdf2,cryptoBrowserify.pbkdf2Sync=h.pbkdf2Sync;var $=browser$6;cryptoBrowserify.Cipher=$.Cipher,cryptoBrowserify.createCipher=$.createCipher,cryptoBrowserify.Cipheriv=$.Cipheriv,cryptoBrowserify.createCipheriv=$.createCipheriv,cryptoBrowserify.Decipher=$.Decipher,cryptoBrowserify.createDecipher=$.createDecipher,cryptoBrowserify.Decipheriv=$.Decipheriv,cryptoBrowserify.createDecipheriv=$.createDecipheriv,cryptoBrowserify.getCiphers=$.getCiphers,cryptoBrowserify.listCiphers=$.listCiphers;var d=requireBrowser$2();cryptoBrowserify.DiffieHellmanGroup=d.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=d.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=d.getDiffieHellman,cryptoBrowserify.createDiffieHellman=d.createDiffieHellman,cryptoBrowserify.DiffieHellman=d.DiffieHellman;var Y=requireBrowser$1();cryptoBrowserify.createSign=Y.createSign,cryptoBrowserify.Sign=Y.Sign,cryptoBrowserify.createVerify=Y.createVerify,cryptoBrowserify.Verify=Y.Verify,cryptoBrowserify.createECDH=requireBrowser();var ie=browser$1;cryptoBrowserify.publicEncrypt=ie.publicEncrypt,cryptoBrowserify.privateEncrypt=ie.privateEncrypt,cryptoBrowserify.publicDecrypt=ie.publicDecrypt,cryptoBrowserify.privateDecrypt=ie.privateDecrypt;var fe=browser;return cryptoBrowserify.randomFill=fe.randomFill,cryptoBrowserify.randomFillSync=fe.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}var tick=1,maxTick=65535,resolution=4,timer,inc=function(){tick=tick+1&maxTick},speedometer$1=function(a){timer||(timer=setInterval(inc,1e3/resolution|0),timer.unref&&timer.unref());var e=resolution*(a||5),o=[0],h=1,$=tick-1&maxTick;return function(d){var Y=tick-$&maxTick;for(Y>e&&(Y=e),$=tick;Y--;)h===e&&(h=0),o[h]=o[h===0?e-1:h-1],h++;d&&(o[h-1]+=d);var ie=o[h-1],fe=o.length<e?0:o[h===e?0:h];return o.length<resolution?ie:(ie-fe)*resolution/o.length}};function isInteger(a){return parseInt(a,10)===a}function createRC4(a){function e(){for(var $=new Array(a),d=0;d<a;d++)$[d]=d;return $}function o($){if($===void 0){$=new Array(a);for(var d=0;d<a;d++)$[d]=Math.floor(Math.random()*a)}else if(typeof $=="string")$=""+$,$=$.split("").map(function(le){return le.charCodeAt(0)%a});else if(Array.isArray($)){if(!$.every(function(le){return typeof le=="number"&&le===(le|0)}))throw new TypeError("invalid seed key specified: not array of integers")}else throw new TypeError("invalid seed key specified");for(var Y=$.length,ie=e(),fe=0,he=0;he<a;he++){fe=(fe+ie[he]+$[he%Y])%a;var ne=ie[he];ie[he]=ie[fe],ie[fe]=ne}return ie}function h($){this.s=o($),this.i=0,this.j=0}return h.prototype.randomNative=function(){this.i=(this.i+1)%a,this.j=(this.j+this.s[this.i])%a;var $=this.s[this.i];this.s[this.i]=this.s[this.j],this.s[this.j]=$;var d=this.s[(this.s[this.i]+this.s[this.j])%a];return d},h.prototype.randomUInt32=function(){var $=this.randomByte(),d=this.randomByte(),Y=this.randomByte(),ie=this.randomByte();return(($*256+d)*256+Y)*256+ie},h.prototype.randomFloat=function(){return this.randomUInt32()/4294967296},h.prototype.random=function(){var $,d;if(arguments.length===1)$=0,d=arguments[0];else if(arguments.length===2)$=arguments[0],d=arguments[1];else throw new TypeError("random takes one or two integer arguments");if(!isInteger($)||!isInteger(d))throw new TypeError("random takes one or two integer arguments");return $+this.randomUInt32()%(d-$+1)},h.prototype.currentState=function(){return{i:this.i,j:this.j,s:this.s.slice()}},h.prototype.setState=function($){var d=$.s,Y=$.i,ie=$.j;if(!(Y===(Y|0)&&0<=Y&&Y<a))throw new Error("state.i should be integer [0, "+(a-1)+"]");if(!(ie===(ie|0)&&0<=ie&&ie<a))throw new Error("state.j should be integer [0, "+(a-1)+"]");if(!Array.isArray(d)||d.length!==a)throw new Error("state should be array of length "+a);for(var fe=0;fe<a;fe++)if(d.indexOf(fe)===-1)throw new Error("state should be permutation of 0.."+(a-1)+": "+fe+" is missing");this.i=Y,this.j=ie,this.s=d.slice()},h}var RC4$1=createRC4(256);RC4$1.prototype.randomByte=RC4$1.prototype.randomNative;var RC4small=createRC4(16);RC4small.prototype.randomByte=function(){var a=this.randomNative(),e=this.randomNative();return a*16+e};var ordA=97,ord0=48;function toHex(a){return a<10?String.fromCharCode(ord0+a):String.fromCharCode(ordA+a-10)}function fromHex(a){return parseInt(a,16)}RC4small.prototype.currentStateString=function(){var a=this.currentState(),e=toHex(a.i),o=toHex(a.j),h=e+o+a.s.map(toHex).join("");return h};RC4small.prototype.setStateString=function(a){if(!a.match(/^[0-9a-f]{18}$/))throw new TypeError("RC4small stateString should be 18 hex character string");var e=fromHex(a[0]),o=fromHex(a[1]),h=a.split("").slice(2).map(fromHex);this.setState({i:e,j:o,s:h})};RC4$1.RC4small=RC4small;var rc4=RC4$1;const arrayRemove$1=unorderedArrayRemove,bencode=libExports,BitField$2=lib$2.default,crypto=requireCryptoBrowserify(),debug$4=browserExports$1("bittorrent-protocol"),randombytes$1=browserExports,sha1$3=browserExports$2,speedometer=speedometer$1,stream=readableBrowserExports$1,RC4=rc4,BITFIELD_GROW=4e5,KEEP_ALIVE_TIMEOUT=55e3,ALLOWED_FAST_SET_MAX_LENGTH=100,MESSAGE_PROTOCOL=Buffer$E.from("BitTorrent protocol"),MESSAGE_KEEP_ALIVE=Buffer$E.from([0,0,0,0]),MESSAGE_CHOKE=Buffer$E.from([0,0,0,1,0]),MESSAGE_UNCHOKE=Buffer$E.from([0,0,0,1,1]),MESSAGE_INTERESTED=Buffer$E.from([0,0,0,1,2]),MESSAGE_UNINTERESTED=Buffer$E.from([0,0,0,1,3]),MESSAGE_RESERVED=[0,0,0,0,0,0,0,0],MESSAGE_PORT=[0,0,0,3,9,0,0],MESSAGE_HAVE_ALL=Buffer$E.from([0,0,0,1,14]),MESSAGE_HAVE_NONE=Buffer$E.from([0,0,0,1,15]),DH_PRIME="ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a36210000000000090563",DH_GENERATOR=2,VC=Buffer$E.from([0,0,0,0,0,0,0,0]),CRYPTO_PROVIDE=Buffer$E.from([0,0,1,2]),CRYPTO_SELECT=Buffer$E.from([0,0,0,2]);function xor(a,e){for(let o=a.length;o--;)a[o]^=e[o];return a}class Request{constructor(e,o,h,$){this.piece=e,this.offset=o,this.length=h,this.callback=$}}class HaveAllBitField{constructor(){this.buffer=new Uint8Array}get(e){return!0}set(e){}}let Wire$2=class extends stream.Duplex{constructor(e=null,o=0,h=!1){super(),this._debugId=randombytes$1(4).toString("hex"),this._debug("new wire"),this.peerId=null,this.peerIdBuffer=null,this.type=e,this.amChoking=!0,this.amInterested=!1,this.peerChoking=!0,this.peerInterested=!1,this.peerPieces=new BitField$2(0,{grow:BITFIELD_GROW}),this.extensions={},this.peerExtensions={},this.requests=[],this.peerRequests=[],this.extendedMapping={},this.peerExtendedMapping={},this.extendedHandshake={},this.peerExtendedHandshake={},this.hasFast=!1,this.allowedFastSet=[],this.peerAllowedFastSet=[],this._ext={},this._nextExt=1,this.uploaded=0,this.downloaded=0,this.uploadSpeed=speedometer(),this.downloadSpeed=speedometer(),this._keepAliveInterval=null,this._timeout=null,this._timeoutMs=0,this._timeoutExpiresAt=null,this.destroyed=!1,this._finished=!1,this._parserSize=0,this._parser=null,this._buffer=[],this._bufferSize=0,this._peEnabled=h,h?(this._dh=crypto.createDiffieHellman(DH_PRIME,"hex",DH_GENERATOR),this._myPubKey=this._dh.generateKeys("hex")):this._myPubKey=null,this._peerPubKey=null,this._sharedSecret=null,this._peerCryptoProvide=[],this._cryptoHandshakeDone=!1,this._cryptoSyncPattern=null,this._waitMaxBytes=null,this._encryptionMethod=null,this._encryptGenerator=null,this._decryptGenerator=null,this._setGenerators=!1,this.once("finish",()=>this._onFinish()),this.on("finish",this._onFinish),this._debug("type:",this.type),this.type==="tcpIncoming"&&this._peEnabled?this._determineHandshakeType():this.type==="tcpOutgoing"&&this._peEnabled&&o===0?this._parsePe2():this._parseHandshake(null)}setKeepAlive(e){this._debug("setKeepAlive %s",e),clearInterval(this._keepAliveInterval),e!==!1&&(this._keepAliveInterval=setInterval(()=>{this.keepAlive()},KEEP_ALIVE_TIMEOUT))}setTimeout(e,o){this._debug("setTimeout ms=%d unref=%s",e,o),this._timeoutMs=e,this._timeoutUnref=!!o,this._resetTimeout(!0)}destroy(){if(!this.destroyed)return this.destroyed=!0,this._debug("destroy"),this.emit("close"),this.end(),this}end(...e){return this._debug("end"),this._onUninterested(),this._onChoke(),super.end(...e)}use(e){const o=e.prototype.name;if(!o)throw new Error('Extension class requires a "name" property on the prototype');this._debug("use extension.name=%s",o);const h=this._nextExt,$=new e(this);function d(){}typeof $.onHandshake!="function"&&($.onHandshake=d),typeof $.onExtendedHandshake!="function"&&($.onExtendedHandshake=d),typeof $.onMessage!="function"&&($.onMessage=d),this.extendedMapping[h]=o,this._ext[o]=$,this[o]=$,this._nextExt+=1}keepAlive(){this._debug("keep-alive"),this._push(MESSAGE_KEEP_ALIVE)}sendPe1(){if(this._peEnabled){const e=Math.floor(Math.random()*513),o=randombytes$1(e);this._push(Buffer$E.concat([Buffer$E.from(this._myPubKey,"hex"),o]))}}sendPe2(){const e=Math.floor(Math.random()*513),o=randombytes$1(e);this._push(Buffer$E.concat([Buffer$E.from(this._myPubKey,"hex"),o]))}sendPe3(e){this.setEncrypt(this._sharedSecret,e);const o=Buffer$E.from(sha1$3.sync(Buffer$E.from(this._utfToHex("req1")+this._sharedSecret,"hex")),"hex"),h=Buffer$E.from(sha1$3.sync(Buffer$E.from(this._utfToHex("req2")+e,"hex")),"hex"),$=Buffer$E.from(sha1$3.sync(Buffer$E.from(this._utfToHex("req3")+this._sharedSecret,"hex")),"hex"),d=xor(h,$),Y=randombytes$1(2).readUInt16BE(0)%512,ie=randombytes$1(Y);let fe=Buffer$E.alloc(14+Y+2);VC.copy(fe),CRYPTO_PROVIDE.copy(fe,8),fe.writeInt16BE(Y,12),ie.copy(fe,14),fe.writeInt16BE(0,14+Y),fe=this._encryptHandshake(fe),this._push(Buffer$E.concat([o,d,fe]))}sendPe4(e){this.setEncrypt(this._sharedSecret,e);const o=randombytes$1(2).readUInt16BE(0)%512,h=randombytes$1(o);let $=Buffer$E.alloc(14+o);VC.copy($),CRYPTO_SELECT.copy($,8),$.writeInt16BE(o,12),h.copy($,14),$=this._encryptHandshake($),this._push($),this._cryptoHandshakeDone=!0,this._debug("completed crypto handshake")}handshake(e,o,h){let $,d;if(typeof e=="string"?(e=e.toLowerCase(),$=Buffer$E.from(e,"hex")):($=e,e=$.toString("hex")),typeof o=="string"?d=Buffer$E.from(o,"hex"):(d=o,o=d.toString("hex")),this._infoHash=$,$.length!==20||d.length!==20)throw new Error("infoHash and peerId MUST have length 20");this._debug("handshake i=%s p=%s exts=%o",e,o,h);const Y=Buffer$E.from(MESSAGE_RESERVED);this.extensions={extended:!0,dht:!!(h&&h.dht),fast:!!(h&&h.fast)},Y[5]|=16,this.extensions.dht&&(Y[7]|=1),this.extensions.fast&&(Y[7]|=4),this.extensions.fast&&this.peerExtensions.fast&&(this._debug("fast extension is enabled"),this.hasFast=!0),this._push(Buffer$E.concat([MESSAGE_PROTOCOL,Y,$,d])),this._handshakeSent=!0,this.peerExtensions.extended&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_sendExtendedHandshake(){const e=Object.assign({},this.extendedHandshake);e.m={};for(const o in this.extendedMapping){const h=this.extendedMapping[o];e.m[h]=Number(o)}this.extended(0,bencode.encode(e)),this._extendedHandshakeSent=!0}choke(){if(!this.amChoking)if(this.amChoking=!0,this._debug("choke"),this._push(MESSAGE_CHOKE),this.hasFast){let e=0;for(;this.peerRequests.length>e;){const o=this.peerRequests[e];this.allowedFastSet.includes(o.piece)?++e:this.reject(o.piece,o.offset,o.length)}}else for(;this.peerRequests.length;)this.peerRequests.pop()}unchoke(){this.amChoking&&(this.amChoking=!1,this._debug("unchoke"),this._push(MESSAGE_UNCHOKE))}interested(){this.amInterested||(this.amInterested=!0,this._debug("interested"),this._push(MESSAGE_INTERESTED))}uninterested(){this.amInterested&&(this.amInterested=!1,this._debug("uninterested"),this._push(MESSAGE_UNINTERESTED))}have(e){this._debug("have %d",e),this._message(4,[e],null)}bitfield(e){this._debug("bitfield"),Buffer$E.isBuffer(e)||(e=e.buffer),this._message(5,[],e)}request(e,o,h,$){if($||($=()=>{}),this._finished)return $(new Error("wire is closed"));if(this.peerChoking&&!(this.hasFast&&this.peerAllowedFastSet.includes(e)))return $(new Error("peer is choking"));this._debug("request index=%d offset=%d length=%d",e,o,h),this.requests.push(new Request(e,o,h,$)),this._timeout||this._resetTimeout(!0),this._message(6,[e,o,h],null)}piece(e,o,h){this._debug("piece index=%d offset=%d",e,o),this._message(7,[e,o],h),this.uploaded+=h.length,this.uploadSpeed(h.length),this.emit("upload",h.length)}cancel(e,o,h){this._debug("cancel index=%d offset=%d length=%d",e,o,h),this._callback(this._pull(this.requests,e,o,h),new Error("request was cancelled"),null),this._message(8,[e,o,h],null)}port(e){this._debug("port %d",e);const o=Buffer$E.from(MESSAGE_PORT);o.writeUInt16BE(e,5),this._push(o)}suggest(e){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("suggest %d",e),this._message(13,[e],null)}haveAll(){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("have-all"),this._push(MESSAGE_HAVE_ALL)}haveNone(){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("have-none"),this._push(MESSAGE_HAVE_NONE)}reject(e,o,h){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("reject index=%d offset=%d length=%d",e,o,h),this._pull(this.peerRequests,e,o,h),this._message(16,[e,o,h],null)}allowedFast(e){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("allowed-fast %d",e),this.allowedFastSet.includes(e)||this.allowedFastSet.push(e),this._message(17,[e],null)}extended(e,o){if(this._debug("extended ext=%s",e),typeof e=="string"&&this.peerExtendedMapping[e]&&(e=this.peerExtendedMapping[e]),typeof e=="number"){const h=Buffer$E.from([e]),$=Buffer$E.isBuffer(o)?o:bencode.encode(o);this._message(20,[],Buffer$E.concat([h,$]))}else throw new Error(`Unrecognized extension: ${e}`)}setEncrypt(e,o){let h,$,d,Y,ie,fe;switch(this.type){case"tcpIncoming":h=sha1$3.sync(Buffer$E.from(this._utfToHex("keyB")+e+o,"hex")),$=sha1$3.sync(Buffer$E.from(this._utfToHex("keyA")+e+o,"hex")),d=Buffer$E.from(h,"hex"),Y=[];for(const he of d.values())Y.push(he);ie=Buffer$E.from($,"hex"),fe=[];for(const he of ie.values())fe.push(he);this._encryptGenerator=new RC4(Y),this._decryptGenerator=new RC4(fe);break;case"tcpOutgoing":h=sha1$3.sync(Buffer$E.from(this._utfToHex("keyA")+e+o,"hex")),$=sha1$3.sync(Buffer$E.from(this._utfToHex("keyB")+e+o,"hex")),d=Buffer$E.from(h,"hex"),Y=[];for(const he of d.values())Y.push(he);ie=Buffer$E.from($,"hex"),fe=[];for(const he of ie.values())fe.push(he);this._encryptGenerator=new RC4(Y),this._decryptGenerator=new RC4(fe);break;default:return!1}for(let he=0;he<1024;he++)this._encryptGenerator.randomByte(),this._decryptGenerator.randomByte();return this._setGenerators=!0,!0}_read(){}_message(e,o,h){const $=h?h.length:0,d=Buffer$E.allocUnsafe(5+4*o.length);d.writeUInt32BE(d.length+$-4,0),d[4]=e;for(let Y=0;Y<o.length;Y++)d.writeUInt32BE(o[Y],5+4*Y);this._push(d),h&&this._push(h)}_push(e){if(!this._finished)return this._encryptionMethod===2&&this._cryptoHandshakeDone&&(e=this._encrypt(e)),this.push(e)}_onKeepAlive(){this._debug("got keep-alive"),this.emit("keep-alive")}_onPe1(e){this._peerPubKey=e.toString("hex"),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe1")}_onPe2(e){this._peerPubKey=e.toString("hex"),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe2")}_onPe3(e){const o=sha1$3.sync(Buffer$E.from(this._utfToHex("req3")+this._sharedSecret,"hex")),h=xor(Buffer$E.from(o,"hex"),e).toString("hex");this.emit("pe3",h)}_onPe3Encrypted(e,o){if(!e.equals(VC)){this._debug("Error: verification constant did not match"),this.destroy();return}for(const h of o.values())h!==0&&this._peerCryptoProvide.push(h);this._peerCryptoProvide.includes(2)?this._encryptionMethod=2:(this._debug("Error: RC4 encryption method not provided by peer"),this.destroy())}_onPe4(e){this._encryptionMethod=e.readUInt8(3),CRYPTO_PROVIDE.includes(this._encryptionMethod)||(this._debug("Error: peer selected invalid crypto method"),this.destroy()),this._cryptoHandshakeDone=!0,this._debug("crypto handshake done"),this.emit("pe4")}_onHandshake(e,o,h){const $=e.toString("hex"),d=o.toString("hex");this._debug("got handshake i=%s p=%s exts=%o",$,d,h),this.peerId=d,this.peerIdBuffer=o,this.peerExtensions=h,this.extensions.fast&&this.peerExtensions.fast&&(this._debug("fast extension is enabled"),this.hasFast=!0),this.emit("handshake",$,d,h);for(const Y in this._ext)this._ext[Y].onHandshake($,d,h);h.extended&&this._handshakeSent&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_onChoke(){if(this.peerChoking=!0,this._debug("got choke"),this.emit("choke"),!this.hasFast)for(;this.requests.length;)this._callback(this.requests.pop(),new Error("peer is choking"),null)}_onUnchoke(){this.peerChoking=!1,this._debug("got unchoke"),this.emit("unchoke")}_onInterested(){this.peerInterested=!0,this._debug("got interested"),this.emit("interested")}_onUninterested(){this.peerInterested=!1,this._debug("got uninterested"),this.emit("uninterested")}_onHave(e){this.peerPieces.get(e)||(this._debug("got have %d",e),this.peerPieces.set(e,!0),this.emit("have",e))}_onBitField(e){this.peerPieces=new BitField$2(e),this._debug("got bitfield"),this.emit("bitfield",this.peerPieces)}_onRequest(e,o,h){if(this.amChoking&&!(this.hasFast&&this.allowedFastSet.includes(e))){this.hasFast&&this.reject(e,o,h);return}this._debug("got request index=%d offset=%d length=%d",e,o,h);const $=(Y,ie)=>{if(d===this._pull(this.peerRequests,e,o,h)){if(Y){this._debug("error satisfying request index=%d offset=%d length=%d (%s)",e,o,h,Y.message),this.hasFast&&this.reject(e,o,h);return}this.piece(e,o,ie)}},d=new Request(e,o,h,$);this.peerRequests.push(d),this.emit("request",e,o,h,$)}_onPiece(e,o,h){this._debug("got piece index=%d offset=%d",e,o),this._callback(this._pull(this.requests,e,o,h.length),null,h),this.downloaded+=h.length,this.downloadSpeed(h.length),this.emit("download",h.length),this.emit("piece",e,o,h)}_onCancel(e,o,h){this._debug("got cancel index=%d offset=%d length=%d",e,o,h),this._pull(this.peerRequests,e,o,h),this.emit("cancel",e,o,h)}_onPort(e){this._debug("got port %d",e),this.emit("port",e)}_onSuggest(e){if(!this.hasFast){this._debug("Error: got suggest whereas fast extension is disabled"),this.destroy();return}this._debug("got suggest %d",e),this.emit("suggest",e)}_onHaveAll(){if(!this.hasFast){this._debug("Error: got have-all whereas fast extension is disabled"),this.destroy();return}this._debug("got have-all"),this.peerPieces=new HaveAllBitField,this.emit("have-all")}_onHaveNone(){if(!this.hasFast){this._debug("Error: got have-none whereas fast extension is disabled"),this.destroy();return}this._debug("got have-none"),this.emit("have-none")}_onReject(e,o,h){if(!this.hasFast){this._debug("Error: got reject whereas fast extension is disabled"),this.destroy();return}this._debug("got reject index=%d offset=%d length=%d",e,o,h),this._callback(this._pull(this.requests,e,o,h),new Error("request was rejected"),null),this.emit("reject",e,o,h)}_onAllowedFast(e){if(!this.hasFast){this._debug("Error: got allowed-fast whereas fast extension is disabled"),this.destroy();return}this._debug("got allowed-fast %d",e),this.peerAllowedFastSet.includes(e)||this.peerAllowedFastSet.push(e),this.peerAllowedFastSet.length>ALLOWED_FAST_SET_MAX_LENGTH&&this.peerAllowedFastSet.shift(),this.emit("allowed-fast",e)}_onExtended(e,o){if(e===0){let h;try{h=bencode.decode(o)}catch($){this._debug("ignoring invalid extended handshake: %s",$.message||$)}if(!h)return;if(this.peerExtendedHandshake=h,typeof h.m=="object")for(const $ in h.m)this.peerExtendedMapping[$]=Number(h.m[$].toString());for(const $ in this._ext)this.peerExtendedMapping[$]&&this._ext[$].onExtendedHandshake(this.peerExtendedHandshake);this._debug("got extended handshake"),this.emit("extended","handshake",this.peerExtendedHandshake)}else this.extendedMapping[e]&&(e=this.extendedMapping[e],this._ext[e]&&this._ext[e].onMessage(o)),this._debug("got extended message ext=%s",e),this.emit("extended",e,o)}_onTimeout(){this._debug("request timed out"),this._callback(this.requests.shift(),new Error("request has timed out"),null),this.emit("timeout")}_write(e,o,h){if(this._encryptionMethod===2&&this._cryptoHandshakeDone&&(e=this._decrypt(e)),this._bufferSize+=e.length,this._buffer.push(e),this._buffer.length>1&&(this._buffer=[Buffer$E.concat(this._buffer,this._bufferSize)]),this._cryptoSyncPattern){const $=this._buffer[0].indexOf(this._cryptoSyncPattern);if($!==-1)this._buffer[0]=this._buffer[0].slice($+this._cryptoSyncPattern.length),this._bufferSize-=$+this._cryptoSyncPattern.length,this._cryptoSyncPattern=null;else if(this._bufferSize+e.length>this._waitMaxBytes+this._cryptoSyncPattern.length){this._debug("Error: could not resynchronize"),this.destroy();return}}for(;this._bufferSize>=this._parserSize&&!this._cryptoSyncPattern;)if(this._parserSize===0)this._parser(Buffer$E.from([]));else{const $=this._buffer[0];this._bufferSize-=this._parserSize,this._buffer=this._bufferSize?[$.slice(this._parserSize)]:[],this._parser($.slice(0,this._parserSize))}h(null)}_callback(e,o,h){e&&(this._resetTimeout(!this.peerChoking&&!this._finished),e.callback(o,h))}_resetTimeout(e){if(!e||!this._timeoutMs||!this.requests.length){clearTimeout(this._timeout),this._timeout=null,this._timeoutExpiresAt=null;return}const o=Date.now()+this._timeoutMs;if(this._timeout){if(o-this._timeoutExpiresAt<this._timeoutMs*.05)return;clearTimeout(this._timeout)}this._timeoutExpiresAt=o,this._timeout=setTimeout(()=>this._onTimeout(),this._timeoutMs),this._timeoutUnref&&this._timeout.unref&&this._timeout.unref()}_parse(e,o){this._parserSize=e,this._parser=o}_parseUntil(e,o){this._cryptoSyncPattern=e,this._waitMaxBytes=o}_onMessageLength(e){const o=e.readUInt32BE(0);o>0?this._parse(o,this._onMessage):(this._onKeepAlive(),this._parse(4,this._onMessageLength))}_onMessage(e){switch(this._parse(4,this._onMessageLength),e[0]){case 0:return this._onChoke();case 1:return this._onUnchoke();case 2:return this._onInterested();case 3:return this._onUninterested();case 4:return this._onHave(e.readUInt32BE(1));case 5:return this._onBitField(e.slice(1));case 6:return this._onRequest(e.readUInt32BE(1),e.readUInt32BE(5),e.readUInt32BE(9));case 7:return this._onPiece(e.readUInt32BE(1),e.readUInt32BE(5),e.slice(9));case 8:return this._onCancel(e.readUInt32BE(1),e.readUInt32BE(5),e.readUInt32BE(9));case 9:return this._onPort(e.readUInt16BE(1));case 13:return this._onSuggest(e.readUInt32BE(1));case 14:return this._onHaveAll();case 15:return this._onHaveNone();case 16:return this._onReject(e.readUInt32BE(1),e.readUInt32BE(5),e.readUInt32BE(9));case 17:return this._onAllowedFast(e.readUInt32BE(1));case 20:return this._onExtended(e.readUInt8(1),e.slice(2));default:return this._debug("got unknown message"),this.emit("unknownmessage",e)}}_determineHandshakeType(){this._parse(1,e=>{const o=e.readUInt8(0);o===19?this._parse(o+48,this._onHandshakeBuffer):this._parsePe1(e)})}_parsePe1(e){this._parse(95,o=>{this._onPe1(Buffer$E.concat([e,o])),this._parsePe3()})}_parsePe2(){this._parse(96,e=>{for(this._onPe2(e);!this._setGenerators;);this._parsePe4()})}_parsePe3(){const e=Buffer$E.from(sha1$3.sync(Buffer$E.from(this._utfToHex("req1")+this._sharedSecret,"hex")),"hex");this._parseUntil(e,512),this._parse(20,o=>{for(this._onPe3(o);!this._setGenerators;);this._parsePe3Encrypted()})}_parsePe3Encrypted(){this._parse(14,e=>{const o=this._decryptHandshake(e.slice(0,8)),h=this._decryptHandshake(e.slice(8,12)),$=this._decryptHandshake(e.slice(12,14)).readUInt16BE(0);this._parse($,d=>{d=this._decryptHandshake(d),this._parse(2,Y=>{const ie=this._decryptHandshake(Y).readUInt16BE(0);this._parse(ie,fe=>{fe=this._decryptHandshake(fe),this._onPe3Encrypted(o,h,d,fe);const he=ie?fe.readUInt8(0):null,ne=ie?fe.slice(1,20):null;he===19&&ne.toString()==="BitTorrent protocol"?this._onHandshakeBuffer(fe.slice(1)):this._parseHandshake()})})})})}_parsePe4(){const e=this._decryptHandshake(VC);this._parseUntil(e,512),this._parse(6,o=>{const h=this._decryptHandshake(o.slice(0,4)),$=this._decryptHandshake(o.slice(4,6)).readUInt16BE(0);this._parse($,d=>{this._decryptHandshake(d),this._onPe4(h),this._parseHandshake(null)})})}_parseHandshake(){this._parse(1,e=>{const o=e.readUInt8(0);if(o!==19){this._debug("Error: wire not speaking BitTorrent protocol (%s)",o.toString()),this.end();return}this._parse(o+48,this._onHandshakeBuffer)})}_onHandshakeBuffer(e){const o=e.slice(0,19);if(o.toString()!=="BitTorrent protocol"){this._debug("Error: wire not speaking BitTorrent protocol (%s)",o.toString()),this.end();return}e=e.slice(19),this._onHandshake(e.slice(8,28),e.slice(28,48),{dht:!!(e[7]&1),fast:!!(e[7]&4),extended:!!(e[5]&16)}),this._parse(4,this._onMessageLength)}_onFinish(){for(this._finished=!0,this.push(null);this.read(););for(clearInterval(this._keepAliveInterval),this._parse(Number.MAX_VALUE,()=>{});this.peerRequests.length;)this.peerRequests.pop();for(;this.requests.length;)this._callback(this.requests.pop(),new Error("wire was closed"),null)}_debug(...e){e[0]=`[${this._debugId}] ${e[0]}`,debug$4(...e)}_pull(e,o,h,$){for(let d=0;d<e.length;d++){const Y=e[d];if(Y.piece===o&&Y.offset===h&&Y.length===$)return arrayRemove$1(e,d),Y}return null}_encryptHandshake(e){const o=Buffer$E.from(e);if(!this._encryptGenerator)return this._debug("Warning: Encrypting without any generator"),o;for(let h=0;h<e.length;h++){const $=this._encryptGenerator.randomByte();o[h]=o[h]^$}return o}_encrypt(e){const o=Buffer$E.from(e);if(!this._encryptGenerator||this._encryptionMethod!==2)return o;for(let h=0;h<e.length;h++){const $=this._encryptGenerator.randomByte();o[h]=o[h]^$}return o}_decryptHandshake(e){const o=Buffer$E.from(e);if(!this._decryptGenerator)return this._debug("Warning: Decrypting without any generator"),o;for(let h=0;h<e.length;h++){const $=this._decryptGenerator.randomByte();o[h]=o[h]^$}return o}_decrypt(e){const o=Buffer$E.from(e);if(!this._decryptGenerator||this._encryptionMethod!==2)return o;for(let h=0;h<e.length;h++){const $=this._decryptGenerator.randomByte();o[h]=o[h]^$}return o}_utfToHex(e){return Buffer$E.from(e,"utf8").toString("hex")}};var bittorrentProtocol=Wire$2;const EventEmitter$2=eventsExports,{Transform}=streamBrowserify,arrayRemove=unorderedArrayRemove,debugFactory$3=browserExports$1,Wire$1=bittorrentProtocol,CONNECT_TIMEOUT_TCP=5e3,CONNECT_TIMEOUT_UTP=5e3,CONNECT_TIMEOUT_WEBRTC=25e3,HANDSHAKE_TIMEOUT=25e3,debug$3=debugFactory$3("webtorrent:peer");let secure=!1;peer.enableSecure=()=>{secure=!0};peer.createWebRTCPeer=(a,e,o)=>{const h=new Peer$3(a.id,"webrtc");if(h.conn=a,h.swarm=e,h.throttleGroups=o,h.conn.connected)h.onConnect();else{const $=()=>{h.conn.removeListener("connect",d),h.conn.removeListener("error",Y)},d=()=>{$(),h.onConnect()},Y=ie=>{$(),h.destroy(ie)};h.conn.once("connect",d),h.conn.once("error",Y),h.startConnectTimeout()}return h};peer.createTCPIncomingPeer=(a,e)=>_createIncomingPeer(a,"tcpIncoming",e);peer.createUTPIncomingPeer=(a,e)=>_createIncomingPeer(a,"utpIncoming",e);peer.createTCPOutgoingPeer=(a,e,o)=>_createOutgoingPeer(a,e,"tcpOutgoing",o);peer.createUTPOutgoingPeer=(a,e,o)=>_createOutgoingPeer(a,e,"utpOutgoing",o);const _createIncomingPeer=(a,e,o)=>{const h=`${a.remoteAddress}:${a.remotePort}`,$=new Peer$3(h,e);return $.conn=a,$.addr=h,$.throttleGroups=o,$.onConnect(),$},_createOutgoingPeer=(a,e,o,h)=>{const $=new Peer$3(a,o);return $.addr=a,$.swarm=e,$.throttleGroups=h,$};peer.createWebSeedPeer=(a,e,o,h)=>{const $=new Peer$3(e,"webSeed");return $.swarm=o,$.conn=a,$.throttleGroups=h,$.onConnect(),$};let Peer$3=class extends EventEmitter$2{constructor(e,o){super(),this.id=e,this.type=o,debug$3("new %s Peer %s",o,e),this.addr=null,this.conn=null,this.swarm=null,this.wire=null,this.connected=!1,this.destroyed=!1,this.timeout=null,this.retries=0,this.sentPe1=!1,this.sentPe2=!1,this.sentPe3=!1,this.sentPe4=!1,this.sentHandshake=!1}onConnect(){if(this.destroyed)return;this.connected=!0,debug$3("Peer %s connected",this.id),clearTimeout(this.connectTimeout);const e=this.conn;e.once("end",()=>{this.destroy()}),e.once("close",()=>{this.destroy()}),e.once("finish",()=>{this.destroy()}),e.once("error",h=>{this.destroy(h)});const o=this.wire=new Wire$1(this.type,this.retries,secure);o.once("end",()=>{this.destroy()}),o.once("close",()=>{this.destroy()}),o.once("finish",()=>{this.destroy()}),o.once("error",h=>{this.destroy(h)}),o.once("pe1",()=>{this.onPe1()}),o.once("pe2",()=>{this.onPe2()}),o.once("pe3",()=>{this.onPe3()}),o.once("pe4",()=>{this.onPe4()}),o.once("handshake",(h,$)=>{this.onHandshake(h,$)}),this.startHandshakeTimeout(),this.setThrottlePipes(),this.swarm&&(this.type==="tcpOutgoing"?secure&&this.retries===0&&!this.sentPe1?this.sendPe1():this.sentHandshake||this.handshake():this.type!=="tcpIncoming"&&!this.sentHandshake&&this.handshake())}sendPe1(){this.wire.sendPe1(),this.sentPe1=!0}onPe1(){this.sendPe2()}sendPe2(){this.wire.sendPe2(),this.sentPe2=!0}onPe2(){this.sendPe3()}sendPe3(){this.wire.sendPe3(this.swarm.infoHash),this.sentPe3=!0}onPe3(e){this.swarm&&(this.swarm.infoHashHash!==e&&this.destroy(new Error("unexpected crypto handshake info hash for this swarm")),this.sendPe4())}sendPe4(){this.wire.sendPe4(this.swarm.infoHash),this.sentPe4=!0}onPe4(){this.sentHandshake||this.handshake()}clearPipes(){this.conn.unpipe(),this.wire.unpipe()}setThrottlePipes(){const e=this;this.conn.pipe(this.throttleGroups.down.throttle()).pipe(new Transform({transform(o,h,$){e.emit("download",o.length),!e.destroyed&&$(null,o)}})).pipe(this.wire).pipe(this.throttleGroups.up.throttle()).pipe(new Transform({transform(o,h,$){e.emit("upload",o.length),!e.destroyed&&$(null,o)}})).pipe(this.conn)}onHandshake(e,o){if(!this.swarm||this.destroyed)return;if(this.swarm.destroyed)return this.destroy(new Error("swarm already destroyed"));if(e!==this.swarm.infoHash)return this.destroy(new Error("unexpected handshake info hash for this swarm"));if(o===this.swarm.peerId)return this.destroy(new Error("refusing to connect to ourselves"));debug$3("Peer %s got handshake %s",this.id,e),clearTimeout(this.handshakeTimeout),this.retries=0;let h=this.addr;!h&&this.conn.remoteAddress&&this.conn.remotePort&&(h=`${this.conn.remoteAddress}:${this.conn.remotePort}`),this.swarm._onWire(this.wire,h),!(!this.swarm||this.swarm.destroyed)&&(this.sentHandshake||this.handshake())}handshake(){const e={dht:this.swarm.private?!1:!!this.swarm.client.dht,fast:!0};this.wire.handshake(this.swarm.infoHash,this.swarm.client.peerId,e),this.sentHandshake=!0}startConnectTimeout(){clearTimeout(this.connectTimeout);const e={webrtc:CONNECT_TIMEOUT_WEBRTC,tcpOutgoing:CONNECT_TIMEOUT_TCP,utpOutgoing:CONNECT_TIMEOUT_UTP};this.connectTimeout=setTimeout(()=>{this.destroy(new Error("connect timeout"))},e[this.type]),this.connectTimeout.unref&&this.connectTimeout.unref()}startHandshakeTimeout(){clearTimeout(this.handshakeTimeout),this.handshakeTimeout=setTimeout(()=>{this.destroy(new Error("handshake timeout"))},HANDSHAKE_TIMEOUT),this.handshakeTimeout.unref&&this.handshakeTimeout.unref()}destroy(e){if(this.destroyed)return;this.destroyed=!0,this.connected=!1,debug$3("destroy %s %s (error: %s)",this.type,this.id,e&&(e.message||e)),clearTimeout(this.connectTimeout),clearTimeout(this.handshakeTimeout);const o=this.swarm,h=this.conn,$=this.wire;this.swarm=null,this.conn=null,this.wire=null,o&&$&&arrayRemove(o.wires,o.wires.indexOf($)),h&&(h.on("error",()=>{}),h.destroy()),$&&$.destroy(),o&&o.removePeer(this.id)}},RarityMap$1=class{constructor(e){this._torrent=e,this._numPieces=e.pieces.length,this._pieces=new Array(this._numPieces),this._onWire=o=>{this.recalculate(),this._initWire(o)},this._onWireHave=o=>{this._pieces[o]+=1},this._onWireBitfield=()=>{this.recalculate()},this._torrent.wires.forEach(o=>{this._initWire(o)}),this._torrent.on("wire",this._onWire),this.recalculate()}getRarestPiece(e){let o=[],h=1/0;for(let $=0;$<this._numPieces;++$){if(e&&!e($))continue;const d=this._pieces[$];d===h?o.push($):d<h&&(o=[$],h=d)}return o.length?o[Math.random()*o.length|0]:-1}destroy(){this._torrent.removeListener("wire",this._onWire),this._torrent.wires.forEach(e=>{this._cleanupWireEvents(e)}),this._torrent=null,this._pieces=null,this._onWire=null,this._onWireHave=null,this._onWireBitfield=null}_initWire(e){e._onClose=()=>{this._cleanupWireEvents(e);for(let o=0;o<this._numPieces;++o)this._pieces[o]-=e.peerPieces.get(o)},e.on("have",this._onWireHave),e.on("bitfield",this._onWireBitfield),e.once("close",e._onClose)}recalculate(){this._pieces.fill(0);for(const e of this._torrent.wires)for(let o=0;o<this._numPieces;++o)this._pieces[o]+=e.peerPieces.get(o)}_cleanupWireEvents(e){e.removeListener("have",this._onWireHave),e.removeListener("bitfield",this._onWireBitfield),e._onClose&&e.removeListener("close",e._onClose),e._onClose=null}};var rarityMap=RarityMap$1;const version="1.9.7",require$$17={version},{default:BitField$1}=lib$2,debugFactory$2=browserExports$1,get$1=simpleGet_1,ltDontHave$1=lt_donthave,sha1$2=browserExports$2,Wire=bittorrentProtocol,debug$2=debugFactory$2("webtorrent:webconn"),VERSION$2=require$$17.version,SOCKET_TIMEOUT=6e4,RETRY_DELAY=1e4;let WebConn$1=class extends Wire{constructor(e,o){super(),this.url=e,this.connId=e,this.webPeerId=sha1$2.sync(e),this._torrent=o,this._init()}_init(){this.setKeepAlive(!0),this.use(ltDontHave$1()),this.once("handshake",(e,o)=>{if(this.destroyed)return;this.handshake(e,this.webPeerId);const h=this._torrent.pieces.length,$=new BitField$1(h);for(let d=0;d<=h;d++)$.set(d,!0);this.bitfield($)}),this.once("interested",()=>{debug$2("interested"),this.unchoke()}),this.on("uninterested",()=>{debug$2("uninterested")}),this.on("choke",()=>{debug$2("choke")}),this.on("unchoke",()=>{debug$2("unchoke")}),this.on("bitfield",()=>{debug$2("bitfield")}),this.lt_donthave.on("donthave",()=>{debug$2("donthave")}),this.on("request",(e,o,h,$)=>{debug$2("request pieceIndex=%d offset=%d length=%d",e,o,h),this.httpRequest(e,o,h,(d,Y)=>{if(d){this.lt_donthave.donthave(e);const ie=setTimeout(()=>{this.destroyed||this.have(e)},RETRY_DELAY);ie.unref&&ie.unref()}$(d,Y)})})}httpRequest(e,o,h,$){const Y=e*this._torrent.pieceLength+o,ie=Y+h-1,fe=this._torrent.files;let he;if(fe.length<=1)he=[{url:this.url,start:Y,end:ie}];else{const ce=fe.filter(ge=>ge.offset<=ie&&ge.offset+ge.length>Y);if(ce.length<1)return $(new Error("Could not find file corresponding to web seed range request"));he=ce.map(ge=>{const xe=ge.offset+ge.length-1;return{url:this.url+(this.url[this.url.length-1]==="/"?"":"/")+ge.path.replace(this._torrent.path,""),fileOffsetInRange:Math.max(ge.offset-Y,0),start:Math.max(Y-ge.offset,0),end:Math.min(xe,ie-ge.offset)}})}let ne=0,le=!1,de;he.length>1&&(de=Buffer$E.alloc(h)),he.forEach(ce=>{const ge=ce.url,xe=ce.start,Ae=ce.end;debug$2("Requesting url=%s pieceIndex=%d offset=%d length=%d start=%d end=%d",ge,e,o,h,xe,Ae);const Ee={url:ge,method:"GET",headers:{"user-agent":`WebTorrent/${VERSION$2} (https://webtorrent.io)`,range:`bytes=${xe}-${Ae}`},timeout:SOCKET_TIMEOUT};function we(pe,me){if(pe.statusCode<200||pe.statusCode>=300)return le?void 0:(le=!0,$(new Error(`Unexpected HTTP status code ${pe.statusCode}`)));debug$2("Got data of length %d",me.length),he.length===1?$(null,me):(me.copy(de,ce.fileOffsetInRange),++ne===he.length&&$(null,de))}get$1.concat(Ee,(pe,me,Te)=>{if(!le){if(pe)return typeof window>"u"||ge.startsWith(`${window.location.origin}/`)?(le=!0,$(pe)):get$1.head(ge,(Pe,Le)=>{if(!le){if(Pe)return le=!0,$(Pe);if(Le.statusCode<200||Le.statusCode>=300)return le=!0,$(new Error(`Unexpected HTTP status code ${Le.statusCode}`));if(Le.url===ge)return le=!0,$(pe);Ee.url=Le.url,get$1.concat(Ee,(qe,Ce,ze)=>{if(!le){if(qe)return le=!0,$(qe);we(Ce,ze)}})}});we(me,Te)}})})}destroy(){super.destroy(),this._torrent=null}};var webconn=WebConn$1;const EventEmitter$1=eventsExports,fs=require$$2$1,net=require$$2$1,os=browser$b,path$1=pathBrowserify,addrToIPPort=addrToIpPort,{default:BitField}=lib$2,CacheChunkStore=cacheChunkStore,ChunkStoreWriteStream=write,cpus=browser$a,debugFactory$1=browserExports$1,Discovery=torrentDiscovery,FSChunkStore=memoryChunkStore,get=simpleGet_1,ImmediateChunkStore=immediateChunkStore,ltDontHave=lt_donthave,MemoryChunkStore=memoryChunkStore,joinIterator=joinAsyncIterator,parallel$1=runParallel_1,parallelLimit=runParallelLimit_1,parseTorrent$1=parseTorrentExports,Piece=torrentPiece,pump=pump_1,queueMicrotask$2=queueMicrotask_1,randomIterate=randomIterate$1,sha1$1=browserExports$2,throughput$1=throughput$2,utMetadata=ut_metadata,utPex=require$$15,{Readable}=streamx,File=file,Peer$2=peer,RarityMap=rarityMap,Server=require$$15,utp=require$$15,WebConn=webconn,debug$1=debugFactory$1("webtorrent:torrent"),MAX_BLOCK_LENGTH=128*1024,PIECE_TIMEOUT=3e4,CHOKE_TIMEOUT=5e3,SPEED_THRESHOLD=3*Piece.BLOCK_LENGTH,PIPELINE_MIN_DURATION=.5,PIPELINE_MAX_DURATION=1,RECHOKE_INTERVAL=1e4,RECHOKE_OPTIMISTIC_DURATION=2,FILESYSTEM_CONCURRENCY=process$1.browser?cpus().length:2,RECONNECT_WAIT=[1e3,5e3,15e3],VERSION$1=require$$17.version,USER_AGENT=`WebTorrent/${VERSION$1} (https://webtorrent.io)`;let TMP;try{TMP=path$1.join(fs.statSync("/tmp")&&"/tmp","webtorrent")}catch(a){TMP=path$1.join(typeof os.tmpdir=="function"?os.tmpdir():"/","webtorrent")}let Torrent$1=class extends EventEmitter$1{constructor(e,o,h){super(),this._debugId="unknown infohash",this.client=o,this.announce=h.announce,this.urlList=h.urlList,this.path=h.path||TMP,this.addUID=h.addUID||!1,this.skipVerify=!!h.skipVerify,this._store=h.store||FSChunkStore,this._preloadedStore=h.preloadedStore||null,this._storeCacheSlots=h.storeCacheSlots!==void 0?h.storeCacheSlots:20,this._destroyStoreOnDestroy=h.destroyStoreOnDestroy||!1,this._getAnnounceOpts=h.getAnnounceOpts,typeof h.private=="boolean"&&(this.private=h.private),this.strategy=h.strategy||"sequential",this.maxWebConns=h.maxWebConns||4,this._rechokeNumSlots=h.uploads===!1||h.uploads===0?0:+h.uploads||10,this._rechokeOptimisticWire=null,this._rechokeOptimisticTime=0,this._rechokeIntervalId=null,this.ready=!1,this.destroyed=!1,this.paused=h.paused||!1,this.done=!1,this.metadata=null,this.store=null,this.storeOpts=h.storeOpts,this.files=[],this.pieces=[],this._amInterested=!1,this._selections=[],this._critical=[],this.wires=[],this._queue=[],this._peers={},this._peersLength=0,this.received=0,this.uploaded=0,this._downloadSpeed=throughput$1(),this._uploadSpeed=throughput$1(),this._servers=[],this._xsRequests=[],this._fileModtimes=h.fileModtimes,e!==null&&this._onTorrentId(e),this._debug("new torrent")}get timeRemaining(){return this.done?0:this.downloadSpeed===0?1/0:(this.length-this.downloaded)/this.downloadSpeed*1e3}get downloaded(){if(!this.bitfield)return 0;let e=0;for(let o=0,h=this.pieces.length;o<h;++o)if(this.bitfield.get(o))e+=o===h-1?this.lastPieceLength:this.pieceLength;else{const $=this.pieces[o];e+=$.length-$.missing}return e}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){return this.length?this.downloaded/this.length:0}get ratio(){return this.uploaded/(this.received||this.length)}get numPeers(){return this.wires.length}get torrentFileBlobURL(){if(typeof window>"u")throw new Error("browser-only property");return this.torrentFile?URL.createObjectURL(new Blob([this.torrentFile],{type:"application/x-bittorrent"})):null}get _numQueued(){return this._queue.length+(this._peersLength-this._numConns)}get _numConns(){let e=0;for(const o in this._peers)this._peers[o].connected&&(e+=1);return e}_onTorrentId(e){if(this.destroyed)return;let o;try{o=parseTorrent$1(e)}catch{}o?(this.infoHash=o.infoHash,this._debugId=o.infoHash.toString("hex").substring(0,7),queueMicrotask$2(()=>{this.destroyed||this._onParsedTorrent(o)})):parseTorrent$1.remote(e,(h,$)=>{if(!this.destroyed){if(h)return this._destroy(h);this._onParsedTorrent($)}})}_onParsedTorrent(e){if(!this.destroyed){if(this._processParsedTorrent(e),!this.infoHash)return this._destroy(new Error("Malformed torrent data: No info hash"));this._rechokeIntervalId=setInterval(()=>{this._rechoke()},RECHOKE_INTERVAL),this._rechokeIntervalId.unref&&this._rechokeIntervalId.unref(),this.emit("_infoHash",this.infoHash),!this.destroyed&&(this.emit("infoHash",this.infoHash),!this.destroyed&&(this.client.listening?this._onListening():this.client.once("listening",()=>{this._onListening()})))}}_processParsedTorrent(e){this._debugId=e.infoHash.toString("hex").substring(0,7),typeof this.private<"u"&&(e.private=this.private),this.announce&&(e.announce=e.announce.concat(this.announce)),this.client.tracker&&commonjsGlobal.WEBTORRENT_ANNOUNCE&&!e.private&&(e.announce=e.announce.concat(commonjsGlobal.WEBTORRENT_ANNOUNCE)),this.urlList&&(e.urlList=e.urlList.concat(this.urlList)),e.announce=Array.from(new Set(e.announce)),e.urlList=Array.from(new Set(e.urlList)),Object.assign(this,e),this.magnetURI=parseTorrent$1.toMagnetURI(e),this.torrentFile=parseTorrent$1.toTorrentFile(e)}_onListening(){this.destroyed||(this.info?this._onMetadata(this):(this.xs&&this._getMetadataFromServer(),this._startDiscovery()))}_startDiscovery(){if(this.discovery||this.destroyed)return;let e=this.client.tracker;e&&(e=Object.assign({},this.client.tracker,{getAnnounceOpts:()=>{if(this.destroyed)return;const o={uploaded:this.uploaded,downloaded:this.downloaded,left:Math.max(this.length-this.downloaded,0)};return this.client.tracker.getAnnounceOpts&&Object.assign(o,this.client.tracker.getAnnounceOpts()),this._getAnnounceOpts&&Object.assign(o,this._getAnnounceOpts()),o}})),this.peerAddresses&&this.peerAddresses.forEach(o=>this.addPeer(o)),this.discovery=new Discovery({infoHash:this.infoHash,announce:this.announce,peerId:this.client.peerId,dht:!this.private&&this.client.dht,tracker:e,port:this.client.torrentPort,userAgent:USER_AGENT,lsd:this.client.lsd}),this.discovery.on("error",o=>{this._destroy(o)}),this.discovery.on("peer",(o,h)=>{this._debug("peer %s discovered via %s",o,h),!(typeof o=="string"&&this.done)&&this.addPeer(o)}),this.discovery.on("trackerAnnounce",()=>{this.emit("trackerAnnounce"),this.numPeers===0&&this.emit("noPeers","tracker")}),this.discovery.on("dhtAnnounce",()=>{this.emit("dhtAnnounce"),this.numPeers===0&&this.emit("noPeers","dht")}),this.discovery.on("warning",o=>{this.emit("warning",o)})}_getMetadataFromServer(){const e=this,h=(Array.isArray(this.xs)?this.xs:[this.xs]).map(d=>Y=>{$(d,Y)});parallel$1(h);function $(d,Y){if(d.indexOf("http://")!==0&&d.indexOf("https://")!==0)return e.emit("warning",new Error(`skipping non-http xs param: ${d}`)),Y(null);const ie={url:d,method:"GET",headers:{"user-agent":USER_AGENT}};let fe;try{fe=get.concat(ie,he)}catch{return e.emit("warning",new Error(`skipping invalid url xs param: ${d}`)),Y(null)}e._xsRequests.push(fe);function he(ne,le,de){if(e.destroyed||e.metadata)return Y(null);if(ne)return e.emit("warning",new Error(`http error from xs param: ${d}`)),Y(null);if(le.statusCode!==200)return e.emit("warning",new Error(`non-200 status code ${le.statusCode} from xs param: ${d}`)),Y(null);let ce;try{ce=parseTorrent$1(de)}catch{}if(!ce)return e.emit("warning",new Error(`got invalid torrent file from xs param: ${d}`)),Y(null);if(ce.infoHash!==e.infoHash)return e.emit("warning",new Error(`got torrent file with incorrect info hash from xs param: ${d}`)),Y(null);e._onMetadata(ce),Y(null)}}}_onMetadata(e){if(this.metadata||this.destroyed)return;this._debug("got metadata"),this._xsRequests.forEach($=>{$.abort()}),this._xsRequests=[];let o;if(e&&e.infoHash)o=e;else try{o=parseTorrent$1(e)}catch($){return this._destroy($)}this._processParsedTorrent(o),this.metadata=this.torrentFile,this.client.enableWebSeeds&&this.urlList.forEach($=>{this.addWebSeed($)}),this._rarityMap=new RarityMap(this),this.files=this.files.map($=>new File(this,$));let h=this._preloadedStore;if(h||(h=new this._store(this.pieceLength,{...this.storeOpts,torrent:this,path:this.path,files:this.files,length:this.length,name:this.name+" - "+this.infoHash.slice(0,8),addUID:this.addUID})),this._storeCacheSlots>0&&!(h instanceof MemoryChunkStore)&&(h=new CacheChunkStore(h,{max:this._storeCacheSlots})),this.store=new ImmediateChunkStore(h),this.so?this.files.forEach(($,d)=>{this.so.includes(d)?this.files[d].select():this.files[d].deselect()}):this.pieces.length!==0&&this.select(0,this.pieces.length-1,!1),this._hashes=this.pieces,this.pieces=this.pieces.map(($,d)=>{const Y=d===this.pieces.length-1?this.lastPieceLength:this.pieceLength;return new Piece(Y)}),this._reservations=this.pieces.map(()=>[]),this.bitfield=new BitField(this.pieces.length),this.emit("metadata"),!this.destroyed)if(this.skipVerify)this._markAllVerified(),this._onStore();else{const $=d=>{if(d)return this._destroy(d);this._debug("done verifying"),this._onStore()};this._debug("verifying existing torrent data"),this._fileModtimes&&this._store===FSChunkStore?this.getFileModtimes((d,Y)=>{if(d)return this._destroy(d);this.files.map((fe,he)=>Y[he]===this._fileModtimes[he]).every(fe=>fe)?(this._markAllVerified(),this._onStore()):this._verifyPieces($)}):this._verifyPieces($)}}getFileModtimes(e){const o=[];parallelLimit(this.files.map((h,$)=>d=>{const Y=this.addUID?path$1.join(this.name+" - "+this.infoHash.slice(0,8)):path$1.join(this.path,h.path);fs.stat(Y,(ie,fe)=>{if(ie&&ie.code!=="ENOENT")return d(ie);o[$]=fe&&fe.mtime.getTime(),d(null)})}),FILESYSTEM_CONCURRENCY,h=>{this._debug("done getting file modtimes"),e(h,o)})}_verifyPieces(e){parallelLimit(this.pieces.map((o,h)=>$=>{if(this.destroyed)return $(new Error("torrent is destroyed"));const d={};h===this.pieces.length-1&&(d.length=this.lastPieceLength),this.store.get(h,d,(Y,ie)=>{if(this.destroyed)return $(new Error("torrent is destroyed"));if(Y)return queueMicrotask$2(()=>$(null));sha1$1(ie,fe=>{if(this.destroyed)return $(new Error("torrent is destroyed"));fe===this._hashes[h]?(this._debug("piece verified %s",h),this._markVerified(h)):this._debug("piece invalid %s",h),$(null)})})}),FILESYSTEM_CONCURRENCY,e)}rescanFiles(e){if(this.destroyed)throw new Error("torrent is destroyed");e||(e=noop),this._verifyPieces(o=>{if(o)return this._destroy(o),e(o);this._checkDone(),e(null)})}_markAllVerified(){for(let e=0;e<this.pieces.length;e++)this._markVerified(e)}_markVerified(e){this.pieces[e]=null,this._reservations[e]=null,this.bitfield.set(e,!0)}_hasAllPieces(){for(let e=0;e<this.pieces.length;e++)if(!this.bitfield.get(e))return!1;return!0}_hasNoPieces(){return!this._hasMorePieces(0)}_hasMorePieces(e){let o=0;for(let h=0;h<this.pieces.length;h++)if(this.bitfield.get(h)&&(o+=1,o>e))return!0;return!1}_onStore(){this.destroyed||(this._debug("on store"),this._startDiscovery(),this.ready=!0,this.emit("ready"),this._checkDone(),this._updateSelections(),this.wires.forEach(e=>{e.ut_metadata&&e.ut_metadata.setMetadata(this.metadata),this._onWireWithMetadata(e)}))}destroy(e,o){if(typeof e=="function")return this.destroy(null,e);this._destroy(null,e,o)}_destroy(e,o,h){if(typeof o=="function")return this._destroy(e,null,o);if(this.destroyed)return;this.destroyed=!0,this._debug("destroy"),this.client._remove(this),clearInterval(this._rechokeIntervalId),this._xsRequests.forEach(d=>{d.abort()}),this._rarityMap&&this._rarityMap.destroy();for(const d in this._peers)this.removePeer(d);this.files.forEach(d=>{d instanceof File&&d._destroy()});const $=this._servers.map(d=>Y=>{d.destroy(Y)});if(this.discovery&&$.push(d=>{this.discovery.destroy(d)}),this.store){let d=this._destroyStoreOnDestroy;o&&o.destroyStore!==void 0&&(d=o.destroyStore),$.push(Y=>{d?this.store.destroy(Y):this.store.close(Y)})}parallel$1($,h),e&&(this.listenerCount("error")===0?this.client.emit("error",e):this.emit("error",e)),this.emit("close"),this.client=null,this.files=[],this.discovery=null,this.store=null,this._rarityMap=null,this._peers=null,this._servers=null,this._xsRequests=null}addPeer(e){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.infoHash)throw new Error("addPeer() must not be called before the `infoHash` event");let o;if(this.client.blocked){if(typeof e=="string"){let d;try{d=addrToIPPort(e)}catch{return this._debug("ignoring peer: invalid %s",e),this.emit("invalidPeer",e),!1}o=d[0]}else typeof e.remoteAddress=="string"&&(o=e.remoteAddress);if(o&&this.client.blocked.contains(o))return this._debug("ignoring peer: blocked %s",e),typeof e!="string"&&e.destroy(),this.emit("blockedPeer",e),!1}const h=this.client.utp&&this._isIPv4(o)?"utp":"tcp",$=!!this._addPeer(e,h);return $?this.emit("peer",e):this.emit("invalidPeer",e),$}_addPeer(e,o){if(this.destroyed)return typeof e!="string"&&e.destroy(),null;if(typeof e=="string"&&!this._validAddr(e))return this._debug("ignoring peer: invalid %s",e),null;const h=e&&e.id||e;if(this._peers[h])return this._debug("ignoring peer: duplicate (%s)",h),typeof e!="string"&&e.destroy(),null;if(this.paused)return this._debug("ignoring peer: torrent is paused"),typeof e!="string"&&e.destroy(),null;this._debug("add peer %s",h);let $;return typeof e=="string"?$=o==="utp"?Peer$2.createUTPOutgoingPeer(e,this,this.client.throttleGroups):Peer$2.createTCPOutgoingPeer(e,this,this.client.throttleGroups):$=Peer$2.createWebRTCPeer(e,this,this.client.throttleGroups),this._registerPeer($),typeof e=="string"&&(this._queue.push($),this._drain()),$}addWebSeed(e){if(this.destroyed)throw new Error("torrent is destroyed");let o,h;if(typeof e=="string"){if(o=e,!/^https?:\/\/.+/.test(o)){this.emit("warning",new Error(`ignoring invalid web seed: ${o}`)),this.emit("invalidPeer",o);return}if(this._peers[o]){this.emit("warning",new Error(`ignoring duplicate web seed: ${o}`)),this.emit("invalidPeer",o);return}h=new WebConn(o,this)}else if(e&&typeof e.connId=="string"){if(h=e,o=h.connId,this._peers[o]){this.emit("warning",new Error(`ignoring duplicate web seed: ${o}`)),this.emit("invalidPeer",o);return}}else{this.emit("warning",new Error("addWebSeed must be passed a string or connection object with id property"));return}this._debug("add web seed %s",o);const $=Peer$2.createWebSeedPeer(h,o,this,this.client.throttleGroups);this._registerPeer($),this.emit("peer",o)}_addIncomingPeer(e){if(this.destroyed)return e.destroy(new Error("torrent is destroyed"));if(this.paused)return e.destroy(new Error("torrent is paused"));this._debug("add incoming peer %s",e.id),this._registerPeer(e)}_registerPeer(e){e.on("download",o=>{this.destroyed||(this.received+=o,this._downloadSpeed(o),this.client._downloadSpeed(o),this.emit("download",o),!this.destroyed&&this.client.emit("download",o))}),e.on("upload",o=>{this.destroyed||(this.uploaded+=o,this._uploadSpeed(o),this.client._uploadSpeed(o),this.emit("upload",o),!this.destroyed&&this.client.emit("upload",o))}),this._peers[e.id]=e,this._peersLength+=1}removePeer(e){var h;const o=(e==null?void 0:e.id)||e;e&&!e.id&&(e=(h=this._peers)==null?void 0:h[o]),e&&(e.destroy(),!this.destroyed&&(this._debug("removePeer %s",o),delete this._peers[o],this._peersLength-=1,this._drain()))}select(e,o,h,$){if(this.destroyed)throw new Error("torrent is destroyed");if(e<0||o<e||this.pieces.length<=o)throw new Error(`invalid selection ${e} : ${o}`);h=Number(h)||0,this._debug("select %s-%s (priority %s)",e,o,h),this._selections.push({from:e,to:o,offset:0,priority:h,notify:$||noop}),this._selections.sort((d,Y)=>Y.priority-d.priority),this._updateSelections()}deselect(e,o,h){if(this.destroyed)throw new Error("torrent is destroyed");h=Number(h)||0,this._debug("deselect %s-%s (priority %s)",e,o,h);for(let $=0;$<this._selections.length;++$){const d=this._selections[$];if(d.from===e&&d.to===o&&d.priority===h){this._selections.splice($,1);break}}this._updateSelections()}critical(e,o){if(this.destroyed)throw new Error("torrent is destroyed");this._debug("critical %s-%s",e,o);for(let h=e;h<=o;++h)this._critical[h]=!0;this._updateSelections()}_onWire(e,o){if(this._debug("got wire %s (%s)",e._debugId,o||"Unknown"),this.wires.push(e),o){const h=addrToIPPort(o);e.remoteAddress=h[0],e.remotePort=h[1]}this.client.dht&&this.client.dht.listening&&e.on("port",h=>{if(!(this.destroyed||this.client.dht.destroyed)){if(!e.remoteAddress)return this._debug("ignoring PORT from peer with no address");if(h===0||h>65536)return this._debug("ignoring invalid PORT from peer");this._debug("port: %s (from %s)",h,o),this.client.dht.addNode({host:e.remoteAddress,port:h})}}),e.on("timeout",()=>{this._debug("wire timeout (%s)",o),e.destroy()}),e.type!=="webSeed"&&e.setTimeout(PIECE_TIMEOUT,!0),e.setKeepAlive(!0),e.use(utMetadata(this.metadata)),e.ut_metadata.on("warning",h=>{this._debug("ut_metadata warning: %s",h.message)}),this.metadata||(e.ut_metadata.on("metadata",h=>{this._debug("got metadata via ut_metadata"),this._onMetadata(h)}),e.ut_metadata.fetch()),typeof utPex=="function"&&!this.private&&(e.use(utPex()),e.ut_pex.on("peer",h=>{this.done||(this._debug("ut_pex: got peer: %s (from %s)",h,o),this.addPeer(h))}),e.ut_pex.on("dropped",h=>{const $=this._peers[h];$&&!$.connected&&(this._debug("ut_pex: dropped peer: %s (from %s)",h,o),this.removePeer(h))}),e.once("close",()=>{e.ut_pex.reset()})),e.use(ltDontHave()),this.emit("wire",e,o),this.ready&&queueMicrotask$2(()=>{this._onWireWithMetadata(e)})}_onWireWithMetadata(e){let o=null;const h=()=>{this.destroyed||e.destroyed||(this._numQueued>2*(this._numConns-this.numPeers)&&e.amInterested?e.destroy():(o=setTimeout(h,CHOKE_TIMEOUT),o.unref&&o.unref()))};let $;const d=()=>{if(e.peerPieces.buffer.length===this.bitfield.buffer.length){for($=0;$<this.pieces.length;++$)if(!e.peerPieces.get($))return;e.isSeeder=!0,e.choke()}};e.on("bitfield",()=>{d(),this._update(),this._updateWireInterest(e)}),e.on("have",()=>{d(),this._update(),this._updateWireInterest(e)}),e.lt_donthave.on("donthave",()=>{d(),this._update(),this._updateWireInterest(e)}),e.on("have-all",()=>{e.isSeeder=!0,e.choke(),this._update(),this._updateWireInterest(e)}),e.on("have-none",()=>{e.isSeeder=!1,this._update(),this._updateWireInterest(e)}),e.on("allowed-fast",Y=>{this._update()}),e.once("interested",()=>{e.unchoke()}),e.once("close",()=>{clearTimeout(o)}),e.on("choke",()=>{clearTimeout(o),o=setTimeout(h,CHOKE_TIMEOUT),o.unref&&o.unref()}),e.on("unchoke",()=>{clearTimeout(o),this._update()}),e.on("request",(Y,ie,fe,he)=>{if(fe>MAX_BLOCK_LENGTH)return e.destroy();this.pieces[Y]||this.store.get(Y,{offset:ie,length:fe},he)}),e.hasFast&&this._hasAllPieces()?e.haveAll():e.hasFast&&this._hasNoPieces()?e.haveNone():e.bitfield(this.bitfield),this._updateWireInterest(e),e.peerExtensions.dht&&this.client.dht&&this.client.dht.listening&&e.port(this.client.dht.address().port),e.type!=="webSeed"&&(o=setTimeout(h,CHOKE_TIMEOUT),o.unref&&o.unref()),e.isSeeder=!1,d()}_updateSelections(){!this.ready||this.destroyed||(queueMicrotask$2(()=>{this._gcSelections()}),this._updateInterest(),this._update())}_gcSelections(){for(let e=0;e<this._selections.length;++e){const o=this._selections[e],h=o.offset;for(;this.bitfield.get(o.from+o.offset)&&o.from+o.offset<o.to;)o.offset+=1;h!==o.offset&&o.notify(),o.to===o.from+o.offset&&this.bitfield.get(o.from+o.offset)&&(this._selections.splice(e,1),e-=1,o.notify(),this._updateInterest())}this._selections.length||this.emit("idle")}_updateInterest(){const e=this._amInterested;this._amInterested=!!this._selections.length,this.wires.forEach(o=>this._updateWireInterest(o)),e!==this._amInterested&&(this._amInterested?this.emit("interested"):this.emit("uninterested"))}_updateWireInterest(e){let o=!1;for(let h=0;h<this.pieces.length;++h)if(this.pieces[h]&&e.peerPieces.get(h)){o=!0;break}o?e.interested():e.uninterested()}_update(){if(this.destroyed)return;const e=randomIterate(this.wires);let o;for(;o=e();)this._updateWireWrapper(o)}_updateWireWrapper(e){const o=this;typeof window<"u"&&typeof window.requestIdleCallback=="function"?window.requestIdleCallback(()=>{o._updateWire(e)},{timeout:250}):o._updateWire(e)}_updateWire(e){if(e.destroyed)return!1;const o=this,h=getBlockPipelineLength(e,PIPELINE_MIN_DURATION);if(e.requests.length>=h)return;const $=getBlockPipelineLength(e,PIPELINE_MAX_DURATION);if(e.peerChoking){e.hasFast&&e.peerAllowedFastSet.length>0&&!this._hasMorePieces(e.peerAllowedFastSet.length-1)&&d();return}if(!e.downloaded)return ie();ne(!1)||ne(!0);function d(){if(e.requests.length>=$)return!1;for(const le of e.peerAllowedFastSet){if(e.peerPieces.get(le)&&!o.bitfield.get(le))for(;o._request(e,le,!1)&&e.requests.length<$;);if(!(e.requests.length<$))return!0}return!1}function Y(le,de,ce,ge){return xe=>xe>=le&&xe<=de&&!(xe in ce)&&e.peerPieces.get(xe)&&(!ge||ge(xe))}function ie(){if(e.requests.length)return;let le=o._selections.length;for(;le--;){const de=o._selections[le];let ce;if(o.strategy==="rarest"){const ge=de.from+de.offset,xe=de.to,Ae=xe-ge+1,Ee={};let we=0;const pe=Y(ge,xe,Ee);for(;we<Ae&&(ce=o._rarityMap.getRarestPiece(pe),!(ce<0));){if(o._request(e,ce,!1))return;Ee[ce]=!0,we+=1}}else for(ce=de.to;ce>=de.from+de.offset;--ce)if(e.peerPieces.get(ce)&&o._request(e,ce,!1))return}}function fe(){const le=e.downloadSpeed()||1;if(le>SPEED_THRESHOLD)return()=>!0;const de=Math.max(1,e.requests.length)*Piece.BLOCK_LENGTH/le;let ce=10,ge=0;return xe=>{if(!ce||o.bitfield.get(xe))return!0;let Ae=o.pieces[xe].missing;for(;ge<o.wires.length;ge++){const Ee=o.wires[ge],we=Ee.downloadSpeed();if(!(we<SPEED_THRESHOLD)&&!(we<=le)&&Ee.peerPieces.get(xe)&&!((Ae-=we*de)>0))return ce--,!1}return!0}}function he(le){let de=le;for(let ge=le;ge<o._selections.length&&o._selections[ge].priority;ge++)de=ge;const ce=o._selections[le];o._selections[le]=o._selections[de],o._selections[de]=ce}function ne(le){if(e.requests.length>=$)return!0;const de=fe();for(let ce=0;ce<o._selections.length;ce++){const ge=o._selections[ce];let xe;if(o.strategy==="rarest"){const Ae=ge.from+ge.offset,Ee=ge.to,we=Ee-Ae+1,pe={};let me=0;const Te=Y(Ae,Ee,pe,de);for(;me<we&&(xe=o._rarityMap.getRarestPiece(Te),!(xe<0));){for(;o._request(e,xe,o._critical[xe]||le)&&e.requests.length<$;);if(e.requests.length<$){pe[xe]=!0,me++;continue}return ge.priority&&he(ce),!0}}else for(xe=ge.from+ge.offset;xe<=ge.to;xe++)if(!(!e.peerPieces.get(xe)||!de(xe))){for(;o._request(e,xe,o._critical[xe]||le)&&e.requests.length<$;);if(!(e.requests.length<$))return ge.priority&&he(ce),!0}}return!1}}_rechoke(){if(!this.ready)return;const e=this.wires.map(h=>({wire:h,random:Math.random()})).sort((h,$)=>{const d=h.wire,Y=$.wire;return d.downloadSpeed()!==Y.downloadSpeed()?d.downloadSpeed()-Y.downloadSpeed():d.uploadSpeed()!==Y.uploadSpeed()?d.uploadSpeed()-Y.uploadSpeed():d.amChoking!==Y.amChoking?d.amChoking?-1:1:h.random-$.random}).map(h=>h.wire);this._rechokeOptimisticTime<=0?this._rechokeOptimisticWire=null:this._rechokeOptimisticTime-=1;let o=0;for(;e.length>0&&o<this._rechokeNumSlots-1;){const h=e.pop();h.isSeeder||h===this._rechokeOptimisticWire||(h.unchoke(),h.peerInterested&&o++)}if(this._rechokeOptimisticWire===null&&this._rechokeNumSlots>0){const h=e.filter($=>$.peerInterested);if(h.length>0){const $=h[randomInt(h.length)];$.unchoke(),this._rechokeOptimisticWire=$,this._rechokeOptimisticTime=RECHOKE_OPTIMISTIC_DURATION}}e.filter(h=>h!==this._rechokeOptimisticWire).forEach(h=>h.choke())}_hotswap(e,o){const h=e.downloadSpeed();if(h<Piece.BLOCK_LENGTH||!this._reservations[o])return!1;const $=this._reservations[o];if(!$)return!1;let d=1/0,Y,ie;for(ie=0;ie<$.length;ie++){const fe=$[ie];if(!fe||fe===e)continue;const he=fe.downloadSpeed();he>=SPEED_THRESHOLD||2*he>h||he>d||(Y=fe,d=he)}if(!Y)return!1;for(ie=0;ie<$.length;ie++)$[ie]===Y&&($[ie]=null);for(ie=0;ie<Y.requests.length;ie++){const fe=Y.requests[ie];fe.piece===o&&this.pieces[o].cancel(fe.offset/Piece.BLOCK_LENGTH|0)}return this.emit("hotswap",Y,e,o),!0}_request(e,o,h){const $=this,d=e.requests.length,Y=e.type==="webSeed";if($.bitfield.get(o))return!1;const ie=Y?Math.min(getPiecePipelineLength(e,PIPELINE_MAX_DURATION,$.pieceLength),$.maxWebConns):getBlockPipelineLength(e,PIPELINE_MAX_DURATION);if(d>=ie)return!1;const fe=$.pieces[o];let he=Y?fe.reserveRemaining():fe.reserve();if(he===-1&&h&&$._hotswap(e,o)&&(he=Y?fe.reserveRemaining():fe.reserve()),he===-1)return!1;let ne=$._reservations[o];ne||(ne=$._reservations[o]=[]);let le=ne.indexOf(null);le===-1&&(le=ne.length),ne[le]=e;const de=fe.chunkOffset(he),ce=Y?fe.chunkLengthRemaining(he):fe.chunkLength(he);e.request(o,de,ce,function xe(Ae,Ee){if($.destroyed)return;if(!$.ready)return $.once("ready",()=>{xe(Ae,Ee)});if(ne[le]===e&&(ne[le]=null),fe!==$.pieces[o])return ge();if(Ae){$._debug("error getting piece %s (offset: %s length: %s) from %s: %s",o,de,ce,`${e.remoteAddress}:${e.remotePort}`,Ae.message),Y?fe.cancelRemaining(he):fe.cancel(he),ge();return}if($._debug("got piece %s (offset: %s length: %s) from %s",o,de,ce,`${e.remoteAddress}:${e.remotePort}`),!fe.set(he,Ee,e))return ge();const we=fe.flush();sha1$1(we,pe=>{$.destroyed||(pe===$._hashes[o]?($._debug("piece verified %s",o),$.store.put(o,we,me=>{if(me){$._destroy(me);return}else $.pieces[o]=null,$._markVerified(o),$.wires.forEach(Te=>{Te.have(o)});$._checkDone()&&!$.destroyed&&$.discovery.complete(),ge()})):($.pieces[o]=new Piece(fe.length),$.emit("warning",new Error(`Piece ${o} failed verification`)),ge()))})});function ge(){queueMicrotask$2(()=>{$._update()})}return!0}_checkDone(){if(this.destroyed)return;this.files.forEach(o=>{if(!o.done){for(let h=o._startPiece;h<=o._endPiece;++h)if(!this.bitfield.get(h))return;o.done=!0,o.emit("done"),this._debug(`file done: ${o.name}`)}});let e=!0;for(const o of this._selections){for(let h=o.from;h<=o.to;h++)if(!this.bitfield.get(h)){e=!1;break}if(!e)break}return!this.done&&e?(this.done=!0,this._debug(`torrent done: ${this.infoHash}`),this.emit("done")):this.done=!1,this._gcSelections(),e}load(e,o){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.ready)return this.once("ready",()=>{this.load(e,o)});Array.isArray(e)||(e=[e]),o||(o=noop);const h=Readable.from(joinIterator(e)),$=new ChunkStoreWriteStream(this.store,this.pieceLength);pump(h,$,d=>{if(d)return o(d);this._markAllVerified(),this._checkDone(),o(null)})}createServer(e){if(typeof Server!="function")throw new Error("node.js-only method");if(this.destroyed)throw new Error("torrent is destroyed");const o=new Server(this,e);return this._servers.push(o),o}pause(){this.destroyed||(this._debug("pause"),this.paused=!0)}resume(){this.destroyed||(this._debug("resume"),this.paused=!1,this._drain())}_debug(){const e=[].slice.call(arguments);e[0]=`[${this.client?this.client._debugId:"No Client"}] [${this._debugId}] ${e[0]}`,debug$1(...e)}_drain(){if(this._debug("_drain numConns %s maxConns %s",this._numConns,this.client.maxConns),typeof net.connect!="function"||this.destroyed||this.paused||this._numConns>=this.client.maxConns)return;this._debug("drain (%s queued, %s/%s peers)",this._numQueued,this.numPeers,this.client.maxConns);const e=this._queue.shift();if(!e)return;this._debug("%s connect attempt to %s",e.type,e.addr);const o=addrToIPPort(e.addr),h={host:o[0],port:o[1]};this.client.utp&&e.type==="utpOutgoing"?e.conn=utp.connect(h.port,h.host):e.conn=net.connect(h);const $=e.conn;$.once("connect",()=>{this.destroyed||e.onConnect()}),$.once("error",d=>{e.destroy(d)}),e.startConnectTimeout(),$.on("close",()=>{if(this.destroyed)return;if(e.retries>=RECONNECT_WAIT.length){if(this.client.utp){const ie=this._addPeer(e.addr,"tcp");ie&&(ie.retries=0)}else this._debug("conn %s closed: will not re-add (max %s attempts)",e.addr,RECONNECT_WAIT.length);return}const d=RECONNECT_WAIT[e.retries];this._debug("conn %s closed: will re-add to queue in %sms (attempt %s)",e.addr,d,e.retries+1);const Y=setTimeout(()=>{if(this.destroyed)return;const ie=addrToIPPort(e.addr)[0],fe=this.client.utp&&this._isIPv4(ie)?"utp":"tcp",he=this._addPeer(e.addr,fe);he&&(he.retries=e.retries+1)},d);Y.unref&&Y.unref()})}_validAddr(e){let o;try{o=addrToIPPort(e)}catch{return!1}const h=o[0],$=o[1];return $>0&&$<65535&&!(h==="127.0.0.1"&&$===this.client.torrentPort)}_isIPv4(e){return/^((?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])[.]){3}(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$/.test(e)}};function getBlockPipelineLength(a,e){let o=2+Math.ceil(e*a.downloadSpeed()/Piece.BLOCK_LENGTH);if(a.peerExtendedHandshake){const h=a.peerExtendedHandshake.reqq;typeof h=="number"&&h>0&&(o=Math.min(o,h))}return o}function getPiecePipelineLength(a,e,o){return 1+Math.ceil(e*a.downloadSpeed()/o)}function randomInt(a){return Math.random()*a|0}function noop(){}var torrent=Torrent$1;const EventEmitter=eventsExports,path=pathBrowserify,concat=simpleConcat,createTorrent=createTorrentExports,debugFactory=browserExports$1,DHT=require$$15,loadIPSet=require$$15,parallel=runParallel_1,parseTorrent=parseTorrentExports,Peer$1=simplePeer,queueMicrotask$1=queueMicrotask_1,randombytes=browserExports,sha1=browserExports$2,throughput=throughput$2,{ThrottleGroup}=speedLimiter,ConnPool=require$$15,Torrent=torrent,{version:VERSION}=require$$17,debug=debugFactory("webtorrent"),VERSION_STR=VERSION.replace(/\d*./g,a=>`0${a%100}`.slice(-2)).slice(0,4),VERSION_PREFIX=`-WW${VERSION_STR}-`;class WebTorrent extends EventEmitter{constructor(e={}){super(),typeof e.peerId=="string"?this.peerId=e.peerId:Buffer$E.isBuffer(e.peerId)?this.peerId=e.peerId.toString("hex"):this.peerId=Buffer$E.from(VERSION_PREFIX+randombytes(9).toString("base64")).toString("hex"),this.peerIdBuffer=Buffer$E.from(this.peerId,"hex"),typeof e.nodeId=="string"?this.nodeId=e.nodeId:Buffer$E.isBuffer(e.nodeId)?this.nodeId=e.nodeId.toString("hex"):this.nodeId=randombytes(20).toString("hex"),this.nodeIdBuffer=Buffer$E.from(this.nodeId,"hex"),this._debugId=this.peerId.toString("hex").substring(0,7),this.destroyed=!1,this.listening=!1,this.torrentPort=e.torrentPort||0,this.dhtPort=e.dhtPort||0,this.tracker=e.tracker!==void 0?e.tracker:{},this.lsd=e.lsd!==!1,this.torrents=[],this.maxConns=Number(e.maxConns)||55,this.utp=WebTorrent.UTP_SUPPORT&&e.utp!==!1,this._downloadLimit=Math.max(typeof e.downloadLimit=="number"?e.downloadLimit:-1,-1),this._uploadLimit=Math.max(typeof e.uploadLimit=="number"?e.uploadLimit:-1,-1),this.serviceWorker=null,this.workerKeepAliveInterval=null,this.workerPortCount=0,e.secure===!0&&peer.enableSecure(),this._debug("new webtorrent (peerId %s, nodeId %s, port %s)",this.peerId,this.nodeId,this.torrentPort),this.throttleGroups={down:new ThrottleGroup({rate:Math.max(this._downloadLimit,0),enabled:this._downloadLimit>=0}),up:new ThrottleGroup({rate:Math.max(this._uploadLimit,0),enabled:this._uploadLimit>=0})},this.tracker&&(typeof this.tracker!="object"&&(this.tracker={}),globalThis.WRTC&&!this.tracker.wrtc&&(this.tracker.wrtc=globalThis.WRTC)),typeof ConnPool=="function"?this._connPool=new ConnPool(this):queueMicrotask$1(()=>{this._onListening()}),this._downloadSpeed=throughput(),this._uploadSpeed=throughput(),e.dht!==!1&&typeof DHT=="function"?(this.dht=new DHT(Object.assign({},{nodeId:this.nodeId},e.dht)),this.dht.once("error",h=>{this._destroy(h)}),this.dht.once("listening",()=>{const h=this.dht.address();h&&(this.dhtPort=h.port)}),this.dht.setMaxListeners(0),this.dht.listen(this.dhtPort)):this.dht=!1,this.enableWebSeeds=e.webSeeds!==!1;const o=()=>{this.destroyed||(this.ready=!0,this.emit("ready"))};typeof loadIPSet=="function"&&e.blocklist!=null?loadIPSet(e.blocklist,{headers:{"user-agent":`WebTorrent/${VERSION} (https://webtorrent.io)`}},(h,$)=>{if(h)return console.error(`Failed to load blocklist: ${h.message}`);this.blocked=$,o()}):queueMicrotask$1(o)}loadWorker(e,o=()=>{}){if(!(e instanceof ServiceWorker))throw new Error("Invalid worker registration");if(e.state!=="activated")throw new Error("Worker isn't activated");const h=2e4;this.serviceWorker=e,navigator.serviceWorker.addEventListener("message",$=>{const{data:d}=$;if(!d.type||!d.type==="webtorrent"||!d.url)return null;let[Y,...ie]=d.url.slice(d.url.indexOf(d.scope+"webtorrent/")+11+d.scope.length).split("/");if(ie=decodeURI(ie.join("/")),!Y||!ie)return null;const[fe]=$.ports,he=this.get(Y)&&this.get(Y).files.find(xe=>xe.path===ie);if(!he)return null;const[ne,le,de]=he._serve(d),ce=le&&le[Symbol.asyncIterator](),ge=()=>{fe.onmessage=null,le&&le.destroy(),de&&de.destroy(),this.workerPortCount--,this.workerPortCount||(clearInterval(this.workerKeepAliveInterval),this.workerKeepAliveInterval=null)};fe.onmessage=async xe=>{if(xe.data){let Ae;try{Ae=(await ce.next()).value}catch{}fe.postMessage(Ae),Ae||ge(),this.workerKeepAliveInterval||(this.workerKeepAliveInterval=setInterval(()=>fetch(`${this.serviceWorker.scriptURL.slice(0,this.serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/keepalive/`),h))}else ge()},this.workerPortCount++,fe.postMessage(ne)}),fetch(`${this.serviceWorker.scriptURL.slice(0,this.serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/cancel/`).then($=>{$.body.cancel()}),o(null,this.serviceWorker)}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){const e=this.torrents.filter($=>$.progress!==1),o=e.reduce(($,d)=>$+d.downloaded,0),h=e.reduce(($,d)=>$+(d.length||0),0)||1;return o/h}get ratio(){const e=this.torrents.reduce((h,$)=>h+$.uploaded,0),o=this.torrents.reduce((h,$)=>h+$.received,0)||1;return e/o}get(e){if(e instanceof Torrent){if(this.torrents.includes(e))return e}else{let o;try{o=parseTorrent(e)}catch{}if(!o)return null;if(!o.infoHash)throw new Error("Invalid torrent identifier");for(const h of this.torrents)if(h.infoHash===o.infoHash)return h}return null}add(e,o={},h=()=>{}){if(this.destroyed)throw new Error("client is destroyed");typeof o=="function"&&([o,h]=[{},o]);const $=()=>{if(!this.destroyed){for(const fe of this.torrents)if(fe.infoHash===ie.infoHash&&fe!==ie){ie._destroy(new Error(`Cannot add duplicate torrent ${ie.infoHash}`)),h(fe);return}}},d=()=>{this.destroyed||(h(ie),this.emit("torrent",ie))};function Y(){ie.removeListener("_infoHash",$),ie.removeListener("ready",d),ie.removeListener("close",Y)}this._debug("add"),o=o?Object.assign({},o):{};const ie=new Torrent(e,this,o);return this.torrents.push(ie),ie.once("_infoHash",$),ie.once("ready",d),ie.once("close",Y),ie}seed(e,o,h){if(this.destroyed)throw new Error("client is destroyed");typeof o=="function"&&([o,h]=[{},o]),this._debug("seed"),o=o?Object.assign({},o):{},o.skipVerify=!0;const $=typeof e=="string";$&&(o.path=path.dirname(e)),o.createdBy||(o.createdBy=`WebTorrent/${VERSION_STR}`);const d=he=>{const ne=[le=>{if($||o.preloadedStore)return le();he.load(fe,le)}];this.dht&&ne.push(le=>{he.once("dhtAnnounce",le)}),parallel(ne,le=>{if(!this.destroyed){if(le)return he._destroy(le);Y(he)}})},Y=he=>{this._debug("on seed"),typeof h=="function"&&h(he),he.emit("seed"),this.emit("seed",he)},ie=this.add(null,o,d);let fe;return isFileList(e)?e=Array.from(e):Array.isArray(e)||(e=[e]),parallel(e.map(he=>ne=>{!o.preloadedStore&&isReadable(he)?concat(he,(le,de)=>{if(le)return ne(le);de.name=he.name,ne(null,de)}):ne(null,he)}),(he,ne)=>{if(!this.destroyed){if(he)return ie._destroy(he);createTorrent.parseInput(ne,o,(le,de)=>{if(!this.destroyed){if(le)return ie._destroy(le);fe=de.map(ce=>ce.getStream),createTorrent(ne,o,(ce,ge)=>{if(this.destroyed)return;if(ce)return ie._destroy(ce);const xe=this.get(ge);xe?(console.warn("A torrent with the same id is already being seeded"),ie._destroy(),typeof h=="function"&&h(xe)):ie._onTorrentId(ge)})}})}}),ie}remove(e,o,h){if(typeof o=="function")return this.remove(e,null,o);if(this._debug("remove"),!this.get(e))throw new Error(`No torrent with id ${e}`);this._remove(e,o,h)}_remove(e,o,h){if(typeof o=="function")return this._remove(e,null,o);const $=this.get(e);$&&(this.torrents.splice(this.torrents.indexOf($),1),$.destroy(o,h),this.dht&&this.dht._tables.remove($.infoHash))}address(){return this.listening?this._connPool?this._connPool.tcpServer.address():{address:"0.0.0.0",family:"IPv4",port:0}:null}throttleDownload(e){if(e=Number(e),isNaN(e)||!isFinite(e)||e<-1)return!1;if(this._downloadLimit=e,this._downloadLimit<0)return this.throttleGroups.down.setEnabled(!1);this.throttleGroups.down.setEnabled(!0),this.throttleGroups.down.setRate(this._downloadLimit)}throttleUpload(e){if(e=Number(e),isNaN(e)||!isFinite(e)||e<-1)return!1;if(this._uploadLimit=e,this._uploadLimit<0)return this.throttleGroups.up.setEnabled(!1);this.throttleGroups.up.setEnabled(!0),this.throttleGroups.up.setRate(this._uploadLimit)}destroy(e){if(this.destroyed)throw new Error("client already destroyed");this._destroy(null,e)}_destroy(e,o){this._debug("client destroy"),this.destroyed=!0;const h=this.torrents.map($=>d=>{$.destroy(d)});this._connPool&&h.push($=>{this._connPool.destroy($)}),this.dht&&h.push($=>{this.dht.destroy($)}),parallel(h,o),e&&this.emit("error",e),this.torrents=[],this._connPool=null,this.dht=null,this.throttleGroups.down.destroy(),this.throttleGroups.up.destroy()}_onListening(){if(this._debug("listening"),this.listening=!0,this._connPool){const e=this._connPool.tcpServer.address();e&&(this.torrentPort=e.port)}this.emit("listening")}_debug(){const e=[].slice.call(arguments);e[0]=`[${this._debugId}] ${e[0]}`,debug(...e)}_getByHash(e){for(const o of this.torrents)if(o.infoHashHash||(o.infoHashHash=sha1.sync(Buffer$E.from("72657132"+o.infoHash,"hex"))),e===o.infoHashHash)return o;return null}}WebTorrent.WEBRTC_SUPPORT=Peer$1.WEBRTC_SUPPORT;WebTorrent.UTP_SUPPORT=ConnPool.UTP_SUPPORT;WebTorrent.VERSION=VERSION;function isReadable(a){return typeof a=="object"&&a!=null&&typeof a.pipe=="function"}function isFileList(a){return typeof FileList<"u"&&a instanceof FileList}var lib$1={},tools={};Object.defineProperty(tools,"__esModule",{value:!0});class Tools{static readVint(e,o=0){const h=8-Math.floor(Math.log2(e[o]));if(h>8){const d=Tools.readHexString(e,o,o+h);throw new Error(`Unrepresentable length: ${h} ${d}`)}if(isNaN(h)||o+h>e.length)return null;if(h===8&&e[o+1]>=32&&e.subarray(o+2,o+8).some(d=>d>0))return{length:8,value:-1};let $=e[o]&(1<<8-h)-1;for(let d=1;d<h;d+=1)$*=Math.pow(2,8),$+=e[o+d];return $===Math.pow(2,h*7)-1&&($=-1),{length:h,value:$}}static writeVint(e,o){if(e<0||e>Math.pow(2,53))throw new Error(`Unrepresentable value: ${e}`);let h=o;if(!h)for(h=1;h<=8&&!(e<Math.pow(2,7*h)-1);h+=1);const $=Buffer$E.alloc(h);let d=e;for(let Y=1;Y<=h;Y+=1){const ie=d&255;$[h-Y]=ie,d-=ie,d/=Math.pow(2,8)}return $[0]|=1<<8-h,$}static padStart(e){return e.length==0?"00":e.length==1?"0"+e:e}static readHexString(e,o=0,h=e.byteLength){return Array.from(e.subarray(o,h)).map($=>Number($).toString(16)).reduce(($,d)=>`${$}${this.padStart(d)}`,"")}static readUtf8(e){try{return Buffer$E.from(e).toString("utf8")}catch{return null}}static readUnsigned(e){const o=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 1:return o.getUint8(0);case 2:return o.getUint16(0);case 4:return o.getUint32(0)}if(e.byteLength<=6)return e.reduce((d,Y)=>d*256+Y,0);var h=Tools.readHexString(e,0,e.byteLength),$=parseInt(h,16);return $<=Math.pow(256,6)?$:h}static writeUnsigned(e){if(typeof e=="string")return Buffer$E.from(e,"hex");{var o=Buffer$E.alloc(6);o.fill(0),o.writeUIntBE(e,0,6);let h=o.findIndex(d=>d!==0);return h===-1&&(h=o.length-1),o.slice(h)}}static readSigned(e){const o=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 1:return o.getInt8(0);case 2:return o.getInt16(0);case 4:return o.getInt32(0);default:return NaN}}static writeSigned(e){var o=Buffer$E.alloc(8);return o.writeInt32BE(e,0),o}static readFloat(e){const o=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return o.getFloat32(0);case 8:return o.getFloat64(0);default:return NaN}}static writeFloat(e){let o=Buffer$E.alloc(8);return o.writeFloatBE(e,0)<=4&&(o=o.slice(0,4)),o}}tools.Tools=Tools;var EbmlStreamDecoder$1={},EbmlElementType={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),function(e){e.Master="m",e.UnsignedInt="u",e.Integer="i",e.String="s",e.UTF8="8",e.Binary="b",e.Float="f",e.Date="d"}(a.EbmlElementType||(a.EbmlElementType={}))})(EbmlElementType);var EbmlTagPosition={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),function(e){e[e.Start=0]="Start",e[e.Content=1]="Content",e[e.End=2]="End"}(a.EbmlTagPosition||(a.EbmlTagPosition={}))})(EbmlTagPosition);var EbmlTagFactory={},EbmlTagId={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),function(e){e[e.ChapterDisplay=128]="ChapterDisplay",e[e.TrackType=131]="TrackType",e[e.ChapString=133]="ChapString",e[e.CodecID=134]="CodecID",e[e.FlagDefault=136]="FlagDefault",e[e.ChapterTrackNumber=137]="ChapterTrackNumber",e[e.ChapterTimeStart=145]="ChapterTimeStart",e[e.ChapterTimeEnd=146]="ChapterTimeEnd",e[e.CueRefTime=150]="CueRefTime",e[e.CueRefCluster=151]="CueRefCluster",e[e.ChapterFlagHidden=152]="ChapterFlagHidden",e[e.ContentCompAlgo=16980]="ContentCompAlgo",e[e.ContentCompSettings=16981]="ContentCompSettings",e[e.DocType=17026]="DocType",e[e.DocTypeReadVersion=17029]="DocTypeReadVersion",e[e.EBMLVersion=17030]="EBMLVersion",e[e.DocTypeVersion=17031]="DocTypeVersion",e[e.SegmentFamily=17476]="SegmentFamily",e[e.DateUTC=17505]="DateUTC",e[e.TagDefault=17540]="TagDefault",e[e.TagBinary=17541]="TagBinary",e[e.TagString=17543]="TagString",e[e.Duration=17545]="Duration",e[e.ChapterFlagEnabled=17816]="ChapterFlagEnabled",e[e.FileMimeType=18016]="FileMimeType",e[e.FileUsedStartTime=18017]="FileUsedStartTime",e[e.FileUsedEndTime=18018]="FileUsedEndTime",e[e.FileReferral=18037]="FileReferral",e[e.ContentEncodingOrder=20529]="ContentEncodingOrder",e[e.ContentEncodingScope=20530]="ContentEncodingScope",e[e.ContentEncodingType=20531]="ContentEncodingType",e[e.ContentCompression=20532]="ContentCompression",e[e.ContentEncryption=20533]="ContentEncryption",e[e.CueBlockNumber=21368]="CueBlockNumber",e[e.ChapterStringUID=22100]="ChapterStringUID",e[e.WritingApp=22337]="WritingApp",e[e.SilentTracks=22612]="SilentTracks",e[e.ContentEncoding=25152]="ContentEncoding",e[e.BitDepth=25188]="BitDepth",e[e.SignedElement=25906]="SignedElement",e[e.TrackTranslate=26148]="TrackTranslate",e[e.ChapProcessCommand=26897]="ChapProcessCommand",e[e.ChapProcessTime=26914]="ChapProcessTime",e[e.ChapterTranslate=26916]="ChapterTranslate",e[e.ChapProcessData=26931]="ChapProcessData",e[e.ChapProcess=26948]="ChapProcess",e[e.ChapProcessCodecID=26965]="ChapProcessCodecID",e[e.Tag=29555]="Tag",e[e.SegmentFilename=29572]="SegmentFilename",e[e.AttachmentLink=29766]="AttachmentLink",e[e.CodecName=2459272]="CodecName",e[e.Segment=408125543]="Segment",e[e.TagLanguage=17530]="TagLanguage",e[e.TagName=17827]="TagName",e[e.SimpleTag=26568]="SimpleTag",e[e.TagAttachmentUID=25542]="TagAttachmentUID",e[e.TagChapterUID=25540]="TagChapterUID",e[e.TagEditionUID=25545]="TagEditionUID",e[e.TagTrackUID=25541]="TagTrackUID",e[e.TargetType=25546]="TargetType",e[e.TargetTypeValue=26826]="TargetTypeValue",e[e.Targets=25536]="Targets",e[e.Tags=307544935]="Tags",e[e.ChapProcessPrivate=17677]="ChapProcessPrivate",e[e.ChapCountry=17278]="ChapCountry",e[e.ChapLanguage=17276]="ChapLanguage",e[e.ChapterTrack=143]="ChapterTrack",e[e.ChapterPhysicalEquiv=25539]="ChapterPhysicalEquiv",e[e.ChapterSegmentEditionUID=28348]="ChapterSegmentEditionUID",e[e.ChapterSegmentUID=28263]="ChapterSegmentUID",e[e.ChapterUID=29636]="ChapterUID",e[e.ChapterAtom=182]="ChapterAtom",e[e.EditionFlagOrdered=17885]="EditionFlagOrdered",e[e.EditionFlagDefault=17883]="EditionFlagDefault",e[e.EditionFlagHidden=17853]="EditionFlagHidden",e[e.EditionUID=17852]="EditionUID",e[e.EditionEntry=17849]="EditionEntry",e[e.Chapters=272869232]="Chapters",e[e.FileUID=18094]="FileUID",e[e.FileData=18012]="FileData",e[e.FileName=18030]="FileName",e[e.FileDescription=18046]="FileDescription",e[e.AttachedFile=24999]="AttachedFile",e[e.Attachments=423732329]="Attachments",e[e.CueRefCodecState=235]="CueRefCodecState",e[e.CueRefNumber=21343]="CueRefNumber",e[e.CueReference=219]="CueReference",e[e.CueCodecState=234]="CueCodecState",e[e.CueDuration=178]="CueDuration",e[e.CueRelativePosition=240]="CueRelativePosition",e[e.CueClusterPosition=241]="CueClusterPosition",e[e.CueTrack=247]="CueTrack",e[e.CueTrackPositions=183]="CueTrackPositions",e[e.CueTime=179]="CueTime",e[e.CuePoint=187]="CuePoint",e[e.Cues=475249515]="Cues",e[e.AESSettingsCipherMode=18408]="AESSettingsCipherMode",e[e.ContentEncAESSettings=18407]="ContentEncAESSettings",e[e.ContentSigHashAlgo=18406]="ContentSigHashAlgo",e[e.ContentSigAlgo=18405]="ContentSigAlgo",e[e.ContentSigKeyID=18404]="ContentSigKeyID",e[e.ContentSignature=18403]="ContentSignature",e[e.ContentEncKeyID=18402]="ContentEncKeyID",e[e.ContentEncAlgo=18401]="ContentEncAlgo",e[e.ContentEncodings=28032]="ContentEncodings",e[e.TrickMasterTrackSegmentUID=196]="TrickMasterTrackSegmentUID",e[e.TrickMasterTrackUID=199]="TrickMasterTrackUID",e[e.TrickTrackFlag=198]="TrickTrackFlag",e[e.TrickTrackSegmentUID=193]="TrickTrackSegmentUID",e[e.TrickTrackUID=192]="TrickTrackUID",e[e.TrackJoinUID=237]="TrackJoinUID",e[e.TrackJoinBlocks=233]="TrackJoinBlocks",e[e.TrackPlaneType=230]="TrackPlaneType",e[e.TrackPlaneUID=229]="TrackPlaneUID",e[e.TrackPlane=228]="TrackPlane",e[e.TrackCombinePlanes=227]="TrackCombinePlanes",e[e.TrackOperation=226]="TrackOperation",e[e.ChannelPositions=32123]="ChannelPositions",e[e.Channels=159]="Channels",e[e.OutputSamplingFrequency=30901]="OutputSamplingFrequency",e[e.SamplingFrequency=181]="SamplingFrequency",e[e.Audio=225]="Audio",e[e.FrameRate=2327523]="FrameRate",e[e.GammaValue=3126563]="GammaValue",e[e.ColourSpace=3061028]="ColourSpace",e[e.AspectRatioType=21683]="AspectRatioType",e[e.DisplayUnit=21682]="DisplayUnit",e[e.DisplayHeight=21690]="DisplayHeight",e[e.DisplayWidth=21680]="DisplayWidth",e[e.PixelCropRight=21725]="PixelCropRight",e[e.PixelCropLeft=21708]="PixelCropLeft",e[e.PixelCropTop=21691]="PixelCropTop",e[e.PixelCropBottom=21674]="PixelCropBottom",e[e.PixelHeight=186]="PixelHeight",e[e.PixelWidth=176]="PixelWidth",e[e.OldStereoMode=21433]="OldStereoMode",e[e.AlphaMode=21440]="AlphaMode",e[e.StereoMode=21432]="StereoMode",e[e.FlagInterlaced=154]="FlagInterlaced",e[e.Video=224]="Video",e[e.TrackTranslateTrackID=26277]="TrackTranslateTrackID",e[e.TrackTranslateCodec=26303]="TrackTranslateCodec",e[e.TrackTranslateEditionUID=26364]="TrackTranslateEditionUID",e[e.SeekPreRoll=22203]="SeekPreRoll",e[e.CodecDelay=22186]="CodecDelay",e[e.TrackOverlay=28587]="TrackOverlay",e[e.CodecDecodeAll=170]="CodecDecodeAll",e[e.CodecDownloadURL=2536e3]="CodecDownloadURL",e[e.CodecInfoURL=3883072]="CodecInfoURL",e[e.CodecSettings=3839639]="CodecSettings",e[e.CodecPrivate=25506]="CodecPrivate",e[e.Language=2274716]="Language",e[e.Name=21358]="Name",e[e.MaxBlockAdditionID=21998]="MaxBlockAdditionID",e[e.TrackOffset=21375]="TrackOffset",e[e.TrackTimecodeScale=2306383]="TrackTimecodeScale",e[e.DefaultDecodedFieldDuration=2313850]="DefaultDecodedFieldDuration",e[e.DefaultDuration=2352003]="DefaultDuration",e[e.MaxCache=28152]="MaxCache",e[e.MinCache=28135]="MinCache",e[e.FlagLacing=156]="FlagLacing",e[e.FlagForced=21930]="FlagForced",e[e.FlagEnabled=185]="FlagEnabled",e[e.TrackUID=29637]="TrackUID",e[e.TrackNumber=215]="TrackNumber",e[e.TrackEntry=174]="TrackEntry",e[e.Tracks=374648427]="Tracks",e[e.EncryptedBlock=175]="EncryptedBlock",e[e.ReferenceTimeCode=202]="ReferenceTimeCode",e[e.ReferenceOffset=201]="ReferenceOffset",e[e.ReferenceFrame=200]="ReferenceFrame",e[e.SliceDuration=207]="SliceDuration",e[e.Delay=206]="Delay",e[e.BlockAdditionID=203]="BlockAdditionID",e[e.FrameNumber=205]="FrameNumber",e[e.LaceNumber=204]="LaceNumber",e[e.TimeSlice=232]="TimeSlice",e[e.Slices=142]="Slices",e[e.DiscardPadding=30114]="DiscardPadding",e[e.CodecState=164]="CodecState",e[e.ReferenceVirtual=253]="ReferenceVirtual",e[e.ReferenceBlock=251]="ReferenceBlock",e[e.ReferencePriority=250]="ReferencePriority",e[e.BlockDuration=155]="BlockDuration",e[e.BlockAdditional=165]="BlockAdditional",e[e.BlockAddID=238]="BlockAddID",e[e.BlockMore=166]="BlockMore",e[e.BlockAdditions=30113]="BlockAdditions",e[e.BlockVirtual=162]="BlockVirtual",e[e.Block=161]="Block",e[e.BlockGroup=160]="BlockGroup",e[e.SimpleBlock=163]="SimpleBlock",e[e.PrevSize=171]="PrevSize",e[e.Position=167]="Position",e[e.SilentTrackNumber=22743]="SilentTrackNumber",e[e.Timecode=231]="Timecode",e[e.Cluster=524531317]="Cluster",e[e.MuxingApp=19840]="MuxingApp",e[e.Title=31657]="Title",e[e.TimecodeScaleDenominator=2807730]="TimecodeScaleDenominator",e[e.TimecodeScale=2807729]="TimecodeScale",e[e.ChapterTranslateID=27045]="ChapterTranslateID",e[e.ChapterTranslateCodec=27071]="ChapterTranslateCodec",e[e.ChapterTranslateEditionUID=27132]="ChapterTranslateEditionUID",e[e.NextFilename=4096955]="NextFilename",e[e.NextUID=4110627]="NextUID",e[e.PrevFilename=3965867]="PrevFilename",e[e.PrevUID=3979555]="PrevUID",e[e.SegmentUID=29604]="SegmentUID",e[e.Info=357149030]="Info",e[e.SeekPosition=21420]="SeekPosition",e[e.SeekID=21419]="SeekID",e[e.Seek=19899]="Seek",e[e.SeekHead=290298740]="SeekHead",e[e.SignatureElementList=32379]="SignatureElementList",e[e.SignatureElements=32347]="SignatureElements",e[e.Signature=32437]="Signature",e[e.SignaturePublicKey=32421]="SignaturePublicKey",e[e.SignatureHash=32410]="SignatureHash",e[e.SignatureAlgo=32394]="SignatureAlgo",e[e.SignatureSlot=458458727]="SignatureSlot",e[e.CRC32=191]="CRC32",e[e.Void=236]="Void",e[e.EBMLMaxSizeLength=17139]="EBMLMaxSizeLength",e[e.EBMLMaxIDLength=17138]="EBMLMaxIDLength",e[e.EBMLReadVersion=17143]="EBMLReadVersion",e[e.EBML=440786851]="EBML"}(a.EbmlTagId||(a.EbmlTagId={}))})(EbmlTagId);var EbmlMasterTag={},EbmlTag$1={};Object.defineProperty(EbmlTag$1,"__esModule",{value:!0});const EbmlTagId_1$4=EbmlTagId,tools_1$5=tools;class EbmlTag{constructor(e,o,h){this.id=e,this.type=o,this.position=h}getTagDeclaration(){let e=this.id.toString(16);return e.length%2!==0&&(e=`0${e}`),Buffer$E.from(e,"hex")}encode(){let e=null,o=this.encodeContent();if(this.size===-1)e=Buffer$E.from("01ffffffffffffff","hex");else{let h;[EbmlTagId_1$4.EbmlTagId.Segment,EbmlTagId_1$4.EbmlTagId.Cluster].some($=>$===this.id)&&(h=8),e=tools_1$5.Tools.writeVint(o.length,h)}return Buffer$E.concat([this.getTagDeclaration(),e,o])}}EbmlTag$1.EbmlTag=EbmlTag;var hasRequiredEbmlMasterTag;function requireEbmlMasterTag(){if(hasRequiredEbmlMasterTag)return EbmlMasterTag;hasRequiredEbmlMasterTag=1,Object.defineProperty(EbmlMasterTag,"__esModule",{value:!0});const a=EbmlTag$1,e=EbmlElementType,o=EbmlTagPosition,h=tools,$=requireEbmlTagFactory();let d=class extends a.EbmlTag{constructor(ie,fe=o.EbmlTagPosition.Content){super(ie,e.EbmlElementType.Master,fe),this._children=[]}get Children(){return this._children}set Children(ie){this._children=ie}encodeContent(){return Buffer$E.concat(this._children.map(ie=>ie.encode()))}parseContent(ie){for(;ie.length>0;){const fe=h.Tools.readVint(ie),he=h.Tools.readVint(ie,fe.length),ne=h.Tools.readHexString(ie,0,fe.length),le=Number.parseInt(ne,16);let de=$.EbmlTagFactory.create(le);de.size=he.value;let ce=fe.length+he.length+he.value;de.parseContent(ie.slice(fe.length+he.length,ce)),this._children.push(de),ie=ie.slice(ce)}}};return EbmlMasterTag.EbmlMasterTag=d,EbmlMasterTag}var EbmlDataTag$1={};Object.defineProperty(EbmlDataTag$1,"__esModule",{value:!0});const EbmlTag_1$1=EbmlTag$1,EbmlElementType_1$3=EbmlElementType,tools_1$4=tools,EbmlTagPosition_1$3=EbmlTagPosition;class EbmlDataTag extends EbmlTag_1$1.EbmlTag{constructor(e,o){super(e,o,EbmlTagPosition_1$3.EbmlTagPosition.Content)}parseContent(e){switch(this.type){case EbmlElementType_1$3.EbmlElementType.UnsignedInt:this.data=tools_1$4.Tools.readUnsigned(e);break;case EbmlElementType_1$3.EbmlElementType.Float:this.data=tools_1$4.Tools.readFloat(e);break;case EbmlElementType_1$3.EbmlElementType.Integer:this.data=tools_1$4.Tools.readSigned(e);break;case EbmlElementType_1$3.EbmlElementType.String:this.data=String.fromCharCode(...e);break;case EbmlElementType_1$3.EbmlElementType.UTF8:this.data=tools_1$4.Tools.readUtf8(e);break;default:this.data=e;break}}encodeContent(){switch(this.type){case EbmlElementType_1$3.EbmlElementType.UnsignedInt:return tools_1$4.Tools.writeUnsigned(this.data);case EbmlElementType_1$3.EbmlElementType.Float:return tools_1$4.Tools.writeFloat(this.data);case EbmlElementType_1$3.EbmlElementType.Integer:return tools_1$4.Tools.writeSigned(this.data);case EbmlElementType_1$3.EbmlElementType.String:return Buffer$E.from(this.data,"ascii");case EbmlElementType_1$3.EbmlElementType.UTF8:return Buffer$E.from(this.data,"utf8");case EbmlElementType_1$3.EbmlElementType.Binary:default:return this.data}}}EbmlDataTag$1.EbmlDataTag=EbmlDataTag;var Block$1={},BlockLacing={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),function(e){e[e.None=0]="None",e[e.Xiph=1]="Xiph",e[e.EBML=2]="EBML",e[e.FixedSize=3]="FixedSize"}(a.BlockLacing||(a.BlockLacing={}))})(BlockLacing);Object.defineProperty(Block$1,"__esModule",{value:!0});const EbmlDataTag_1$1=EbmlDataTag$1,BlockLacing_1$1=BlockLacing,tools_1$3=tools,EbmlTagId_1$3=EbmlTagId,EbmlElementType_1$2=EbmlElementType;class Block extends EbmlDataTag_1$1.EbmlDataTag{constructor(e){super(e||EbmlTagId_1$3.EbmlTagId.Block,EbmlElementType_1$2.EbmlElementType.Binary)}writeTrackBuffer(){return tools_1$3.Tools.writeVint(this.track)}writeValueBuffer(){let e=Buffer$E.alloc(2);return e.writeInt16BE(this.value,0),e}writeFlagsBuffer(){let e=0;switch(this.invisible&&(e|=16),this.lacing){case BlockLacing_1$1.BlockLacing.None:break;case BlockLacing_1$1.BlockLacing.Xiph:e|=4;break;case BlockLacing_1$1.BlockLacing.EBML:e|=8;break;case BlockLacing_1$1.BlockLacing.FixedSize:e|=12;break}return Buffer$E.of(e)}encodeContent(){return Buffer$E.concat([this.writeTrackBuffer(),this.writeValueBuffer(),this.writeFlagsBuffer(),this.payload])}parseContent(e){const o=tools_1$3.Tools.readVint(e);this.track=o.value,this.value=tools_1$3.Tools.readSigned(e.subarray(o.length,o.length+2));let h=e[o.length+2];switch(this.invisible=!!(h&16),h&12){case 0:this.lacing=BlockLacing_1$1.BlockLacing.None;break;case 4:this.lacing=BlockLacing_1$1.BlockLacing.Xiph;break;case 8:this.lacing=BlockLacing_1$1.BlockLacing.EBML;break;case 12:this.lacing=BlockLacing_1$1.BlockLacing.FixedSize;break}this.payload=e.slice(o.length+3)}}Block$1.Block=Block;var SimpleBlock$1={};Object.defineProperty(SimpleBlock$1,"__esModule",{value:!0});const tools_1$2=tools,Block_1$1=Block$1,EbmlTagId_1$2=EbmlTagId;class SimpleBlock extends Block_1$1.Block{constructor(){super(EbmlTagId_1$2.EbmlTagId.SimpleBlock)}encodeContent(){let e=this.writeFlagsBuffer();return this.keyframe&&(e[0]|=128),this.discardable&&(e[0]|=1),Buffer$E.concat([this.writeTrackBuffer(),this.writeValueBuffer(),e,this.payload])}parseContent(e){super.parseContent(e);const o=tools_1$2.Tools.readVint(e);let h=e[o.length+2];this.keyframe=!!(h&128),this.discardable=!!(h&1)}}SimpleBlock$1.SimpleBlock=SimpleBlock;var hasRequiredEbmlTagFactory;function requireEbmlTagFactory(){if(hasRequiredEbmlTagFactory)return EbmlTagFactory;hasRequiredEbmlTagFactory=1,Object.defineProperty(EbmlTagFactory,"__esModule",{value:!0});const a=EbmlTagId,e=requireEbmlMasterTag(),o=EbmlDataTag$1,h=Block$1,$=SimpleBlock$1,d=EbmlElementType;let Y=class{static create(fe,he){if(a.EbmlTagId[fe]!==void 0){let ne;switch(fe){case a.EbmlTagId.Block:return new h.Block;case a.EbmlTagId.SimpleBlock:return new $.SimpleBlock;case a.EbmlTagId.ChapterDisplay:case a.EbmlTagId.ContentCompression:case a.EbmlTagId.ContentEncryption:case a.EbmlTagId.SilentTracks:case a.EbmlTagId.ContentEncoding:case a.EbmlTagId.TrackTranslate:case a.EbmlTagId.ChapProcessCommand:case a.EbmlTagId.ChapterTranslate:case a.EbmlTagId.ChapProcess:case a.EbmlTagId.Tag:case a.EbmlTagId.Segment:case a.EbmlTagId.SimpleTag:case a.EbmlTagId.Targets:case a.EbmlTagId.Tags:case a.EbmlTagId.ChapterTrack:case a.EbmlTagId.ChapterAtom:case a.EbmlTagId.EditionEntry:case a.EbmlTagId.Chapters:case a.EbmlTagId.AttachedFile:case a.EbmlTagId.Attachments:case a.EbmlTagId.CueReference:case a.EbmlTagId.CueTrackPositions:case a.EbmlTagId.CuePoint:case a.EbmlTagId.Cues:case a.EbmlTagId.ContentEncAESSettings:case a.EbmlTagId.ContentEncodings:case a.EbmlTagId.TrackJoinBlocks:case a.EbmlTagId.TrackPlane:case a.EbmlTagId.TrackCombinePlanes:case a.EbmlTagId.TrackOperation:case a.EbmlTagId.Audio:case a.EbmlTagId.Video:case a.EbmlTagId.TrackEntry:case a.EbmlTagId.Tracks:case a.EbmlTagId.ReferenceFrame:case a.EbmlTagId.TimeSlice:case a.EbmlTagId.Slices:case a.EbmlTagId.BlockMore:case a.EbmlTagId.BlockAdditions:case a.EbmlTagId.BlockGroup:case a.EbmlTagId.Cluster:case a.EbmlTagId.Info:case a.EbmlTagId.Seek:case a.EbmlTagId.SeekHead:case a.EbmlTagId.SignatureElementList:case a.EbmlTagId.SignatureElements:case a.EbmlTagId.SignatureSlot:case a.EbmlTagId.EBML:ne=d.EbmlElementType.Master;break;case a.EbmlTagId.TrackType:case a.EbmlTagId.FlagDefault:case a.EbmlTagId.ChapterTrackNumber:case a.EbmlTagId.ChapterTimeStart:case a.EbmlTagId.ChapterTimeEnd:case a.EbmlTagId.CueRefTime:case a.EbmlTagId.CueRefCluster:case a.EbmlTagId.ChapterFlagHidden:case a.EbmlTagId.ContentCompAlgo:case a.EbmlTagId.DocTypeReadVersion:case a.EbmlTagId.EBMLVersion:case a.EbmlTagId.DocTypeVersion:case a.EbmlTagId.TagDefault:case a.EbmlTagId.ChapterFlagEnabled:case a.EbmlTagId.FileUsedStartTime:case a.EbmlTagId.FileUsedEndTime:case a.EbmlTagId.ContentEncodingOrder:case a.EbmlTagId.ContentEncodingScope:case a.EbmlTagId.ContentEncodingType:case a.EbmlTagId.CueBlockNumber:case a.EbmlTagId.BitDepth:case a.EbmlTagId.ChapProcessTime:case a.EbmlTagId.ChapProcessCodecID:case a.EbmlTagId.AttachmentLink:case a.EbmlTagId.TagAttachmentUID:case a.EbmlTagId.TagChapterUID:case a.EbmlTagId.TagEditionUID:case a.EbmlTagId.TagTrackUID:case a.EbmlTagId.TargetTypeValue:case a.EbmlTagId.ChapterPhysicalEquiv:case a.EbmlTagId.ChapterSegmentEditionUID:case a.EbmlTagId.ChapterUID:case a.EbmlTagId.EditionFlagOrdered:case a.EbmlTagId.EditionFlagDefault:case a.EbmlTagId.EditionFlagHidden:case a.EbmlTagId.EditionUID:case a.EbmlTagId.FileUID:case a.EbmlTagId.CueRefCodecState:case a.EbmlTagId.CueRefNumber:case a.EbmlTagId.CueCodecState:case a.EbmlTagId.CueDuration:case a.EbmlTagId.CueRelativePosition:case a.EbmlTagId.CueClusterPosition:case a.EbmlTagId.CueTrack:case a.EbmlTagId.CueTime:case a.EbmlTagId.AESSettingsCipherMode:case a.EbmlTagId.ContentSigHashAlgo:case a.EbmlTagId.ContentSigAlgo:case a.EbmlTagId.ContentEncAlgo:case a.EbmlTagId.TrickMasterTrackUID:case a.EbmlTagId.TrickTrackFlag:case a.EbmlTagId.TrickTrackUID:case a.EbmlTagId.TrackJoinUID:case a.EbmlTagId.TrackPlaneType:case a.EbmlTagId.TrackPlaneUID:case a.EbmlTagId.Channels:case a.EbmlTagId.AspectRatioType:case a.EbmlTagId.DisplayUnit:case a.EbmlTagId.DisplayHeight:case a.EbmlTagId.DisplayWidth:case a.EbmlTagId.PixelCropRight:case a.EbmlTagId.PixelCropLeft:case a.EbmlTagId.PixelCropTop:case a.EbmlTagId.PixelCropBottom:case a.EbmlTagId.PixelHeight:case a.EbmlTagId.PixelWidth:case a.EbmlTagId.OldStereoMode:case a.EbmlTagId.AlphaMode:case a.EbmlTagId.StereoMode:case a.EbmlTagId.FlagInterlaced:case a.EbmlTagId.TrackTranslateCodec:case a.EbmlTagId.TrackTranslateEditionUID:case a.EbmlTagId.SeekPreRoll:case a.EbmlTagId.CodecDelay:case a.EbmlTagId.TrackOverlay:case a.EbmlTagId.CodecDecodeAll:case a.EbmlTagId.MaxBlockAdditionID:case a.EbmlTagId.DefaultDecodedFieldDuration:case a.EbmlTagId.DefaultDuration:case a.EbmlTagId.MaxCache:case a.EbmlTagId.MinCache:case a.EbmlTagId.FlagLacing:case a.EbmlTagId.FlagForced:case a.EbmlTagId.FlagEnabled:case a.EbmlTagId.TrackUID:case a.EbmlTagId.TrackNumber:case a.EbmlTagId.ReferenceTimeCode:case a.EbmlTagId.ReferenceOffset:case a.EbmlTagId.SliceDuration:case a.EbmlTagId.Delay:case a.EbmlTagId.BlockAdditionID:case a.EbmlTagId.FrameNumber:case a.EbmlTagId.LaceNumber:case a.EbmlTagId.ReferencePriority:case a.EbmlTagId.BlockDuration:case a.EbmlTagId.BlockAddID:case a.EbmlTagId.PrevSize:case a.EbmlTagId.Position:case a.EbmlTagId.SilentTrackNumber:case a.EbmlTagId.Timecode:case a.EbmlTagId.TimecodeScaleDenominator:case a.EbmlTagId.TimecodeScale:case a.EbmlTagId.ChapterTranslateCodec:case a.EbmlTagId.ChapterTranslateEditionUID:case a.EbmlTagId.SeekPosition:case a.EbmlTagId.SignatureHash:case a.EbmlTagId.SignatureAlgo:case a.EbmlTagId.EBMLMaxSizeLength:case a.EbmlTagId.EBMLMaxIDLength:case a.EbmlTagId.EBMLReadVersion:ne=d.EbmlElementType.UnsignedInt;break;case a.EbmlTagId.TrackOffset:case a.EbmlTagId.DiscardPadding:case a.EbmlTagId.ReferenceVirtual:case a.EbmlTagId.ReferenceBlock:ne=d.EbmlElementType.Integer;break;case a.EbmlTagId.CodecID:case a.EbmlTagId.DocType:case a.EbmlTagId.FileMimeType:case a.EbmlTagId.TagLanguage:case a.EbmlTagId.TargetType:case a.EbmlTagId.ChapCountry:case a.EbmlTagId.ChapLanguage:case a.EbmlTagId.CodecDownloadURL:case a.EbmlTagId.CodecInfoURL:case a.EbmlTagId.Language:ne=d.EbmlElementType.String;break;case a.EbmlTagId.ChapString:case a.EbmlTagId.TagString:case a.EbmlTagId.ChapterStringUID:case a.EbmlTagId.WritingApp:case a.EbmlTagId.SegmentFilename:case a.EbmlTagId.CodecName:case a.EbmlTagId.TagName:case a.EbmlTagId.FileName:case a.EbmlTagId.FileDescription:case a.EbmlTagId.CodecSettings:case a.EbmlTagId.Name:case a.EbmlTagId.MuxingApp:case a.EbmlTagId.Title:case a.EbmlTagId.NextFilename:case a.EbmlTagId.PrevFilename:ne=d.EbmlElementType.UTF8;break;case a.EbmlTagId.ContentCompSettings:case a.EbmlTagId.SegmentFamily:case a.EbmlTagId.TagBinary:case a.EbmlTagId.FileReferral:case a.EbmlTagId.SignedElement:case a.EbmlTagId.ChapProcessData:case a.EbmlTagId.ChapProcessPrivate:case a.EbmlTagId.ChapterSegmentUID:case a.EbmlTagId.FileData:case a.EbmlTagId.ContentSigKeyID:case a.EbmlTagId.ContentSignature:case a.EbmlTagId.ContentEncKeyID:case a.EbmlTagId.TrickMasterTrackSegmentUID:case a.EbmlTagId.TrickTrackSegmentUID:case a.EbmlTagId.ChannelPositions:case a.EbmlTagId.ColourSpace:case a.EbmlTagId.TrackTranslateTrackID:case a.EbmlTagId.CodecPrivate:case a.EbmlTagId.EncryptedBlock:case a.EbmlTagId.CodecState:case a.EbmlTagId.BlockAdditional:case a.EbmlTagId.BlockVirtual:case a.EbmlTagId.ChapterTranslateID:case a.EbmlTagId.NextUID:case a.EbmlTagId.PrevUID:case a.EbmlTagId.SegmentUID:case a.EbmlTagId.SeekID:case a.EbmlTagId.Signature:case a.EbmlTagId.SignaturePublicKey:case a.EbmlTagId.CRC32:case a.EbmlTagId.Void:ne=d.EbmlElementType.Binary;break;case a.EbmlTagId.Duration:case a.EbmlTagId.OutputSamplingFrequency:case a.EbmlTagId.SamplingFrequency:case a.EbmlTagId.FrameRate:case a.EbmlTagId.GammaValue:case a.EbmlTagId.TrackTimecodeScale:ne=d.EbmlElementType.Float;break;case a.EbmlTagId.DateUTC:ne=d.EbmlElementType.Date;break}if(he===void 0)he=ne;else if(he!==ne)throw new Error(`Trying to create tag of well-known type "${a.EbmlTagId[fe]}" using content type "${he}" (which is incorrect).  Either pass the correct type or ignore the type parameter to EbmlTag.create()`)}switch(he){case d.EbmlElementType.Master:return new e.EbmlMasterTag(fe);case d.EbmlElementType.UTF8:case d.EbmlElementType.Binary:case d.EbmlElementType.Date:case d.EbmlElementType.Float:case d.EbmlElementType.Integer:case d.EbmlElementType.String:case d.EbmlElementType.UnsignedInt:default:return new o.EbmlDataTag(fe,he)}}};return EbmlTagFactory.EbmlTagFactory=Y,EbmlTagFactory}Object.defineProperty(EbmlStreamDecoder$1,"__esModule",{value:!0});const stream_1$1=streamBrowserify,tools_1$1=tools,EbmlElementType_1$1=EbmlElementType,EbmlTagPosition_1$2=EbmlTagPosition,EbmlTagFactory_1$1=requireEbmlTagFactory();class EbmlStreamDecoderOptions{constructor(){this.bufferTagIds=[]}}EbmlStreamDecoder$1.EbmlStreamDecoderOptions=EbmlStreamDecoderOptions;class EbmlStreamDecoder extends stream_1$1.Transform{constructor(e={}){super(Object.assign({},e,{readableObjectMode:!0})),this._currentBufferOffset=0,this._tagStack=[],this._buffer=Buffer$E.alloc(0),this._bufferTagIds=[],this._bufferTagIds=e.bufferTagIds||[]}get buffer(){return this._buffer}_transform(e,o,h){for(this._buffer=Buffer$E.concat([this._buffer,Buffer$E.from(e)]);this.parseTags(););h()}parseTags(){const e=this.readTagHeader(this._buffer);if(!e)return!1;if(e.type===EbmlElementType_1$1.EbmlElementType.Master&&!this._bufferTagIds.some(o=>o===e.id))return this._tagStack.push(e),this.emitTag(e,EbmlTagPosition_1$2.EbmlTagPosition.Start),this.advanceBuffer(e.tagHeaderLength),!0;{if(this._buffer.length<e.tagHeaderLength+e.size)return!1;const o=this._buffer.slice(e.tagHeaderLength,e.tagHeaderLength+e.size);for(this.emitTag(e,EbmlTagPosition_1$2.EbmlTagPosition.Content,o),this.advanceBuffer(e.tagHeaderLength+e.size);this._tagStack.length>0;){const h=this._tagStack[this._tagStack.length-1];if(this._currentBufferOffset<h.absoluteStart+h.tagHeaderLength+h.size)break;this.emitTag(h,EbmlTagPosition_1$2.EbmlTagPosition.End),this._tagStack.pop()}}return!0}advanceBuffer(e){this._currentBufferOffset+=e,this._buffer=this._buffer.slice(e)}readTagHeader(e,o=0){if(e.length==0)return null;const h=tools_1$1.Tools.readVint(e,o);if(h==null)return null;const $=tools_1$1.Tools.readVint(e,o+h.length);if($==null)return null;const d=tools_1$1.Tools.readHexString(e,o,o+h.length),Y=Number.parseInt(d,16);let ie=EbmlTagFactory_1$1.EbmlTagFactory.create(Y);return ie.size=$.value,Object.assign(ie,{absoluteStart:this._currentBufferOffset+o,tagHeaderLength:h.length+$.length})}emitTag(e,o,h){let $=EbmlTagFactory_1$1.EbmlTagFactory.create(e.id);$.size=e.size,$.position=o,o===EbmlTagPosition_1$2.EbmlTagPosition.Content&&$.parseContent(h),this.push($)}}EbmlStreamDecoder$1.EbmlStreamDecoder=EbmlStreamDecoder;var EbmlStreamEncoder$1={};Object.defineProperty(EbmlStreamEncoder$1,"__esModule",{value:!0});const stream_1=streamBrowserify,EbmlTagPosition_1$1=EbmlTagPosition,EbmlTagId_1$1=EbmlTagId;class EbmlStreamEncoder extends stream_1.Transform{constructor(e={}){super(Object.assign({},e,{writableObjectMode:!0})),this.dataBuffer=Buffer$E.alloc(0),this.mCorked=!1,this.openTags=[]}_transform(e,o,h){if(e){if(!e.id)throw new Error(`No id found for ${JSON.stringify(e)}`);switch(e.position){case EbmlTagPosition_1$1.EbmlTagPosition.Start:this.startTag(e);break;case EbmlTagPosition_1$1.EbmlTagPosition.Content:this.writeTag(e);break;case EbmlTagPosition_1$1.EbmlTagPosition.End:this.endTag(e);break}}h()}bufferAndFlush(e){this.dataBuffer=Buffer$E.concat([this.dataBuffer,e]),this._flush(()=>{})}_flush(e){let o=null;this.dataBuffer.length>0&&!this.mCorked&&(o=Buffer$E.from(this.dataBuffer),this.dataBuffer=Buffer$E.alloc(0),this.push(o)),e()}_bufferAndFlush(e){this.bufferAndFlush(e)}flush(){this._flush(()=>{})}get buffer(){return this.dataBuffer}set buffer(e){this.dataBuffer=e}get stack(){return this.openTags}cork(){this.mCorked=!0}uncork(){this.mCorked=!1,this._flush(()=>{})}writeTag(e){this.openTags.length>0?this.openTags[this.openTags.length-1].Children.push(e):this.bufferAndFlush(e.encode())}startTag(e){this.openTags.length>0&&this.openTags[this.openTags.length-1].Children.push(e),this.openTags.push(e)}endTag(e){const o=this.openTags.pop();if(e.id!==o.id)throw`Logic error - closing tag "${EbmlTagId_1$1.EbmlTagId[e.id]}" is not expected tag "${EbmlTagId_1$1.EbmlTagId[o.id]}"`;this.openTags.length<1&&this.bufferAndFlush(o.encode())}}EbmlStreamEncoder$1.EbmlStreamEncoder=EbmlStreamEncoder;Object.defineProperty(lib$1,"__esModule",{value:!0});var tools_1=tools;lib$1.Tools=tools_1.Tools;var EbmlStreamDecoder_1=EbmlStreamDecoder$1;lib$1.EbmlStreamDecoder=EbmlStreamDecoder_1.EbmlStreamDecoder;var EbmlStreamEncoder_1=EbmlStreamEncoder$1;lib$1.EbmlStreamEncoder=EbmlStreamEncoder_1.EbmlStreamEncoder;var Block_1=Block$1;lib$1.Block=Block_1.Block;var BlockLacing_1=BlockLacing;lib$1.BlockLacing=BlockLacing_1.BlockLacing;var EbmlDataTag_1=EbmlDataTag$1;lib$1.EbmlDataTag=EbmlDataTag_1.EbmlDataTag;var EbmlElementType_1=EbmlElementType;lib$1.EbmlElementType=EbmlElementType_1.EbmlElementType;var EbmlMasterTag_1=requireEbmlMasterTag();lib$1.EbmlMasterTag=EbmlMasterTag_1.EbmlMasterTag;var EbmlTag_1=EbmlTag$1;lib$1.EbmlTag=EbmlTag_1.EbmlTag;var EbmlTagFactory_1=requireEbmlTagFactory();lib$1.EbmlTagFactory=EbmlTagFactory_1.EbmlTagFactory;var EbmlTagId_1=EbmlTagId;lib$1.EbmlTagId=EbmlTagId_1.EbmlTagId;var EbmlTagPosition_1=EbmlTagPosition;lib$1.EbmlTagPosition=EbmlTagPosition_1.EbmlTagPosition;var SimpleBlock_1=SimpleBlock$1;lib$1.SimpleBlock=SimpleBlock_1.SimpleBlock;var lib={},binding={},assert={exports:{}},errors={},hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1;function a(we){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},a(we)}function e(we,pe,me){return Object.defineProperty(we,"prototype",{writable:!1}),we}function o(we,pe){if(!(we instanceof pe))throw new TypeError("Cannot call a class as a function")}function h(we,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(pe&&pe.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),Object.defineProperty(we,"prototype",{writable:!1}),pe&&$(we,pe)}function $(we,pe){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Te,Pe){return Te.__proto__=Pe,Te},$(we,pe)}function d(we){var pe=fe();return function(){var Te=he(we),Pe;if(pe){var Le=he(this).constructor;Pe=Reflect.construct(Te,arguments,Le)}else Pe=Te.apply(this,arguments);return Y(this,Pe)}}function Y(we,pe){if(pe&&(a(pe)==="object"||typeof pe=="function"))return pe;if(pe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ie(we)}function ie(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}function fe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function he(we){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(me){return me.__proto__||Object.getPrototypeOf(me)},he(we)}var ne={},le,de;function ce(we,pe,me){me||(me=Error);function Te(Le,qe,Ce){return typeof pe=="string"?pe:pe(Le,qe,Ce)}var Pe=function(Le){h(Ce,Le);var qe=d(Ce);function Ce(ze,oe,c){var b;return o(this,Ce),b=qe.call(this,Te(ze,oe,c)),b.code=we,b}return e(Ce)}(me);ne[we]=Pe}function ge(we,pe){if(Array.isArray(we)){var me=we.length;return we=we.map(function(Te){return String(Te)}),me>2?"one of ".concat(pe," ").concat(we.slice(0,me-1).join(", "),", or ")+we[me-1]:me===2?"one of ".concat(pe," ").concat(we[0]," or ").concat(we[1]):"of ".concat(pe," ").concat(we[0])}else return"of ".concat(pe," ").concat(String(we))}function xe(we,pe,me){return we.substr(0,pe.length)===pe}function Ae(we,pe,me){return(me===void 0||me>we.length)&&(me=we.length),we.substring(me-pe.length,me)===pe}function Ee(we,pe,me){return typeof me!="number"&&(me=0),me+pe.length>we.length?!1:we.indexOf(pe,me)!==-1}return ce("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),ce("ERR_INVALID_ARG_TYPE",function(we,pe,me){le===void 0&&(le=requireAssert()),le(typeof we=="string","'name' must be a string");var Te;typeof pe=="string"&&xe(pe,"not ")?(Te="must not be",pe=pe.replace(/^not /,"")):Te="must be";var Pe;if(Ae(we," argument"))Pe="The ".concat(we," ").concat(Te," ").concat(ge(pe,"type"));else{var Le=Ee(we,".")?"property":"argument";Pe='The "'.concat(we,'" ').concat(Le," ").concat(Te," ").concat(ge(pe,"type"))}return Pe+=". Received type ".concat(a(me)),Pe},TypeError),ce("ERR_INVALID_ARG_VALUE",function(we,pe){var me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";de===void 0&&(de=util$3);var Te=de.inspect(pe);return Te.length>128&&(Te="".concat(Te.slice(0,128),"...")),"The argument '".concat(we,"' ").concat(me,". Received ").concat(Te)},TypeError),ce("ERR_INVALID_RETURN_VALUE",function(we,pe,me){var Te;return me&&me.constructor&&me.constructor.name?Te="instance of ".concat(me.constructor.name):Te="type ".concat(a(me)),"Expected ".concat(we,' to be returned from the "').concat(pe,'"')+" function but got ".concat(Te,".")},TypeError),ce("ERR_MISSING_ARGS",function(){for(var we=arguments.length,pe=new Array(we),me=0;me<we;me++)pe[me]=arguments[me];le===void 0&&(le=requireAssert()),le(pe.length>0,"At least one arg needs to be specified");var Te="The ",Pe=pe.length;switch(pe=pe.map(function(Le){return'"'.concat(Le,'"')}),Pe){case 1:Te+="".concat(pe[0]," argument");break;case 2:Te+="".concat(pe[0]," and ").concat(pe[1]," arguments");break;default:Te+=pe.slice(0,Pe-1).join(", "),Te+=", and ".concat(pe[Pe-1]," arguments");break}return"".concat(Te," must be specified")},TypeError),errors.codes=ne,errors}var assertion_error,hasRequiredAssertion_error;function requireAssertion_error(){if(hasRequiredAssertion_error)return assertion_error;hasRequiredAssertion_error=1;function a(ee,_){var te=Object.keys(ee);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(ee);_&&(ue=ue.filter(function(ve){return Object.getOwnPropertyDescriptor(ee,ve).enumerable})),te.push.apply(te,ue)}return te}function e(ee){for(var _=1;_<arguments.length;_++){var te=arguments[_]!=null?arguments[_]:{};_%2?a(Object(te),!0).forEach(function(ue){o(ee,ue,te[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(te)):a(Object(te)).forEach(function(ue){Object.defineProperty(ee,ue,Object.getOwnPropertyDescriptor(te,ue))})}return ee}function o(ee,_,te){return _=Y(_),_ in ee?Object.defineProperty(ee,_,{value:te,enumerable:!0,configurable:!0,writable:!0}):ee[_]=te,ee}function h(ee,_){if(!(ee instanceof _))throw new TypeError("Cannot call a class as a function")}function $(ee,_){for(var te=0;te<_.length;te++){var ue=_[te];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(ee,Y(ue.key),ue)}}function d(ee,_,te){return _&&$(ee.prototype,_),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function Y(ee){var _=ie(ee,"string");return we(_)==="symbol"?_:String(_)}function ie(ee,_){if(we(ee)!=="object"||ee===null)return ee;var te=ee[Symbol.toPrimitive];if(te!==void 0){var ue=te.call(ee,_);if(we(ue)!=="object")return ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}function fe(ee,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(_&&_.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),_&&Ae(ee,_)}function he(ee){var _=ge();return function(){var ue=Ee(ee),ve;if(_){var be=Ee(this).constructor;ve=Reflect.construct(ue,arguments,be)}else ve=ue.apply(this,arguments);return ne(this,ve)}}function ne(ee,_){if(_&&(we(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return le(ee)}function le(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function de(ee){var _=typeof Map=="function"?new Map:void 0;return de=function(ue){if(ue===null||!xe(ue))return ue;if(typeof ue!="function")throw new TypeError("Super expression must either be null or a function");if(typeof _<"u"){if(_.has(ue))return _.get(ue);_.set(ue,ve)}function ve(){return ce(ue,arguments,Ee(this).constructor)}return ve.prototype=Object.create(ue.prototype,{constructor:{value:ve,enumerable:!1,writable:!0,configurable:!0}}),Ae(ve,ue)},de(ee)}function ce(ee,_,te){return ge()?ce=Reflect.construct.bind():ce=function(ve,be,Me){var Se=[null];Se.push.apply(Se,be);var _e=Function.bind.apply(ve,Se),Re=new _e;return Me&&Ae(Re,Me.prototype),Re},ce.apply(null,arguments)}function ge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xe(ee){return Function.toString.call(ee).indexOf("[native code]")!==-1}function Ae(ee,_){return Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ue,ve){return ue.__proto__=ve,ue},Ae(ee,_)}function Ee(ee){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(te){return te.__proto__||Object.getPrototypeOf(te)},Ee(ee)}function we(ee){"@babel/helpers - typeof";return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},we(ee)}var pe=util$3,me=pe.inspect,Te=requireErrors(),Pe=Te.codes.ERR_INVALID_ARG_TYPE;function Le(ee,_,te){return(te===void 0||te>ee.length)&&(te=ee.length),ee.substring(te-_.length,te)===_}function qe(ee,_){if(_=Math.floor(_),ee.length==0||_==0)return"";var te=ee.length*_;for(_=Math.floor(Math.log(_)/Math.log(2));_;)ee+=ee,_--;return ee+=ee.substring(0,te-ee.length),ee}var Ce="",ze="",oe="",c="",b={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},j=10;function Z(ee){var _=Object.keys(ee),te=Object.create(Object.getPrototypeOf(ee));return _.forEach(function(ue){te[ue]=ee[ue]}),Object.defineProperty(te,"message",{value:ee.message}),te}function re(ee){return me(ee,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function ae(ee,_,te){var ue="",ve="",be=0,Me="",Se=!1,_e=re(ee),Re=_e.split(`
`),Ie=re(_).split(`
`),Ne=0,Oe="";if(te==="strictEqual"&&we(ee)==="object"&&we(_)==="object"&&ee!==null&&_!==null&&(te="strictEqualObject"),Re.length===1&&Ie.length===1&&Re[0]!==Ie[0]){var ke=Re[0].length+Ie[0].length;if(ke<=j){if((we(ee)!=="object"||ee===null)&&(we(_)!=="object"||_===null)&&(ee!==0||_!==0))return"".concat(b[te],`

`)+"".concat(Re[0]," !== ").concat(Ie[0],`
`)}else if(te!=="strictEqualObject"){var He=process$1.stderr&&process$1.stderr.isTTY?process$1.stderr.columns:80;if(ke<He){for(;Re[0][Ne]===Ie[0][Ne];)Ne++;Ne>2&&(Oe=`
  `.concat(qe(" ",Ne),"^"),Ne=0)}}}for(var ct=Re[Re.length-1],Ve=Ie[Ie.length-1];ct===Ve&&(Ne++<2?Me=`
  `.concat(ct).concat(Me):ue=ct,Re.pop(),Ie.pop(),!(Re.length===0||Ie.length===0));)ct=Re[Re.length-1],Ve=Ie[Ie.length-1];var Ye=Math.max(Re.length,Ie.length);if(Ye===0){var wt=_e.split(`
`);if(wt.length>30)for(wt[26]="".concat(Ce,"...").concat(c);wt.length>27;)wt.pop();return"".concat(b.notIdentical,`

`).concat(wt.join(`
`),`
`)}Ne>3&&(Me=`
`.concat(Ce,"...").concat(c).concat(Me),Se=!0),ue!==""&&(Me=`
  `.concat(ue).concat(Me),ue="");var Qe=0,Ge=b[te]+`
`.concat(ze,"+ actual").concat(c," ").concat(oe,"- expected").concat(c),$t=" ".concat(Ce,"...").concat(c," Lines skipped");for(Ne=0;Ne<Ye;Ne++){var tt=Ne-be;if(Re.length<Ne+1)tt>1&&Ne>2&&(tt>4?(ve+=`
`.concat(Ce,"...").concat(c),Se=!0):tt>3&&(ve+=`
  `.concat(Ie[Ne-2]),Qe++),ve+=`
  `.concat(Ie[Ne-1]),Qe++),be=Ne,ue+=`
`.concat(oe,"-").concat(c," ").concat(Ie[Ne]),Qe++;else if(Ie.length<Ne+1)tt>1&&Ne>2&&(tt>4?(ve+=`
`.concat(Ce,"...").concat(c),Se=!0):tt>3&&(ve+=`
  `.concat(Re[Ne-2]),Qe++),ve+=`
  `.concat(Re[Ne-1]),Qe++),be=Ne,ve+=`
`.concat(ze,"+").concat(c," ").concat(Re[Ne]),Qe++;else{var ut=Ie[Ne],St=Re[Ne],Ue=St!==ut&&(!Le(St,",")||St.slice(0,-1)!==ut);Ue&&Le(ut,",")&&ut.slice(0,-1)===St&&(Ue=!1,St+=","),Ue?(tt>1&&Ne>2&&(tt>4?(ve+=`
`.concat(Ce,"...").concat(c),Se=!0):tt>3&&(ve+=`
  `.concat(Re[Ne-2]),Qe++),ve+=`
  `.concat(Re[Ne-1]),Qe++),be=Ne,ve+=`
`.concat(ze,"+").concat(c," ").concat(St),ue+=`
`.concat(oe,"-").concat(c," ").concat(ut),Qe+=2):(ve+=ue,ue="",(tt===1||Ne===0)&&(ve+=`
  `.concat(St),Qe++))}if(Qe>20&&Ne<Ye-2)return"".concat(Ge).concat($t,`
`).concat(ve,`
`).concat(Ce,"...").concat(c).concat(ue,`
`)+"".concat(Ce,"...").concat(c)}return"".concat(Ge).concat(Se?$t:"",`
`).concat(ve).concat(ue).concat(Me).concat(Oe)}var se=function(ee,_){fe(ue,ee);var te=he(ue);function ue(ve){var be;if(h(this,ue),we(ve)!=="object"||ve===null)throw new Pe("options","Object",ve);var Me=ve.message,Se=ve.operator,_e=ve.stackStartFn,Re=ve.actual,Ie=ve.expected,Ne=Error.stackTraceLimit;if(Error.stackTraceLimit=0,Me!=null)be=te.call(this,String(Me));else if(process$1.stderr&&process$1.stderr.isTTY&&(process$1.stderr&&process$1.stderr.getColorDepth&&process$1.stderr.getColorDepth()!==1?(Ce="\x1B[34m",ze="\x1B[32m",c="\x1B[39m",oe="\x1B[31m"):(Ce="",ze="",c="",oe="")),we(Re)==="object"&&Re!==null&&we(Ie)==="object"&&Ie!==null&&"stack"in Re&&Re instanceof Error&&"stack"in Ie&&Ie instanceof Error&&(Re=Z(Re),Ie=Z(Ie)),Se==="deepStrictEqual"||Se==="strictEqual")be=te.call(this,ae(Re,Ie,Se));else if(Se==="notDeepStrictEqual"||Se==="notStrictEqual"){var Oe=b[Se],ke=re(Re).split(`
`);if(Se==="notStrictEqual"&&we(Re)==="object"&&Re!==null&&(Oe=b.notStrictEqualObject),ke.length>30)for(ke[26]="".concat(Ce,"...").concat(c);ke.length>27;)ke.pop();ke.length===1?be=te.call(this,"".concat(Oe," ").concat(ke[0])):be=te.call(this,"".concat(Oe,`

`).concat(ke.join(`
`),`
`))}else{var He=re(Re),ct="",Ve=b[Se];Se==="notDeepEqual"||Se==="notEqual"?(He="".concat(b[Se],`

`).concat(He),He.length>1024&&(He="".concat(He.slice(0,1021),"..."))):(ct="".concat(re(Ie)),He.length>512&&(He="".concat(He.slice(0,509),"...")),ct.length>512&&(ct="".concat(ct.slice(0,509),"...")),Se==="deepEqual"||Se==="equal"?He="".concat(Ve,`

`).concat(He,`

should equal

`):ct=" ".concat(Se," ").concat(ct)),be=te.call(this,"".concat(He).concat(ct))}return Error.stackTraceLimit=Ne,be.generatedMessage=!Me,Object.defineProperty(le(be),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),be.code="ERR_ASSERTION",be.actual=Re,be.expected=Ie,be.operator=Se,Error.captureStackTrace&&Error.captureStackTrace(le(be),_e),be.stack,be.name="AssertionError",ne(be)}return d(ue,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:_,value:function(be,Me){return me(this,e(e({},Me),{},{customInspect:!1,depth:0}))}}]),ue}(de(Error),me.custom);return assertion_error=se,assertion_error}var toStr=Object.prototype.toString,isArguments=function a(e){var o=toStr.call(e),h=o==="[object Arguments]";return h||(h=o!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&toStr.call(e.callee)==="[object Function]"),h},implementation$5,hasRequiredImplementation$1;function requireImplementation$1(){if(hasRequiredImplementation$1)return implementation$5;hasRequiredImplementation$1=1;var a;if(!Object.keys){var e=Object.prototype.hasOwnProperty,o=Object.prototype.toString,h=isArguments,$=Object.prototype.propertyIsEnumerable,d=!$.call({toString:null},"toString"),Y=$.call(function(){},"prototype"),ie=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],fe=function(de){var ce=de.constructor;return ce&&ce.prototype===de},he={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},ne=function(){if(typeof window>"u")return!1;for(var de in window)try{if(!he["$"+de]&&e.call(window,de)&&window[de]!==null&&typeof window[de]=="object")try{fe(window[de])}catch{return!0}}catch{return!0}return!1}(),le=function(de){if(typeof window>"u"||!ne)return fe(de);try{return fe(de)}catch{return!1}};a=function(ce){var ge=ce!==null&&typeof ce=="object",xe=o.call(ce)==="[object Function]",Ae=h(ce),Ee=ge&&o.call(ce)==="[object String]",we=[];if(!ge&&!xe&&!Ae)throw new TypeError("Object.keys called on a non-object");var pe=Y&&xe;if(Ee&&ce.length>0&&!e.call(ce,0))for(var me=0;me<ce.length;++me)we.push(String(me));if(Ae&&ce.length>0)for(var Te=0;Te<ce.length;++Te)we.push(String(Te));else for(var Pe in ce)!(pe&&Pe==="prototype")&&e.call(ce,Pe)&&we.push(String(Pe));if(d)for(var Le=le(ce),qe=0;qe<ie.length;++qe)!(Le&&ie[qe]==="constructor")&&e.call(ce,ie[qe])&&we.push(ie[qe]);return we}}return implementation$5=a,implementation$5}var slice=Array.prototype.slice,isArgs=isArguments,origKeys=Object.keys,keysShim=origKeys?function a(e){return origKeys(e)}:requireImplementation$1(),originalKeys=Object.keys;keysShim.shim=function a(){if(Object.keys){var e=function(){var o=Object.keys(arguments);return o&&o.length===arguments.length}(1,2);e||(Object.keys=function(h){return isArgs(h)?originalKeys(slice.call(h)):originalKeys(h)})}else Object.keys=keysShim;return Object.keys||keysShim};var objectKeys$1=keysShim,objectKeys=objectKeys$1,hasSymbols=shams$1(),callBound$1=callBound$a,$Object=esObjectAtoms,$push=callBound$1("Array.prototype.push"),$propIsEnumerable=callBound$1("Object.prototype.propertyIsEnumerable"),originalGetSymbols=hasSymbols?$Object.getOwnPropertySymbols:null,implementation$4=function a(e,o){if(e==null)throw new TypeError("target must be an object");var h=$Object(e);if(arguments.length===1)return h;for(var $=1;$<arguments.length;++$){var d=$Object(arguments[$]),Y=objectKeys(d),ie=hasSymbols&&($Object.getOwnPropertySymbols||originalGetSymbols);if(ie)for(var fe=ie(d),he=0;he<fe.length;++he){var ne=fe[he];$propIsEnumerable(d,ne)&&$push(Y,ne)}for(var le=0;le<Y.length;++le){var de=Y[le];if($propIsEnumerable(d,de)){var ce=d[de];h[de]=ce}}}return h},implementation$3=implementation$4,lacksProperEnumerationOrder=function(){if(!Object.assign)return!1;for(var a="abcdefghijklmnopqrst",e=a.split(""),o={},h=0;h<e.length;++h)o[e[h]]=e[h];var $=Object.assign({},o),d="";for(var Y in $)d+=Y;return a!==d},assignHasPendingExceptions=function(){if(!Object.assign||!Object.preventExtensions)return!1;var a=Object.preventExtensions({1:2});try{Object.assign(a,"xy")}catch{return a[1]==="y"}return!1},polyfill$2=function a(){return!Object.assign||lacksProperEnumerationOrder()||assignHasPendingExceptions()?implementation$3:Object.assign},numberIsNaN=function(a){return a!==a},implementation$2=function a(e,o){return e===0&&o===0?1/e===1/o:!!(e===o||numberIsNaN(e)&&numberIsNaN(o))},implementation$1=implementation$2,polyfill$1=function a(){return typeof Object.is=="function"?Object.is:implementation$1},GetIntrinsic=getIntrinsic,callBind=callBindExports,$indexOf=callBind(GetIntrinsic("String.prototype.indexOf")),callBound=function a(e,o){var h=GetIntrinsic(e,!!o);return typeof h=="function"&&$indexOf(e,".prototype.")>-1?callBind(h):h},defineProperties_1,hasRequiredDefineProperties;function requireDefineProperties(){if(hasRequiredDefineProperties)return defineProperties_1;hasRequiredDefineProperties=1;var a=objectKeys$1,e=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",o=Object.prototype.toString,h=Array.prototype.concat,$=defineDataProperty,d=function(he){return typeof he=="function"&&o.call(he)==="[object Function]"},Y=hasPropertyDescriptors_1(),ie=function(he,ne,le,de){if(ne in he){if(de===!0){if(he[ne]===le)return}else if(!d(de)||!de())return}Y?$(he,ne,le,!0):$(he,ne,le)},fe=function(he,ne){var le=arguments.length>2?arguments[2]:{},de=a(ne);e&&(de=h.call(de,Object.getOwnPropertySymbols(ne)));for(var ce=0;ce<de.length;ce+=1)ie(he,de[ce],ne[de[ce]],le[de[ce]])};return fe.supportsDescriptors=!!Y,defineProperties_1=fe,defineProperties_1}var shim$1,hasRequiredShim$1;function requireShim$1(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var a=polyfill$1,e=requireDefineProperties();return shim$1=function(){var h=a();return e(Object,{is:h},{is:function(){return Object.is!==h}}),h},shim$1}var objectIs,hasRequiredObjectIs;function requireObjectIs(){if(hasRequiredObjectIs)return objectIs;hasRequiredObjectIs=1;var a=requireDefineProperties(),e=callBindExports,o=implementation$2,h=polyfill$1,$=requireShim$1(),d=e(h(),Object);return a(d,{getPolyfill:h,implementation:o,shim:$}),objectIs=d,objectIs}var implementation,hasRequiredImplementation;function requireImplementation(){return hasRequiredImplementation||(hasRequiredImplementation=1,implementation=function(e){return e!==e}),implementation}var polyfill,hasRequiredPolyfill;function requirePolyfill(){if(hasRequiredPolyfill)return polyfill;hasRequiredPolyfill=1;var a=requireImplementation();return polyfill=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:a},polyfill}var shim,hasRequiredShim;function requireShim(){if(hasRequiredShim)return shim;hasRequiredShim=1;var a=requireDefineProperties(),e=requirePolyfill();return shim=function(){var h=e();return a(Number,{isNaN:h},{isNaN:function(){return Number.isNaN!==h}}),h},shim}var isNan,hasRequiredIsNan;function requireIsNan(){if(hasRequiredIsNan)return isNan;hasRequiredIsNan=1;var a=callBindExports,e=requireDefineProperties(),o=requireImplementation(),h=requirePolyfill(),$=requireShim(),d=a(h(),Number);return e(d,{getPolyfill:h,implementation:o,shim:$}),isNan=d,isNan}var comparisons,hasRequiredComparisons;function requireComparisons(){if(hasRequiredComparisons)return comparisons;hasRequiredComparisons=1;function a(Ue,je){return d(Ue)||$(Ue,je)||o(Ue,je)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(Ue,je){if(Ue){if(typeof Ue=="string")return h(Ue,je);var bt=Object.prototype.toString.call(Ue).slice(8,-1);if(bt==="Object"&&Ue.constructor&&(bt=Ue.constructor.name),bt==="Map"||bt==="Set")return Array.from(Ue);if(bt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(bt))return h(Ue,je)}}function h(Ue,je){(je==null||je>Ue.length)&&(je=Ue.length);for(var bt=0,Ke=new Array(je);bt<je;bt++)Ke[bt]=Ue[bt];return Ke}function $(Ue,je){var bt=Ue==null?null:typeof Symbol<"u"&&Ue[Symbol.iterator]||Ue["@@iterator"];if(bt!=null){var Ke,Ze,Et,Be,ye=[],$e=!0,De=!1;try{if(Et=(bt=bt.call(Ue)).next,je!==0)for(;!($e=(Ke=Et.call(bt)).done)&&(ye.push(Ke.value),ye.length!==je);$e=!0);}catch(Fe){De=!0,Ze=Fe}finally{try{if(!$e&&bt.return!=null&&(Be=bt.return(),Object(Be)!==Be))return}finally{if(De)throw Ze}}return ye}}function d(Ue){if(Array.isArray(Ue))return Ue}function Y(Ue){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(je){return typeof je}:function(je){return je&&typeof Symbol=="function"&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je},Y(Ue)}var ie=/a/g.flags!==void 0,fe=function(je){var bt=[];return je.forEach(function(Ke){return bt.push(Ke)}),bt},he=function(je){var bt=[];return je.forEach(function(Ke,Ze){return bt.push([Ze,Ke])}),bt},ne=Object.is?Object.is:requireObjectIs(),le=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},de=Number.isNaN?Number.isNaN:requireIsNan();function ce(Ue){return Ue.call.bind(Ue)}var ge=ce(Object.prototype.hasOwnProperty),xe=ce(Object.prototype.propertyIsEnumerable),Ae=ce(Object.prototype.toString),Ee=util$3.types,we=Ee.isAnyArrayBuffer,pe=Ee.isArrayBufferView,me=Ee.isDate,Te=Ee.isMap,Pe=Ee.isRegExp,Le=Ee.isSet,qe=Ee.isNativeError,Ce=Ee.isBoxedPrimitive,ze=Ee.isNumberObject,oe=Ee.isStringObject,c=Ee.isBooleanObject,b=Ee.isBigIntObject,j=Ee.isSymbolObject,Z=Ee.isFloat32Array,re=Ee.isFloat64Array;function ae(Ue){if(Ue.length===0||Ue.length>10)return!0;for(var je=0;je<Ue.length;je++){var bt=Ue.charCodeAt(je);if(bt<48||bt>57)return!0}return Ue.length===10&&Ue>=Math.pow(2,32)}function se(Ue){return Object.keys(Ue).filter(ae).concat(le(Ue).filter(Object.prototype.propertyIsEnumerable.bind(Ue)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function ee(Ue,je){if(Ue===je)return 0;for(var bt=Ue.length,Ke=je.length,Ze=0,Et=Math.min(bt,Ke);Ze<Et;++Ze)if(Ue[Ze]!==je[Ze]){bt=Ue[Ze],Ke=je[Ze];break}return bt<Ke?-1:Ke<bt?1:0}var _=!0,te=!1,ue=0,ve=1,be=2,Me=3;function Se(Ue,je){return ie?Ue.source===je.source&&Ue.flags===je.flags:RegExp.prototype.toString.call(Ue)===RegExp.prototype.toString.call(je)}function _e(Ue,je){if(Ue.byteLength!==je.byteLength)return!1;for(var bt=0;bt<Ue.byteLength;bt++)if(Ue[bt]!==je[bt])return!1;return!0}function Re(Ue,je){return Ue.byteLength!==je.byteLength?!1:ee(new Uint8Array(Ue.buffer,Ue.byteOffset,Ue.byteLength),new Uint8Array(je.buffer,je.byteOffset,je.byteLength))===0}function Ie(Ue,je){return Ue.byteLength===je.byteLength&&ee(new Uint8Array(Ue),new Uint8Array(je))===0}function Ne(Ue,je){return ze(Ue)?ze(je)&&ne(Number.prototype.valueOf.call(Ue),Number.prototype.valueOf.call(je)):oe(Ue)?oe(je)&&String.prototype.valueOf.call(Ue)===String.prototype.valueOf.call(je):c(Ue)?c(je)&&Boolean.prototype.valueOf.call(Ue)===Boolean.prototype.valueOf.call(je):b(Ue)?b(je)&&BigInt.prototype.valueOf.call(Ue)===BigInt.prototype.valueOf.call(je):j(je)&&Symbol.prototype.valueOf.call(Ue)===Symbol.prototype.valueOf.call(je)}function Oe(Ue,je,bt,Ke){if(Ue===je)return Ue!==0?!0:bt?ne(Ue,je):!0;if(bt){if(Y(Ue)!=="object")return typeof Ue=="number"&&de(Ue)&&de(je);if(Y(je)!=="object"||Ue===null||je===null||Object.getPrototypeOf(Ue)!==Object.getPrototypeOf(je))return!1}else{if(Ue===null||Y(Ue)!=="object")return je===null||Y(je)!=="object"?Ue==je:!1;if(je===null||Y(je)!=="object")return!1}var Ze=Ae(Ue),Et=Ae(je);if(Ze!==Et)return!1;if(Array.isArray(Ue)){if(Ue.length!==je.length)return!1;var Be=se(Ue),ye=se(je);return Be.length!==ye.length?!1:He(Ue,je,bt,Ke,ve,Be)}if(Ze==="[object Object]"&&(!Te(Ue)&&Te(je)||!Le(Ue)&&Le(je)))return!1;if(me(Ue)){if(!me(je)||Date.prototype.getTime.call(Ue)!==Date.prototype.getTime.call(je))return!1}else if(Pe(Ue)){if(!Pe(je)||!Se(Ue,je))return!1}else if(qe(Ue)||Ue instanceof Error){if(Ue.message!==je.message||Ue.name!==je.name)return!1}else if(pe(Ue)){if(!bt&&(Z(Ue)||re(Ue))){if(!_e(Ue,je))return!1}else if(!Re(Ue,je))return!1;var $e=se(Ue),De=se(je);return $e.length!==De.length?!1:He(Ue,je,bt,Ke,ue,$e)}else{if(Le(Ue))return!Le(je)||Ue.size!==je.size?!1:He(Ue,je,bt,Ke,be);if(Te(Ue))return!Te(je)||Ue.size!==je.size?!1:He(Ue,je,bt,Ke,Me);if(we(Ue)){if(!Ie(Ue,je))return!1}else if(Ce(Ue)&&!Ne(Ue,je))return!1}return He(Ue,je,bt,Ke,ue)}function ke(Ue,je){return je.filter(function(bt){return xe(Ue,bt)})}function He(Ue,je,bt,Ke,Ze,Et){if(arguments.length===5){Et=Object.keys(Ue);var Be=Object.keys(je);if(Et.length!==Be.length)return!1}for(var ye=0;ye<Et.length;ye++)if(!ge(je,Et[ye]))return!1;if(bt&&arguments.length===5){var $e=le(Ue);if($e.length!==0){var De=0;for(ye=0;ye<$e.length;ye++){var Fe=$e[ye];if(xe(Ue,Fe)){if(!xe(je,Fe))return!1;Et.push(Fe),De++}else if(xe(je,Fe))return!1}var Xe=le(je);if($e.length!==Xe.length&&ke(je,Xe).length!==De)return!1}else{var We=le(je);if(We.length!==0&&ke(je,We).length!==0)return!1}}if(Et.length===0&&(Ze===ue||Ze===ve&&Ue.length===0||Ue.size===0))return!0;if(Ke===void 0)Ke={val1:new Map,val2:new Map,position:0};else{var et=Ke.val1.get(Ue);if(et!==void 0){var xt=Ke.val2.get(je);if(xt!==void 0)return et===xt}Ke.position++}Ke.val1.set(Ue,Ke.position),Ke.val2.set(je,Ke.position);var Je=tt(Ue,je,bt,Et,Ke,Ze);return Ke.val1.delete(Ue),Ke.val2.delete(je),Je}function ct(Ue,je,bt,Ke){for(var Ze=fe(Ue),Et=0;Et<Ze.length;Et++){var Be=Ze[Et];if(Oe(je,Be,bt,Ke))return Ue.delete(Be),!0}return!1}function Ve(Ue){switch(Y(Ue)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ue=+Ue;case"number":if(de(Ue))return!1}return!0}function Ye(Ue,je,bt){var Ke=Ve(bt);return Ke??(je.has(Ke)&&!Ue.has(Ke))}function wt(Ue,je,bt,Ke,Ze){var Et=Ve(bt);if(Et!=null)return Et;var Be=je.get(Et);return Be===void 0&&!je.has(Et)||!Oe(Ke,Be,!1,Ze)?!1:!Ue.has(Et)&&Oe(Ke,Be,!1,Ze)}function Qe(Ue,je,bt,Ke){for(var Ze=null,Et=fe(Ue),Be=0;Be<Et.length;Be++){var ye=Et[Be];if(Y(ye)==="object"&&ye!==null)Ze===null&&(Ze=new Set),Ze.add(ye);else if(!je.has(ye)){if(bt||!Ye(Ue,je,ye))return!1;Ze===null&&(Ze=new Set),Ze.add(ye)}}if(Ze!==null){for(var $e=fe(je),De=0;De<$e.length;De++){var Fe=$e[De];if(Y(Fe)==="object"&&Fe!==null){if(!ct(Ze,Fe,bt,Ke))return!1}else if(!bt&&!Ue.has(Fe)&&!ct(Ze,Fe,bt,Ke))return!1}return Ze.size===0}return!0}function Ge(Ue,je,bt,Ke,Ze,Et){for(var Be=fe(Ue),ye=0;ye<Be.length;ye++){var $e=Be[ye];if(Oe(bt,$e,Ze,Et)&&Oe(Ke,je.get($e),Ze,Et))return Ue.delete($e),!0}return!1}function $t(Ue,je,bt,Ke){for(var Ze=null,Et=he(Ue),Be=0;Be<Et.length;Be++){var ye=a(Et[Be],2),$e=ye[0],De=ye[1];if(Y($e)==="object"&&$e!==null)Ze===null&&(Ze=new Set),Ze.add($e);else{var Fe=je.get($e);if(Fe===void 0&&!je.has($e)||!Oe(De,Fe,bt,Ke)){if(bt||!wt(Ue,je,$e,De,Ke))return!1;Ze===null&&(Ze=new Set),Ze.add($e)}}}if(Ze!==null){for(var Xe=he(je),We=0;We<Xe.length;We++){var et=a(Xe[We],2),xt=et[0],Je=et[1];if(Y(xt)==="object"&&xt!==null){if(!Ge(Ze,Ue,xt,Je,bt,Ke))return!1}else if(!bt&&(!Ue.has(xt)||!Oe(Ue.get(xt),Je,!1,Ke))&&!Ge(Ze,Ue,xt,Je,!1,Ke))return!1}return Ze.size===0}return!0}function tt(Ue,je,bt,Ke,Ze,Et){var Be=0;if(Et===be){if(!Qe(Ue,je,bt,Ze))return!1}else if(Et===Me){if(!$t(Ue,je,bt,Ze))return!1}else if(Et===ve)for(;Be<Ue.length;Be++)if(ge(Ue,Be)){if(!ge(je,Be)||!Oe(Ue[Be],je[Be],bt,Ze))return!1}else{if(ge(je,Be))return!1;for(var ye=Object.keys(Ue);Be<ye.length;Be++){var $e=ye[Be];if(!ge(je,$e)||!Oe(Ue[$e],je[$e],bt,Ze))return!1}return ye.length===Object.keys(je).length}for(Be=0;Be<Ke.length;Be++){var De=Ke[Be];if(!Oe(Ue[De],je[De],bt,Ze))return!1}return!0}function ut(Ue,je){return Oe(Ue,je,te)}function St(Ue,je){return Oe(Ue,je,_)}return comparisons={isDeepEqual:ut,isDeepStrictEqual:St},comparisons}var hasRequiredAssert;function requireAssert(){if(hasRequiredAssert)return assert.exports;hasRequiredAssert=1;function a(be){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Me){return typeof Me}:function(Me){return Me&&typeof Symbol=="function"&&Me.constructor===Symbol&&Me!==Symbol.prototype?"symbol":typeof Me},a(be)}function e(be,Me,Se){return Object.defineProperty(be,"prototype",{writable:!1}),be}function o(be,Me){if(!(be instanceof Me))throw new TypeError("Cannot call a class as a function")}var h=requireErrors(),$=h.codes,d=$.ERR_AMBIGUOUS_ARGUMENT,Y=$.ERR_INVALID_ARG_TYPE,ie=$.ERR_INVALID_ARG_VALUE,fe=$.ERR_INVALID_RETURN_VALUE,he=$.ERR_MISSING_ARGS,ne=requireAssertion_error(),le=util$3,de=le.inspect,ce=util$3.types,ge=ce.isPromise,xe=ce.isRegExp,Ae=polyfill$2(),Ee=polyfill$1(),we=callBound("RegExp.prototype.test"),pe,me;function Te(){var be=requireComparisons();pe=be.isDeepEqual,me=be.isDeepStrictEqual}var Pe=!1,Le=assert.exports=c,qe={};function Ce(be){throw be.message instanceof Error?be.message:new ne(be)}function ze(be,Me,Se,_e,Re){var Ie=arguments.length,Ne;if(Ie===0)Ne="Failed";else if(Ie===1)Se=be,be=void 0;else{if(Pe===!1){Pe=!0;var Oe=process$1.emitWarning?process$1.emitWarning:console.warn.bind(console);Oe("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Ie===2&&(_e="!=")}if(Se instanceof Error)throw Se;var ke={actual:be,expected:Me,operator:_e===void 0?"fail":_e,stackStartFn:Re||ze};Se!==void 0&&(ke.message=Se);var He=new ne(ke);throw Ne&&(He.message=Ne,He.generatedMessage=!0),He}Le.fail=ze,Le.AssertionError=ne;function oe(be,Me,Se,_e){if(!Se){var Re=!1;if(Me===0)Re=!0,_e="No value argument passed to `assert.ok()`";else if(_e instanceof Error)throw _e;var Ie=new ne({actual:Se,expected:!0,message:_e,operator:"==",stackStartFn:be});throw Ie.generatedMessage=Re,Ie}}function c(){for(var be=arguments.length,Me=new Array(be),Se=0;Se<be;Se++)Me[Se]=arguments[Se];oe.apply(void 0,[c,Me.length].concat(Me))}Le.ok=c,Le.equal=function be(Me,Se,_e){if(arguments.length<2)throw new he("actual","expected");Me!=Se&&Ce({actual:Me,expected:Se,message:_e,operator:"==",stackStartFn:be})},Le.notEqual=function be(Me,Se,_e){if(arguments.length<2)throw new he("actual","expected");Me==Se&&Ce({actual:Me,expected:Se,message:_e,operator:"!=",stackStartFn:be})},Le.deepEqual=function be(Me,Se,_e){if(arguments.length<2)throw new he("actual","expected");pe===void 0&&Te(),pe(Me,Se)||Ce({actual:Me,expected:Se,message:_e,operator:"deepEqual",stackStartFn:be})},Le.notDeepEqual=function be(Me,Se,_e){if(arguments.length<2)throw new he("actual","expected");pe===void 0&&Te(),pe(Me,Se)&&Ce({actual:Me,expected:Se,message:_e,operator:"notDeepEqual",stackStartFn:be})},Le.deepStrictEqual=function be(Me,Se,_e){if(arguments.length<2)throw new he("actual","expected");pe===void 0&&Te(),me(Me,Se)||Ce({actual:Me,expected:Se,message:_e,operator:"deepStrictEqual",stackStartFn:be})},Le.notDeepStrictEqual=b;function b(be,Me,Se){if(arguments.length<2)throw new he("actual","expected");pe===void 0&&Te(),me(be,Me)&&Ce({actual:be,expected:Me,message:Se,operator:"notDeepStrictEqual",stackStartFn:b})}Le.strictEqual=function be(Me,Se,_e){if(arguments.length<2)throw new he("actual","expected");Ee(Me,Se)||Ce({actual:Me,expected:Se,message:_e,operator:"strictEqual",stackStartFn:be})},Le.notStrictEqual=function be(Me,Se,_e){if(arguments.length<2)throw new he("actual","expected");Ee(Me,Se)&&Ce({actual:Me,expected:Se,message:_e,operator:"notStrictEqual",stackStartFn:be})};var j=e(function be(Me,Se,_e){var Re=this;o(this,be),Se.forEach(function(Ie){Ie in Me&&(_e!==void 0&&typeof _e[Ie]=="string"&&xe(Me[Ie])&&we(Me[Ie],_e[Ie])?Re[Ie]=_e[Ie]:Re[Ie]=Me[Ie])})});function Z(be,Me,Se,_e,Re,Ie){if(!(Se in be)||!me(be[Se],Me[Se])){if(!_e){var Ne=new j(be,Re),Oe=new j(Me,Re,be),ke=new ne({actual:Ne,expected:Oe,operator:"deepStrictEqual",stackStartFn:Ie});throw ke.actual=be,ke.expected=Me,ke.operator=Ie.name,ke}Ce({actual:be,expected:Me,message:_e,operator:Ie.name,stackStartFn:Ie})}}function re(be,Me,Se,_e){if(typeof Me!="function"){if(xe(Me))return we(Me,be);if(arguments.length===2)throw new Y("expected",["Function","RegExp"],Me);if(a(be)!=="object"||be===null){var Re=new ne({actual:be,expected:Me,message:Se,operator:"deepStrictEqual",stackStartFn:_e});throw Re.operator=_e.name,Re}var Ie=Object.keys(Me);if(Me instanceof Error)Ie.push("name","message");else if(Ie.length===0)throw new ie("error",Me,"may not be an empty object");return pe===void 0&&Te(),Ie.forEach(function(Ne){typeof be[Ne]=="string"&&xe(Me[Ne])&&we(Me[Ne],be[Ne])||Z(be,Me,Ne,Se,Ie,_e)}),!0}return Me.prototype!==void 0&&be instanceof Me?!0:Error.isPrototypeOf(Me)?!1:Me.call({},be)===!0}function ae(be){if(typeof be!="function")throw new Y("fn","Function",be);try{be()}catch(Me){return Me}return qe}function se(be){return ge(be)||be!==null&&a(be)==="object"&&typeof be.then=="function"&&typeof be.catch=="function"}function ee(be){return Promise.resolve().then(function(){var Me;if(typeof be=="function"){if(Me=be(),!se(Me))throw new fe("instance of Promise","promiseFn",Me)}else if(se(be))Me=be;else throw new Y("promiseFn",["Function","Promise"],be);return Promise.resolve().then(function(){return Me}).then(function(){return qe}).catch(function(Se){return Se})})}function _(be,Me,Se,_e){if(typeof Se=="string"){if(arguments.length===4)throw new Y("error",["Object","Error","Function","RegExp"],Se);if(a(Me)==="object"&&Me!==null){if(Me.message===Se)throw new d("error/message",'The error message "'.concat(Me.message,'" is identical to the message.'))}else if(Me===Se)throw new d("error/message",'The error "'.concat(Me,'" is identical to the message.'));_e=Se,Se=void 0}else if(Se!=null&&a(Se)!=="object"&&typeof Se!="function")throw new Y("error",["Object","Error","Function","RegExp"],Se);if(Me===qe){var Re="";Se&&Se.name&&(Re+=" (".concat(Se.name,")")),Re+=_e?": ".concat(_e):".";var Ie=be.name==="rejects"?"rejection":"exception";Ce({actual:void 0,expected:Se,operator:be.name,message:"Missing expected ".concat(Ie).concat(Re),stackStartFn:be})}if(Se&&!re(Me,Se,_e,be))throw Me}function te(be,Me,Se,_e){if(Me!==qe){if(typeof Se=="string"&&(_e=Se,Se=void 0),!Se||re(Me,Se)){var Re=_e?": ".concat(_e):".",Ie=be.name==="doesNotReject"?"rejection":"exception";Ce({actual:Me,expected:Se,operator:be.name,message:"Got unwanted ".concat(Ie).concat(Re,`
`)+'Actual message: "'.concat(Me&&Me.message,'"'),stackStartFn:be})}throw Me}}Le.throws=function be(Me){for(var Se=arguments.length,_e=new Array(Se>1?Se-1:0),Re=1;Re<Se;Re++)_e[Re-1]=arguments[Re];_.apply(void 0,[be,ae(Me)].concat(_e))},Le.rejects=function be(Me){for(var Se=arguments.length,_e=new Array(Se>1?Se-1:0),Re=1;Re<Se;Re++)_e[Re-1]=arguments[Re];return ee(Me).then(function(Ie){return _.apply(void 0,[be,Ie].concat(_e))})},Le.doesNotThrow=function be(Me){for(var Se=arguments.length,_e=new Array(Se>1?Se-1:0),Re=1;Re<Se;Re++)_e[Re-1]=arguments[Re];te.apply(void 0,[be,ae(Me)].concat(_e))},Le.doesNotReject=function be(Me){for(var Se=arguments.length,_e=new Array(Se>1?Se-1:0),Re=1;Re<Se;Re++)_e[Re-1]=arguments[Re];return ee(Me).then(function(Ie){return te.apply(void 0,[be,Ie].concat(_e))})},Le.ifError=function be(Me){if(Me!=null){var Se="ifError got unwanted exception: ";a(Me)==="object"&&typeof Me.message=="string"?Me.message.length===0&&Me.constructor?Se+=Me.constructor.name:Se+=Me.message:Se+=de(Me);var _e=new ne({actual:Me,expected:null,operator:"ifError",message:Se,stackStartFn:be}),Re=Me.stack;if(typeof Re=="string"){var Ie=Re.split(`
`);Ie.shift();for(var Ne=_e.stack.split(`
`),Oe=0;Oe<Ie.length;Oe++){var ke=Ne.indexOf(Ie[Oe]);if(ke!==-1){Ne=Ne.slice(0,ke);break}}_e.stack="".concat(Ne.join(`
`),`
`).concat(Ie.join(`
`))}throw _e}};function ue(be,Me,Se,_e,Re){if(!xe(Me))throw new Y("regexp","RegExp",Me);var Ie=Re==="match";if(typeof be!="string"||we(Me,be)!==Ie){if(Se instanceof Error)throw Se;var Ne=!Se;Se=Se||(typeof be!="string"?'The "string" argument must be of type string. Received type '+"".concat(a(be)," (").concat(de(be),")"):(Ie?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(de(Me),`. Input:

`).concat(de(be),`
`));var Oe=new ne({actual:be,expected:Me,message:Se,operator:Re,stackStartFn:_e});throw Oe.generatedMessage=Ne,Oe}}Le.match=function be(Me,Se,_e){ue(Me,Se,_e,be,"match")},Le.doesNotMatch=function be(Me,Se,_e){ue(Me,Se,_e,be,"doesNotMatch")};function ve(){for(var be=arguments.length,Me=new Array(be),Se=0;Se<be;Se++)Me[Se]=arguments[Se];oe.apply(void 0,[ve,Me.length].concat(Me))}return Le.strict=Ae(ve,Le,{equal:Le.strictEqual,deepEqual:Le.deepStrictEqual,notEqual:Le.notStrictEqual,notDeepEqual:Le.notDeepStrictEqual}),Le.strict.strict=Le.strict,assert.exports}function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream,deflate$1={},common={};(function(a){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function o(d,Y){return Object.prototype.hasOwnProperty.call(d,Y)}a.assign=function(d){for(var Y=Array.prototype.slice.call(arguments,1);Y.length;){var ie=Y.shift();if(ie){if(typeof ie!="object")throw new TypeError(ie+"must be non-object");for(var fe in ie)o(ie,fe)&&(d[fe]=ie[fe])}}return d},a.shrinkBuf=function(d,Y){return d.length===Y?d:d.subarray?d.subarray(0,Y):(d.length=Y,d)};var h={arraySet:function(d,Y,ie,fe,he){if(Y.subarray&&d.subarray){d.set(Y.subarray(ie,ie+fe),he);return}for(var ne=0;ne<fe;ne++)d[he+ne]=Y[ie+ne]},flattenChunks:function(d){var Y,ie,fe,he,ne,le;for(fe=0,Y=0,ie=d.length;Y<ie;Y++)fe+=d[Y].length;for(le=new Uint8Array(fe),he=0,Y=0,ie=d.length;Y<ie;Y++)ne=d[Y],le.set(ne,he),he+=ne.length;return le}},$={arraySet:function(d,Y,ie,fe,he){for(var ne=0;ne<fe;ne++)d[he+ne]=Y[ie+ne]},flattenChunks:function(d){return[].concat.apply([],d)}};a.setTyped=function(d){d?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,h)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,$))},a.setTyped(e)})(common);var trees$1={},utils$3=common,Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(a){for(var e=a.length;--e>=0;)a[e]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);var static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);var _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);var base_length=new Array(LENGTH_CODES$1);zero$1(base_length);var base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(a,e,o,h,$){this.static_tree=a,this.extra_bits=e,this.extra_base=o,this.elems=h,this.max_length=$,this.has_stree=a&&a.length}var static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(a,e){this.dyn_tree=a,this.max_code=0,this.stat_desc=e}function d_code(a){return a<256?_dist_code[a]:_dist_code[256+(a>>>7)]}function put_short(a,e){a.pending_buf[a.pending++]=e&255,a.pending_buf[a.pending++]=e>>>8&255}function send_bits(a,e,o){a.bi_valid>Buf_size-o?(a.bi_buf|=e<<a.bi_valid&65535,put_short(a,a.bi_buf),a.bi_buf=e>>Buf_size-a.bi_valid,a.bi_valid+=o-Buf_size):(a.bi_buf|=e<<a.bi_valid&65535,a.bi_valid+=o)}function send_code(a,e,o){send_bits(a,o[e*2],o[e*2+1])}function bi_reverse(a,e){var o=0;do o|=a&1,a>>>=1,o<<=1;while(--e>0);return o>>>1}function bi_flush(a){a.bi_valid===16?(put_short(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=a.bi_buf&255,a.bi_buf>>=8,a.bi_valid-=8)}function gen_bitlen(a,e){var o=e.dyn_tree,h=e.max_code,$=e.stat_desc.static_tree,d=e.stat_desc.has_stree,Y=e.stat_desc.extra_bits,ie=e.stat_desc.extra_base,fe=e.stat_desc.max_length,he,ne,le,de,ce,ge,xe=0;for(de=0;de<=MAX_BITS$1;de++)a.bl_count[de]=0;for(o[a.heap[a.heap_max]*2+1]=0,he=a.heap_max+1;he<HEAP_SIZE$1;he++)ne=a.heap[he],de=o[o[ne*2+1]*2+1]+1,de>fe&&(de=fe,xe++),o[ne*2+1]=de,!(ne>h)&&(a.bl_count[de]++,ce=0,ne>=ie&&(ce=Y[ne-ie]),ge=o[ne*2],a.opt_len+=ge*(de+ce),d&&(a.static_len+=ge*($[ne*2+1]+ce)));if(xe!==0){do{for(de=fe-1;a.bl_count[de]===0;)de--;a.bl_count[de]--,a.bl_count[de+1]+=2,a.bl_count[fe]--,xe-=2}while(xe>0);for(de=fe;de!==0;de--)for(ne=a.bl_count[de];ne!==0;)le=a.heap[--he],!(le>h)&&(o[le*2+1]!==de&&(a.opt_len+=(de-o[le*2+1])*o[le*2],o[le*2+1]=de),ne--)}}function gen_codes(a,e,o){var h=new Array(MAX_BITS$1+1),$=0,d,Y;for(d=1;d<=MAX_BITS$1;d++)h[d]=$=$+o[d-1]<<1;for(Y=0;Y<=e;Y++){var ie=a[Y*2+1];ie!==0&&(a[Y*2]=bi_reverse(h[ie]++,ie))}}function tr_static_init(){var a,e,o,h,$,d=new Array(MAX_BITS$1+1);for(o=0,h=0;h<LENGTH_CODES$1-1;h++)for(base_length[h]=o,a=0;a<1<<extra_lbits[h];a++)_length_code[o++]=h;for(_length_code[o-1]=h,$=0,h=0;h<16;h++)for(base_dist[h]=$,a=0;a<1<<extra_dbits[h];a++)_dist_code[$++]=h;for($>>=7;h<D_CODES$1;h++)for(base_dist[h]=$<<7,a=0;a<1<<extra_dbits[h]-7;a++)_dist_code[256+$++]=h;for(e=0;e<=MAX_BITS$1;e++)d[e]=0;for(a=0;a<=143;)static_ltree[a*2+1]=8,a++,d[8]++;for(;a<=255;)static_ltree[a*2+1]=9,a++,d[9]++;for(;a<=279;)static_ltree[a*2+1]=7,a++,d[7]++;for(;a<=287;)static_ltree[a*2+1]=8,a++,d[8]++;for(gen_codes(static_ltree,L_CODES$1+1,d),a=0;a<D_CODES$1;a++)static_dtree[a*2+1]=5,static_dtree[a*2]=bi_reverse(a,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)}function init_block(a){var e;for(e=0;e<L_CODES$1;e++)a.dyn_ltree[e*2]=0;for(e=0;e<D_CODES$1;e++)a.dyn_dtree[e*2]=0;for(e=0;e<BL_CODES$1;e++)a.bl_tree[e*2]=0;a.dyn_ltree[END_BLOCK*2]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0}function bi_windup(a){a.bi_valid>8?put_short(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function copy_block(a,e,o,h){bi_windup(a),put_short(a,o),put_short(a,~o),utils$3.arraySet(a.pending_buf,a.window,e,o,a.pending),a.pending+=o}function smaller(a,e,o,h){var $=e*2,d=o*2;return a[$]<a[d]||a[$]===a[d]&&h[e]<=h[o]}function pqdownheap(a,e,o){for(var h=a.heap[o],$=o<<1;$<=a.heap_len&&($<a.heap_len&&smaller(e,a.heap[$+1],a.heap[$],a.depth)&&$++,!smaller(e,h,a.heap[$],a.depth));)a.heap[o]=a.heap[$],o=$,$<<=1;a.heap[o]=h}function compress_block(a,e,o){var h,$,d=0,Y,ie;if(a.last_lit!==0)do h=a.pending_buf[a.d_buf+d*2]<<8|a.pending_buf[a.d_buf+d*2+1],$=a.pending_buf[a.l_buf+d],d++,h===0?send_code(a,$,e):(Y=_length_code[$],send_code(a,Y+LITERALS$1+1,e),ie=extra_lbits[Y],ie!==0&&($-=base_length[Y],send_bits(a,$,ie)),h--,Y=d_code(h),send_code(a,Y,o),ie=extra_dbits[Y],ie!==0&&(h-=base_dist[Y],send_bits(a,h,ie)));while(d<a.last_lit);send_code(a,END_BLOCK,e)}function build_tree(a,e){var o=e.dyn_tree,h=e.stat_desc.static_tree,$=e.stat_desc.has_stree,d=e.stat_desc.elems,Y,ie,fe=-1,he;for(a.heap_len=0,a.heap_max=HEAP_SIZE$1,Y=0;Y<d;Y++)o[Y*2]!==0?(a.heap[++a.heap_len]=fe=Y,a.depth[Y]=0):o[Y*2+1]=0;for(;a.heap_len<2;)he=a.heap[++a.heap_len]=fe<2?++fe:0,o[he*2]=1,a.depth[he]=0,a.opt_len--,$&&(a.static_len-=h[he*2+1]);for(e.max_code=fe,Y=a.heap_len>>1;Y>=1;Y--)pqdownheap(a,o,Y);he=d;do Y=a.heap[1],a.heap[1]=a.heap[a.heap_len--],pqdownheap(a,o,1),ie=a.heap[1],a.heap[--a.heap_max]=Y,a.heap[--a.heap_max]=ie,o[he*2]=o[Y*2]+o[ie*2],a.depth[he]=(a.depth[Y]>=a.depth[ie]?a.depth[Y]:a.depth[ie])+1,o[Y*2+1]=o[ie*2+1]=he,a.heap[1]=he++,pqdownheap(a,o,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],gen_bitlen(a,e),gen_codes(o,fe,a.bl_count)}function scan_tree(a,e,o){var h,$=-1,d,Y=e[0*2+1],ie=0,fe=7,he=4;for(Y===0&&(fe=138,he=3),e[(o+1)*2+1]=65535,h=0;h<=o;h++)d=Y,Y=e[(h+1)*2+1],!(++ie<fe&&d===Y)&&(ie<he?a.bl_tree[d*2]+=ie:d!==0?(d!==$&&a.bl_tree[d*2]++,a.bl_tree[REP_3_6*2]++):ie<=10?a.bl_tree[REPZ_3_10*2]++:a.bl_tree[REPZ_11_138*2]++,ie=0,$=d,Y===0?(fe=138,he=3):d===Y?(fe=6,he=3):(fe=7,he=4))}function send_tree(a,e,o){var h,$=-1,d,Y=e[0*2+1],ie=0,fe=7,he=4;for(Y===0&&(fe=138,he=3),h=0;h<=o;h++)if(d=Y,Y=e[(h+1)*2+1],!(++ie<fe&&d===Y)){if(ie<he)do send_code(a,d,a.bl_tree);while(--ie!==0);else d!==0?(d!==$&&(send_code(a,d,a.bl_tree),ie--),send_code(a,REP_3_6,a.bl_tree),send_bits(a,ie-3,2)):ie<=10?(send_code(a,REPZ_3_10,a.bl_tree),send_bits(a,ie-3,3)):(send_code(a,REPZ_11_138,a.bl_tree),send_bits(a,ie-11,7));ie=0,$=d,Y===0?(fe=138,he=3):d===Y?(fe=6,he=3):(fe=7,he=4)}}function build_bl_tree(a){var e;for(scan_tree(a,a.dyn_ltree,a.l_desc.max_code),scan_tree(a,a.dyn_dtree,a.d_desc.max_code),build_tree(a,a.bl_desc),e=BL_CODES$1-1;e>=3&&a.bl_tree[bl_order[e]*2+1]===0;e--);return a.opt_len+=3*(e+1)+5+5+4,e}function send_all_trees(a,e,o,h){var $;for(send_bits(a,e-257,5),send_bits(a,o-1,5),send_bits(a,h-4,4),$=0;$<h;$++)send_bits(a,a.bl_tree[bl_order[$]*2+1],3);send_tree(a,a.dyn_ltree,e-1),send_tree(a,a.dyn_dtree,o-1)}function detect_data_type(a){var e=4093624447,o;for(o=0;o<=31;o++,e>>>=1)if(e&1&&a.dyn_ltree[o*2]!==0)return Z_BINARY;if(a.dyn_ltree[9*2]!==0||a.dyn_ltree[10*2]!==0||a.dyn_ltree[13*2]!==0)return Z_TEXT;for(o=32;o<LITERALS$1;o++)if(a.dyn_ltree[o*2]!==0)return Z_TEXT;return Z_BINARY}var static_init_done=!1;function _tr_init(a){static_init_done||(tr_static_init(),static_init_done=!0),a.l_desc=new TreeDesc(a.dyn_ltree,static_l_desc),a.d_desc=new TreeDesc(a.dyn_dtree,static_d_desc),a.bl_desc=new TreeDesc(a.bl_tree,static_bl_desc),a.bi_buf=0,a.bi_valid=0,init_block(a)}function _tr_stored_block(a,e,o,h){send_bits(a,(STORED_BLOCK<<1)+(h?1:0),3),copy_block(a,e,o)}function _tr_align(a){send_bits(a,STATIC_TREES<<1,3),send_code(a,END_BLOCK,static_ltree),bi_flush(a)}function _tr_flush_block(a,e,o,h){var $,d,Y=0;a.level>0?(a.strm.data_type===Z_UNKNOWN$1&&(a.strm.data_type=detect_data_type(a)),build_tree(a,a.l_desc),build_tree(a,a.d_desc),Y=build_bl_tree(a),$=a.opt_len+3+7>>>3,d=a.static_len+3+7>>>3,d<=$&&($=d)):$=d=o+5,o+4<=$&&e!==-1?_tr_stored_block(a,e,o,h):a.strategy===Z_FIXED$1||d===$?(send_bits(a,(STATIC_TREES<<1)+(h?1:0),3),compress_block(a,static_ltree,static_dtree)):(send_bits(a,(DYN_TREES<<1)+(h?1:0),3),send_all_trees(a,a.l_desc.max_code+1,a.d_desc.max_code+1,Y+1),compress_block(a,a.dyn_ltree,a.dyn_dtree)),init_block(a),h&&bi_windup(a)}function _tr_tally(a,e,o){return a.pending_buf[a.d_buf+a.last_lit*2]=e>>>8&255,a.pending_buf[a.d_buf+a.last_lit*2+1]=e&255,a.pending_buf[a.l_buf+a.last_lit]=o&255,a.last_lit++,e===0?a.dyn_ltree[o*2]++:(a.matches++,e--,a.dyn_ltree[(_length_code[o]+LITERALS$1+1)*2]++,a.dyn_dtree[d_code(e)*2]++),a.last_lit===a.lit_bufsize-1}trees$1._tr_init=_tr_init;trees$1._tr_stored_block=_tr_stored_block;trees$1._tr_flush_block=_tr_flush_block;trees$1._tr_tally=_tr_tally;trees$1._tr_align=_tr_align;function adler32$2(a,e,o,h){for(var $=a&65535|0,d=a>>>16&65535|0,Y=0;o!==0;){Y=o>2e3?2e3:o,o-=Y;do $=$+e[h++]|0,d=d+$|0;while(--Y);$%=65521,d%=65521}return $|d<<16|0}var adler32_1=adler32$2;function makeTable(){for(var a,e=[],o=0;o<256;o++){a=o;for(var h=0;h<8;h++)a=a&1?3988292384^a>>>1:a>>>1;e[o]=a}return e}var crcTable=makeTable();function crc32$2(a,e,o,h){var $=crcTable,d=h+o;a^=-1;for(var Y=h;Y<d;Y++)a=a>>>8^$[(a^e[Y])&255];return a^-1}var crc32_1=crc32$2,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},utils$2=common,trees=trees$1,adler32$1=adler32_1,crc32$1=crc32_1,msg=messages,Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH$1=4,Z_BLOCK$1=5,Z_OK$1=0,Z_STREAM_END$1=1,Z_STREAM_ERROR$1=-2,Z_DATA_ERROR$1=-3,Z_BUF_ERROR$1=-5,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY=0,Z_UNKNOWN=2,Z_DEFLATED$1=8,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;function err(a,e){return a.msg=msg[e],e}function rank(a){return(a<<1)-(a>4?9:0)}function zero(a){for(var e=a.length;--e>=0;)a[e]=0}function flush_pending(a){var e=a.state,o=e.pending;o>a.avail_out&&(o=a.avail_out),o!==0&&(utils$2.arraySet(a.output,e.pending_buf,e.pending_out,o,a.next_out),a.next_out+=o,e.pending_out+=o,a.total_out+=o,a.avail_out-=o,e.pending-=o,e.pending===0&&(e.pending_out=0))}function flush_block_only(a,e){trees._tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,e),a.block_start=a.strstart,flush_pending(a.strm)}function put_byte(a,e){a.pending_buf[a.pending++]=e}function putShortMSB(a,e){a.pending_buf[a.pending++]=e>>>8&255,a.pending_buf[a.pending++]=e&255}function read_buf(a,e,o,h){var $=a.avail_in;return $>h&&($=h),$===0?0:(a.avail_in-=$,utils$2.arraySet(e,a.input,a.next_in,$,o),a.state.wrap===1?a.adler=adler32$1(a.adler,e,$,o):a.state.wrap===2&&(a.adler=crc32$1(a.adler,e,$,o)),a.next_in+=$,a.total_in+=$,$)}function longest_match(a,e){var o=a.max_chain_length,h=a.strstart,$,d,Y=a.prev_length,ie=a.nice_match,fe=a.strstart>a.w_size-MIN_LOOKAHEAD?a.strstart-(a.w_size-MIN_LOOKAHEAD):0,he=a.window,ne=a.w_mask,le=a.prev,de=a.strstart+MAX_MATCH,ce=he[h+Y-1],ge=he[h+Y];a.prev_length>=a.good_match&&(o>>=2),ie>a.lookahead&&(ie=a.lookahead);do if($=e,!(he[$+Y]!==ge||he[$+Y-1]!==ce||he[$]!==he[h]||he[++$]!==he[h+1])){h+=2,$++;do;while(he[++h]===he[++$]&&he[++h]===he[++$]&&he[++h]===he[++$]&&he[++h]===he[++$]&&he[++h]===he[++$]&&he[++h]===he[++$]&&he[++h]===he[++$]&&he[++h]===he[++$]&&h<de);if(d=MAX_MATCH-(de-h),h=de-MAX_MATCH,d>Y){if(a.match_start=e,Y=d,d>=ie)break;ce=he[h+Y-1],ge=he[h+Y]}}while((e=le[e&ne])>fe&&--o!==0);return Y<=a.lookahead?Y:a.lookahead}function fill_window(a){var e=a.w_size,o,h,$,d,Y;do{if(d=a.window_size-a.lookahead-a.strstart,a.strstart>=e+(e-MIN_LOOKAHEAD)){utils$2.arraySet(a.window,a.window,e,e,0),a.match_start-=e,a.strstart-=e,a.block_start-=e,h=a.hash_size,o=h;do $=a.head[--o],a.head[o]=$>=e?$-e:0;while(--h);h=e,o=h;do $=a.prev[--o],a.prev[o]=$>=e?$-e:0;while(--h);d+=e}if(a.strm.avail_in===0)break;if(h=read_buf(a.strm,a.window,a.strstart+a.lookahead,d),a.lookahead+=h,a.lookahead+a.insert>=MIN_MATCH)for(Y=a.strstart-a.insert,a.ins_h=a.window[Y],a.ins_h=(a.ins_h<<a.hash_shift^a.window[Y+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[Y+MIN_MATCH-1])&a.hash_mask,a.prev[Y&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=Y,Y++,a.insert--,!(a.lookahead+a.insert<MIN_MATCH)););}while(a.lookahead<MIN_LOOKAHEAD&&a.strm.avail_in!==0)}function deflate_stored(a,e){var o=65535;for(o>a.pending_buf_size-5&&(o=a.pending_buf_size-5);;){if(a.lookahead<=1){if(fill_window(a),a.lookahead===0&&e===Z_NO_FLUSH)return BS_NEED_MORE;if(a.lookahead===0)break}a.strstart+=a.lookahead,a.lookahead=0;var h=a.block_start+o;if((a.strstart===0||a.strstart>=h)&&(a.lookahead=a.strstart-h,a.strstart=h,flush_block_only(a,!1),a.strm.avail_out===0)||a.strstart-a.block_start>=a.w_size-MIN_LOOKAHEAD&&(flush_block_only(a,!1),a.strm.avail_out===0))return BS_NEED_MORE}return a.insert=0,e===Z_FINISH$1?(flush_block_only(a,!0),a.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):(a.strstart>a.block_start&&(flush_block_only(a,!1),a.strm.avail_out===0),BS_NEED_MORE)}function deflate_fast(a,e){for(var o,h;;){if(a.lookahead<MIN_LOOKAHEAD){if(fill_window(a),a.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH)return BS_NEED_MORE;if(a.lookahead===0)break}if(o=0,a.lookahead>=MIN_MATCH&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+MIN_MATCH-1])&a.hash_mask,o=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),o!==0&&a.strstart-o<=a.w_size-MIN_LOOKAHEAD&&(a.match_length=longest_match(a,o)),a.match_length>=MIN_MATCH)if(h=trees._tr_tally(a,a.strstart-a.match_start,a.match_length-MIN_MATCH),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=MIN_MATCH){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+MIN_MATCH-1])&a.hash_mask,o=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(--a.match_length!==0);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else h=trees._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(h&&(flush_block_only(a,!1),a.strm.avail_out===0))return BS_NEED_MORE}return a.insert=a.strstart<MIN_MATCH-1?a.strstart:MIN_MATCH-1,e===Z_FINISH$1?(flush_block_only(a,!0),a.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):a.last_lit&&(flush_block_only(a,!1),a.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(a,e){for(var o,h,$;;){if(a.lookahead<MIN_LOOKAHEAD){if(fill_window(a),a.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH)return BS_NEED_MORE;if(a.lookahead===0)break}if(o=0,a.lookahead>=MIN_MATCH&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+MIN_MATCH-1])&a.hash_mask,o=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=MIN_MATCH-1,o!==0&&a.prev_length<a.max_lazy_match&&a.strstart-o<=a.w_size-MIN_LOOKAHEAD&&(a.match_length=longest_match(a,o),a.match_length<=5&&(a.strategy===Z_FILTERED||a.match_length===MIN_MATCH&&a.strstart-a.match_start>4096)&&(a.match_length=MIN_MATCH-1)),a.prev_length>=MIN_MATCH&&a.match_length<=a.prev_length){$=a.strstart+a.lookahead-MIN_MATCH,h=trees._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-MIN_MATCH),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=$&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+MIN_MATCH-1])&a.hash_mask,o=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(--a.prev_length!==0);if(a.match_available=0,a.match_length=MIN_MATCH-1,a.strstart++,h&&(flush_block_only(a,!1),a.strm.avail_out===0))return BS_NEED_MORE}else if(a.match_available){if(h=trees._tr_tally(a,0,a.window[a.strstart-1]),h&&flush_block_only(a,!1),a.strstart++,a.lookahead--,a.strm.avail_out===0)return BS_NEED_MORE}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(h=trees._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<MIN_MATCH-1?a.strstart:MIN_MATCH-1,e===Z_FINISH$1?(flush_block_only(a,!0),a.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):a.last_lit&&(flush_block_only(a,!1),a.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(a,e){for(var o,h,$,d,Y=a.window;;){if(a.lookahead<=MAX_MATCH){if(fill_window(a),a.lookahead<=MAX_MATCH&&e===Z_NO_FLUSH)return BS_NEED_MORE;if(a.lookahead===0)break}if(a.match_length=0,a.lookahead>=MIN_MATCH&&a.strstart>0&&($=a.strstart-1,h=Y[$],h===Y[++$]&&h===Y[++$]&&h===Y[++$])){d=a.strstart+MAX_MATCH;do;while(h===Y[++$]&&h===Y[++$]&&h===Y[++$]&&h===Y[++$]&&h===Y[++$]&&h===Y[++$]&&h===Y[++$]&&h===Y[++$]&&$<d);a.match_length=MAX_MATCH-(d-$),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=MIN_MATCH?(o=trees._tr_tally(a,1,a.match_length-MIN_MATCH),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(o=trees._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),o&&(flush_block_only(a,!1),a.strm.avail_out===0))return BS_NEED_MORE}return a.insert=0,e===Z_FINISH$1?(flush_block_only(a,!0),a.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):a.last_lit&&(flush_block_only(a,!1),a.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(a,e){for(var o;;){if(a.lookahead===0&&(fill_window(a),a.lookahead===0)){if(e===Z_NO_FLUSH)return BS_NEED_MORE;break}if(a.match_length=0,o=trees._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,o&&(flush_block_only(a,!1),a.strm.avail_out===0))return BS_NEED_MORE}return a.insert=0,e===Z_FINISH$1?(flush_block_only(a,!0),a.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):a.last_lit&&(flush_block_only(a,!1),a.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(a,e,o,h,$){this.good_length=a,this.max_lazy=e,this.nice_length=o,this.max_chain=h,this.func=$}var configuration_table;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function lm_init(a){a.window_size=2*a.w_size,zero(a.head),a.max_lazy_match=configuration_table[a.level].max_lazy,a.good_match=configuration_table[a.level].good_length,a.nice_match=configuration_table[a.level].nice_length,a.max_chain_length=configuration_table[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=MIN_MATCH-1,a.match_available=0,a.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$1,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils$2.Buf16(HEAP_SIZE*2),this.dyn_dtree=new utils$2.Buf16((2*D_CODES+1)*2),this.bl_tree=new utils$2.Buf16((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils$2.Buf16(MAX_BITS+1),this.heap=new utils$2.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils$2.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(a){var e;return!a||!a.state?err(a,Z_STREAM_ERROR$1):(a.total_in=a.total_out=0,a.data_type=Z_UNKNOWN,e=a.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?INIT_STATE:BUSY_STATE,a.adler=e.wrap===2?0:1,e.last_flush=Z_NO_FLUSH,trees._tr_init(e),Z_OK$1)}function deflateReset(a){var e=deflateResetKeep(a);return e===Z_OK$1&&lm_init(a.state),e}function deflateSetHeader(a,e){return!a||!a.state||a.state.wrap!==2?Z_STREAM_ERROR$1:(a.state.gzhead=e,Z_OK$1)}function deflateInit2(a,e,o,h,$,d){if(!a)return Z_STREAM_ERROR$1;var Y=1;if(e===Z_DEFAULT_COMPRESSION&&(e=6),h<0?(Y=0,h=-h):h>15&&(Y=2,h-=16),$<1||$>MAX_MEM_LEVEL||o!==Z_DEFLATED$1||h<8||h>15||e<0||e>9||d<0||d>Z_FIXED)return err(a,Z_STREAM_ERROR$1);h===8&&(h=9);var ie=new DeflateState;return a.state=ie,ie.strm=a,ie.wrap=Y,ie.gzhead=null,ie.w_bits=h,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=$+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+MIN_MATCH-1)/MIN_MATCH),ie.window=new utils$2.Buf8(ie.w_size*2),ie.head=new utils$2.Buf16(ie.hash_size),ie.prev=new utils$2.Buf16(ie.w_size),ie.lit_bufsize=1<<$+6,ie.pending_buf_size=ie.lit_bufsize*4,ie.pending_buf=new utils$2.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=e,ie.strategy=d,ie.method=o,deflateReset(a)}function deflateInit(a,e){return deflateInit2(a,e,Z_DEFLATED$1,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)}function deflate(a,e){var o,h,$,d;if(!a||!a.state||e>Z_BLOCK$1||e<0)return a?err(a,Z_STREAM_ERROR$1):Z_STREAM_ERROR$1;if(h=a.state,!a.output||!a.input&&a.avail_in!==0||h.status===FINISH_STATE&&e!==Z_FINISH$1)return err(a,a.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$1);if(h.strm=a,o=h.last_flush,h.last_flush=e,h.status===INIT_STATE)if(h.wrap===2)a.adler=0,put_byte(h,31),put_byte(h,139),put_byte(h,8),h.gzhead?(put_byte(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),put_byte(h,h.gzhead.time&255),put_byte(h,h.gzhead.time>>8&255),put_byte(h,h.gzhead.time>>16&255),put_byte(h,h.gzhead.time>>24&255),put_byte(h,h.level===9?2:h.strategy>=Z_HUFFMAN_ONLY||h.level<2?4:0),put_byte(h,h.gzhead.os&255),h.gzhead.extra&&h.gzhead.extra.length&&(put_byte(h,h.gzhead.extra.length&255),put_byte(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(a.adler=crc32$1(a.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=EXTRA_STATE):(put_byte(h,0),put_byte(h,0),put_byte(h,0),put_byte(h,0),put_byte(h,0),put_byte(h,h.level===9?2:h.strategy>=Z_HUFFMAN_ONLY||h.level<2?4:0),put_byte(h,OS_CODE),h.status=BUSY_STATE);else{var Y=Z_DEFLATED$1+(h.w_bits-8<<4)<<8,ie=-1;h.strategy>=Z_HUFFMAN_ONLY||h.level<2?ie=0:h.level<6?ie=1:h.level===6?ie=2:ie=3,Y|=ie<<6,h.strstart!==0&&(Y|=PRESET_DICT),Y+=31-Y%31,h.status=BUSY_STATE,putShortMSB(h,Y),h.strstart!==0&&(putShortMSB(h,a.adler>>>16),putShortMSB(h,a.adler&65535)),a.adler=1}if(h.status===EXTRA_STATE)if(h.gzhead.extra){for($=h.pending;h.gzindex<(h.gzhead.extra.length&65535)&&!(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>$&&(a.adler=crc32$1(a.adler,h.pending_buf,h.pending-$,$)),flush_pending(a),$=h.pending,h.pending===h.pending_buf_size));)put_byte(h,h.gzhead.extra[h.gzindex]&255),h.gzindex++;h.gzhead.hcrc&&h.pending>$&&(a.adler=crc32$1(a.adler,h.pending_buf,h.pending-$,$)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=NAME_STATE)}else h.status=NAME_STATE;if(h.status===NAME_STATE)if(h.gzhead.name){$=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>$&&(a.adler=crc32$1(a.adler,h.pending_buf,h.pending-$,$)),flush_pending(a),$=h.pending,h.pending===h.pending_buf_size)){d=1;break}h.gzindex<h.gzhead.name.length?d=h.gzhead.name.charCodeAt(h.gzindex++)&255:d=0,put_byte(h,d)}while(d!==0);h.gzhead.hcrc&&h.pending>$&&(a.adler=crc32$1(a.adler,h.pending_buf,h.pending-$,$)),d===0&&(h.gzindex=0,h.status=COMMENT_STATE)}else h.status=COMMENT_STATE;if(h.status===COMMENT_STATE)if(h.gzhead.comment){$=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>$&&(a.adler=crc32$1(a.adler,h.pending_buf,h.pending-$,$)),flush_pending(a),$=h.pending,h.pending===h.pending_buf_size)){d=1;break}h.gzindex<h.gzhead.comment.length?d=h.gzhead.comment.charCodeAt(h.gzindex++)&255:d=0,put_byte(h,d)}while(d!==0);h.gzhead.hcrc&&h.pending>$&&(a.adler=crc32$1(a.adler,h.pending_buf,h.pending-$,$)),d===0&&(h.status=HCRC_STATE)}else h.status=HCRC_STATE;if(h.status===HCRC_STATE&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&flush_pending(a),h.pending+2<=h.pending_buf_size&&(put_byte(h,a.adler&255),put_byte(h,a.adler>>8&255),a.adler=0,h.status=BUSY_STATE)):h.status=BUSY_STATE),h.pending!==0){if(flush_pending(a),a.avail_out===0)return h.last_flush=-1,Z_OK$1}else if(a.avail_in===0&&rank(e)<=rank(o)&&e!==Z_FINISH$1)return err(a,Z_BUF_ERROR$1);if(h.status===FINISH_STATE&&a.avail_in!==0)return err(a,Z_BUF_ERROR$1);if(a.avail_in!==0||h.lookahead!==0||e!==Z_NO_FLUSH&&h.status!==FINISH_STATE){var fe=h.strategy===Z_HUFFMAN_ONLY?deflate_huff(h,e):h.strategy===Z_RLE?deflate_rle(h,e):configuration_table[h.level].func(h,e);if((fe===BS_FINISH_STARTED||fe===BS_FINISH_DONE)&&(h.status=FINISH_STATE),fe===BS_NEED_MORE||fe===BS_FINISH_STARTED)return a.avail_out===0&&(h.last_flush=-1),Z_OK$1;if(fe===BS_BLOCK_DONE&&(e===Z_PARTIAL_FLUSH?trees._tr_align(h):e!==Z_BLOCK$1&&(trees._tr_stored_block(h,0,0,!1),e===Z_FULL_FLUSH&&(zero(h.head),h.lookahead===0&&(h.strstart=0,h.block_start=0,h.insert=0))),flush_pending(a),a.avail_out===0))return h.last_flush=-1,Z_OK$1}return e!==Z_FINISH$1?Z_OK$1:h.wrap<=0?Z_STREAM_END$1:(h.wrap===2?(put_byte(h,a.adler&255),put_byte(h,a.adler>>8&255),put_byte(h,a.adler>>16&255),put_byte(h,a.adler>>24&255),put_byte(h,a.total_in&255),put_byte(h,a.total_in>>8&255),put_byte(h,a.total_in>>16&255),put_byte(h,a.total_in>>24&255)):(putShortMSB(h,a.adler>>>16),putShortMSB(h,a.adler&65535)),flush_pending(a),h.wrap>0&&(h.wrap=-h.wrap),h.pending!==0?Z_OK$1:Z_STREAM_END$1)}function deflateEnd(a){var e;return!a||!a.state?Z_STREAM_ERROR$1:(e=a.state.status,e!==INIT_STATE&&e!==EXTRA_STATE&&e!==NAME_STATE&&e!==COMMENT_STATE&&e!==HCRC_STATE&&e!==BUSY_STATE&&e!==FINISH_STATE?err(a,Z_STREAM_ERROR$1):(a.state=null,e===BUSY_STATE?err(a,Z_DATA_ERROR$1):Z_OK$1))}function deflateSetDictionary(a,e){var o=e.length,h,$,d,Y,ie,fe,he,ne;if(!a||!a.state||(h=a.state,Y=h.wrap,Y===2||Y===1&&h.status!==INIT_STATE||h.lookahead))return Z_STREAM_ERROR$1;for(Y===1&&(a.adler=adler32$1(a.adler,e,o,0)),h.wrap=0,o>=h.w_size&&(Y===0&&(zero(h.head),h.strstart=0,h.block_start=0,h.insert=0),ne=new utils$2.Buf8(h.w_size),utils$2.arraySet(ne,e,o-h.w_size,h.w_size,0),e=ne,o=h.w_size),ie=a.avail_in,fe=a.next_in,he=a.input,a.avail_in=o,a.next_in=0,a.input=e,fill_window(h);h.lookahead>=MIN_MATCH;){$=h.strstart,d=h.lookahead-(MIN_MATCH-1);do h.ins_h=(h.ins_h<<h.hash_shift^h.window[$+MIN_MATCH-1])&h.hash_mask,h.prev[$&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=$,$++;while(--d);h.strstart=$,h.lookahead=MIN_MATCH-1,fill_window(h)}return h.strstart+=h.lookahead,h.block_start=h.strstart,h.insert=h.lookahead,h.lookahead=0,h.match_length=h.prev_length=MIN_MATCH-1,h.match_available=0,a.next_in=fe,a.input=he,a.avail_in=ie,h.wrap=Y,Z_OK$1}deflate$1.deflateInit=deflateInit;deflate$1.deflateInit2=deflateInit2;deflate$1.deflateReset=deflateReset;deflate$1.deflateResetKeep=deflateResetKeep;deflate$1.deflateSetHeader=deflateSetHeader;deflate$1.deflate=deflate;deflate$1.deflateEnd=deflateEnd;deflate$1.deflateSetDictionary=deflateSetDictionary;deflate$1.deflateInfo="pako deflate (from Nodeca project)";var inflate$1={},BAD$1=30,TYPE$1=12,inffast=function a(e,o){var h,$,d,Y,ie,fe,he,ne,le,de,ce,ge,xe,Ae,Ee,we,pe,me,Te,Pe,Le,qe,Ce,ze,oe;h=e.state,$=e.next_in,ze=e.input,d=$+(e.avail_in-5),Y=e.next_out,oe=e.output,ie=Y-(o-e.avail_out),fe=Y+(e.avail_out-257),he=h.dmax,ne=h.wsize,le=h.whave,de=h.wnext,ce=h.window,ge=h.hold,xe=h.bits,Ae=h.lencode,Ee=h.distcode,we=(1<<h.lenbits)-1,pe=(1<<h.distbits)-1;e:do{xe<15&&(ge+=ze[$++]<<xe,xe+=8,ge+=ze[$++]<<xe,xe+=8),me=Ae[ge&we];t:for(;;){if(Te=me>>>24,ge>>>=Te,xe-=Te,Te=me>>>16&255,Te===0)oe[Y++]=me&65535;else if(Te&16){Pe=me&65535,Te&=15,Te&&(xe<Te&&(ge+=ze[$++]<<xe,xe+=8),Pe+=ge&(1<<Te)-1,ge>>>=Te,xe-=Te),xe<15&&(ge+=ze[$++]<<xe,xe+=8,ge+=ze[$++]<<xe,xe+=8),me=Ee[ge&pe];r:for(;;){if(Te=me>>>24,ge>>>=Te,xe-=Te,Te=me>>>16&255,Te&16){if(Le=me&65535,Te&=15,xe<Te&&(ge+=ze[$++]<<xe,xe+=8,xe<Te&&(ge+=ze[$++]<<xe,xe+=8)),Le+=ge&(1<<Te)-1,Le>he){e.msg="invalid distance too far back",h.mode=BAD$1;break e}if(ge>>>=Te,xe-=Te,Te=Y-ie,Le>Te){if(Te=Le-Te,Te>le&&h.sane){e.msg="invalid distance too far back",h.mode=BAD$1;break e}if(qe=0,Ce=ce,de===0){if(qe+=ne-Te,Te<Pe){Pe-=Te;do oe[Y++]=ce[qe++];while(--Te);qe=Y-Le,Ce=oe}}else if(de<Te){if(qe+=ne+de-Te,Te-=de,Te<Pe){Pe-=Te;do oe[Y++]=ce[qe++];while(--Te);if(qe=0,de<Pe){Te=de,Pe-=Te;do oe[Y++]=ce[qe++];while(--Te);qe=Y-Le,Ce=oe}}}else if(qe+=de-Te,Te<Pe){Pe-=Te;do oe[Y++]=ce[qe++];while(--Te);qe=Y-Le,Ce=oe}for(;Pe>2;)oe[Y++]=Ce[qe++],oe[Y++]=Ce[qe++],oe[Y++]=Ce[qe++],Pe-=3;Pe&&(oe[Y++]=Ce[qe++],Pe>1&&(oe[Y++]=Ce[qe++]))}else{qe=Y-Le;do oe[Y++]=oe[qe++],oe[Y++]=oe[qe++],oe[Y++]=oe[qe++],Pe-=3;while(Pe>2);Pe&&(oe[Y++]=oe[qe++],Pe>1&&(oe[Y++]=oe[qe++]))}}else if(Te&64){e.msg="invalid distance code",h.mode=BAD$1;break e}else{me=Ee[(me&65535)+(ge&(1<<Te)-1)];continue r}break}}else if(Te&64)if(Te&32){h.mode=TYPE$1;break e}else{e.msg="invalid literal/length code",h.mode=BAD$1;break e}else{me=Ae[(me&65535)+(ge&(1<<Te)-1)];continue t}break}}while($<d&&Y<fe);Pe=xe>>3,$-=Pe,xe-=Pe<<3,ge&=(1<<xe)-1,e.next_in=$,e.next_out=Y,e.avail_in=$<d?5+(d-$):5-($-d),e.avail_out=Y<fe?257+(fe-Y):257-(Y-fe),h.hold=ge,h.bits=xe},utils$1=common,MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],inftrees=function a(e,o,h,$,d,Y,ie,fe){var he=fe.bits,ne=0,le=0,de=0,ce=0,ge=0,xe=0,Ae=0,Ee=0,we=0,pe=0,me,Te,Pe,Le,qe,Ce=null,ze=0,oe,c=new utils$1.Buf16(MAXBITS+1),b=new utils$1.Buf16(MAXBITS+1),j=null,Z=0,re,ae,se;for(ne=0;ne<=MAXBITS;ne++)c[ne]=0;for(le=0;le<$;le++)c[o[h+le]]++;for(ge=he,ce=MAXBITS;ce>=1&&c[ce]===0;ce--);if(ge>ce&&(ge=ce),ce===0)return d[Y++]=1<<24|64<<16|0,d[Y++]=1<<24|64<<16|0,fe.bits=1,0;for(de=1;de<ce&&c[de]===0;de++);for(ge<de&&(ge=de),Ee=1,ne=1;ne<=MAXBITS;ne++)if(Ee<<=1,Ee-=c[ne],Ee<0)return-1;if(Ee>0&&(e===CODES$1||ce!==1))return-1;for(b[1]=0,ne=1;ne<MAXBITS;ne++)b[ne+1]=b[ne]+c[ne];for(le=0;le<$;le++)o[h+le]!==0&&(ie[b[o[h+le]]++]=le);if(e===CODES$1?(Ce=j=ie,oe=19):e===LENS$1?(Ce=lbase,ze-=257,j=lext,Z-=257,oe=256):(Ce=dbase,j=dext,oe=-1),pe=0,le=0,ne=de,qe=Y,xe=ge,Ae=0,Pe=-1,we=1<<ge,Le=we-1,e===LENS$1&&we>ENOUGH_LENS$1||e===DISTS$1&&we>ENOUGH_DISTS$1)return 1;for(;;){re=ne-Ae,ie[le]<oe?(ae=0,se=ie[le]):ie[le]>oe?(ae=j[Z+ie[le]],se=Ce[ze+ie[le]]):(ae=96,se=0),me=1<<ne-Ae,Te=1<<xe,de=Te;do Te-=me,d[qe+(pe>>Ae)+Te]=re<<24|ae<<16|se|0;while(Te!==0);for(me=1<<ne-1;pe&me;)me>>=1;if(me!==0?(pe&=me-1,pe+=me):pe=0,le++,--c[ne]===0){if(ne===ce)break;ne=o[h+ie[le]]}if(ne>ge&&(pe&Le)!==Pe){for(Ae===0&&(Ae=ge),qe+=de,xe=ne-Ae,Ee=1<<xe;xe+Ae<ce&&(Ee-=c[xe+Ae],!(Ee<=0));)xe++,Ee<<=1;if(we+=1<<xe,e===LENS$1&&we>ENOUGH_LENS$1||e===DISTS$1&&we>ENOUGH_DISTS$1)return 1;Pe=pe&Le,d[Pe]=ge<<24|xe<<16|qe-Y|0}}return pe!==0&&(d[qe+pe]=ne-Ae<<24|64<<16|0),fe.bits=ge,0},utils=common,adler32=adler32_1,crc32=crc32_1,inflate_fast=inffast,inflate_table=inftrees,CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS;function zswap32(a){return(a>>>24&255)+(a>>>8&65280)+((a&65280)<<8)+((a&255)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils.Buf16(320),this.work=new utils.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(a){var e;return!a||!a.state?Z_STREAM_ERROR:(e=a.state,a.total_in=a.total_out=e.total=0,a.msg="",e.wrap&&(a.adler=e.wrap&1),e.mode=HEAD,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new utils.Buf32(ENOUGH_LENS),e.distcode=e.distdyn=new utils.Buf32(ENOUGH_DISTS),e.sane=1,e.back=-1,Z_OK)}function inflateReset(a){var e;return!a||!a.state?Z_STREAM_ERROR:(e=a.state,e.wsize=0,e.whave=0,e.wnext=0,inflateResetKeep(a))}function inflateReset2(a,e){var o,h;return!a||!a.state||(h=a.state,e<0?(o=0,e=-e):(o=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?Z_STREAM_ERROR:(h.window!==null&&h.wbits!==e&&(h.window=null),h.wrap=o,h.wbits=e,inflateReset(a))}function inflateInit2(a,e){var o,h;return a?(h=new InflateState,a.state=h,h.window=null,o=inflateReset2(a,e),o!==Z_OK&&(a.state=null),o):Z_STREAM_ERROR}function inflateInit(a){return inflateInit2(a,DEF_WBITS)}var virgin=!0,lenfix,distfix;function fixedtables(a){if(virgin){var e;for(lenfix=new utils.Buf32(512),distfix=new utils.Buf32(32),e=0;e<144;)a.lens[e++]=8;for(;e<256;)a.lens[e++]=9;for(;e<280;)a.lens[e++]=7;for(;e<288;)a.lens[e++]=8;for(inflate_table(LENS,a.lens,0,288,lenfix,0,a.work,{bits:9}),e=0;e<32;)a.lens[e++]=5;inflate_table(DISTS,a.lens,0,32,distfix,0,a.work,{bits:5}),virgin=!1}a.lencode=lenfix,a.lenbits=9,a.distcode=distfix,a.distbits=5}function updatewindow(a,e,o,h){var $,d=a.state;return d.window===null&&(d.wsize=1<<d.wbits,d.wnext=0,d.whave=0,d.window=new utils.Buf8(d.wsize)),h>=d.wsize?(utils.arraySet(d.window,e,o-d.wsize,d.wsize,0),d.wnext=0,d.whave=d.wsize):($=d.wsize-d.wnext,$>h&&($=h),utils.arraySet(d.window,e,o-h,$,d.wnext),h-=$,h?(utils.arraySet(d.window,e,o-h,h,0),d.wnext=h,d.whave=d.wsize):(d.wnext+=$,d.wnext===d.wsize&&(d.wnext=0),d.whave<d.wsize&&(d.whave+=$))),0}function inflate(a,e){var o,h,$,d,Y,ie,fe,he,ne,le,de,ce,ge,xe,Ae=0,Ee,we,pe,me,Te,Pe,Le,qe,Ce=new utils.Buf8(4),ze,oe,c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&a.avail_in!==0)return Z_STREAM_ERROR;o=a.state,o.mode===TYPE&&(o.mode=TYPEDO),Y=a.next_out,$=a.output,fe=a.avail_out,d=a.next_in,h=a.input,ie=a.avail_in,he=o.hold,ne=o.bits,le=ie,de=fe,qe=Z_OK;e:for(;;)switch(o.mode){case HEAD:if(o.wrap===0){o.mode=TYPEDO;break}for(;ne<16;){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}if(o.wrap&2&&he===35615){o.check=0,Ce[0]=he&255,Ce[1]=he>>>8&255,o.check=crc32(o.check,Ce,2,0),he=0,ne=0,o.mode=FLAGS;break}if(o.flags=0,o.head&&(o.head.done=!1),!(o.wrap&1)||(((he&255)<<8)+(he>>8))%31){a.msg="incorrect header check",o.mode=BAD;break}if((he&15)!==Z_DEFLATED){a.msg="unknown compression method",o.mode=BAD;break}if(he>>>=4,ne-=4,Le=(he&15)+8,o.wbits===0)o.wbits=Le;else if(Le>o.wbits){a.msg="invalid window size",o.mode=BAD;break}o.dmax=1<<Le,a.adler=o.check=1,o.mode=he&512?DICTID:TYPE,he=0,ne=0;break;case FLAGS:for(;ne<16;){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}if(o.flags=he,(o.flags&255)!==Z_DEFLATED){a.msg="unknown compression method",o.mode=BAD;break}if(o.flags&57344){a.msg="unknown header flags set",o.mode=BAD;break}o.head&&(o.head.text=he>>8&1),o.flags&512&&(Ce[0]=he&255,Ce[1]=he>>>8&255,o.check=crc32(o.check,Ce,2,0)),he=0,ne=0,o.mode=TIME;case TIME:for(;ne<32;){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}o.head&&(o.head.time=he),o.flags&512&&(Ce[0]=he&255,Ce[1]=he>>>8&255,Ce[2]=he>>>16&255,Ce[3]=he>>>24&255,o.check=crc32(o.check,Ce,4,0)),he=0,ne=0,o.mode=OS;case OS:for(;ne<16;){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}o.head&&(o.head.xflags=he&255,o.head.os=he>>8),o.flags&512&&(Ce[0]=he&255,Ce[1]=he>>>8&255,o.check=crc32(o.check,Ce,2,0)),he=0,ne=0,o.mode=EXLEN;case EXLEN:if(o.flags&1024){for(;ne<16;){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}o.length=he,o.head&&(o.head.extra_len=he),o.flags&512&&(Ce[0]=he&255,Ce[1]=he>>>8&255,o.check=crc32(o.check,Ce,2,0)),he=0,ne=0}else o.head&&(o.head.extra=null);o.mode=EXTRA;case EXTRA:if(o.flags&1024&&(ce=o.length,ce>ie&&(ce=ie),ce&&(o.head&&(Le=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),utils.arraySet(o.head.extra,h,d,ce,Le)),o.flags&512&&(o.check=crc32(o.check,h,ce,d)),ie-=ce,d+=ce,o.length-=ce),o.length))break e;o.length=0,o.mode=NAME;case NAME:if(o.flags&2048){if(ie===0)break e;ce=0;do Le=h[d+ce++],o.head&&Le&&o.length<65536&&(o.head.name+=String.fromCharCode(Le));while(Le&&ce<ie);if(o.flags&512&&(o.check=crc32(o.check,h,ce,d)),ie-=ce,d+=ce,Le)break e}else o.head&&(o.head.name=null);o.length=0,o.mode=COMMENT;case COMMENT:if(o.flags&4096){if(ie===0)break e;ce=0;do Le=h[d+ce++],o.head&&Le&&o.length<65536&&(o.head.comment+=String.fromCharCode(Le));while(Le&&ce<ie);if(o.flags&512&&(o.check=crc32(o.check,h,ce,d)),ie-=ce,d+=ce,Le)break e}else o.head&&(o.head.comment=null);o.mode=HCRC;case HCRC:if(o.flags&512){for(;ne<16;){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}if(he!==(o.check&65535)){a.msg="header crc mismatch",o.mode=BAD;break}he=0,ne=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),a.adler=o.check=0,o.mode=TYPE;break;case DICTID:for(;ne<32;){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}a.adler=o.check=zswap32(he),he=0,ne=0,o.mode=DICT;case DICT:if(o.havedict===0)return a.next_out=Y,a.avail_out=fe,a.next_in=d,a.avail_in=ie,o.hold=he,o.bits=ne,Z_NEED_DICT;a.adler=o.check=1,o.mode=TYPE;case TYPE:if(e===Z_BLOCK||e===Z_TREES)break e;case TYPEDO:if(o.last){he>>>=ne&7,ne-=ne&7,o.mode=CHECK;break}for(;ne<3;){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}switch(o.last=he&1,he>>>=1,ne-=1,he&3){case 0:o.mode=STORED;break;case 1:if(fixedtables(o),o.mode=LEN_,e===Z_TREES){he>>>=2,ne-=2;break e}break;case 2:o.mode=TABLE;break;case 3:a.msg="invalid block type",o.mode=BAD}he>>>=2,ne-=2;break;case STORED:for(he>>>=ne&7,ne-=ne&7;ne<32;){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}if((he&65535)!==(he>>>16^65535)){a.msg="invalid stored block lengths",o.mode=BAD;break}if(o.length=he&65535,he=0,ne=0,o.mode=COPY_,e===Z_TREES)break e;case COPY_:o.mode=COPY;case COPY:if(ce=o.length,ce){if(ce>ie&&(ce=ie),ce>fe&&(ce=fe),ce===0)break e;utils.arraySet($,h,d,ce,Y),ie-=ce,d+=ce,fe-=ce,Y+=ce,o.length-=ce;break}o.mode=TYPE;break;case TABLE:for(;ne<14;){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}if(o.nlen=(he&31)+257,he>>>=5,ne-=5,o.ndist=(he&31)+1,he>>>=5,ne-=5,o.ncode=(he&15)+4,he>>>=4,ne-=4,o.nlen>286||o.ndist>30){a.msg="too many length or distance symbols",o.mode=BAD;break}o.have=0,o.mode=LENLENS;case LENLENS:for(;o.have<o.ncode;){for(;ne<3;){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}o.lens[c[o.have++]]=he&7,he>>>=3,ne-=3}for(;o.have<19;)o.lens[c[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,ze={bits:o.lenbits},qe=inflate_table(CODES,o.lens,0,19,o.lencode,0,o.work,ze),o.lenbits=ze.bits,qe){a.msg="invalid code lengths set",o.mode=BAD;break}o.have=0,o.mode=CODELENS;case CODELENS:for(;o.have<o.nlen+o.ndist;){for(;Ae=o.lencode[he&(1<<o.lenbits)-1],Ee=Ae>>>24,we=Ae>>>16&255,pe=Ae&65535,!(Ee<=ne);){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}if(pe<16)he>>>=Ee,ne-=Ee,o.lens[o.have++]=pe;else{if(pe===16){for(oe=Ee+2;ne<oe;){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}if(he>>>=Ee,ne-=Ee,o.have===0){a.msg="invalid bit length repeat",o.mode=BAD;break}Le=o.lens[o.have-1],ce=3+(he&3),he>>>=2,ne-=2}else if(pe===17){for(oe=Ee+3;ne<oe;){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}he>>>=Ee,ne-=Ee,Le=0,ce=3+(he&7),he>>>=3,ne-=3}else{for(oe=Ee+7;ne<oe;){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}he>>>=Ee,ne-=Ee,Le=0,ce=11+(he&127),he>>>=7,ne-=7}if(o.have+ce>o.nlen+o.ndist){a.msg="invalid bit length repeat",o.mode=BAD;break}for(;ce--;)o.lens[o.have++]=Le}}if(o.mode===BAD)break;if(o.lens[256]===0){a.msg="invalid code -- missing end-of-block",o.mode=BAD;break}if(o.lenbits=9,ze={bits:o.lenbits},qe=inflate_table(LENS,o.lens,0,o.nlen,o.lencode,0,o.work,ze),o.lenbits=ze.bits,qe){a.msg="invalid literal/lengths set",o.mode=BAD;break}if(o.distbits=6,o.distcode=o.distdyn,ze={bits:o.distbits},qe=inflate_table(DISTS,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,ze),o.distbits=ze.bits,qe){a.msg="invalid distances set",o.mode=BAD;break}if(o.mode=LEN_,e===Z_TREES)break e;case LEN_:o.mode=LEN;case LEN:if(ie>=6&&fe>=258){a.next_out=Y,a.avail_out=fe,a.next_in=d,a.avail_in=ie,o.hold=he,o.bits=ne,inflate_fast(a,de),Y=a.next_out,$=a.output,fe=a.avail_out,d=a.next_in,h=a.input,ie=a.avail_in,he=o.hold,ne=o.bits,o.mode===TYPE&&(o.back=-1);break}for(o.back=0;Ae=o.lencode[he&(1<<o.lenbits)-1],Ee=Ae>>>24,we=Ae>>>16&255,pe=Ae&65535,!(Ee<=ne);){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}if(we&&!(we&240)){for(me=Ee,Te=we,Pe=pe;Ae=o.lencode[Pe+((he&(1<<me+Te)-1)>>me)],Ee=Ae>>>24,we=Ae>>>16&255,pe=Ae&65535,!(me+Ee<=ne);){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}he>>>=me,ne-=me,o.back+=me}if(he>>>=Ee,ne-=Ee,o.back+=Ee,o.length=pe,we===0){o.mode=LIT;break}if(we&32){o.back=-1,o.mode=TYPE;break}if(we&64){a.msg="invalid literal/length code",o.mode=BAD;break}o.extra=we&15,o.mode=LENEXT;case LENEXT:if(o.extra){for(oe=o.extra;ne<oe;){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}o.length+=he&(1<<o.extra)-1,he>>>=o.extra,ne-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=DIST;case DIST:for(;Ae=o.distcode[he&(1<<o.distbits)-1],Ee=Ae>>>24,we=Ae>>>16&255,pe=Ae&65535,!(Ee<=ne);){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}if(!(we&240)){for(me=Ee,Te=we,Pe=pe;Ae=o.distcode[Pe+((he&(1<<me+Te)-1)>>me)],Ee=Ae>>>24,we=Ae>>>16&255,pe=Ae&65535,!(me+Ee<=ne);){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}he>>>=me,ne-=me,o.back+=me}if(he>>>=Ee,ne-=Ee,o.back+=Ee,we&64){a.msg="invalid distance code",o.mode=BAD;break}o.offset=pe,o.extra=we&15,o.mode=DISTEXT;case DISTEXT:if(o.extra){for(oe=o.extra;ne<oe;){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}o.offset+=he&(1<<o.extra)-1,he>>>=o.extra,ne-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){a.msg="invalid distance too far back",o.mode=BAD;break}o.mode=MATCH;case MATCH:if(fe===0)break e;if(ce=de-fe,o.offset>ce){if(ce=o.offset-ce,ce>o.whave&&o.sane){a.msg="invalid distance too far back",o.mode=BAD;break}ce>o.wnext?(ce-=o.wnext,ge=o.wsize-ce):ge=o.wnext-ce,ce>o.length&&(ce=o.length),xe=o.window}else xe=$,ge=Y-o.offset,ce=o.length;ce>fe&&(ce=fe),fe-=ce,o.length-=ce;do $[Y++]=xe[ge++];while(--ce);o.length===0&&(o.mode=LEN);break;case LIT:if(fe===0)break e;$[Y++]=o.length,fe--,o.mode=LEN;break;case CHECK:if(o.wrap){for(;ne<32;){if(ie===0)break e;ie--,he|=h[d++]<<ne,ne+=8}if(de-=fe,a.total_out+=de,o.total+=de,de&&(a.adler=o.check=o.flags?crc32(o.check,$,de,Y-de):adler32(o.check,$,de,Y-de)),de=fe,(o.flags?he:zswap32(he))!==o.check){a.msg="incorrect data check",o.mode=BAD;break}he=0,ne=0}o.mode=LENGTH;case LENGTH:if(o.wrap&&o.flags){for(;ne<32;){if(ie===0)break e;ie--,he+=h[d++]<<ne,ne+=8}if(he!==(o.total&4294967295)){a.msg="incorrect length check",o.mode=BAD;break}he=0,ne=0}o.mode=DONE;case DONE:qe=Z_STREAM_END;break e;case BAD:qe=Z_DATA_ERROR;break e;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return a.next_out=Y,a.avail_out=fe,a.next_in=d,a.avail_in=ie,o.hold=he,o.bits=ne,(o.wsize||de!==a.avail_out&&o.mode<BAD&&(o.mode<CHECK||e!==Z_FINISH))&&updatewindow(a,a.output,a.next_out,de-a.avail_out),le-=a.avail_in,de-=a.avail_out,a.total_in+=le,a.total_out+=de,o.total+=de,o.wrap&&de&&(a.adler=o.check=o.flags?crc32(o.check,$,de,a.next_out-de):adler32(o.check,$,de,a.next_out-de)),a.data_type=o.bits+(o.last?64:0)+(o.mode===TYPE?128:0)+(o.mode===LEN_||o.mode===COPY_?256:0),(le===0&&de===0||e===Z_FINISH)&&qe===Z_OK&&(qe=Z_BUF_ERROR),qe}function inflateEnd(a){if(!a||!a.state)return Z_STREAM_ERROR;var e=a.state;return e.window&&(e.window=null),a.state=null,Z_OK}function inflateGetHeader(a,e){var o;return!a||!a.state||(o=a.state,!(o.wrap&2))?Z_STREAM_ERROR:(o.head=e,e.done=!1,Z_OK)}function inflateSetDictionary(a,e){var o=e.length,h,$,d;return!a||!a.state||(h=a.state,h.wrap!==0&&h.mode!==DICT)?Z_STREAM_ERROR:h.mode===DICT&&($=1,$=adler32($,e,o,0),$!==h.check)?Z_DATA_ERROR:(d=updatewindow(a,e,o,o),d?(h.mode=MEM,Z_MEM_ERROR):(h.havedict=1,Z_OK))}inflate$1.inflateReset=inflateReset;inflate$1.inflateReset2=inflateReset2;inflate$1.inflateResetKeep=inflateResetKeep;inflate$1.inflateInit=inflateInit;inflate$1.inflateInit2=inflateInit2;inflate$1.inflate=inflate;inflate$1.inflateEnd=inflateEnd;inflate$1.inflateGetHeader=inflateGetHeader;inflate$1.inflateSetDictionary=inflateSetDictionary;inflate$1.inflateInfo="pako inflate (from Nodeca project)";var constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};(function(a){var e=requireAssert(),o=zstream,h=deflate$1,$=inflate$1,d=constants;for(var Y in d)a[Y]=d[Y];a.NONE=0,a.DEFLATE=1,a.INFLATE=2,a.GZIP=3,a.GUNZIP=4,a.DEFLATERAW=5,a.INFLATERAW=6,a.UNZIP=7;var ie=31,fe=139;function he(ne){if(typeof ne!="number"||ne<a.DEFLATE||ne>a.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=ne,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}he.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,e(this.init_done,"close before init"),e(this.mode<=a.UNZIP),this.mode===a.DEFLATE||this.mode===a.GZIP||this.mode===a.DEFLATERAW?h.deflateEnd(this.strm):(this.mode===a.INFLATE||this.mode===a.GUNZIP||this.mode===a.INFLATERAW||this.mode===a.UNZIP)&&$.inflateEnd(this.strm),this.mode=a.NONE,this.dictionary=null},he.prototype.write=function(ne,le,de,ce,ge,xe,Ae){return this._write(!0,ne,le,de,ce,ge,xe,Ae)},he.prototype.writeSync=function(ne,le,de,ce,ge,xe,Ae){return this._write(!1,ne,le,de,ce,ge,xe,Ae)},he.prototype._write=function(ne,le,de,ce,ge,xe,Ae,Ee){if(e.equal(arguments.length,8),e(this.init_done,"write before init"),e(this.mode!==a.NONE,"already finalized"),e.equal(!1,this.write_in_progress,"write already in progress"),e.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,e.equal(!1,le===void 0,"must provide flush value"),this.write_in_progress=!0,le!==a.Z_NO_FLUSH&&le!==a.Z_PARTIAL_FLUSH&&le!==a.Z_SYNC_FLUSH&&le!==a.Z_FULL_FLUSH&&le!==a.Z_FINISH&&le!==a.Z_BLOCK)throw new Error("Invalid flush value");if(de==null&&(de=Buffer$E.alloc(0),ge=0,ce=0),this.strm.avail_in=ge,this.strm.input=de,this.strm.next_in=ce,this.strm.avail_out=Ee,this.strm.output=xe,this.strm.next_out=Ae,this.flush=le,!ne)return this._process(),this._checkError()?this._afterSync():void 0;var we=this;return process$1.nextTick(function(){we._process(),we._after()}),this},he.prototype._afterSync=function(){var ne=this.strm.avail_out,le=this.strm.avail_in;return this.write_in_progress=!1,[le,ne]},he.prototype._process=function(){var ne=null;switch(this.mode){case a.DEFLATE:case a.GZIP:case a.DEFLATERAW:this.err=h.deflate(this.strm,this.flush);break;case a.UNZIP:switch(this.strm.avail_in>0&&(ne=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(ne===null)break;if(this.strm.input[ne]===ie){if(this.gzip_id_bytes_read=1,ne++,this.strm.avail_in===1)break}else{this.mode=a.INFLATE;break}case 1:if(ne===null)break;this.strm.input[ne]===fe?(this.gzip_id_bytes_read=2,this.mode=a.GUNZIP):this.mode=a.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case a.INFLATE:case a.GUNZIP:case a.INFLATERAW:for(this.err=$.inflate(this.strm,this.flush),this.err===a.Z_NEED_DICT&&this.dictionary&&(this.err=$.inflateSetDictionary(this.strm,this.dictionary),this.err===a.Z_OK?this.err=$.inflate(this.strm,this.flush):this.err===a.Z_DATA_ERROR&&(this.err=a.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===a.GUNZIP&&this.err===a.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=$.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},he.prototype._checkError=function(){switch(this.err){case a.Z_OK:case a.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===a.Z_FINISH)return this._error("unexpected end of file"),!1;break;case a.Z_STREAM_END:break;case a.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},he.prototype._after=function(){if(this._checkError()){var ne=this.strm.avail_out,le=this.strm.avail_in;this.write_in_progress=!1,this.callback(le,ne),this.pending_close&&this.close()}},he.prototype._error=function(ne){this.strm.msg&&(ne=this.strm.msg),this.onerror(ne,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},he.prototype.init=function(ne,le,de,ce,ge){e(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),e(ne>=8&&ne<=15,"invalid windowBits"),e(le>=-1&&le<=9,"invalid compression level"),e(de>=1&&de<=9,"invalid memlevel"),e(ce===a.Z_FILTERED||ce===a.Z_HUFFMAN_ONLY||ce===a.Z_RLE||ce===a.Z_FIXED||ce===a.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(le,ne,de,ce,ge),this._setDictionary()},he.prototype.params=function(){throw new Error("deflateParams Not supported")},he.prototype.reset=function(){this._reset(),this._setDictionary()},he.prototype._init=function(ne,le,de,ce,ge){switch(this.level=ne,this.windowBits=le,this.memLevel=de,this.strategy=ce,this.flush=a.Z_NO_FLUSH,this.err=a.Z_OK,(this.mode===a.GZIP||this.mode===a.GUNZIP)&&(this.windowBits+=16),this.mode===a.UNZIP&&(this.windowBits+=32),(this.mode===a.DEFLATERAW||this.mode===a.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case a.DEFLATE:case a.GZIP:case a.DEFLATERAW:this.err=h.deflateInit2(this.strm,this.level,a.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case a.INFLATE:case a.GUNZIP:case a.INFLATERAW:case a.UNZIP:this.err=$.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==a.Z_OK&&this._error("Init error"),this.dictionary=ge,this.write_in_progress=!1,this.init_done=!0},he.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=a.Z_OK,this.mode){case a.DEFLATE:case a.DEFLATERAW:this.err=h.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==a.Z_OK&&this._error("Failed to set dictionary")}},he.prototype._reset=function(){switch(this.err=a.Z_OK,this.mode){case a.DEFLATE:case a.DEFLATERAW:case a.GZIP:this.err=h.deflateReset(this.strm);break;case a.INFLATE:case a.INFLATERAW:case a.GUNZIP:this.err=$.inflateReset(this.strm);break}this.err!==a.Z_OK&&this._error("Failed to reset stream")},a.Zlib=he})(binding);(function(a){var e=require$$0$3.Buffer,o=streamBrowserify.Transform,h=binding,$=util$3,d=requireAssert().ok,Y=require$$0$3.kMaxLength,ie="Cannot create final Buffer. It would be larger than 0x"+Y.toString(16)+" bytes";h.Z_MIN_WINDOWBITS=8,h.Z_MAX_WINDOWBITS=15,h.Z_DEFAULT_WINDOWBITS=15,h.Z_MIN_CHUNK=64,h.Z_MAX_CHUNK=1/0,h.Z_DEFAULT_CHUNK=16*1024,h.Z_MIN_MEMLEVEL=1,h.Z_MAX_MEMLEVEL=9,h.Z_DEFAULT_MEMLEVEL=8,h.Z_MIN_LEVEL=-1,h.Z_MAX_LEVEL=9,h.Z_DEFAULT_LEVEL=h.Z_DEFAULT_COMPRESSION;for(var fe=Object.keys(h),he=0;he<fe.length;he++){var ne=fe[he];ne.match(/^Z/)&&Object.defineProperty(a,ne,{enumerable:!0,value:h[ne],writable:!1})}for(var le={Z_OK:h.Z_OK,Z_STREAM_END:h.Z_STREAM_END,Z_NEED_DICT:h.Z_NEED_DICT,Z_ERRNO:h.Z_ERRNO,Z_STREAM_ERROR:h.Z_STREAM_ERROR,Z_DATA_ERROR:h.Z_DATA_ERROR,Z_MEM_ERROR:h.Z_MEM_ERROR,Z_BUF_ERROR:h.Z_BUF_ERROR,Z_VERSION_ERROR:h.Z_VERSION_ERROR},de=Object.keys(le),ce=0;ce<de.length;ce++){var ge=de[ce];le[le[ge]]=ge}Object.defineProperty(a,"codes",{enumerable:!0,value:Object.freeze(le),writable:!1}),a.Deflate=Ee,a.Inflate=we,a.Gzip=pe,a.Gunzip=me,a.DeflateRaw=Te,a.InflateRaw=Pe,a.Unzip=Le,a.createDeflate=function(c){return new Ee(c)},a.createInflate=function(c){return new we(c)},a.createDeflateRaw=function(c){return new Te(c)},a.createInflateRaw=function(c){return new Pe(c)},a.createGzip=function(c){return new pe(c)},a.createGunzip=function(c){return new me(c)},a.createUnzip=function(c){return new Le(c)},a.deflate=function(c,b,j){return typeof b=="function"&&(j=b,b={}),xe(new Ee(b),c,j)},a.deflateSync=function(c,b){return Ae(new Ee(b),c)},a.gzip=function(c,b,j){return typeof b=="function"&&(j=b,b={}),xe(new pe(b),c,j)},a.gzipSync=function(c,b){return Ae(new pe(b),c)},a.deflateRaw=function(c,b,j){return typeof b=="function"&&(j=b,b={}),xe(new Te(b),c,j)},a.deflateRawSync=function(c,b){return Ae(new Te(b),c)},a.unzip=function(c,b,j){return typeof b=="function"&&(j=b,b={}),xe(new Le(b),c,j)},a.unzipSync=function(c,b){return Ae(new Le(b),c)},a.inflate=function(c,b,j){return typeof b=="function"&&(j=b,b={}),xe(new we(b),c,j)},a.inflateSync=function(c,b){return Ae(new we(b),c)},a.gunzip=function(c,b,j){return typeof b=="function"&&(j=b,b={}),xe(new me(b),c,j)},a.gunzipSync=function(c,b){return Ae(new me(b),c)},a.inflateRaw=function(c,b,j){return typeof b=="function"&&(j=b,b={}),xe(new Pe(b),c,j)},a.inflateRawSync=function(c,b){return Ae(new Pe(b),c)};function xe(c,b,j){var Z=[],re=0;c.on("error",se),c.on("end",ee),c.end(b),ae();function ae(){for(var _;(_=c.read())!==null;)Z.push(_),re+=_.length;c.once("readable",ae)}function se(_){c.removeListener("end",ee),c.removeListener("readable",ae),j(_)}function ee(){var _,te=null;re>=Y?te=new RangeError(ie):_=e.concat(Z,re),Z=[],c.close(),j(te,_)}}function Ae(c,b){if(typeof b=="string"&&(b=e.from(b)),!e.isBuffer(b))throw new TypeError("Not a string or buffer");var j=c._finishFlushFlag;return c._processChunk(b,j)}function Ee(c){if(!(this instanceof Ee))return new Ee(c);Ce.call(this,c,h.DEFLATE)}function we(c){if(!(this instanceof we))return new we(c);Ce.call(this,c,h.INFLATE)}function pe(c){if(!(this instanceof pe))return new pe(c);Ce.call(this,c,h.GZIP)}function me(c){if(!(this instanceof me))return new me(c);Ce.call(this,c,h.GUNZIP)}function Te(c){if(!(this instanceof Te))return new Te(c);Ce.call(this,c,h.DEFLATERAW)}function Pe(c){if(!(this instanceof Pe))return new Pe(c);Ce.call(this,c,h.INFLATERAW)}function Le(c){if(!(this instanceof Le))return new Le(c);Ce.call(this,c,h.UNZIP)}function qe(c){return c===h.Z_NO_FLUSH||c===h.Z_PARTIAL_FLUSH||c===h.Z_SYNC_FLUSH||c===h.Z_FULL_FLUSH||c===h.Z_FINISH||c===h.Z_BLOCK}function Ce(c,b){var j=this;if(this._opts=c=c||{},this._chunkSize=c.chunkSize||a.Z_DEFAULT_CHUNK,o.call(this,c),c.flush&&!qe(c.flush))throw new Error("Invalid flush flag: "+c.flush);if(c.finishFlush&&!qe(c.finishFlush))throw new Error("Invalid flush flag: "+c.finishFlush);if(this._flushFlag=c.flush||h.Z_NO_FLUSH,this._finishFlushFlag=typeof c.finishFlush<"u"?c.finishFlush:h.Z_FINISH,c.chunkSize&&(c.chunkSize<a.Z_MIN_CHUNK||c.chunkSize>a.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+c.chunkSize);if(c.windowBits&&(c.windowBits<a.Z_MIN_WINDOWBITS||c.windowBits>a.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+c.windowBits);if(c.level&&(c.level<a.Z_MIN_LEVEL||c.level>a.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+c.level);if(c.memLevel&&(c.memLevel<a.Z_MIN_MEMLEVEL||c.memLevel>a.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+c.memLevel);if(c.strategy&&c.strategy!=a.Z_FILTERED&&c.strategy!=a.Z_HUFFMAN_ONLY&&c.strategy!=a.Z_RLE&&c.strategy!=a.Z_FIXED&&c.strategy!=a.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+c.strategy);if(c.dictionary&&!e.isBuffer(c.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new h.Zlib(b);var Z=this;this._hadError=!1,this._handle.onerror=function(se,ee){ze(Z),Z._hadError=!0;var _=new Error(se);_.errno=ee,_.code=a.codes[ee],Z.emit("error",_)};var re=a.Z_DEFAULT_COMPRESSION;typeof c.level=="number"&&(re=c.level);var ae=a.Z_DEFAULT_STRATEGY;typeof c.strategy=="number"&&(ae=c.strategy),this._handle.init(c.windowBits||a.Z_DEFAULT_WINDOWBITS,re,c.memLevel||a.Z_DEFAULT_MEMLEVEL,ae,c.dictionary),this._buffer=e.allocUnsafe(this._chunkSize),this._offset=0,this._level=re,this._strategy=ae,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!j._handle},configurable:!0,enumerable:!0})}$.inherits(Ce,o),Ce.prototype.params=function(c,b,j){if(c<a.Z_MIN_LEVEL||c>a.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+c);if(b!=a.Z_FILTERED&&b!=a.Z_HUFFMAN_ONLY&&b!=a.Z_RLE&&b!=a.Z_FIXED&&b!=a.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+b);if(this._level!==c||this._strategy!==b){var Z=this;this.flush(h.Z_SYNC_FLUSH,function(){d(Z._handle,"zlib binding closed"),Z._handle.params(c,b),Z._hadError||(Z._level=c,Z._strategy=b,j&&j())})}else process$1.nextTick(j)},Ce.prototype.reset=function(){return d(this._handle,"zlib binding closed"),this._handle.reset()},Ce.prototype._flush=function(c){this._transform(e.alloc(0),"",c)},Ce.prototype.flush=function(c,b){var j=this,Z=this._writableState;(typeof c=="function"||c===void 0&&!b)&&(b=c,c=h.Z_FULL_FLUSH),Z.ended?b&&process$1.nextTick(b):Z.ending?b&&this.once("end",b):Z.needDrain?b&&this.once("drain",function(){return j.flush(c,b)}):(this._flushFlag=c,this.write(e.alloc(0),"",b))},Ce.prototype.close=function(c){ze(this,c),process$1.nextTick(oe,this)};function ze(c,b){b&&process$1.nextTick(b),c._handle&&(c._handle.close(),c._handle=null)}function oe(c){c.emit("close")}Ce.prototype._transform=function(c,b,j){var Z,re=this._writableState,ae=re.ending||re.ended,se=ae&&(!c||re.length===c.length);if(c!==null&&!e.isBuffer(c))return j(new Error("invalid input"));if(!this._handle)return j(new Error("zlib binding closed"));se?Z=this._finishFlushFlag:(Z=this._flushFlag,c.length>=re.length&&(this._flushFlag=this._opts.flush||h.Z_NO_FLUSH)),this._processChunk(c,Z,j)},Ce.prototype._processChunk=function(c,b,j){var Z=c&&c.length,re=this._chunkSize-this._offset,ae=0,se=this,ee=typeof j=="function";if(!ee){var _=[],te=0,ue;this.on("error",function(_e){ue=_e}),d(this._handle,"zlib binding closed");do var ve=this._handle.writeSync(b,c,ae,Z,this._buffer,this._offset,re);while(!this._hadError&&Se(ve[0],ve[1]));if(this._hadError)throw ue;if(te>=Y)throw ze(this),new RangeError(ie);var be=e.concat(_,te);return ze(this),be}d(this._handle,"zlib binding closed");var Me=this._handle.write(b,c,ae,Z,this._buffer,this._offset,re);Me.buffer=c,Me.callback=Se;function Se(_e,Re){if(this&&(this.buffer=null,this.callback=null),!se._hadError){var Ie=re-Re;if(d(Ie>=0,"have should not go down"),Ie>0){var Ne=se._buffer.slice(se._offset,se._offset+Ie);se._offset+=Ie,ee?se.push(Ne):(_.push(Ne),te+=Ne.length)}if((Re===0||se._offset>=se._chunkSize)&&(re=se._chunkSize,se._offset=0,se._buffer=e.allocUnsafe(se._chunkSize)),Re===0){if(ae+=Z-_e,Z=_e,!ee)return!0;var Oe=se._handle.write(b,c,ae,Z,se._buffer,se._offset,se._chunkSize);Oe.callback=Se,Oe.buffer=c;return}if(!ee)return!1;j()}}},$.inherits(Ee,Ce),$.inherits(we,Ce),$.inherits(pe,Ce),$.inherits(me,Ce),$.inherits(Te,Ce),$.inherits(Pe,Ce),$.inherits(Le,Ce)})(lib);const INVALID=["seeking position failed.","InvalidStateError"],GONE=["A requested file or directory could not be found at the time an operation was processed.","NotFoundError"],SYNTAX=a=>[`Failed to execute 'write' on 'UnderlyingSinkBase': Invalid params passed. ${a}`,"SyntaxError"];class _FileSystemWritableFileStream extends WritableStream{constructor(e){super(e),Object.setPrototypeOf(this,FileSystemWritableFileStream.prototype),this._closed=!1}async close(){this._closed=!0;const e=this.getWriter(),o=e.close();return e.releaseLock(),o}seek(e){return this.write({type:"seek",position:e})}truncate(e){return this.write({type:"truncate",size:e})}write(e){if(this._closed)return Promise.reject(new TypeError("Cannot write to a CLOSED writable stream"));const o=this.getWriter(),h=o.write(e);return o.releaseLock(),h}}Object.defineProperty(_FileSystemWritableFileStream.prototype,Symbol.toStringTag,{value:"FileSystemWritableFileStream",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(_FileSystemWritableFileStream.prototype,{close:{enumerable:!0},seek:{enumerable:!0},truncate:{enumerable:!0},write:{enumerable:!0}});globalThis.FileSystemFileHandle&&!globalThis.FileSystemFileHandle.prototype.createWritable&&!globalThis.FileSystemWritableFileStream&&(globalThis.FileSystemWritableFileStream=_FileSystemWritableFileStream);if(globalThis.FileSystemFileHandle&&!globalThis.FileSystemFileHandle.prototype.createWritable){const a=new WeakMap;let e;const o=()=>{let $,d;onmessage=async Y=>{const ie=Y.ports[0],fe=Y.data;switch(fe.type){case"open":{const he=fe.name;let ne=await navigator.storage.getDirectory();for(const le of fe.path)ne=await ne.getDirectoryHandle(le);$=await ne.getFileHandle(he),d=await $.createSyncAccessHandle();break}case"write":d.write(fe.data,{at:fe.position}),d.flush();break;case"truncate":d.truncate(fe.size);break;case"abort":case"close":d.close();break}ie.postMessage(0)}};globalThis.FileSystemFileHandle.prototype.createWritable=async function($){if(!e){const ce=`(${o.toString()})()`,ge=new Blob([ce],{type:"text/javascript"});e=URL.createObjectURL(ge)}const d=new Worker(e,{type:"module"});let Y=0;const ie=new TextEncoder;let fe=await this.getFile().then(ce=>ce.size);const he=ce=>new Promise((ge,xe)=>{const Ae=new MessageChannel;Ae.port1.onmessage=Ee=>{Ee.data instanceof Error?xe(Ee.data):ge(Ee.data),Ae.port1.close(),Ae.port2.close(),Ae.port1.onmessage=null},d.postMessage(ce,[Ae.port2])}),ne=await navigator.storage.getDirectory(),le=await a.get(this),de=await ne.resolve(le);if(de===null)throw new DOMException(...GONE);return await he({type:"open",path:de,name:this.name}),($==null?void 0:$.keepExistingData)===!1&&(await he({type:"truncate",size:0}),fe=0),new _FileSystemWritableFileStream({async write(ce){if((ce==null?void 0:ce.constructor)===Object?ce={...ce}:ce={type:"write",data:ce,position:Y},ce.type==="write"){if(!("data"in ce))throw await he({type:"close"}),new DOMException(...SYNTAX("write requires a data argument"));if(ce.position??(ce.position=Y),typeof ce.data=="string")ce.data=ie.encode(ce.data);else if(ce.data instanceof ArrayBuffer)ce.data=new Uint8Array(ce.data);else if(!(ce.data instanceof Uint8Array)&&ArrayBuffer.isView(ce.data))ce.data=new Uint8Array(ce.data.buffer,ce.data.byteOffset,ce.data.byteLength);else if(!(ce.data instanceof Uint8Array)){const xe=await new Response(ce.data).arrayBuffer();ce.data=new Uint8Array(xe)}Number.isInteger(ce.position)&&ce.position>=0&&(Y=ce.position),Y+=ce.data.byteLength,fe+=ce.data.byteLength}else if(ce.type==="seek")if(Number.isInteger(ce.position)&&ce.position>=0){if(fe<ce.position)throw new DOMException(...INVALID);Y=ce.position;return}else throw await he({type:"close"}),new DOMException(...SYNTAX("seek requires a position argument"));else if(ce.type==="truncate")if(Number.isInteger(ce.size)&&ce.size>=0)fe=ce.size,Y>fe&&(Y=fe);else throw await he({type:"close"}),new DOMException(...SYNTAX("truncate requires a size argument"));await he(ce)},async close(){await he({type:"close"}),d.terminate()},async abort(ce){await he({type:"abort",reason:ce}),d.terminate()}})};const h=FileSystemDirectoryHandle.prototype.getFileHandle;FileSystemDirectoryHandle.prototype.getFileHandle=async function(...$){const d=await h.call(this,...$);return a.set(d,this),d}}var rr,ir;(ir=(rr=globalThis.navigator)==null?void 0:rr.storage)!=null&&ir.getDirectory&&navigator.storage.getDirectory().then(a=>{a.removeEntry("chunks",{recursive:!0}).catch(()=>{})});const instanceOfAny=(a,e)=>e.some(o=>a instanceof o);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(a){const e=new Promise((o,h)=>{const $=()=>{a.removeEventListener("success",d),a.removeEventListener("error",Y)},d=()=>{o(wrap(a.result)),$()},Y=()=>{h(a.error),$()};a.addEventListener("success",d),a.addEventListener("error",Y)});return e.then(o=>{o instanceof IDBCursor&&cursorRequestMap.set(o,a)}).catch(()=>{}),reverseTransformCache.set(e,a),e}function cacheDonePromiseForTransaction(a){if(transactionDoneMap.has(a))return;const e=new Promise((o,h)=>{const $=()=>{a.removeEventListener("complete",d),a.removeEventListener("error",Y),a.removeEventListener("abort",Y)},d=()=>{o(),$()},Y=()=>{h(a.error||new DOMException("AbortError","AbortError")),$()};a.addEventListener("complete",d),a.addEventListener("error",Y),a.addEventListener("abort",Y)});transactionDoneMap.set(a,e)}let idbProxyTraps={get(a,e,o){if(a instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(a);if(e==="objectStoreNames")return a.objectStoreNames||transactionStoreNamesMap.get(a);if(e==="store")return o.objectStoreNames[1]?void 0:o.objectStore(o.objectStoreNames[0])}return wrap(a[e])},set(a,e,o){return a[e]=o,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function replaceTraps(a){idbProxyTraps=a(idbProxyTraps)}function wrapFunction(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...o){const h=a.call(unwrap(this),e,...o);return transactionStoreNamesMap.set(h,e.sort?e.sort():[e]),wrap(h)}:getCursorAdvanceMethods().includes(a)?function(...e){return a.apply(unwrap(this),e),wrap(cursorRequestMap.get(this))}:function(...e){return wrap(a.apply(unwrap(this),e))}}function transformCachableValue(a){return typeof a=="function"?wrapFunction(a):(a instanceof IDBTransaction&&cacheDonePromiseForTransaction(a),instanceOfAny(a,getIdbProxyableTypes())?new Proxy(a,idbProxyTraps):a)}function wrap(a){if(a instanceof IDBRequest)return promisifyRequest(a);if(transformCache.has(a))return transformCache.get(a);const e=transformCachableValue(a);return e!==a&&(transformCache.set(a,e),reverseTransformCache.set(e,a)),e}const unwrap=a=>reverseTransformCache.get(a),readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const o=e.replace(/FromIndex$/,""),h=e!==o,$=writeMethods.includes(o);if(!(o in(h?IDBIndex:IDBObjectStore).prototype)||!($||readMethods.includes(o)))return;const d=async function(Y,...ie){const fe=this.transaction(Y,$?"readwrite":"readonly");let he=fe.store;return h&&(he=he.index(ie.shift())),(await Promise.all([he[o](...ie),$&&fe.done]))[0]};return cachedMethods.set(e,d),d}replaceTraps(a=>({...a,get:(e,o,h)=>getMethod(e,o)||a.get(e,o,h),has:(e,o)=>!!getMethod(e,o)||a.has(e,o)}));typeof chrome<"u"&&chrome.loadTimes;var nr,ar;typeof navigator<"u"&&((nr=navigator.storage)!=null&&nr.getDirectory)&&typeof FileSystemFileHandle<"u"&&((ar=FileSystemFileHandle==null?void 0:FileSystemFileHandle.prototype)==null||ar.createWritable);function waitToCompleteIceGathering(a,e=a.iceGatheringState){return e!=="complete"&&new Promise(o=>{a.addEventListener("icegatheringstatechange",()=>a.iceGatheringState==="complete"&&o())})}class Peer{constructor(e={}){let{polite:o=!0,trickle:h=!0}=e,{port1:$,port2:d}=new MessageChannel,Y=ge=>d.postMessage(JSON.stringify(ge));const ie=new RTCPeerConnection({iceServers:(e==null?void 0:e.iceServers)||[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}]}),fe=new AbortController,he={signal:fe.signal};ie.addEventListener("iceconnectionstatechange",()=>{(ie.iceConnectionState==="disconnected"||ie.iceConnectionState==="failed")&&fe.abort()},he);const ne=ie.createDataChannel("both",{negotiated:!0,id:0});this.pc=ie,this.dc=ne,this.signal=fe.signal,this.polite=o,this.signalingPort=$,this.ready=new Promise(ge=>{ne.addEventListener("open",()=>{h=!0,Y=xe=>ne.send(JSON.stringify(xe)),$.close(),d.close(),this.ready=d=$=d.onmessage=null,ge()},{once:!0,...he})}),ie.addEventListener("icecandidate",({candidate:ge})=>{h&&Y({candidate:ge})},{...he});let le=!1,de=!1;ie.addEventListener("negotiationneeded",async()=>{le=!0;const ge=await ie.createOffer();if(ie.signalingState==="stable")if(await ie.setLocalDescription(ge),le=!1,h)Y({description:ie.localDescription});else{await waitToCompleteIceGathering(ie);const xe=ie.localDescription.toJSON();xe.sdp=xe.sdp.replace(/a=ice-options:trickle\s\n/g,""),Y({description:xe})}},{...he});async function ce({data:ge}){const{description:xe,candidate:Ae}=typeof ge=="string"?JSON.parse(ge):ge;if(xe){const Ee=xe.type==="offer"&&(le||ie.signalingState!=="stable");if(de=!this.polite&&Ee,de)return;if(Ee)await Promise.all([ie.setLocalDescription({type:"rollback"}),ie.setRemoteDescription(xe)]);else try{xe.type==="answer"&&ie.signalingState==="stable"||await ie.setRemoteDescription(xe)}catch{}xe.type==="offer"&&(await ie.setLocalDescription(await ie.createAnswer()),h||await waitToCompleteIceGathering(ie,"new"),Y({description:ie.localDescription}))}else Ae&&await ie.addIceCandidate(Ae)}d.onmessage=ce.bind(this),ne.addEventListener("message",ce.bind(this),{...he})}}window.Peer=Peer;
